{"version":3,"sources":["src\\assets\\js\\echarts\\echarts.js"],"names":["global","factory","exports","module","define","amd","echarts","dev","window","__DEV__","idStart","guid","env","navigator","browser","os","node","canvasSupported","svgSupported","detect","userAgent","env$1","ua","firefox","match","ie","edge","weChat","test","version","document","createElement","getContext","SVGRect","touchEventsSupported","pointerEventsSupported","BUILTIN_OBJECT","TYPED_ARRAY","objToString","Object","prototype","toString","arrayProto","Array","nativeForEach","forEach","nativeFilter","filter","nativeSlice","slice","nativeMap","map","nativeReduce","reduce","methods","$override","name","fn","clone","source","result","typeStr","call","i","len","length","Ctor","constructor","from","isPrimitive","isDom","key","hasOwnProperty","merge","target","overwrite","isObject","targetProp","sourceProp","isArray","isBuiltInObject","mergeAll","targetAndSources","extend","defaults","overlay","createCanvas","_ctx","indexOf","array","value","inherits","clazz","baseClazz","clazzPrototype","F","prop","superClass","mixin","isArrayLike","data","each$1","obj","cb","context","push","memo","find","bind","func","args","arguments","apply","concat","curry","isFunction","isString","type","nodeType","ownerDocument","eqNaN","retrieve","values","retrieve2","value0","value1","retrieve3","value2","Function","normalizeCssArray","val","assert","condition","message","Error","primitiveKey","setAsPrimitive","HashMap","set","HASH_MAP_PREFIX","HASH_MAP_PREFIX_LENGTH","get","each","prefixedKey","removeKey","createHashMap","noop","zrUtil","ArrayCtor","Float32Array","create","x","y","out","copy","v","clone$1","a","b","add","v1","v2","scaleAndAdd","sub","Math","sqrt","lenSquare","lengthSquare","mul","div","dot","scale","s","normalize","d","distance","dist","distanceSquare","distSquare","negate","lerp","t","applyTransform","m","min","max","vector","Draggable","on","_dragStart","_drag","_dragEnd","e","draggingTarget","draggable","_draggingTarget","dragging","_x","offsetX","_y","offsetY","dispatchToElement","param","event","dx","dy","drift","dropTarget","findHover","lastDropTarget","_dropTarget","topTarget","arrySlice","Eventful","_$handlers","one","handler","_h","h","ctx","isSilent","off","newList","l","trigger","argLen","splice","triggerWithContext","SILENT","makeEventPacket","eveType","targetInfo","cancelBubble","zrX","zrY","gestureEvent","pinchX","pinchY","pinchScale","wheelDelta","zrDelta","zrByTouch","which","EmptyProxy","dispose","handlerNames","Handler","storage","painter","proxy","painterRoot","_hovered","_lastTouchMoment","_lastX","_lastY","mousemove","lastHovered","lastHoveredTarget","__zr","hovered","hoveredTarget","setCursor","cursor","mouseout","element","toElement","relatedTarget","innerDom","parentNode","resize","dispatch","eventName","eventArgs","setCursorStyle","cursorStyle","el","silent","eventHandler","eventPacket","parent","eachOtherLayer","layer","exclude","list","getDisplayList","hoverCheckResult","ignore","isHover","_downEl","_downPoint","_upEl","displayable","rectHover","clipPath","contain","ArrayCtor$1","create$1","identity","copy$1","mul$1","m1","m2","out0","out1","out2","out3","out4","out5","translate","rotate","rad","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","scale$1","vx","vy","invert","det","matrix","mIdentity","EPSILON","isNotAroundZero","Transformable","opts","position","rotation","origin","transformableProto","transform","needLocalTransform","updateTransform","parentHasTransform","getLocalTransform","invTransform","setTransform","dpr","restoreTransform","tmpTransform","decomposeTransform","sx","sy","scale$$1","atan2","getGlobalScale","transformCoordToLocal","transformCoordToGlobal","easing","linear","k","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","PI","sinusoidalOut","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","elasticIn","p","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","Clip","options","_target","_life","life","_delay","delay","_initialized","loop","gap","onframe","ondestroy","onrestart","_pausedTime","_paused","step","globalTime","deltaTime","_startTime","percent","easing$$1","easingFunc","schedule","fire","restart","_needsRemove","remainder","eventType","arg","pause","resume","LinkedList","head","tail","_len","linkedListProto","insert","entry","Entry","insertEntry","next","prev","remove","clear","LRU","maxSize","_list","_map","_maxSize","_lastRemovedEntry","LRUProto","put","removed","leastUsedEntry","kCSSColorTable","clampCssByte","round","clampCssAngle","clampCssFloat","f","parseCssInt","str","charAt","parseFloat","parseInt","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","r","g","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","parse","cached","replace","toLowerCase","iv","substr","op","ep","fname","params","split","alpha","pop","hsla2rgba","hsla","rgba","rgba2hsla","R","G","B","vMin","vMax","delta","L","H","S","deltaR","deltaG","deltaB","lift","color","level","colorArr","stringify","toHex","fastLerp","normalizedValue","colors","leftIndex","floor","rightIndex","ceil","leftColor","rightColor","dv","fastMapToColor","lerp$1","fullOutput","mapToColor","modifyHSL","modifyAlpha","arrColor","arraySlice","defaultGetter","defaultSetter","interpolateNumber","p0","p1","interpolateString","interpolateArray","arrDim","len2","j","fillArr","arr0","arr1","arr0Len","arr1Len","isPreviousLarger","isNaN","isArraySame","catmullRomInterpolateArray","p2","p3","t2","t3","catmullRomInterpolate","v0","cloneValue","ret","rgba2String","join","getArrayDim","keyframes","lastValue","createTrackClip","animator","oneTrackDone","propName","forceAnimate","getter","_getter","setter","_setter","useSpline","trackLen","firstVal","isValueArray","isValueColor","isValueString","trackMaxTime","sort","time","kfPercents","kfValues","prevValue","isAllValueEqual","colorArray","lastFrame","lastFramePercent","start","w","frame","range","clip","_loop","Animator","_tracks","_clipCount","_doneList","_onframeList","_clipList","when","props","tracks","during","callback","isPaused","_doneCallback","doneList","self","clipCount","lastClip","animation","addClip","oldOnFrame","stop","forwardToLast","clipList","removeClip","done","getClips","devicePixelRatio","debugMode","log","console","zrLog","Animatable","animators","animate","path","animatingShape","zr","pathSplitted","id","dirty","addAnimator","stopAnimation","animateTo","_animateToShallow","count","objShallow","propertyCount","attr","Element","beforeUpdate","afterUpdate","update","traverse","attrKV","hide","refresh","show","setClipPath","addSelfToZr","removeClipPath","__clipTarget","removeSelfFromZr","removeAnimator","v2ApplyTransform","mathMin","mathMax","BoundingRect","width","height","union","other","lt","rb","lb","rt","maxX","maxY","calculateTransform","intersect","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","rect","plain","Group","_children","__storage","__dirty","isGroup","children","childAt","idx","childOfName","childCount","child","_doAdd","addBefore","nextSibling","addToStorage","addChildrenToStorage","delFromStorage","delChildrenFromStorage","removeAll","eachChild","getBoundingRect","includeChildren","tmpRect","tmpMat","invisible","childRect","DEFAULT_MIN_MERGE","DEFAULT_MIN_GALLOPING","minRunLength","n","makeAscendingRun","lo","hi","compare","runHi","reverseRun","binaryInsertionSort","pivot","left","right","mid","gallopLeft","hint","lastOffset","maxOffset","offset","tmp","gallopRight","TimSort","minGallop","runStart","runLength","stackSize","pushRun","_runStart","_runLength","mergeRuns","mergeAt","forceMergeRuns","start1","length1","start2","length2","mergeLow","mergeHigh","cursor1","cursor2","dest","_minGallop","count1","count2","exit","customCursor","customDest","remaining","ts","minRun","force","shapeCompareFunc","zlevel","z","z2","Storage","_roots","_displayList","_displayListLen","includeIgnore","updateDisplayList","roots","displayList","_updateAndAddDisplayable","clipPaths","userSetClipPath","currentClipPath","parentClipPath","__clipPaths","addRoot","delRoot","root","_renderList","displayableSortFunc","STYLE_COMMON_PROPS","Style","host","extendFrom","createLinearGradient","x2","y2","canvasGradient","createRadialGradient","fill","stroke","opacity","lineDash","lineDashOffset","shadowBlur","shadowOffsetX","shadowOffsetY","lineWidth","strokeNoScale","text","font","textFont","fontStyle","fontWeight","fontSize","fontFamily","textTag","textFill","textStroke","textWidth","textHeight","textStrokeWidth","textLineHeight","textPosition","textRect","textOffset","textAlign","textVerticalAlign","textDistance","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","textBoxShadowColor","textBoxShadowBlur","textBoxShadowOffsetX","textBoxShadowOffsetY","transformText","textRotation","textOrigin","textBackgroundColor","textBorderColor","textBorderWidth","textBorderRadius","textPadding","rich","truncate","blend","prevEl","style","prevStyle","firstDraw","styleName","fillStyle","strokeStyle","globalAlpha","globalCompositeOperation","hasStroke","getLineScale","hasFill","otherStyle","newStyle","getGradient","method","colorStops","addColorStop","styleProto","Pattern","image","repeat","getCanvasPattern","createPattern","returnFalse","createDom","newDom","getWidth","getHeight","newDomStyle","top","setAttribute","Layer","dom","domStyle","onselectstart","domBack","ctxBack","config","clearColor","motionBlur","lastFrameAlpha","elCount","initContext","__currentValues","createBackBuffer","clearAll","haveMotionBLur","drawImage","clearRect","clearColorGradientOrPattern","__canvasGradient","save","fillRect","restore","requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","setTimeout","globalImageCache","findExistImage","newImageOrSrc","cachedImgObj","createOrUpdateImage","hostEl","cbPayload","__zrImageSrc","pendingWrap","isImageReady","pending","Image","onload","imageOnLoad","__cachedImgObj","src","textWidthCache","textWidthCacheCounter","TEXT_CACHE_MAX","STYLE_REG","DEFAULT_FONT","methods$1","$override$1","textLines","measureText","getRichTextRect","getPlainTextRect","contentBlock","parsePlainText","outerWidth","outerHeight","adjustTextX","adjustTextY","lineHeight","parseRichText","adjustTextPositionOnRect","halfHeight","truncateText","containerWidth","ellipsis","prepareTruncateOptions","truncateSingleLine","maxIterations","minChar","cnCharWidth","ascCharWidth","placeholder","contentWidth","ellipsisWidth","textLine","subLength","estimateLength","charCode","charCodeAt","getLineHeight","padding","lines","truncOuterHeight","truncOuterWidth","lastIndex","exec","matchedIndex","index","pushTokens","substring","contentHeight","pendingList","stlPadding","truncateWidth","truncateHeight","line","tokens","token","tokenStyle","tokenHeight","tokenWidth","tokenWidthNotSpecified","percentWidth","bgImg","paddingW","remianTruncWidth","block","isEmptyStr","strs","isLineHolder","tokensLen","makeFont","buildPath","shape","r1","r2","r3","r4","total","moveTo","lineTo","quadraticCurveTo","VALID_TEXT_ALIGN","center","VALID_TEXT_VERTICAL_ALIGN","bottom","middle","normalizeTextStyle","normalizeStyle","textBaseline","renderText","renderRichText","renderPlainText","setCtx","__textCotentBlock","boxPos","getBoxPosition","baseX","baseY","applyTextRotation","boxY","textX","textY","needDrawBg","needDrawBackground","boxX","drawBackground","getTextXForPadding","getStroke","getFill","strokeText","fillText","drawRichText","xLeft","lineTop","xRight","tokenCount","usedWidth","lineXLeft","lineXRight","placeToken","isPlainBg","beginPath","closePath","onBgImageLoaded","blockHeiht","parsePercent","res","maxValue","lastIndexOf","needDrawText","tmpRect$1","RectText","drawRectText","Displayable","_rect","culling","progressive","beforeBrush","afterBrush","brush","rectContain","coord","animateStyle","setStyle","useStyle","ZImage","_image","aspect","sWidth","sHeight","MAX_PROGRESSIVE_LAYER_NUMBER","parseInt10","isLayerValid","__builtin__","preProcessLayer","__unusedCount","postProcessLayer","viewRect","isDisplayableCulled","isClipPathChanged","prevClipPaths","doClip","createRoot","domRoot","cssText","Painter","singleCanvas","nodeName","toUpperCase","_opts","_singleCanvas","rootStyle","innerHTML","zlevelList","_zlevelList","layers","_layers","_layerConfig","_width","_getSize","_height","_domRoot","appendChild","mainLayer","_progressiveLayers","_hoverlayer","_hoverElements","getType","isSingleCanvas","getViewportRoot","getViewportRootOffset","viewportRoot","offsetLeft","offsetTop","paintAll","_paintList","refreshHover","_startProgessive","addHover","hoverStyle","__hoverMir","elMirror","__from","removeHover","hoverElements","clearHover","hoverLayer","getLayer","scope","originalEl","_doPaintEl","_furtherProgressive","_progressiveToken","Date","_progress","_doPaintList","_clearProgressive","_updateLayerStatus","eachBuiltinLayer","currentLayer","currentZLevel","progressiveLayerIdx","currentProgressiveLayer","layerProgress","flushProgressiveLayer","elZLevel","elFrame","__frame","renderScope","__progress","__maxProgress","__nextIdxNotProg","forcePaint","prevClipLayer","prevElClipPaths","insertLayer","layersMap","prevLayer","virtual","prevDom","insertBefore","firstChild","eachLayer","getLayers","progressiveLayers","elCountsLastFrame","progressiveElCountsLastFrame","progressiveLayerCount","lastProgressiveKey","frameCount","elProgress","_clearLayer","configLayer","layerConfig","delLayer","removeChild","display","clearLayer","getRenderedCanvas","imageLayer","pixelRatio","backgroundColor","findAndDrawOtherLayer","smaller","larger","Infinity","intermediateLayer","renderToCanvas","whIdx","wh","cwh","plt","prb","stl","defaultView","getComputedStyle","pathToImage","canvas","shadowBlurSize","leftMargin","rightMargin","topMargin","bottomMargin","pathTransform","ImageShape","imgShape","isDomLevel2","addEventListener","MOUSE_EVENT_REG","getBoundingClientRect","clientToLocal","calculate","defaultGetZrXY","layerX","layerY","box","clientX","clientY","normalizeEvent","isTouch","detail","touch","targetTouches","changedTouches","button","undefined","attachEvent","removeEventListener","detachEvent","preventDefault","stopPropagation","returnValue","notLeftMouse","Animation","stage","_clips","_running","_time","_pauseStart","clips","_update","getTime","deferredEvents","deferredClips","_startLoop","GestureMgr","_track","recognize","_doTrack","_recognize","touches","trackItem","points","pos","recognizers","gestureInfo","dist$1","pointPair","pinch","track","pinchEnd","pinchPre","isFinite","pinchCenter","TOUCH_CLICK_DELAY","mouseHandlerNames","touchHandlerNames","pointerEventNames","pointerdown","pointerup","pointermove","pointerout","pointerHandlerNames","nm","eventNameFix","processGesture","gestureMgr","_gestureMgr","setTouchTimer","instance","_touching","clearTimeout","_touchTimer","domHandlers","touchstart","mousedown","touchmove","touchend","mouseup","click","isPointerFromTouch","pointerType","initDomHandler","_handlers","makeMouseHandler","HandlerDomProxy","mountHandlers","handlerDomProxyProto","useVML","painterCtors","instances$1","version$1","init$1","ZRender","dispose$1","getInstance","registerPainter","delInstance","rendererType","renderer","vml","handerProxy","flush","_needsRefresh","oldDelFromStorage","oldAddToStorage","getId","zLevel","refreshImmediately","_needsRefreshHover","refreshHoverImmediately","clearAnimation","zrender","init","RADIAN_EPSILON","_trim","linearMap","domain","clamp","subDomain","subRange","parsePercent$1","all","NaN","precision","returnStr","toFixed","asc","arr","getPrecision","getPrecisionSafe","eIndex","dotIndex","getPixelPrecision","dataExtent","pixelExtent","LN10","dataQuantity","sizeQuantity","abs","getPercentWithPrecision","valueList","sum","acc","digits","votesPerQuota","targetSeats","seats","votes","currentSum","Number","NEGATIVE_INFINITY","maxId","MAX_SAFE_INTEGER","remRadian","radian","pi2","isRadianAroundZero","TIME_REG","parseDate","hour","UTC","quantity","quantityExponent","nice","exponent","exp10","nf","reformIntervals","littleThan","curr","currClose","interval","close","lg","isNumeric","number","addCommas","toCamelCase","upperCaseFirst","group1","normalizeCssArray$1","encodeHTML","String","TPL_VAR_ALIAS","wrapVar","varName","seriesIdx","formatTpl","tpl","paramsList","encode","seriesLen","$vars","alias","formatTplSimple","getTooltipMarker","extraCssText","s2d","formatTime","isUTC","date","utc","M","capitalFirst","truncateText$1","getTextRect","format","TYPE_DELIMITER","IS_CONTAINER","MEMBER_PRIFIX","set$1","hasOwn","parseClassType$1","componentType","main","checkClassType","enableClassExtend","RootClass","mandatoryMethods","$constructor","proto","warn","ExtendedClass","superCall","superApply","methodName","enableClassManagement","entity","registerClass","Clazz","container","makeContainer","getClass","componentMainType","subType","throwWhenNotFound","getClassesByMainType","o","hasClass","getAllClassMainTypes","types","hasSubTypes","parseClassType","registerWhenExtend","originalExtend","makeStyleMapper","properties","model","excludes","includes","getShallow","getLineStyle","lineStyleMixin","getLineDash","lineType","dotSize","dashSize","getAreaStyle","areaStyleMixin","mathPow","mathSqrt$2","EPSILON$1","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","_v1","_v2","isAroundZero","isNotAroundZero$1","cubicAt","onet","cubicDerivativeAt","cubicRootAt","c","A","C","t1","disc","K","discSqrt","Y1","Y2","T","theta","acos","ASqrt","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","x0","y0","x1","y1","x3","y3","d1","d2","_t","quadraticAt","quadraticDerivativeAt","quadraticRootAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","mathMin$3","mathMax$3","mathSin$2","mathCos$2","PI2","end","extremity","fromPoints","min$$1","max$$1","fromLine","xDim","yDim","fromCubic","cubicExtrema$$1","cubicAt$$1","fromQuadratic","quadraticExtremum$$1","quadraticAt$$1","tx","ty","fromArc","rx","ry","startAngle","endAngle","anticlockwise","vec2Min","vec2Max","diff","angle","CMD","Q","Z","min$1","max$1","min2","max2","mathMin$2","mathMax$2","mathCos$1","mathSin$1","mathSqrt$1","mathAbs","hasTypedArray","PathProxy","notSaveData","_saveData","_xi","_yi","_x0","_y0","_ux","_uy","_lineDash","_dashOffset","_dashIdx","_dashSum","setScale","addData","exceedUnit","_needsDash","_dashedLineTo","bezierCurveTo","_dashedBezierTo","_dashedQuadraticTo","arc","cx","cy","arcTo","radius","toStatic","setLineDash","lineDashSum","setLineDashOffset","setData","len$$1","appendPath","appendSize","appendPathData","cmd","_expandData","_prevCmd","newData","dashSum","dist$$1","dash","nDash","bezierLen","tmpLen","MAX_VALUE","xi","yi","psi","rebuildPath","ux","uy","dTheta","fs","scaleX","scaleY","isEllipse","containStroke$1","_l","_a","_b","_s","containStroke$2","containStroke$3","PI2$3","normalizeRadian","PI2$2","containStroke$4","windingLine","dir","x_","CMD$1","PI2$1","EPSILON$2","isAroundEqual","swapExtrema","windingCubic","nRoots","nExtrema","y0_","y1_","unit","windingQuadratic","y_","windingArc","containPath","isStroke","pathData","containStroke","pathProxyForDraw","Path","__dirtyPath","strokeContainThreshold","hasFillGradient","hasStrokeGradient","hasFillPattern","hasStrokePattern","_fillGradient","_strokeGradient","ctxLineDash","shapeCfg","inBundle","createPathProxy","needsUpdateRect","rectWithStroke","_rectWithStroke","lineScale","localPos","dirtyPath","animateShape","setShape","defaults$$1","Sub","defaultShape","thisShape","CMD$2","mathSqrt$3","mathAtan2","transformPath","nPoint","cc","mathSqrt","mathSin","mathCos","vMag","vRatio","u","vAngle","processArc","fa","psiDeg","xp","yp","lambda","cxp","cyp","createPathProxyFromString","cs","RegExp","cpx","cpy","prevCmd","shift","ctlPtx","ctlPty","createPathOptions","pathProxy","createFromString","extendFromString","mergePath$1","pathEls","pathList","pathEl","pathBundle","Text","shadowColor","Circle","shadowTemp","fixClipWithShadow","orignalBrush","modified","Sector","r0","clockwise","unitX","unitY","Ring","interpolate","smoothSpline","isLoop","distance$$1","segs","w2","w3","smoothBezier","smooth","constraint","cps","prevPoint","nextPoint","point","d0","cp0","cp1","buildPath$1","controlPoints","smoothConstraint","cp2","Polygon","Polyline","Rect","Line","pointAt","someVectorAt","isTangent","cpx2","cpy2","cpx1","cpy1","BezierCurve","tangentAt","Arc","CompoundPath","paths","_updatePathDirty","Gradient","LinearGradient","globalCoord","RadialGradient","round$1","mathMax$1","mathMin$1","EMPTY_OBJ","extendShape","extendPath","makePath","layout","boundingRect","centerGraphic","resizePath","makeImage","imageUrl","img","mergePath","pathRect","subPixelOptimizeLine","subPixelOptimize","subPixelOptimizeRect","originX","originY","originWidth","originHeight","positiveOrNegative","doubledPosition","hasFillOrStroke","fillOrStroke","liftColor","cacheElementStl","__hoverStlDirty","__hoverStl","normalStyle","__normalStl","doSingleEnterHover","__isHover","useHoverLayer","insideRollbackOpt","rollbackInsideStyle","applyInsideStyle","insideOriginalTextPosition","autoColor","doSingleLeaveHover","normalStl","doEnterHover","doLeaveHover","setElementHoverStl","hoverStl","onElementMouseOver","__hoverSilentOnTouch","__isEmphasis","onElementMouseOut","enterEmphasis","leaveEmphasis","setHoverStyle","opt","hoverSilentOnTouch","setLabelStyle","emphasisStyle","normalModel","emphasisModel","normalSpecified","emphasisSpecified","labelFetcher","labelDataIndex","labelDimIndex","showNormal","showEmphasis","baseText","getFormattedLabel","defaultText","normalStyleText","emphasisStyleText","setTextStyle","textStyle","textStyleModel","specifiedTextStyle","isEmphasis","setTextStyleCommon","setText","labelModel","defaultColor","isRectText","labelRotate","ecModel","globalTextStyle","option","richItemNames","getRichItemNames","richResult","richTextStyle","getModel","setTokenTextStyle","forceRich","richItemNameMap","parentModel","isBlock","getAutoColor","originalTextPosition","insideRollback","disableBox","useInsideStyle","getFont","gTextStyleModel","animateOrSetProps","isUpdate","animatableModel","dataIndex","animationEnabled","isAnimationEnabled","postfix","duration","animationEasing","animationDelay","getAnimationDelayParams","updateProps","initProps","getTransform","ancestor","mat","applyTransform$1","invert$$1","transformDirection","direction","hBase","vBase","vertex","groupTransition","g1","g2","getElMap","elMap","anid","getAnimatableProps","elMap1","oldEl","newProp","clipPointsByRect","clipRectByRect","targetRect","createIcon","iconStr","graphic","PATH_COLOR","textStyleMixin","getTextColor","getItemStyle","itemStyleMixin","getBorderLineDash","mixin$1","Model","mergeOption","ignoreParent","doGet","parsePath","getParent","thisParentModel","isEmpty","restoreData","setReadOnly","customizeGetParent","getParentMethod","pathArr","each$3","isObject$2","normalizeToArray","defaultEmphasis","subOpts","emphasisOpt","emphasis","normalOpt","normal","subOptName","TEXT_STYLE_OPTIONS","getDataItemValue","dataItem","isDataItemOption","converDataValue","dimInfo","dimType","dataFormatMixin","getDataParams","dataType","getData","rawValue","getRawValue","rawDataIndex","getRawIndex","getName","itemOpt","getRawDataItem","getItemVisual","mainType","componentSubType","seriesType","seriesIndex","seriesId","seriesName","marker","status","dimIndex","labelProp","itemModel","getItemModel","formatter","formatTooltip","mappingToExists","exists","newCptOptions","exist","cptOption","isIdInner","makeIdAndName","mapResult","idMap","item","existCpt","keyInfo","idNum","compressBatches","batchA","batchB","mapA","mapB","makeMap","mapToArray","sourceBatch","map$$1","otherMap","dataIndices","otherDataIndices","lenj","isData","queryDataIndex","payload","dataIndexInside","indexOfRawIndex","indexOfName","makeGetter","hostObj","parseFinder","finder","defaultMainType","has","parsedKey","queryType","includeMainTypes","queryParam","models","queryComponents","dataDimToCoordDim","dataDim","dimensions","getDimension","dimItem","getDimensionInfo","coordDim","coordDimToDataDim","dimName","coordDimIndex","otherDimToDataDim","otherDim","otherDims","base","DELIMITER","getUID","random","enableSubTypeDefaulter","subTypeDefaulters","registerSubTypeDefaulter","defaulter","determineSubType","componentTypeMain","enableTopologicalTravel","dependencyGetter","topologicalTravel","targetNameList","fullNameList","makeDepndencyGraph","graph","stack","noEntryList","targetNameSet","currComponentType","currVertex","isInTargetNameSet","originalDeps","successor","removeEdgeAndAdd","removeEdge","succComponentType","entryCount","thisItem","createDependencyGraphItem","availableDeps","getAvailableDependencies","dependentName","predecessor","thatItem","dep","each$4","LOCATION_PARAMS","HV_NAMES","boxLayout","orient","group","maxWidth","maxHeight","currentLineMaxSize","nextChild","nextChildRect","nextX","nextY","moveX","newline","moveY","vbox","hbox","getAvailableSize","positionInfo","containerRect","margin","containerHeight","getLayoutRect","verticalMargin","horizontalMargin","positionElement","hv","boundingMode","elPos","sizeCalculable","hvIdx","mergeLayoutParam","targetOption","newOption","ignoreSize","hResult","merge$$1","vResult","names","newParams","newValueCount","merged","mergedValueCount","enoughParamNumber","hasProp","hasValue","getLayoutParams","copyLayoutParams","boxLayoutMixin","getBoxLayoutParams","arrayPush","ComponentModel","componentIndex","defaultOption","dependentModels","uid","layoutMode","extraOpt","mergeDefaultAndTheme","inputPositionParams","themeModel","getTheme","getDefaultOption","optionUpdated","newCptOption","isInit","optList","Class","getReferringComponents","getDependencies","deps","dependencies","platform","globalDefault","blendMode","animationDuration","animationDurationUpdate","animationEasingUpdate","animationThreshold","progressiveThreshold","hoverLayerThreshold","useUTC","colorPaletteMixin","clearColorPalette","getColorFromPalette","colorIdx","colorNameMap","colorPalette","each$2","filter$1","map$1","isArray$1","indexOf$1","isObject$1","OPTION_INNER_KEY","GlobalModel","theme","optionManager","_theme","_optionManager","setOption","optionPreprocessorFuncs","resetOption","optionChanged","baseOption","mountOption","initBase","timelineOption","getTimelineOption","mediaOptions","getMediaOption","_api","mediaOption","componentsMap","_componentsMap","newCptTypes","componentOption","visitComponent","_seriesIndices","newCptOptionList","getComponentsByTypes","resultItem","componentModel","ComponentModelClass","createSeriesIndices","getOption","getComponent","cpts","isIdArray","cpt","isNameArray","filterBySubType","findComponents","query","queryCond","getQueryCond","doFilter","q","indexAttr","idAttr","nameAttr","eachComponent","components","component","queryResult","getSeriesByName","series","oneSeries","getSeriesByIndex","getSeriesByType","getSeries","eachSeries","assertSeriesInitialized","rawSeriesIndex","eachRawSeries","eachSeriesByType","eachRawSeriesByType","isSeriesFiltered","seriesModel","getCurrentSeriesIndices","filterSeries","filteredSeries","componentTypes","mergeTheme","themeItem","existComponent","seriesModels","echartsAPIList","ExtensionAPI","chartInstance","coordinateSystemCreators","CoordinateSystemManager","_coordinateSystems","api","coordinateSystems","creater","coordSys","getCoordinateSystems","register","coordinateSystemCreator","each$5","clone$2","map$2","merge$1","QUERY_REG","OptionManager","_timelineOptions","_mediaList","_mediaDefault","_currentMediaIndices","_optionBackup","_newBaseOption","rawOption","oldOptionBackup","newParsedOption","parseRawOption","timelineOptions","mediaList","mediaDefault","isRecreate","optionBackup","timelineModel","getCurrentIndex","ecWidth","ecHeight","indices","applyMediaQuery","indicesEquals","isNew","timelineOpt","timeline","media","singleMedia","preProcess","realMap","aspectratio","applicatable","matched","operator","realAttr","real","expect","indices1","indices2","oldOption","newCptOpt","oldCptOpt","each$6","isObject$3","POSSIBLE_STYLES","compatItemStyle","itemStyleOpt","itemStyle","normalItemStyleOpt","emphasisItemStyleOpt","compatTextStyle","labelOptSingle","compatLabelTextStyle","labelOpt","processSeries","seriesOpt","label","upperLabel","edgeLabel","markPoint","markLine","markArea","mpData","mlData","toArr","toObj","compatStyle","isTheme","axes","axisName","axisOpt","axisPointer","parallel","parallelOpt","parallelAxisDefault","calendar","calendarOpt","radar","radarOpt","geo","geoOpt","regions","regionObj","tooltip","get$1","set$2","compatLayoutProperties","LAYOUT_PROPERTIES","COMPATITABLE_COMPONENTS","COMPATITABLE_SERIES","backwardCompat","clockWise","pointerColor","dataRange","visualMap","componentName","SeriesModel","coordinateSystem","legendDataProvider","visualColorAccessPath","getInitialData","themeSubType","fillDataTextStyle","newSeriesOption","cloneShallow","getLinkedData","getRawData","getBaseAxis","multipleSeries","formatArrayValue","vertially","tooltipName","tooltipDims","dimIdx","setEachItem","valStr","formattedValue","colorEl","getAxisTooltipData","getTooltipPosition","Component","render","componentProto","updateView","updateLayout","updateVisual","Chart","highlight","toggleHighlight","downplay","chartProto","elSetState","state","dataIdx","getItemGraphicEl","eachItemGraphicEl","ORIGIN_METHOD","RATE","THROTTLE_TYPE","throttle","debounce","currCall","lastCall","lastExec","timer","debounceNextCall","thisDelay","thisDebounce","debounceDelay","createOrUpdate","fnAttr","rate","throttleType","originFn","lastThrottleType","lastRate","seriesColor","encodeColor","colorAccessPath","setVisual","setItemVisual","PI$1","loadingDefault","textColor","maskColor","mask","lineCap","labelRect","PRIORITY_PROCESSOR_FILTER","PRIORITY_PROCESSOR_STATISTIC","PRIORITY_VISUAL_LAYOUT","PRIORITY_VISUAL_GLOBAL","PRIORITY_VISUAL_CHART","PRIORITY_VISUAL_COMPONENT","PRIORITY_VISUAL_BRUSH","PRIORITY","PROCESSOR","FILTER","STATISTIC","VISUAL","LAYOUT","GLOBAL","CHART","COMPONENT","BRUSH","IN_MAIN_PROCESS","HAS_GRADIENT_OR_PATTERN_BG","OPTION_UPDATED","ACTION_REG","createRegisterEventWithLowercaseName","MessageCenter","ECharts","themeStorage","_dom","defaultRenderer","__ECHARTS__DEFAULT__RENDERER__","_zr","_throttledZrFlush","_chartsViews","_chartsMap","_componentsViews","_coordSysMgr","createExtensionAPI","_messageCenter","_initEvents","_pendingActions","prioritySortFunc","prio","visualFuncs","dataProcessorFuncs","_onframe","echartsProto","updateMethods","prepareAndUpdate","flushPendingActions","triggerUpdatedEvent","getDom","getZr","notMerge","lazyUpdate","_model","setTheme","getDevicePixelRatio","getSvgDataUrl","pathToSvg","getDataURL","excludeComponents","excludesComponentViews","view","__viewId","url","toDataURL","getConnectedDataURL","groupId","MAX_NUMBER","connectedGroups","canvasList","instances","chart","targetCanvas","convertToPixel","doConvertPixel","convertFromPixel","coordSysList","containPixel","containPoint","getVisual","visualType","getViewOfComponentModel","getViewOfSeriesModel","coordSysMgr","processData","stackSeriesData","doVisualEncoding","doRender","background","postUpdateFuncs","clearAllVisual","invokeUpdateMethod","doLayout","prepareView","updateDirectly","ecIns","callView","__alive","__model","updateMethod","_loadingFX","showLoading","cfg","hideLoading","loadingEffects","makeActionFromEvent","eventObj","eventActionMap","dispatchAction","actions","doDispatchAction","payloadType","escapeConnect","actionWrap","actionInfo","cptType","payloads","batched","batch","eventObjBatch","isHighDown","batchItem","action","pendingActions","updateZ","updateProgressiveAndBlend","updateHoverLayerStatus","isComponent","viewList","viewMap","viewId","classType","__id","__ecComponentInfo","process","stackedDataMap","previousStack","stackedOn","visual","isLayout","excludesLayout","componentView","chartView","MOUSE_EVENT_NAMES","eveName","dataModel","eventData","actionType","isDisposed","_disposed","frameDrawNum","needProgressive","ecInstance","getComponentByElement","modelInfo","idBase","groupIdBase","DOM_ATTRIBUTE_KEY","mapDataStores","enableConnect","STATUS_PENDING","STATUS_UPDATING","STATUS_UPDATED","STATUS_KEY","updateConnectedChartsStatus","charts","otherChart","otherCharts","existInstance","getInstanceByDom","clientWidth","clientHeight","connect","disConnect","disconnect","getAttribute","getInstanceById","registerTheme","registerPreprocessor","preprocessorFunc","registerProcessor","priority","processorFunc","registerPostUpdate","postUpdateFunc","registerAction","registerCoordinateSystem","CoordinateSystem$$1","getCoordinateSystemDimensions","coordSysCreator","getDimensionsInfo","registerLayout","layoutFunc","registerVisual","visualFunc","registerLoading","loadingFx","extendComponentModel","extendComponentView","extendSeriesModel","extendChartView","setCanvasCreator","creator","registerMap","mapName","geoJson","specialAreas","features","JSON","getMap","dataTool","defaultKeyGetter","DataDiffer","oldArr","newArr","oldKeyGetter","newKeyGetter","_old","_new","_oldKeyGetter","_newKeyGetter","_add","_remove","execute","oldDataIndexMap","newDataIndexMap","oldDataKeyArr","newDataKeyArr","initIndexMap","unshift","keyArr","keyGetterName","dataDiffer","existence","isObject$4","UNDEFINED","globalObj","dataCtors","Float64Array","Int32Array","TRANSFERABLE_PROPERTIES","transferProperties","__wrappedMethods","DefaultDataProvider","dataArray","_array","pure","getItem","List","hostModel","dimensionInfos","dimensionNames","dimensionName","dimensionInfo","stackable","_dimensionInfos","_storage","_nameList","_idList","_optionModels","_visual","_layout","_itemVisuals","_itemLayouts","_graphicEls","_rawData","_extent","listProto","hasItemOption","dim","initData","nameList","dimValueGetter","isDataArray","dimensionInfoMap","size","idList","nameRepeatCount","nameDimIdx","itemName","DataCtor","dimStorage","stackedValue","getValues","getDataExtent","filter$$1","dimData","dimExtent","getSum","rawIndex","indicesOfNearest","maxDistance","nearestIndices","minDist","minDiff","rawIdx","normalizeDimensions","dims","dimSize","filterSelf","newIndices","keep","mapArray","cloneListForMapAndSample","original","excludeDimensions","allDimensions","originalStorage","dimStore","tmpRetValue","retValue","downSample","dimension","sampleValue","sampleIndex","targetStorage","originalIndices","frameValues","frameIndices","frameSize","otherList","otherIdList","prefix","setLayout","getLayout","getItemLayout","setItemLayout","clearItemLayouts","itemVisual","setItemDataAndSeriesIndex","setItemGraphicEl","dimensionInfoList","wrapMethod","injectFunction","originalMethod","TRANSFERABLE_METHODS","CHANGABLE_METHODS","each$7","isString$1","defaults$1","OTHER_DIMS","completeDimensions","sysDims","dimsDef","encodeDef","dataDimNameMap","coordDimNameMap","dimCount","retrieveValue","sysDimItem","sysDimItemDimsDef","dimDefItem","userDimName","dataDims","resultDimIdx","applyDim","availDimIdx","sysDimIndex","sysDimItemOtherDims","extra","extraPrefix","genName","extraFromZero","isExtraCoord","guessOrdinal","fromZero","firstDataNotNull","ifNeedCompleteOrdinalData","sampleItem","createListFromArray","coordSysName","creators","registeredCoordSys","completeDimOpt","axesInfo","categoryIndex","createNameList","categories","categoryAxesModels","getCategories","isStackable","axisType","getDimTypeByAxis","cartesian2d","axesModels","xAxisModel","yAxisModel","xAxisType","yAxisType","isXAxisCateogry","isYAxisCategory","singleAxis","singleAxisModel","singleAxisType","isCategory","single","polar","polarModel","angleAxisModel","findAxisModel","radiusAxisModel","radiusAxisType","angleAxisType","isAngleAxisCateogry","isRadiusAxisCateogry","categoryDim","categoryAxisModel","dataLen","Scale","setting","_setting","_interval","getSetting","extent","unionExtent","unionExtentFromData","getExtent","setExtent","thisExtent","getTicksLabels","labels","ticks","getTicks","getLabel","isBlank","_isBlank","setBlank","scaleProto","OrdinalScale","_data","rank","niceTicks","niceExtent","roundNumber$1","intervalScaleNiceTicks","splitNumber","minInterval","maxInterval","span","intervalPrecision","getIntervalPrecision","niceTickExtent","fixExtent","intervalScaleGetTicks","safeLimit","tick","roundNumber","IntervalScale","_intervalPrecision","getInterval","setInterval","_niceExtent","reverse","expandSize","fixMax","fixMin","intervalScaleProto","mathCeil","mathFloor","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","bisect","TimeScale","stepLvl","_stepLvl","getFullYear","getMonth","getDate","approxTickNum","approxInterval","scaleLevelsLen","scaleLevels","yearSpan","yearStep","timezoneOffset","getTimezoneOffset","scaleProto$1","intervalScaleProto$1","getPrecisionSafe$1","roundingErrorFix","mathFloor$1","mathCeil$1","mathPow$1","mathLog","LogScale","_originalScale","originalScale","originalExtent","powVal","__fixMin","fixRoundingError","__fixMax","err","originalVal","getScaleExtent","scaleType","getMin","getMax","axisDataLen","boundaryGap","getNeedCrossZero","niceScaleExtent","createScaleByModel","ifAxisCrossZero","axis","getAxisLabelInterval","tickCoords","axisRotate","textSpaceTakenRect","autoLabelInterval","accumulatedLabelInterval","tickCoord","getFormattedLabels","labelFormatter","getAxisRawValue","axisModelCommonMixin","rangeStart","rangeEnd","getCoordSysModel","setRange","resetRange","Triangle","Diamond","Pin","tanX","tanY","cpLen","cpLen2","Arrow","symbolCtors","roundRect","square","circle","diamond","pin","arrow","triangle","symbolShapeMakers","symbolBuildProxies","SymbolClz","symbolType","proxySymbol","symbolPathSetColor","innerColor","symbolStyle","symbolShape","__isEmptyBrush","createSymbol","keepAspect","symbolPath","setColor","createList","createScale","axisModel","mixinAxisModelCommonMethods","Model$$1","helper","linearMap$1","fixExtentWithBands","nTick","normalizedExtent","Axis","inverse","onBand","_labelInterval","containData","dataToCoord","coordToData","pointToData","getTicksCoords","alignWithLabel","bands","getBands","coords","getLabelsCoords","getBandWidth","axisExtent","isHorizontal","getRotate","getLabelInterval","labelInterval","EPSILON$3","isAroundEqual$1","contain$1","Region","geometries","cp","exterior","loopGeo","interiors","transformTo","decode","json","UTF8Encoding","encodeScale","UTF8Scale","feature","geometry","coordinates","encodeOffsets","coordinate","decodePolygon","c2","polygon","prevX","prevY","parseGeoJson","featureObj","region","ecUtil","legendHoverLink","hoverAnimation","clipOverflow","lineStyle","smoothMonotone","symbol","symbolSize","symbolRotate","showSymbol","showAllSymbol","connectNulls","sampling","findLabelValueDim","valueDim","labelDims","getSymbolSize","getScale","SymbolClz$1","seriesScope","updateData","symbolProto","driftSymbol","_createSymbol","_symbolType","stopSymbolAnimation","toLastFrame","getSymbolPath","setZ","setDraggable","_updateCommon","fadeIn","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","hoverItemStyle","symbolOffset","hoverLabelModel","elStyle","symbolInnerColor","useNameLabel","onEmphasis","ratio","onNormal","fadeOut","keepLabel","SymbolDraw","symbolCtor","_symbolCtor","symbolDrawProto","symbolNeedsDraw","isIgnore","oldData","SymbolCtor","newIdx","symbolEl","oldIdx","enableAnimation","sign$1","getStackedOnPoint","baseAxis","valueAxis","getOtherAxis","valueStart","onZero","baseDataOffset","stackedOnSameSign","stackedData","dataToPoint","diffData","diffResult","idx1","lineAnimationDiff","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","currPoints","nextPoints","currStackedPoints","nextStackedPoints","sortedIndices","rawIndices","diffItem","pointAdded","currentPt","nextPt","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","current","stackedOnCurrent","stackedOnNext","scaleAndAdd$1","v2Copy","isPointNull","drawSegment","segLen","allLen","smoothMin","smoothMax","prevIdx","nextIdx","nextP","ratioNextSeg","prevP","lenPrevSeg","lenNextSeg","getBoundingBox","ptMin","ptMax","pt","Polyline$1","Polygon$1","stackedOnPoints","stackedOnSmooth","bbox","stackedOnBBox","isPointsSame","points1","points2","getSmooth","getAxisExtentWithGap","getGlobalExtent","halfBandWidth","sign","getStackedOnPoints","createGridClipShape","cartesian","hasAnimation","xExtent","getAxis","yExtent","createPolarClipShape","angleAxis","getAngleAxis","radiusAxis","getRadiusAxis","radiusExtent","angleExtent","RADIAN","createClipShape","turnPointsIntoStep","stepTurnAt","baseIndex","stepPoints","stepPt","stepPt2","getVisualGradient","visualMetaList","visualMeta","stops","toGlobalCoord","stopLen","outerColors","tinyExtent","minCoord","maxCoord","coordSpan","gradient","lineGroup","symbolDraw","_symbolDraw","_lineGroup","lineStyleModel","areaStyleModel","isCoordSysPolar","prevCoordSys","_coordSys","polyline","_polyline","_polygon","isAreaChart","isSymbolIgnore","_getSymbolIgnoreFunc","__temp","_step","_newPolyline","_newPolygon","_stackedOnPoints","_points","_updateAnimation","visualColor","lineJoin","stackedOnSeries","categoryAxis","getAxesByScale","isLabelIgnored","__points","updatedDataInfo","diffStatus","ptIdx","visualSymbol","defaultSymbolType","legendSymbol","itemSymbolType","itemSymbolSize","layoutPoints","coordDims","samplers","average","nearest","indexSampler","dataSample","sampler","dimAxisMapper","_axes","Cartesian","_dimList","getAxes","addAxis","_dataCoordConvert","input","dimList","output","Cartesian2D","axisX","axisY","toLocalCoord","xAxis","yAxis","Axis2D","coordExtent","grid","nameLocation","nameRotate","nameTruncate","nameTextStyle","nameGap","triggerEvent","axisLine","onZeroAxisIndex","axisTick","inside","axisLabel","showMinLabel","showMaxLabel","splitLine","splitArea","areaStyle","axisDefault","timeAxis","logAxis","logBase","AXIS_TYPES","axisModelCreator","BaseAxisModelClass","axisTypeDefaulter","extraDefaultOption","AxisModel","gridIndex","gridId","getAxisType","axisDim","extraOption","containLabel","borderWidth","borderColor","each$8","ifAxisCrossZero$1","niceScaleExtent$1","isAxisUsedInTheGrid","gridModel","rotateTextRect","rotateRadians","boundingBox","beforeWidth","beforeHeight","afterWidth","afterHeight","rotatedRect","getLabelUnionRect","axisLabelModel","labelCount","unrotatedSingleRect","singleRect","Grid","_coordsMap","_coordsList","_axesMap","_axesList","_initCartesian","gridProto","axisPointerEnabled","getRect","axesMap","_updateScale","fixAxisOnZero","otherAxisDim","otherAxis","canNotOnZeroToAxis","ignoreContainLabel","gridRect","axesList","adjustAxes","labelUnionRect","updateAxisTransfrom","axisIndex","axesMapOnDim","getCartesian","xAxisIndex","yAxisIndex","coordList","getCartesians","_findConvertTarget","coordsList","axisPositionUsed","axesCount","createAxisCreator","axisPosition","isCartesian2D","findAxesModels","getTooltipAxes","baseAxes","otherAxes","coordBase","axisExtentSum","axesTypes","grids","PI$2","makeAxisEventDataBase","AxisBuilder","labelOffset","nameDirection","tickDirection","labelDirection","dumbGroup","_transform","_dumbGroup","hasBuilder","builders","getGroup","pt1","pt2","arrows","arrowSize","symbolWidth","symbolHeight","axisTickLabel","tickEls","buildAxisTick","labelEls","buildAxisLabel","fixMinMaxLabelShow","gapSignal","isNameLocationCenter","labelLayout","nameRotation","axisNameAvailableWidth","innerTextLayout","endTextLayout","truncateOpt","nameTruncateMaxWidth","truncatedText","tooltipOpt","formatterParams","textEl","__fullText","__truncatedText","content","targetType","axisRotation","rotationDiff","textRotate","onLeft","firstLabel","nextLabel","lastLabel","prevLabel","firstTick","nextTick","lastTick","prevTick","ignoreEl","isTwoLabelOverlapped","firstRect","nextRect","mRotationBack","ifIgnoreOnTick$1","ifIgnoreOnTick","ticksCnt","rawTick","getInterval$1","axisBuilder","tickModel","tickLen","tickInterval","ticksCoords","tickEl","axisLabelShow","labelMargin","labelRotation","categoryData","tickVal","itemLabelModel","labelStr","each$9","curry$1","collect","seriesInvolved","coordSysAxesInfo","coordSysMap","collectAxesInfo","collectSeriesInfo","globalTooltipModel","globalAxisPointerModel","linksOption","linkGroups","coordSysKey","makeKey","axesInfoInCoordSys","coordSysModel","baseTooltipModel","saveTooltipAxisInfo","triggerAxis","cross","tooltipAxes","fromTooltip","triggerTooltip","axisPointerModel","axisPointerShow","isHandleTrigger","makeAxisPointerModel","snap","involveSeries","axisInfo","useHandle","groupIndex","getLinkGroupIndex","linkGroup","mapper","tooltipAxisPointerModel","volatileOption","field","labelOption","crossStyle","seriesTooltipTrigger","seriesTooltipShow","seriesDataCount","linkOption","checkPropInLink","linkPropValue","axisPropValue","fixValue","getAxisInfo","getAxisPointerModel","AxisView","_axisPointer","axisPointerClass","updateAxisPointer","disposeAxisPointer","axisView","forceRender","getAxisPointerClass","axisPointerClazz","registerAxisPointerClass","rawAxisPosition","rectBound","axisOffset","posBound","onZeroCoord","dirMap","labelInside","axisBuilderAttrs","selfBuilderAttrs","CartesianAxisView","oldAxisGroup","_axisGroup","layout$$1","_splitLine","splitLineModel","lineColors","lineInterval","lineCount","colorIndex","_splitArea","splitAreaModel","areaColors","areaInterval","STACK_PREFIX","getSeriesStackId","getAxisKey","getLayoutOnAxis","axisKey","bandWidth","stackId","widthAndOffsets","doCalBarWidthAndOffset","offsetCenter","calBarWidthAndOffset","barSeries","seriesInfoList","barWidth","barMaxWidth","barGap","barCategoryGap","columnsMap","seriesInfo","columnsOnAxis","remainedWidth","autoWidthCount","categoryGap","stacks","barGapPercent","autoWidth","column","widthSum","lastColumn","barLayoutGrid","barWidthAndOffset","lastStackCoords","lastStackCoordsOrigin","columnLayoutInfo","columnOffset","columnWidth","barMinHeight","valueAxisStart","lastCoord","lastCoordOrigin","BaseBarSeries","getMarkerPosition","offsetIndex","barMinAngle","brushSelector","setLabel","labelPositionOutside","fixPosition","getBarItemStyle","barItemStyle","BAR_BORDER_WIDTH_QUERY","coordinateSystemType","_render","isHorizontalOrRadial","animationModel","elementCreator","updateStyle","newIndex","oldIndex","removeRect","removeSector","rectShape","animateProperty","animateTarget","isRadial","sector","sectorShape","fixedLineWidth","getLineWidth","signX","signY","isPolar","itemStyleModel","rawLayout","selectableMixin","updateSelectedMap","targetList","_targetList","_selectTargetMap","targetMap","select","selectedMode","selected","unSelect","toggleSelected","isSelected","PieSeries","_defaultLabelLine","labelLine","labelLineNormalOpt","labelLineEmphasisOpt","minAngle","selectedOffset","hoverOffset","avoidLabelOverlap","percentPrecision","stillShowZeroSum","animationType","updateDataSelected","toggleItemSelected","midAngle","PiePiece","hoverIgnore","normalIgnore","piePieceProto","firstCreate","_updateLabel","labelText","linePoints","labelHoverModel","labelLineModel","labelLineHoverModel","verticalAlign","PieView","sectorGroup","_sectorGroup","isFirstRender","onSectorClick","piePiece","_createClipPath","itemLayout","createDataSelectAction","actionInfos","dataColor","paletteScope","dataAll","idxMap","filteredIdx","singleDataColor","adjustSingleSide","viewWidth","viewHeight","shiftDown","shiftUp","changeX","isDownList","lastDeltaX","deltaY","deltaX","lastY","upList","downList","avoidOverlap","labelLayoutList","leftList","rightList","hasLabelRotate","labelPosition","labelLineLen","labelLineLen2","isLabelInside","PI2$4","pieLayout","validDataCount","unitRadian","roseType","restAngle","valueSumLargerThanMinAngle","currentAngle","dataFilter","legendModels","large","largeThreshold","LargeSymbolPath","sizes","symbolProxy","symbolProxyShape","findDataIndex","LargeSymbolDraw","_symbolEl","largeSymbolProto","_normalSymbolDraw","_largeSymbolDraw","largeSymbolDraw","normalSymbolDraw","IndicatorAxis","Radar","radarModel","_indicatorAxes","getIndicatorModels","indicatorModel","indicatorAxis","getIndicatorAxes","indicatorIndex","coordToPoint","minRadianDiff","closestAxis","closestAxisIdx","coodToData","viewSize","indicatorAxes","radarSeries","increaseInterval","rawExtent","fixedMin","fixedMax","nicedSplitNumber","halfSplitNumber","radarList","valueAxisDefault","defaultsShow","RadarModel","showName","nameFormatter","indicatorModels","indicatorOpt","iNameTextStyle","indName","indicator","axisBuilderAttrs$1","_buildAxes","_buildSplitLineAndArea","axisBuilders","showSplitLine","showSplitArea","splitLineColors","splitAreaColors","splitLines","splitAreas","getColorIndex","areaOrLine","areaOrLineColorList","ticksRadius","realSplitNumber","axesTicksPoints","prevPoints","error","RadarSeries","radarIndex","normalizeSymbolSize","createSymbol$$1","updateSymbols","oldPoints","newPoints","symbolGroup","__dimIdx","getInitialPoints","itemGroup","hoverAreaStyleModel","polygonIgnore","hoverPolygonIgnore","itemHoverStyle","radarLayout","pointsConverter","backwardCompat$1","polarOptArr","polarNotRadar","polarOpt","polarIndex","v2ApplyTransform$1","TransformDummy","View","zoomLimit","_roamTransform","_viewTransform","_center","_zoom","setBoundingRect","setViewRect","_viewRect","viewTransform","_updateTransform","setCenter","centerCoord","_updateCenterAndZoom","setZoom","zoom","getDefaultCenter","rawRect","getCenter","getZoom","getRoamTransform","viewTransformMatrix","roamTransform","defaultCenter","getViewRect","getViewRectAfterRoam","doConvert$1","geoCoord","points$1","i$1","fixNanhai","coordsOffsetMap","fixTextCoord","coordFix","geoCoordMap","fixGeoCoord","points$2","fixDiaoyuIsland","geoFixFuncs","Geo","nameMap","_nameCoordMap","loadGeoJson","containCoord","regionsMap","regionName","addGeoCoord","specialArea","_regionsMap","fixFunc","getRegion","getRegionByCoord","getGeoCoord","regionRect","doConvert","geoModel","resizeGeo","boundingCoords","leftTop","rightBottom","boxLayoutOption","aspectScale","useCenterAndSize","setGeoCoords","mapNotExistsError","geoCreator","geoList","mapData","geoIndex","mapModelGroupBySeries","getHostGeoModel","mapType","getMapType","mapSeries","nameMapList","singleMapSeries","getFilledRegions","originRegionArr","regionsArr","dataNameMap","MapSeries","needsDrawMap","seriesGroup","_fillOption","getRegionModel","seriesNames","otherIndex","originalData","showLegendSymbol","dataRangeHoverLink","scaleLimit","areaColor","ATTR","take","resourceKey","userKey","store","getStore","release","uKey","isTaken","RoamController","pointerChecker","_opt","bind$$1","mousedownHandler","mousemoveHandler","mouseupHandler","mousewheelHandler","mousewheel","pinchHandler","setPointerChecker","enable","controlType","disable","zoomOnMouseWheel","moveOnMouseMove","preventDefaultMouseMove","isDragging","_dragging","isPinching","_pinching","checkKeyBinding","oldX","oldY","zoomDelta","zoomX","zoomY","roamController","updateViewOnPan","controllerHost","updateViewOnZoom","newZoom","zoomMin","zoomMax","zoomScale","IRRELEVANT_EXCLUDES","onIrrelevantElement","targetCoordSysModel","getFixedItemStyle","updateMapSelectHandler","mapDraw","mapOrGeoModel","fromView","_mouseDownFlag","__regions","updateMapSelected","otherRegionEl","MapDraw","updateGroup","_controller","_controllerHost","_updateGroup","draw","isGeo","groupNewProp","itemStyleAccessPath","hoverItemStyleAccessPath","labelAccessPath","hoverLabelAccessPath","regionGroup","compoundPath","regionModel","hoverItemStyleModel","showLabel","hoverShowLabel","isDataNaN","groupRegions","_updateController","controller","makeActionBase","mouseX","mouseY","mapModel","_mapDraw","_renderSymbols","fullData","mainSeries","fullIndex","polygonGroups","normalText","emphasisText","__mapOriginalZ2","updateCenterAndZoom","previousZoom","fixX","fixY","mapSymbolLayout","processedMapType","mapSymbolOffsets","subMapSeries","mapVisual","colorList","dataStatistics","datas","statisticType","mapKey","mapDataStatistic","seriesGroups","hostGeoModel","seriesList","backwardCompat$2","mapLocation","each$10","DATAS","MAIN_DATA","linkList","mainData","datasAttr","linkAll","transferInjection","cloneShallowInjection","changeInjection","isMainData","linkSingle","struct","structAttr","TreeNode","hostTree","depth","viewChildren","isRemoved","eachNode","order","suppressVisitSub","updateDepthAndHeight","getNodeById","contains","getAncestors","includeSelf","ancestors","getValue","levelModel","getLevelModel","leavesModel","isExpand","getLeavesModel","levelModels","Tree","levelOptions","leavesOption","_nodes","levelDefine","getNodeByDataIndex","getNodeByName","nodes","clearLayouts","createTree","dataRoot","treeOptions","tree","levels","leaves","listData","dimMax","buildHierarchy","dataNode","addChild","layoutInfo","treeOption","treeDepth","expandAndCollapse","expandTreeDepth","initialTreeDepth","collapsed","realRoot","curveness","init$2","hierNode","defaultAncestor","prelim","modifier","change","thread","firstWalk","separation","siblings","subtreeW","executeShifts","midPoint","apportion","secondWalk","nodeX","defaultSeparation","radialCoordinate","radialCoor","subtreeV","nodeOutRight","nodeInRight","nodeOutLeft","nodeInLeft","sumOutRight","sumInRight","sumOutLeft","sumInLeft","nextRight","nextLeft","moveSubtree","nextAncestor","wl","wr","node1","node2","_oldTree","_mainGroup","curvature","symbolNeedsDraw$1","updateNode","removeNode","getTreeNodeStyle","virtualRoot","sourceSymbolEl","sourceLayout","sourceOldLayout","rawX","__radialOldRawX","rawY","__radialOldRawY","targetLayout","__radialRawX","__radialRawY","rootLayout","isLeft","__edge","getEdgeShape","radialCoor1","radialCoor2","radialCoor3","radialCoor4","eachAfter","eachBefore","commonLayout","separation$$1","kx","ky","coorX","coorY","finalCoor","orthogonalLayout","radialLayout","retrieveTargetInfo","targetNode","targetNodeId","getPathToRoot","aboveViewRoot","viewRoot","viewPath","wrapTreePathInfo","treePathInfo","nodeDataIndex","_viewRoot","clipWindow","squareRatio","leafDepth","drillDownIcon","zoomToNodeRatio","roam","nodeClick","breadcrumb","emptyItemWidth","colorAlpha","colorSaturation","gapWidth","borderColorSaturation","visualDimension","visualMin","visualMax","colorMappingBy","visibleMin","childrenVisibleMin","completeTreeValue","setDefault","resetViewRoot","setLayoutInfo","mapIdToIndex","idIndexMap","_idIndexMap","_idIndexMapCount","getViewRoot","childValue","thisValue","globalColorList","hasColorDefine","modelColor","level0","TEXT_PADDING","ITEM_GAP","ARRAY_LENGTH","Breadcrumb","containerGroup","onSelect","thisGroup","normalStyleModel","layoutParam","totalWidth","renderList","_prepare","_renderContent","itemWidth","lastX","availableSize","itemNode","makeItemPoints","onclick","packEventData","itemHeight","selfType","nodeData","createWrap","elExistsMap","doneCallback","bind$1","Group$2","Rect$1","each$11","DRAG_THRESHOLD","PATH_LABEL_NOAMAL","PATH_LABEL_EMPHASIS","PATH_UPPERLABEL_NORMAL","PATH_UPPERLABEL_EMPHASIS","Z_BASE","Z_BG","Z_CONTENT","getItemStyleEmphasis","getItemStyleNormal","_containerGroup","createStorage","_breadcrumb","_state","thisStorage","reRoot","rootNodeGroup","nodeGroup","_giveContainerGroup","renderResult","_doRender","_doAnimation","renderFinally","_resetController","_renderBreadcrumb","thisTree","oldTree","lastsForAnimation","oldStorage","willInvisibleEls","doRenderNode","renderNode","dualTravel","willDeleteEls","clearStorage","thisViewChildren","oldViewChildren","parentGroup","sameTree","processNode","getKey","thisNode","oldNode","storageName","delEls","__tmWillDelete","els","animationWrap","__tmNodeWidth","__tmNodeHeight","targetX","targetY","last","old","fadein","_onPan","_onZoom","_clearController","rootRect","findTarget","isLeafRoot","_rootToNode","_zoomToNode","link","linkTarget","open","bgEl","thisLayout","isInView","thisWidth","thisHeight","thisInvisible","thisRawIndex","oldRawIndex","upperHeight","isParent","itemStyleNormalModel","itemStyleEmphasisModel","giveGraphic","isAboveViewRoot","bg","renderBackground","renderContent","useUpperLabel","visualBorderColor","emphasisBorderColor","upperLabelWidth","prepareText","__tmWillVisible","upperLabelRect","nodeModel","iconChar","normalLabelModel","emphasisLabelModel","isShow","lasts","prepareAnimationWhenHasOld","calculateZ","__tmDepth","__tmStorageName","prepareAnimationWhenNoOld","lastCfg","parentOldX","parentOldY","parentOldBg","zInLevel","zb","noop$1","actionTypes","i$2","handleRootToNode","originViewRoot","each$12","isObject$5","CATEGORY_DEFAULT_VISUAL_INDEX","VisualMapping","mappingMethod","thisOption","_normalizeData","normalizers","visualHandler","visualHandlers","applyVisual","getColorMapper","_doMap","normalizeVisualRange","preprocessForPiecewise","preprocessForSpecifiedCategory","mapValueToVisual","normalized","getNormalizer","makeApplyVisual","isNormalized","doMapCategory","returnRGBArray","parsedVisual","category","piecewise","getSpecifiedVisual","fixed","doMapFixed","colorHue","makePartialColorVisualHandler","colorLightness","makeDoMap","symbolCfg","doMapToArray","pieceList","hasSpecialVisual","piece","originIndex","categoryMap","cate","visualArr","setVisualToOption","doNotNeedPair","applyValue","sourceExtent","pieceIndex","findPieceIndex","listVisualTypes","visualTypes","addVisualHandler","isValidType","eachVisual","isPrimary","newVisual","newVal","retrieveVisuals","hasVisual","prepareVisualTypes","type1","type2","dependsOn","visualType1","visualType2","findClosestWhenOutside","possibleI","pieceValue","updatePossible","newAbs","isArray$2","ITEM_STYLE_NORMAL","treemapVisual","seriesItemStyleModel","levelItemStyles","travelTree","designatedVisual","viewRootAncestors","nodeLayout","nodeItemStyleModel","levelItemStyle","visuals","buildVisuals","thisNodeColor","calculateColor","calculateBorderColor","mapping","buildVisualMapping","childVisual","mapVisual$1","visualName","getValueVisualDefine","rangeVisual","getRangeVisual","__drColorMappingBy","childVisuals","mappingType","mathMax$4","mathMin$4","retrieveValue$1","each$13","PATH_BORDER_WIDTH","PATH_GAP_WIDTH","PATH_UPPER_LABEL_SHOW","PATH_UPPER_LABEL_HEIGHT","treemapLayout","seriesOption","viewAbovePath","rootSize","estimateRootSize","viewRootLayout","area","squarify","treeRoot","calculateRootPosition","prunning","hideChildren","halfGapWidth","upperLabelHeight","getUpperLabelHeight","layoutOffset","layoutOffsetUpper","totalArea","initChildren","rowFixedLength","best","row","score","worst","orderBy","overLeafDepth","sort$1","info","statistic","filterByThreshold","orderedChildren","deletePoint","areaMax","areaMin","squareArea","idx0WhenH","idx1WhenH","xy","rowOtherLength","rowLen","wh1","remain","modWH","wh0","currNode","defaultSize","viewArea","currNodeValue","defaultPosition","targetCenter","clipRect","nodeInViewAbovePath","childClipRect","generateNodeKey","Graph","directed","_directed","edges","_nodesMap","_edgesMap","edgeData","graphProto","isDirected","addNode","nodesMap","Node","hostGraph","getNodeByIndex","addEdge","n1","n2","edgesMap","Edge","outEdges","inEdges","getEdgeByIndex","getEdge","eachEdge","breadthFirstTraverse","startNode","edgeType","__visited","queue","currentNode","otherNode","degree","inDegree","outDegree","createGraphDataProxyMixin","hostName","dataName","getGraphicEl","createGraphFromNodeEdge","beforeLink","linkNameList","validEdges","linkCount","coordSysCtor","GraphSeries","_categoriesData","links","_updateCategoriesData","categoriesModels","_categoriesModels","categoryIdx","categoryModel","edgeLabelModel","fakeSeriesModel","edgeGetParent","getGraph","getEdgeData","getCategoriesData","sourceName","targetName","html","categoriesData","focusNodeAdjacency","circular","rotateLabel","initLayout","repulsion","gravity","edgeLength","layoutAnimation","edgeSymbol","edgeSymbolSize","nodeScaleRatio","straightLineProto","bezierCurveProto","isLine","LinePath","SYMBOL_CATEGORIES","makeSymbolTypeKey","symbolCategory","createSymbol$1","lineData","createLine","setLinePoints","targetShape","updateSymbolAndLabelBeforeLineUpdate","symbolFrom","symbolTo","invScale","fromPos","toPos","tangent","__position","halfPercent","__verticalAlign","__textAlign","Line$1","_createLine","lineProto","_updateCommonStl","hoverLineStyle","visualOpacity","defaultLabelColor","rawVal","labelStyle","linePath","isPointNaN","lineNeedsDraw","pts","LineDraw","ctor","_ctor","lineDrawProto","oldLineData","_lineData","LineCtor","v3","quadraticAt$1","v2DistSquare","mathAbs$1","intersectCurveCircle","curvePoints","radiusSquare","nextDiff","adjustEdge","tmp0","quadraticSubdivide$$1","pts2","fromSymbol","toSymbol","__original","originalPoints","nodeOpacityPath","lineOpacityPath","getItemOpacity","opacityPath","fadeOutItem","opacityRatio","fadeInItem","lineDraw","_lineDraw","_firstRender","_nodeScaleRatio","_getNodeGlobalScale","_updateNodeAndLinkScale","_layoutTimeout","forceLayout","_startForceLayoutIteration","warmUp","_layouting","setFixed","setUnfixed","__focusNodeAdjacency","__unfocusNodeAdjacency","edgeDataIndex","circularRotateLabel","adjacentEdge","unfocusNodeAdjacency","stopped","nodeScale","groupScale","groupZoom","roamZoom","categoryFilter","graphSeries","categoryNames","categoryVisual","categoryNameIdxMap","normalize$1","edgeVisual","colorQuery","opacityQuery","simpleLayout$1","simpleLayoutEdge","simpleLayout","circularLayout$1","unitAngle","x12","y12","circularLayout","scaleAndAdd$2","forceLayout$1","pp","friction","v12","nLen","repFact","rep","preservedPoints","forceModel","nodeDataExtent","edgeDataExtent","forceInstance","oldStep","getViewRect$1","createView","coordSysType","positions","bbWidth","bbHeight","viewCoordSys","GaugeSeries","dataOpt","pointer","title","PointerPath","parsePosition","formatLabel","PI2$5","GaugeView","posInfo","_renderMain","axisLineModel","angleRangeSpan","prevEndAngle","axisLineWidth","getColor","_renderTicks","_renderPointer","_renderTitle","_renderDetail","minVal","maxVal","subSplitNumber","splitLineLen","subStep","splitLineStyle","tickLineStyle","tickLine","valueExtent","pointerModel","titleModel","detailModel","FunnelSeries","minSize","funnelAlign","FunnelPiece","funnelPieceProto","opacityAccessPath","FunnelView","funnelPiece","getViewRect$2","getSortedIndices","valueArr","isAscending","labelLayout$1","funnelLayout","sizeExtent","getLinePoints","offY","parallelPreprocessor","createParallelIfNeeded","mergeAxisOptionFromParallel","hasParallelSeries","parallelAxis","axisOption","parallelIndex","parallelOption","ParallelAxis","sliderMove","handleEnds","handleIndex","minSpan","maxSpan","restrict$1","extentSpan","originalDistSign","getSpanSign","extentMinSpan","realExtent","currDistSign","each$14","mathMin$5","mathMax$5","mathFloor$2","mathCeil$2","round$2","PI$3","Parallel","parallelModel","_axesLayout","_init","parallelAxisIndex","_updateAxesFromSeries","_makeLayoutInfo","axisBase","layoutBase","pixelDimIndex","pAxis","pLayout","axisLength","layoutLength","_layoutAxes","layoutExtent","axisCount","axisExpandWidth","restrict","axisExpandCount","axisExpandable","axisExpandWindow","winSize","axisExpandCenter","axisCollapseWidth","winInnerIndices","axisExpandWindow0Pos","layoutAxisWithExpand","layoutAxisWithoutExpand","positionTable","horizontal","vertical","rotationTable","axisCoordToPoint","eachActiveState","hasActiveSet","hasAxisBrushed","activeState","getActiveState","axisLayout","getAxisLayout","getSlidedAxisExpandWindow","behavior","pointCoord","triggerArea","useJump","create$2","AxisModel$2","activeIntervals","getAreaSelectStyle","setActiveIntervals","intervals","defaultOption$1","areaSelectStyle","realtime","getAxisType$1","axisExpandRate","axisExpandDebounce","axisExpandSlideTriggerArea","axisExpandTriggerOn","_initDimensions","setAxisExpand","axisModels","actionInfo$1","parallelAxisModel","curry$2","each$15","map$3","mathMin$6","mathMax$6","mathPow$2","COVER_Z","UNSELECT_THRESHOLD","MIN_RESIZE_LINE_WIDTH","MUTEX_RESOURCE_KEY","DIRECTION_MAP","CURSOR_MAP","ne","sw","nw","se","DEFAULT_BRUSH_OPT","brushStyle","transformable","brushMode","removeOnClick","baseUID","BrushController","_brushType","_brushOption","_panels","_covers","_creatingCover","_creatingPanel","_enableGlobalPan","_mounted","_uid","mouseHandlers","enableBrush","brushOption","doDisableBrush","brushType","doEnableBrush","setPanels","panelOpts","panels","panelId","mount","enableGlobalPan","eachCover","updateCovers","brushOptionList","tmpIdPrefix","oldCovers","newCovers","creatingCover","oldGetKey","addOrUpdate","cover","__brushOption","newBrushOption","endCreating","createCover","updateCoverAfterCreation","unmount","clearCovers","coverRenderers","updateZ$1","coverRenderer","getCoverRenderer","updateCoverShape","updateCommon","getPanelByPoint","localCursorPoint","panel","pn","isTargetByCursor","getPanelByCover","covers","originalLength","areas","isEnd","shouldShowCover","getTrackEnds","createBaseRectCover","doDrift","edgeNames","makeStyle","ondragend","updateBaseRect","localRange","handleSize","xa","ya","x2a","y2a","widtha","heighta","updateRectShape","mainEl","globalDir","getGlobalDirection","pointsToRect","clipByPanel","formatRectRange","getTransform$1","localDirection","inverseMap","driftRect","toRectRange","fromRectRange","rectRange","localDelta","toLocalDelta","namePart","ind","driftPolygon","localD","localZero","xmin","ymin","xmax","ymax","resetCursor","currPanel","rawE","mainShapeContain","updateCoverByMouse","thisBrushOption","eventParams","determineBrushType","coverBrushOption","getCreatingRange","defaultBrushType","handleDragEnd","lineX","getLineRenderer","lineY","localTrack","ends","xyIndex","otherExtent","getLinearBrushOtherExtent","makeRectPanelClipPath","normalizeRect","localPoints","makeLinearBrushOtherExtent","specifiedXYIndex","brushWidth","makeRectIsTargetByCursor","targetModel","elementList","AxisView$2","_brushController","_onBrush","fromAxisAreaSelect","areaWidth","builderOpt","_refreshBrushController","getCoverInfoList","extentLen","coverInfoList","coverInfo","parallelAxisId","CLICK_THRESHOLD","handlers","_throttledDispatchExpand","_dispatchExpand","checkTrigger","_mouseDownPoint","mouseDownPoint","triggerOn","parallelAxisIndices","rawData","modelDims","generateDataDims","dataDimsInfo","modelDimsIndex","translateCategoryValue","getRawIndicesByActiveState","theActiveState","inactiveOpacity","activeOpacity","axisData","numberDim","convertDimNameToNumber","maxDimNum","firstItem","SMOOTH","ParallelView","_dataGroup","_renderForNormal","dataGroup","updateElCommon","createGridClipShape$1","newDataIndex","addEl","oldDataIndex","createLinePoints","rectEl","isEmptyValue","seriesStyleModel","opacityAccessPath$1","parallelVisual","globalColors","opacityMap","active","inactive","itemOpacity","SankeySeries","rawDataOpt","nodeWidth","nodeGap","layoutIterations","SankeyShape","halfExtent","curve","n1Layout","n2Layout","edgeLayout","createGridClipShape$2","nest","keysFunction","sortKeysFunction","keyFunction","mapObject","valuesByKey","keyValue","entriesMap","sortKeyFunction","sortKeys","entries","sankeyLayout","getViewRect$3","computeNodeValues","filteredNodes","iterations","layoutSankey","computeNodeBreadths","computeNodeDepths","computeEdgeDepths","getEdgeValue","remainNodes","nextNode","moveSinksRight","scaleNodeBreadths","nodesByBreadth","ascending","initializeNodeDepth","resolveCollisions","relaxRightToLeft","relaxLeftToRight","kyArray","ky0","nodeDy","edgeDy","ascendingDepth","nodeY","weightedTarget","center$1","weightedSource","ascendingTargetDepth","ascendingSourceDepth","sankeyVisual","minValue","mapValueToColor","customColor","WhiskerPath","WhiskerBox","styleUpdater","bodyIndex","whiskerIndex","_createContent","whiskerBoxProto","constDim","chartLayout","transInit","bodyEnds","whiskerEnds","makeWhiskerEndsShape","initBaseline","WhiskerBoxDraw","whiskerBoxDrawProto","seriesModelMixin","_baseAxisDim","addOrdinal","baseAxisDimIndex","baseAxisDim","defaultValueDimensions","viewMixin","whiskerBoxDraw","_whiskerBoxDraw","getStyleUpdater","BoxplotSeries","boxWidth","BoxplotView","updateStyle$1","normalStyleAccessPath$1","emphasisStyleAccessPath$1","normalItemStyleModel","whiskerEl","bodyEl","borderColorQuery","boxplotVisual","defaulColor","each$16","boxplotLayout","groupResult","groupSeriesByAxis","groupItem","calculateBase","layoutSingleSeries","boxOffsetList","boxWidthList","axisList","seriesCount","boundList","maxDataCount","boxWidthBound","availableWidth","boxGap","halfWidth","variableDim","vDims","cDim","axisDimVal","median","getPoint","end1","end5","layEndLine","addBodyEnd","point1","point2","endCenter","CandlestickSeries","color0","borderColor0","barMinWidth","animationUpdate","getShadowDim","selectors","brushRect","CandlestickView","updateStyle$2","normalStyleAccessPath$2","emphasisStyleAccessPath$2","preprocessor","seriesItem","positiveBorderColorQuery","negativeBorderColorQuery","positiveColorQuery","negativeColorQuery","candlestickVisual","retrieve2$1","candlestickLayout","candleWidth","calculateCandleWidth","openVal","closeVal","lowestVal","highestVal","ocLow","ocHigh","ocLowPoint","ocHighPoint","lowestPoint","highestPoint","subPixelOptimizePoint","makeBrushRect","pmin","pmax","effectType","showEffectOn","rippleEffect","period","EFFECT_RIPPLE_NUMBER","normalizeSymbolSize$1","updateRipplePath","rippleGroup","effectCfg","ripplePath","EffectSymbol","effectSymbolProto","stopEffectAnimation","startEffectAnimation","effectOffset","rippleScale","updateEffectAnimation","oldEffectCfg","_effectCfg","DIFFICULT_PROPS","effectSymbolDraw","preprocessOption","fromName","toName","LinesSeries","CoordSys","effect","constantSpeed","trailLength","EffectLine","_updateEffectSymbol","effectLineProto","effectModel","_updateEffectAnimation","delayExpr","isDelayFunc","updateAnimationPoints","getLineLength","_period","__t","updateSymbolPosition","__p1","__cp1","__p2","quadraticDerivativeAt$$1","Polyline$2","_createPolyline","polylineProto","EffectPolyline","_lastFrame","_lastFramePercent","effectPolylineProto","accLenArr","_offsets","_length","offsets","LargeLineShape","isPolyline","seg","LargeLineDraw","_lineEl","largeLineProto","lineEl","hasEffect","isLarge","_hasEffet","_isPolyline","_isLarge","isSvg","_lastZlevel","notInIndividual","otherSeriesModel","linesLayout","normalize$2","linesVisual","blurSize","pointSize","maxOpacity","minOpacity","GRADIENT_LEVELS","Heatmap","_gradientPixels","colorFunc","isInRange","_getBrush","gradientInRange","_getGradient","gradientOutOfRange","imageData","getImageData","pixels","pixelLen","diffOpacity","gradientOffset","putImageData","brushCanvas","_brushCanvas","gradientPixels","pixelsSingleState","Uint8ClampedArray","getIsInPiecewiseRange","dataSpan","getIsInContinuousRange","isGeoCoordSys","visualMapOfThisSeries","eachTargetSeries","targetSeries","_renderOnCartesianAndCalendar","_renderOnGeo","itemStyleQuery","hoverItemStyleQuery","labelQuery","hoverLabelQuery","dataToRect","contentShape","visualMapModel","inRangeVisuals","targetVisuals","inRange","outOfRangeVisuals","outOfRange","hmLayer","_hmLayer","lng","lat","getPieceList","PictorialBarSeries","symbolPosition","symbolMargin","symbolRepeat","symbolRepeatDirection","symbolClip","symbolBoundingData","symbolPatternSize","BAR_BORDER_WIDTH_QUERY$1","LAYOUT_ATTRS","posDesc","pathForLineWidth","BarView$1","coordSysRect","ecSize","coordSysExtent","symbolMeta","getSymbolMeta","bar","createBar","updateCommon$1","pictorialShapeStr","getShapeStr","__pictorialShapeStr","updateBar","__pictorialSymbolMeta","removeBar","prepareBarLength","prepareSymbolSize","boundingLength","pxSign","prepareLineWidth","symbolScale","prepareLayoutInfo","valueLineWidth","repeatCutLength","zeroPx","pxSignIdx","symbolBoundingExtent","convertToCoordOnAxis","categorySize","unitLength","pathLen","absBoundingLength","hasEndGap","uLenWithMargin","endFix","repeatSpecified","repeatTimes","toIntTimes","mDiff","sizeFix","pathPosition","bundlePosition","barRectShape","clipShape","createPath","createOrUpdateRepeatSymbols","bundle","__pictorialBundle","eachPath","__pictorialAnimationIndex","__pictorialRepeatTimes","updateAttr","makeTarget","updateHoverAnimation","onMouseOver","onMouseOut","createOrUpdateSingleSymbol","mainPath","__pictorialMainPath","createOrUpdateBarRect","barRect","__pictorialBarRect","createOrUpdateClip","__pictorialClipPath","pathes","immediateAttrs","animationAttrs","barRectHoverStyle","barPositionOutside","times","roundedTimes","SingleAxis","Single","_axis","_adjustAxis","_updateAxisTransform","extentSum","create$3","singles","layout$1","positionMap","directionMap","getInterval$2","ifIgnoreOnTick$2","axisBuilderAttrs$2","selfBuilderAttr","SingleAxisView","AxisModel$4","defaultOption$2","getAxisType$2","findPointFromSeries","each$17","curry$3","get$2","axisTrigger","currTrigger","illegalPoint","isIllegalPoint","inputAxesInfo","shouldHide","outputFinder","showValueMap","dataByCoordSys","updaters","showPointer","showTooltip","coordSysContainsPoint","inputAxisInfo","findInputAxisInfo","processOnAxis","linkTriggers","tarAxisInfo","tarKey","srcAxisInfo","srcKey","srcValItem","makeMapperParam","updateModelActually","dispatchTooltipActually","dispatchHighDownActually","newValue","dontSnap","payloadInfo","buildPayloadsBySeries","payloadBatch","snapToValue","seriesNestestValue","nestestValue","coordSysItem","coordSysId","coordSysIndex","coordSysMainType","dataByAxis","axisId","valueLabelOpt","seriesDataIndices","outputAxesInfo","valItem","tooltipOption","highDownKey","lastHighlights","newHighlights","toHighlight","toDownplay","AxisPointerModel","shadowStyle","handle","icon","get$3","each$18","records","initGlobalListeners","record","initialized","useHandler","doEnter","onLeave","dis","makeDispatchAction","dispatchTooltipFinally","pendings","showLen","showTip","hideLen","hideTip","actuallyPayload","unregister","AxisPointerView","get$4","clone$3","bind$2","BaseAxisPointer","_group","_lastGraphicKey","_handle","_lastValue","_lastStatus","_payloadInfo","_axisModel","_axisPointerModel","elOption","makeElOption","graphicKey","moveAnimation","_moveAnimation","determineAnimation","createPointerEl","createLabelEl","doUpdateProps","updateProps$1","updatePointerEl","updateLabelEl","updateMandatoryProps","_renderHandle","isCategoryAxis","useSnap","pointerOption","pointerEl","labelEl","updateLabelShowHide","updateProps$$1","updateHandleTransform","handleModel","onmousemove","onmousedown","_onHandleDragMove","_onHandleDragEnd","includeStyles","_moveHandleToValue","getHandleTransProps","getHandleTransform","trans","lastProp","_doDispatchAxisPointer","cursorPoint","doClear","buildLabel","xDimIndex","propsEqual","lastProps","newProps","equals","buildElStyle","axisPointerType","styleModel","buildLabelElOption","labelPos","getValueLabel","paddings","align","confineInContainer","bgColor","seriesData","idxItem","dataParams","getTransformedPosition","buildCartesianSingleLabelElOption","textLayout","makeLineShape","makeRectShape","makeSectorShape","CartesianAxisPointer","pixelValue","pointerShapeBuilder","currPosition","cursorOtherValue","tooltipOptions","getAxisDimIndex","shadow","XY","WH","SingleAxisPointer","getPointDimIndex","pointerShapeBuilder$1","DATA_NAME_INDEX","ThemeRiverSeries","fixData","rawDataLength","dataByName","layData","dataList","layerNum","largestLayer","timeValue","keyIndex","filterData","getLayerSeries","lenCount","indexArr","layerSeries","comparer","index1","index2","nearestIdx","pointNum","theValue","htmlName","htmlValue","singleAxisIndex","keyGetter","_layersSeries","newLayersGroups","oldLayersGroups","points0","layerGroup","createGridClipShape$3","themeRiverLayout","themeRiverLayout$1","layerPoints","singleLayer","computeBaseline","baseLine","baseY0","layerIndex","sums","temp","themeRiverVisual","dataToCoordSize","dataSize","halfSize","prepareCartesian2d","dataToCoordSize$1","prepareGeo","dataToCoordSize$2","prepareSingleAxis","dataToCoordSize$3","preparePolar","dataToRadius","dataToAngle","prepareCalendar","rangeInfo","getRangeInfo","cellWidth","getCellWidth","cellHeight","getCellHeight","weeks","dayCount","allDay","ITEM_STYLE_NORMAL_PATH","ITEM_STYLE_EMPHASIS_PATH","LABEL_NORMAL","LABEL_EMPHASIS","GROUP_DIFF_PREFIX","prepareCustoms","customSeries","renderItem","makeRenderItem","createOrUpdate$1","createEl","graphicType","__customPathData","__customImagePath","__customText","Clz","__customGraphicType","updateEl","targetProps","elOptionStyle","targetStyle","prepareStyleTransition","targetOpacity","styleEmphasis","oldElStyle","prepareResult","userAPI","barLayout","currentSeriesIndices","userParams","dataInsideLength","wrapEncodeDef","currDataIndexInside","currDirty","currItemModel","currLabelNormalModel","currLabelEmphasisModel","currLabelValueDim","currVisualColor","updateCache","dataDimIndex","doCreateOrUpdate","elOptionType","oldChildren","newChildren","diffChildrenByName","diffGroupChildren","processAddUpdate","processRemove","childOption","graphicOption","elements","GraphicModel","parentId","_elOptionsToUpdate","existList","flattenedList","_flatten","mappingResult","elOptionsToUpdate","newElOption","setKeyInfoToNewElOption","mergeNewElOptionToExist","setLayoutInfoToExist","$action","optionList","parentOption","useElOptionsToUpdate","_elMap","_lastGraphicModel","graphicModel","_clear","_updateElements","_relocate","rootGroup","existEl","targetElParent","elOptionCleaned","getCleanedElOption","createEl$1","removeEl","__ecGraphicWidth","__ecGraphicHeight","elOptions","parentEl","containerInfo","bounding","__ecGraphicId","existElParent","isSetLoc","isSet","existElOption","newElParentOption","newElOptCopy","newType","existItem","LegendModel","_updateData","legendData","hasSelected","availableNames","_availableNames","borderRadius","itemGap","inactiveColor","legendSelectActionHandler","selectedMap","isToggleSelect","legendModel","isItemSelected","layout$2","boxLayoutParams","viewportSize","makeBackground","curry$4","each$19","Group$3","LegendView","newlineDisabled","_contentGroup","_backgroundEl","getContentGroup","resetInner","itemAlign","renderInner","mainRect","layoutInner","layoutRect","contentGroup","legendDrawnMap","selectMode","legendSymbolType","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","itemIcon","tooltipModel","legendGlobalTooltipModel","hitRect","legendIndex","__legendDataIndex","contentRect","legendFilter","ScrollableLegendModel","setScrollDataIndex","scrollDataIndex","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","mergeAndNormalizeLayoutParams","getOrient","raw","Group$4","WH$1","XY$1","ScrollableLegendView","_currentIndex","_controllerGroup","_showController","__rectSize","me","controllerGroup","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","_pageGo","orientIdx","hw","yx","controllerRect","showController","contentPos","containerPos","controllerPos","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","to","legendId","canJump","pageText","pageCount","currDataIndex","containerRectSize","pagePrevDataIndex","pageNextDataIndex","targetItemGroup","itemRect","itemLoc","winRect","startIdx","getItemRect","startItem","startRect","showContent","alwaysShowContent","displayMode","confine","showDelay","hideDelay","transitionDuration","enterable","each$21","toCamelCase$1","vendors","gCssText","assembleTransition","transitionCurve","transitionText","vendorPrefix","assembleFont","assembleCssText","borderName","camelCase","TooltipContent","_container","_show","_hideTimeout","onmouseenter","_enterable","_inContent","onmouseleave","hideLater","_hideDelay","currentStyle","setContent","setEnterable","getSize","viewportRootOffset","bind$3","each$20","parsePercent$2","proxyRect","tooltipContent","_tooltipContent","_tooltipModel","_ecModel","_lastDataByCoordSys","_alwaysShowContent","_initGlobalListener","_keepShow","_tryShow","_hide","_refreshUpdateTimeout","manuallyShowTip","makeDispatchAction$1","_ticket","_manuallyAxisShowTip","pointInfo","manuallyHideTip","buildTooltipModel","_showAxisTooltip","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","_showTimout","singleDefaultHTML","singleParamsList","singleTooltipModel","itemCoordSys","axisValue","seriesDefaultHTML","valueLabel","axisValueLabel","firstLine","positionExpr","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","tooltipTrigger","defaultHtml","asyncTicket","subTooltipModel","cbTicket","contentSize","vAlign","calcTooltipPosition","refixTooltipPosition","isCenterAlign","confineTooltipPosition","lastCoordSys","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisItemCoordSys","thisDataByAxis","lastItem","indexAxis","lastIndices","lastIdxItem","newIdxItem","modelCascade","resultModel","gapH","gapV","getOuterSize","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","domWidth","domHeight","rectWidth","rectHeight","getSeriesStackId$1","getAxisKey$1","barLayoutPolar","calRadialBar","valueMax","valueMin","pointToCoord","stackCoord","RadiusAxis","radiusToData","AngleAxis","angleToData","Polar","_radiusAxis","_angleAxis","maxAngle","PolarAxisModel","polarId","polarAxisDefaultExtendedOption","getAxisType$3","foundAxisModel","resizePolar","updatePolarScale","setAxis","polarCreator","polarList","elementList$1","getAxisLineShape","rExtent","getRadiusIdx","ticksAngles","_axisLine","_axisTick","tickAngle","_axisLabel","labelsAngles","labelTextAlign","labelTextVerticalAlign","prevAngle","axisBuilderAttrs$3","selfBuilderAttrs$1","axisAngle","layoutAxis","prevRadius","PolarAxisPointer","coordValue","pointerShapeBuilder$2","getLabelPosition","GeoModel","_optionModelMap","optionModelMap","regionOpt","makeAction","DEFAULT_TOOLBOX_BTNS","preprocessor$1","brushComponents","brushComponentSpecifiedBtns","brushOpt","tbs","toolbox","toolboxFeature","toolboxBrush","brushTypes","removeDuplicate","flag","each$22","hasKeys","createVisualMappings","stateList","supplementVisualOption","visualMappings","mappings","createMappings","visualData","mappingOption","__hidden","__alphaForOpacity","Creater","replaceVisualOption","keys","getValueState","visualTypesMap","eachItem","valueOrIndex","rawDataItem","valueState","selector","getLineSelectors","lineIntersectPolygon","inLineRange","layoutRange","lx","ly","l2x","l2y","lineIntersect","a1x","a1y","a2x","a2y","b1x","b1y","b2x","b2y","determinant","nearZero","namenda","miu","v4","each$23","indexOf$2","curry$5","COORD_CONVERTS","INCLUDE_FINDER_MAIN_TYPES","BrushTargetManager","targetInfoList","_targetInfoList","foundCpts","parseFinder$1","targetInfoBuilders","builder","include","setOutputRanges","matchOutputRanges","coordRange","coordRanges","coordConvert","__rangeOffset","diffProcessor","xyMinMax","findTargetInfo","coordSyses","setInputRanges","rangeOffset","getScales","makePanelOpts","getDefaultBrushType","getPanelRect","controlSeries","areaPanelId","targetInfoMatchers","formatMinMax","minMax","xAxisModels","yAxisModels","gridModels","gridModelMap","xAxesHas","yAxesHas","cartesians","panelRectBuilder","xAxisDeclared","yAxisDeclared","geoModels","axisConvert","rangeOrCoordRange","xminymin","xmaxymax","axisNameIndex","axisDiffProcessor","refer","scales","xyMinMaxCurr","xyMinMaxOrigin","sizeCurr","sizeOrigin","STATE_LIST","DISPATCH_METHOD","DISPATCH_FLAG","PRIORITY_BRUSH","brushModel","setBrushOption","brushTargetManager","brushSelected","throttleDelay","brushIndex","thisBrushSelected","brushId","brushName","brushLink","linkedSeriesMap","selectedDataIndexForLink","rangeInfoBySeries","hasBrushExists","bindSelector","boundingRectBuilders","linkOthers","brushed","rangeInfoList","stepAParallel","stepAOthers","selectorsByBrushType","getSelectorsByBrushType","brushModelNotControll","checkInRange","seriesBrushSelected","doDispatch","sels","selectorsByElementType","bSelector","sel","seriesIndices","selFn","elType","getBoundingRectFromMinMax","rg","DEFAULT_OUT_OF_BRUSH_COLOR","BrushModel","coordInfoList","inBrush","outOfBrush","setAreas","generateBrushOption","updateController","modelId","$from","register$1","get$5","lang","dataView","dataZoom","back","magicType","tiled","saveAsImage","brushLang","Brush","_brushMode","proto$1","featureModel","isBrushed","setIconStatus","getIcons","availableIcons","icons","command","PROXIMATE_ONE_DAY","Calendar","calendarModel","_rangeInfo","_sw","_sh","_orient","getFirstDayOfWeek","_firstDayOfWeek","getDateInfo","day","getDay","formatedDate","getNextNDay","setDate","_lineWidth","_getRangeInfo","_initRangeOption","whNames","cellSize","layoutParams","cellNumbers","cellSizeSpecified","whGlobal","calendarRect","dayInfo","week","nthWeek","pointToDate","tl","tr","br","bl","nthX","nthY","_getDateByWeeksAndDay","doConvert$2","firstDay","setMonth","reversed","startDateNum","endDateNum","fweek","lweek","nthDay","calendarList","calendarSeries","CalendarModel","dayLabel","monthLabel","yearLabel","mergeAndNormalizeLayoutParams$1","MONTH_TEXT","EN","CN","WEEK_TEXT","_tlpoints","_blpoints","_firstDayOfMonth","_firstDayPoints","rangeData","_renderDayRect","_renderLines","_renderYearText","_renderMonthText","_renderWeekText","itemRectStyleModel","sh","addPoints","_getLinePointsOfOneWeek","_drawSplitline","_getEdgesPoints","rs","poyline","tmpD","_formatterLabel","_yearTextPositionControl","aligns","xc","yc","posPoints","yearText","_monthTextPositionControl","isCenter","termPoints","firstDayPoints","yyyy","yy","MM","monthText","_weekTextPositionControl","isStart","firstDayOfWeek","weekText","subtext","subtarget","subtextStyle","subtextStyleModel","subText","subTextEl","sublink","groupRect","layoutOption","alignStyle","AXIS_DIMS","COORDS","isCoordSupported","coordType","createNameEach","attrs","capitalNames","capitalAttrs","nameObj","capital","eachAxisDim$1","createLinkedNodesFinder","forEachNode","forEachEdgeType","edgeIdGetter","sourceNode","absorb","existsLink","processSingleNode","isNodeAbsorded","isLinked","hasLink","edgeId","each$25","asc$1","AxisProxy","dataZoomModel","_dimName","_axisIndex","_valueWindow","_percentWindow","_dataExtent","_minMaxSpan","_dataZoomModel","hostedBy","getDataValueWindow","getDataPercentWindow","getTargetSeriesModels","getAxisModel","getOtherAxisModel","isCartesian","coordSysIndexName","foundOtherAxisModel","otherAxisModel","getMinMaxSpan","calculateDataWindow","rangePropMode","getRangePropMode","percentExtent","percentWindow","valueWindow","boundValue","boundPercent","reset","calculateDataExtent","dataWindow","setMinMaxSpan","setAxisModel","filterMode","leftOut","rightOut","thisHasValue","thisLeftOut","thisRightOut","isInWindow","axisProxy","seriesExtent","fixExtentByAxis","isRestore","useOrigin","minMaxSpan","valueSpan","each$24","eachAxisDim","DataZoomModel","startValue","endValue","minValueSpan","maxValueSpan","rangeMode","_dataIntervalByAxis","_dataInfo","_axisProxies","_autoThrottle","_rangePropMode","retrieveRaw","doInit","_setDefaultThrottle","updateRangeUse","_resetTarget","_giveAxisProxies","axisProxies","eachTargetAxis","dimNames","__dzAxisProxy","autoMode","_judgeAutoMode","axisIndexName","_autoSetAxisIndex","_autoSetOrient","hasIndexSpecified","autoAxisIndex","axisIndices","_isSeriesHasAllAxesTypeOf","is","seriesAxisIndex","globalOption","getFirstTargetAxisModel","firstAxisModel","getAxisProxy","setRawRange","ignoreUpdateRangeUsg","getPercentRange","findRepresentativeAxisProxy","getValueRange","axisDimName","rangeModeInOption","percentSpecified","valueSpecified","DataZoomView","getTargetCoordInfo","coordSysLists","coordModel","coordIndex","SliderZoomModel","dataBackground","fillerColor","handleIcon","handleStyle","labelPrecision","showDetail","showDataShadow","zoomLock","Rect$2","linearMap$2","asc$2","bind$4","each$26","DEFAULT_LOCATION_EDGE_GAP","DEFAULT_FRAME_BORDER_WIDTH","DEFAULT_FILLER_SIZE","HORIZONTAL","VERTICAL","LABEL_GAP","SHOW_DATA_SHADOW_SERIES_TYPE","SliderZoomView","_displayables","_range","_handleEnds","_size","_handleWidth","_handleHeight","_location","_dataShadowInfo","_buildView","_updateView","_resetLocation","_resetInterval","barGroup","_renderBackground","_renderDataShadow","_positionGroup","coordRect","_findCoordRect","location","targetAxisModel","otherAxisInverse","_getViewExtent","_onClickPanelClick","_prepareDataShadowInfo","otherDataExtent","otherOffset","otherShadowExtent","thisShadowExtent","areaPoints","thisCoord","stride","lastIsEmpty","otherCoord","thisAxis","getOtherDim","thisDim","displaybles","handles","handleLabels","filler","getCursor","_onDragMove","ondragstart","_showDataInfo","_onDragEnd","onmouseover","onmouseout","bRect","handleColor","viewExtent","_updateInterval","viewExtend","nonRealtime","handleInterval","handleHeight","_updateDataInfo","labelTexts","dataInterval","_formatLabel","orderedHandleEnds","barTransform","textPoint","valueStr","showOrHide","_dispatchZoomAction","localPoint","dataZoomId","disabled","curry$6","ATTR$1","register$2","dataZoomInfo","giveStore","theDataZoomId","theCoordId","coordId","dataZoomInfos","allCoordIds","cleanStore","createController","dispatchAction$1","controllerParams","mergeControllerParams","containsPoint","throttleRate","unregister$1","shouldRecordRange","generateCoordId","newRecord","onPan","onZoom","newX","newY","wrapAndDispatch","panGetRange","zoomGetRange","getRange","typePriority","oneType","roamControllerOpt","bind$5","InsideZoomView","coordInfo","dataZoomOption","directionInfo","getDirectionInfo","percentDelta","signal","pixel","pixelLength","percentPoint","pixelStart","oldPoint","newPoint","resetSingleAxis","filterSingleAxis","percentRange","valueRange","linkedNodesFinder","effectedModels","each$27","preprocessor$2","has$1","pieces","splitList","calculable","processSingleVisualMap","prepareVisualMeta","getDataDimension","isTargetSeries","getVisualMeta","getColorVisual","resultVisual","visualDefault","defaultOption$3","mapVisual$2","isArray$3","each$28","asc$3","linearMap$3","noop$2","DEFAULT_COLOR","VisualMapModel","replacableOptionKeys","dataBound","contentColor","textGap","controllerVisuals","itemSize","resetItemSize","completeVisualOption","resetVisual","getTargetSeriesIndices","optionSeriesIndex","formatValueText","edgeSymbols","isMinMax","textValue","resetExtent","optDim","completeSingle","completeInactive","completeController","defa","stateExist","stateAbsent","optExist","optAbsent","symbolExists","symbolSizeExists","setSelected","DEFAULT_BAR_BOUND","ContinuousModel","hoverLink","hoverLinkDataSize","hoverLinkOnHandle","_resetRange","auto","getSelected","findTargetDataIndices","oVals","getColorStopValues","iVals","setStop","iIdx","oIdx","iLen","oLen","first","stopsLen","stopValues","VisualMapView","autoPositionValues","getControllerVisual","targetValue","visualCluster","forceState","visualObj","visualMapping","convertOpacityToAlpha","positionGroup","getItemAlign","modelOption","realIndex","paramsSet","reals","fakeValue","layoutInput","rParam","convertDataIndex","linearMap$4","each$29","mathMin$7","mathMax$7","HOVER_LINK_SIZE","HOVER_LINK_OUT","ContinuousView","_shapes","_dataInterval","_useHandle","_hoverLinkDataIndices","_hovering","_renderBar","dataRangeText","_renderEndsText","_enableHoverLinkToSeries","_enableHoverLinkFromSeries","endsIndex","_applyTransform","targetGroup","shapes","_createBarGroup","createPolygon","getCursor$1","_dragHandle","textSize","handleThumbs","handleLabelPoints","_createHandle","_createIndicator","onDrift","onDragEnd","handleThumb","createHandlePoints","handleLabel","handleLabelPoint","indicatorLabel","indicatorLabelPoint","visualMapId","_clearHoverLinkToSeries","useHoverLinkOnHandle","_doHoverLinkToSeries","forSketch","outOfRangeHandleEnds","inRangeHandleEnds","visualInRange","_createBarVisual","visualOutOfRange","barColor","barPoints","_updateHandle","_makeColorGradient","symbolSizes","_createBarPoints","handlesColor","sampleNumber","currValue","_showIndicator","cursorValue","rangeSymbol","halfHoverLinkSize","createIndicatorPoints","_hoverLinkFromSeriesMouseOver","_hideIndicator","_clearHoverLinkFromSeries","cursorPos","hoverOnBar","getHalfHoverLinkSize","hoverRange","oldBatch","newBatch","resultBatches","_dispatchHighDown","isRange","extentMax","actionInfo$2","PiecewiseModel","minOpen","maxOpen","itemSymbol","_pieceList","mode","_mode","_determineMode","resetMethods","_resetSelected","visualTypesInPieces","getSelectedMapKey","hasSel","pIdx","getRepresentValue","representValue","pieceInterval","splitStep","normalizeReverse","pieceListItem","closeList","infinityList","useMinMax","PiecewiseVisualMapView","_getItemAlign","viewData","_getViewData","endsText","viewPieceList","_onItemClick","_enableHoverLink","indexInModelPieceList","_createItemSymbol","visualState","onHoverLink","shapeParam","newKey","addCommas$1","encodeHTML$1","fillLabel","MarkerModel","createdBySelf","hostSeries","__hostSeries","newOpt","modelPropName","markerOpt","markerModel","indexOf$3","hasXOrY","hasXAndY","getPrecision$1","valueAxisDim","markerTypeCalculatorWithExtent","mlType","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","numCalculate","curry$7","markerTypeCalculator","dataTransform","getAxisInfo$1","baseDataDim","valueDataDim","valueIndex","dataFilter$1","MarkerView","markerGroupMap","__keep","markerModelKey","renderSeries","updateMarkerLayout","xPx","yPx","markPointModel","mpModel","symbolDrawMap","createList$1","coordDimsInfos","markLineTransform","mlModel","mlFrom","mlTo","isInifinity","ifMarkLineHasOnlyDim","fromCoord","toCoord","otherDimIndex","markLineFilter","updateSingleMarkerEndLayout","isFrom","markLineModel","fromData","toData","__to","lineDrawMap","createList$2","updateDataVisualAndLayout","lineColor","optData","dimValueGetter$$1","markAreaTransform","maModel","retrieve$$1","ltCoord","rbCoord","isInifinity$1","ifMarkLineHasOnlyDim$1","markAreaFilter","getSingleMarkerEndPoint","dimPermutations","markAreaModel","areaData","areaGroupMap","polygonGroup","createList$3","__data","preprocessor$3","compatibleEC2","ec2Types","transferItem","has$2","controlStyle","controlPosition","itemStyleEmphasis","labelNormal","excludeLabelAttr","currentIndex","setCurrentIndex","isIndexMax","setPlayState","playState","TimelineModel","autoPlay","rewind","playInterval","_names","_initData","getPlayState","dataArr","idxArr","newItem","SliderTimelineModel","checkpointStyle","showPlayBtn","showPrevBtn","showNextBtn","playIcon","stopIcon","nextIcon","prevIcon","TimelineView","TimelineAxis","_autoLabelInterval","bind$6","each$30","PI$4","_timer","_currentPointer","_labelGroup","mainGroup","_createGroup","labelGroup","_createAxis","_renderAxisLabel","_position","_doPlayStop","_clearTimer","labelPosOpt","getViewRect$4","labelAlignMap","labelBaselineMap","rotationMap","mainLength","controlModel","showControl","controlSize","controlGap","sizePlusGap","playPosition","prevBtnPosition","nextBtnPosition","labelAlign","labelBaseline","rotateOriginX","rotateOriginY","viewBound","getBound","mainBound","labelBound","mainPosition","labelsPosition","mainBoundIdx","toBound","setOrigin","boundIdx","_customizeScale","newGroup","_renderAxisLine","_renderAxisTick","hoverStyleModel","symbolOpt","_changeTimeline","giveSymbol","_renderControl","makeBtn","_handlePlayClick","iconPath","willRotate","btn","makeIcon","_renderCurrentPointer","onCreate","_handlePointerDrag","_handlePointerDragend","pointerMoveTo","onUpdate","nextState","_pointerChangeTimeline","mousePos","_toAxisCoord","targetDataIndex","_findNearestTick","handleFrame","axisCoord","nextIndex","objPath","noAnimation","ToolboxModel","featureOpt","featureName","Feature","showTitle","iconStyle","toolboxModel","featureOpts","_features","featureNames","_featureNames","processFeature","oldName","isUserFeatureName","unusable","createIconPaths","iconName","iconPaths","iconStatus","iconStyleModel","titles","__title","titleText","needPutOnTop","topOffset","saveAsImageLang","SaveAsImage","proto$2","$a","download","href","MouseEvent","evt","bubbles","cancelable","dispatchEvent","msSaveOrOpenBlob","bstr","atob","u8arr","Uint8Array","blob","Blob","lang$$1","tab","write","magicTypeLang","MagicType","proto$3","seriesOptGenreator","radioTypes","generateNewSeriesTypes","newSeriesOpt","radio","currentType","dataViewLang","BLOCK_SPLITER","ITEM_SPLITER","groupSeries","seriesGroupByCategoryAxis","otherSeries","meta","assembleSeriesWithCategoryAxis","tables","headers","columns","items","assembleOtherSeries","vals","getContentFromModel","trim","isTSVFormat","itemSplitRegex","parseTSVContents","tsv","tsvLines","header","parseListContents","hasName","parseContents","blockMetaList","blocks","blockMeta","DataView","readOnly","optionToContent","contentToOption","textareaColor","textareaBorderColor","buttonColor","buttonTextColor","viewMain","textarea","htmlOrDom","buttonContainer","buttonStyle","closeButton","refreshButton","keyCode","selectionStart","selectionEnd","tryMergeDataOption","newSeriesOptList","each$32","ATTR$2","newSnapshot","giveStore$1","snapshot","clear$1","dataZoomLang","each$31","DATA_ZOOM_ID_BASE","DataZoom","_isZoomActive","proto$4","updateZoomBtnStatus","updateBackBtnStatus","handlers$1","nextActive","dataZoomSelectActive","retrieveAxisSetting","setBatch","findDataZoom","found","dzModel","zoomActive","dataZoomOpts","toolboxOpt","dataZoomOpt","addForAxis","axisIndicesName","givenAxisIndices","forEachComponent","$fromToolbox","restoreLang","Restore","proto$5","urn","win","vmlInited","doc","createNode","tagName","doCreateNode","namespaces","zrvml","initVML","styleSheets","createStyleSheet","addRule","CMD$3","round$3","abs$1","mathMax$8","comma","imageTransformPrefix","Z2","ZLEVEL_BASE","Z_BASE$1","initRootElStyle","coordsize","coordorigin","encodeHtmlAttribute","rgb2Str","append","getZIndex","parsePercent$3","setColorAndOpacity","getColorAndAlpha","updateFillNode","zrEl","gradientType","focus","expansion","cs1","cs2","length$$1","colorAndAlphaList","colorAndAlpha","color1","color2","opacity1","opacity2","focusposition","updateStrokeNode","dashstyle","updateFillAndStroke","vmlEl","isFill","getElementsByTagName","points$3","pathDataToString","cmdStr","dataLength","brushVML","vmlRoot","_vmlEl","needTransform","strokeEl","weight","zIndex","removeRectText","onRemove","onAdd","appendRectText","isImage","ow","oh","_imageSrc","_imageWidth","_imageHeight","imageRuntimeStyle","runtimeStyle","oldRuntimeWidth","oldRuntimeHeight","dw","dh","hasCrop","vmlElStyle","hasRotation","transformFilter","imageEl","_imageEl","cropEl","_cropEl","imageELStyle","tmpImage","overflow","cropElStyle","filterStr","DEFAULT_STYLE_NORMAL","fontStyleCache","fontStyleCacheCount","MAX_FONT_CACHE_SIZE","fontEl","getFontStyle","fontString","variant","fontVariant","family","textMeasureEl","doc$$1","body","ex","createTextNode","offsetWidth","tmpRect$2","fromTextEl","createNode$$1","textVmlEl","_textVmlEl","textPathEl","skewEl","textpathok","textVmlElStyle","string","i$3","proto$6","parseInt10$1","VMLPainter","vmlViewport","_vmlRoot","_vmlViewport","_firstPaint","__alreadyNotVisible","_getWidth","_getHeight","vmlViewportStyle","createMethodNotSupport","svgURI","createElementNS","CMD$4","arrayJoin","NONE","mathRound","mathSin$3","mathCos$3","PI$5","PI2$6","EPSILON$4","round4","isAroundZero$1","pathHasFill","isText","pathHasStroke","svgEl","attrXLink","setAttributeNS","bindStyle","strokeWidth","strokeScale","miterLimit","pathDataToString$1","nData","dThetaPositive","isCircle","svgPath","__svgEl","pathStr","svgTextDrawRectText","svgImage","HTMLImageElement","__imageSrc","svgText","tmpRect$3","textSvgEl","__textSvgEl","getVerticalAlignForSvg","newPos","nTextLines","textAnchor","__text","__textFont","tspanList","__tspanList","tspan","Diff","newLen","oldLen","editLength","maxEditLength","bestPath","oldPos","extractCommon","execEditLength","diagonalPath","basePath","addPath","removePath","canAdd","canRemove","clonePath","pushComponent","buildValues","added","commonCount","tokenize","componentPos","componentLen","arrayDiff","arrayDiff$1","MARK_UNUSED","MARK_USED","Definable","svgRoot","tagNames","markLabel","_svgRoot","_tagNames","_markLabel","nextId","getDefs","isForceCreating","defs","addDom","removeDom","getDoms","doms","tags","markAllUnused","that","markUsed","removeUnused","getSvgProxy","getTextSvgElement","getSvgElement","GradientManager","addWithoutUpdate","svgElement","updateDom","ClippathManager","clipPathEl","svgProxy","cloneNode","_textDom","parseInt10$2","checkParentAvailable","insertAfter","prevSibling","prepend","remove$1","SVGPainter","gradientManager","clipPathManager","viewport","_viewport","_visibleList","visibleList","listLen","newVisibleList","prevSvgElement","textSvgElement","_getDefs","viewportStyle","outerHTML","unescape","createMethodNotSupport$1","util"],"mappings":"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","file":"echarts.js","sourceRoot":"D:/07-VUE/WaterSource","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.echarts = {})));\n}(this, (function (exports) { 'use strict';\n\n// (1) The code `if (__DEV__) ...` can be removed by build tool.\n// (2) If intend to use `__DEV__`, this module should be imported. Use a global\n// variable `__DEV__` may cause that miss the declaration (see #6535), or the\n// declaration is behind of the using position (for example in `Model.extent`,\n// And tools like rollup can not analysis the dependency if not import).\n\nvar dev;\n\n// In browser\nif (typeof window !== 'undefined') {\n    dev = window.__DEV__;\n}\n// In node\nelse if (typeof global !== 'undefined') {\n    dev = global.__DEV__;\n}\n\nif (typeof dev === 'undefined') {\n    dev = true;\n}\n\nvar __DEV__ = dev;\n\n/**\n * zrender: id\n *\n * @author errorrik (errorrik@gmail.com)\n */\n\nvar idStart = 0x0907;\n\nvar guid = function () {\n    return idStart++;\n};\n\n/**\n * echarts\n *\n * @desc echartsCanvasJavascript\n * @author firede[firede@firede.us]\n * @desc thanks zepto.\n */\n\nvar env = {};\n\nif (typeof navigator === 'undefined') {\n    // In node\n    env = {\n        browser: {},\n        os: {},\n        node: true,\n        // Assume canvas is supported\n        canvasSupported: true,\n        svgSupported: true\n    };\n}\nelse {\n    env = detect(navigator.userAgent);\n}\n\nvar env$1 = env;\n\n// Zepto.js\n// (c) 2010-2013 Thomas Fuchs\n// Zepto.js may be freely distributed under the MIT license.\n\nfunction detect(ua) {\n    var os = {};\n    var browser = {};\n    // var webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\n    // var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n    // var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n    // var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n    // var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n    // var webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\n    // var touchpad = webos && ua.match(/TouchPad/);\n    // var kindle = ua.match(/Kindle\\/([\\d.]+)/);\n    // var silk = ua.match(/Silk\\/([\\d._]+)/);\n    // var blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\n    // var bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\n    // var rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\n    // var playbook = ua.match(/PlayBook/);\n    // var chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\n    var firefox = ua.match(/Firefox\\/([\\d.]+)/);\n    // var safari = webkit && ua.match(/Mobile\\//) && !chrome;\n    // var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;\n    var ie = ua.match(/MSIE\\s([\\d.]+)/)\n        // IE 11 Trident/7.0; rv:11.0\n        || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n    var edge = ua.match(/Edge\\/([\\d.]+)/); // IE 12 and 12+\n\n    var weChat = (/micromessenger/i).test(ua);\n\n    // Todo: clean this up with a better OS/browser seperation:\n    // - discern (more) between multiple browsers on android\n    // - decide if kindle fire in silk mode is android or not\n    // - Firefox on Android doesn't specify the Android version\n    // - possibly devide in os, device and browser hashes\n\n    // if (browser.webkit = !!webkit) browser.version = webkit[1];\n\n    // if (android) os.android = true, os.version = android[2];\n    // if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\n    // if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\n    // if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n    // if (webos) os.webos = true, os.version = webos[2];\n    // if (touchpad) os.touchpad = true;\n    // if (blackberry) os.blackberry = true, os.version = blackberry[2];\n    // if (bb10) os.bb10 = true, os.version = bb10[2];\n    // if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2];\n    // if (playbook) browser.playbook = true;\n    // if (kindle) os.kindle = true, os.version = kindle[1];\n    // if (silk) browser.silk = true, browser.version = silk[1];\n    // if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true;\n    // if (chrome) browser.chrome = true, browser.version = chrome[1];\n    if (firefox) {\n        browser.firefox = true;\n        browser.version = firefox[1];\n    }\n    // if (safari && (ua.match(/Safari/) || !!os.ios)) browser.safari = true;\n    // if (webview) browser.webview = true;\n\n    if (ie) {\n        browser.ie = true;\n        browser.version = ie[1];\n    }\n\n    if (edge) {\n        browser.edge = true;\n        browser.version = edge[1];\n    }\n\n    // It is difficult to detect WeChat in Win Phone precisely, because ua can\n    // not be set on win phone. So we do not consider Win Phone.\n    if (weChat) {\n        browser.weChat = true;\n    }\n\n    // os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n    //     (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));\n    // os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos ||\n    //     (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n    //     (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));\n\n    return {\n        browser: browser,\n        os: os,\n        node: false,\n        // canvas\n        // canvasSupported : !(browser.ie && parseFloat(browser.version) < 9)\n        canvasSupported: !!document.createElement('canvas').getContext,\n        svgSupported: typeof SVGRect !== 'undefined',\n        // @see <http://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript>\n        // works on most browsers\n        // IE10/11 does not support touch event, and MS Edge supports them but not by\n        // default, so we dont check navigator.maxTouchPoints for them here.\n        touchEventsSupported: 'ontouchstart' in window && !browser.ie && !browser.edge,\n        // <http://caniuse.com/#search=pointer%20event>.\n        pointerEventsSupported: 'onpointerdown' in window\n            // Firefox supports pointer but not by default, only MS browsers are reliable on pointer\n            // events currently. So we dont use that on other browsers unless tested sufficiently.\n            // Although IE 10 supports pointer event, it use old style and is different from the\n            // standard. So we exclude that. (IE 10 is hardly used on touch device)\n            && (browser.edge || (browser.ie && browser.version >= 11))\n    };\n}\n\n/**\n * @module zrender/core/util\n */\n\n// mergeDate\nvar BUILTIN_OBJECT = {\n    '[object Function]': 1,\n    '[object RegExp]': 1,\n    '[object Date]': 1,\n    '[object Error]': 1,\n    '[object CanvasGradient]': 1,\n    '[object CanvasPattern]': 1,\n    // For node-canvas\n    '[object Image]': 1,\n    '[object Canvas]': 1\n};\n\nvar TYPED_ARRAY = {\n    '[object Int8Array]': 1,\n    '[object Uint8Array]': 1,\n    '[object Uint8ClampedArray]': 1,\n    '[object Int16Array]': 1,\n    '[object Uint16Array]': 1,\n    '[object Int32Array]': 1,\n    '[object Uint32Array]': 1,\n    '[object Float32Array]': 1,\n    '[object Float64Array]': 1\n};\n\nvar objToString = Object.prototype.toString;\n\nvar arrayProto = Array.prototype;\nvar nativeForEach = arrayProto.forEach;\nvar nativeFilter = arrayProto.filter;\nvar nativeSlice = arrayProto.slice;\nvar nativeMap = arrayProto.map;\nvar nativeReduce = arrayProto.reduce;\n\n// Avoid assign to an exported variable, for transforming to cjs.\nvar methods = {};\n\nfunction $override(name, fn) {\n    methods[name] = fn;\n}\n\n/**\n * Those data types can be cloned:\n *     Plain object, Array, TypedArray, number, string, null, undefined.\n * Those data types will be assgined using the orginal data:\n *     BUILTIN_OBJECT\n * Instance of user defined class will be cloned to a plain object, without\n * properties in prototype.\n * Other data types is not supported (not sure what will happen).\n *\n * Caution: do not support clone Date, for performance consideration.\n * (There might be a large number of date in `series.data`).\n * So date should not be modified in and out of echarts.\n *\n * @param {*} source\n * @return {*} new\n */\nfunction clone(source) {\n    if (source == null || typeof source != 'object') {\n        return source;\n    }\n\n    var result = source;\n    var typeStr = objToString.call(source);\n\n    if (typeStr === '[object Array]') {\n        result = [];\n        for (var i = 0, len = source.length; i < len; i++) {\n            result[i] = clone(source[i]);\n        }\n    }\n    else if (TYPED_ARRAY[typeStr]) {\n        var Ctor = source.constructor;\n        if (source.constructor.from) {\n            result = Ctor.from(source);\n        }\n        else {\n            result = new Ctor(source.length);\n            for (var i = 0, len = source.length; i < len; i++) {\n                result[i] = clone(source[i]);\n            }\n        }\n    }\n    else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n        result = {};\n        for (var key in source) {\n            if (source.hasOwnProperty(key)) {\n                result[key] = clone(source[key]);\n            }\n        }\n    }\n\n    return result;\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overwrite=false]\n */\nfunction merge(target, source, overwrite) {\n    // We should escapse that source is string\n    // and enter for ... in ...\n    if (!isObject(source) || !isObject(target)) {\n        return overwrite ? clone(source) : target;\n    }\n\n    for (var key in source) {\n        if (source.hasOwnProperty(key)) {\n            var targetProp = target[key];\n            var sourceProp = source[key];\n\n            if (isObject(sourceProp)\n                && isObject(targetProp)\n                && !isArray(sourceProp)\n                && !isArray(targetProp)\n                && !isDom(sourceProp)\n                && !isDom(targetProp)\n                && !isBuiltInObject(sourceProp)\n                && !isBuiltInObject(targetProp)\n                && !isPrimitive(sourceProp)\n                && !isPrimitive(targetProp)\n            ) {\n                // merge\n                merge(targetProp, sourceProp, overwrite);\n            }\n            else if (overwrite || !(key in target)) {\n                // overwritetrue\n                // NOTE target[key] \n                target[key] = clone(source[key], true);\n            }\n        }\n    }\n\n    return target;\n}\n\n/**\n * @param {Array} targetAndSources The first item is target, and the rests are source.\n * @param {boolean} [overwrite=false]\n * @return {*} target\n */\nfunction mergeAll(targetAndSources, overwrite) {\n    var result = targetAndSources[0];\n    for (var i = 1, len = targetAndSources.length; i < len; i++) {\n        result = merge(result, targetAndSources[i], overwrite);\n    }\n    return result;\n}\n\n/**\n * @param {*} target\n * @param {*} source\n * @memberOf module:zrender/core/util\n */\nfunction extend(target, source) {\n    for (var key in source) {\n        if (source.hasOwnProperty(key)) {\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\n\n/**\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overlay=false]\n * @memberOf module:zrender/core/util\n */\nfunction defaults(target, source, overlay) {\n    for (var key in source) {\n        if (source.hasOwnProperty(key)\n            && (overlay ? source[key] != null : target[key] == null)\n        ) {\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\n\nvar createCanvas = function () {\n    return methods.createCanvas();\n};\n\nmethods.createCanvas = function () {\n    return document.createElement('canvas');\n};\n\n// FIXME\nvar _ctx;\n\nfunction getContext() {\n    if (!_ctx) {\n        // Use util.createCanvas instead of createCanvas\n        // because createCanvas may be overwritten in different environment\n        _ctx = createCanvas().getContext('2d');\n    }\n    return _ctx;\n}\n\n/**\n * index\n * @memberOf module:zrender/core/util\n */\nfunction indexOf(array, value) {\n    if (array) {\n        if (array.indexOf) {\n            return array.indexOf(value);\n        }\n        for (var i = 0, len = array.length; i < len; i++) {\n            if (array[i] === value) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\n\n/**\n * \n *\n * @memberOf module:zrender/core/util\n * @param {Function} clazz \n * @param {Function} baseClazz \n */\nfunction inherits(clazz, baseClazz) {\n    var clazzPrototype = clazz.prototype;\n    function F() {}\n    F.prototype = baseClazz.prototype;\n    clazz.prototype = new F();\n\n    for (var prop in clazzPrototype) {\n        clazz.prototype[prop] = clazzPrototype[prop];\n    }\n    clazz.prototype.constructor = clazz;\n    clazz.superClass = baseClazz;\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {Object|Function} target\n * @param {Object|Function} sorce\n * @param {boolean} overlay\n */\nfunction mixin(target, source, overlay) {\n    target = 'prototype' in target ? target.prototype : target;\n    source = 'prototype' in source ? source.prototype : source;\n\n    defaults(target, source, overlay);\n}\n\n/**\n * Consider typed array.\n * @param {Array|TypedArray} data\n */\nfunction isArrayLike(data) {\n    if (! data) {\n        return;\n    }\n    if (typeof data == 'string') {\n        return false;\n    }\n    return typeof data.length == 'number';\n}\n\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Object|Array} obj\n * @param {Function} cb\n * @param {*} [context]\n */\nfunction each$1(obj, cb, context) {\n    if (!(obj && cb)) {\n        return;\n    }\n    if (obj.forEach && obj.forEach === nativeForEach) {\n        obj.forEach(cb, context);\n    }\n    else if (obj.length === +obj.length) {\n        for (var i = 0, len = obj.length; i < len; i++) {\n            cb.call(context, obj[i], i, obj);\n        }\n    }\n    else {\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                cb.call(context, obj[key], key, obj);\n            }\n        }\n    }\n}\n\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\nfunction map(obj, cb, context) {\n    if (!(obj && cb)) {\n        return;\n    }\n    if (obj.map && obj.map === nativeMap) {\n        return obj.map(cb, context);\n    }\n    else {\n        var result = [];\n        for (var i = 0, len = obj.length; i < len; i++) {\n            result.push(cb.call(context, obj[i], i, obj));\n        }\n        return result;\n    }\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {Object} [memo]\n * @param {*} [context]\n * @return {Array}\n */\nfunction reduce(obj, cb, memo, context) {\n    if (!(obj && cb)) {\n        return;\n    }\n    if (obj.reduce && obj.reduce === nativeReduce) {\n        return obj.reduce(cb, memo, context);\n    }\n    else {\n        for (var i = 0, len = obj.length; i < len; i++) {\n            memo = cb.call(context, memo, obj[i], i, obj);\n        }\n        return memo;\n    }\n}\n\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\nfunction filter(obj, cb, context) {\n    if (!(obj && cb)) {\n        return;\n    }\n    if (obj.filter && obj.filter === nativeFilter) {\n        return obj.filter(cb, context);\n    }\n    else {\n        var result = [];\n        for (var i = 0, len = obj.length; i < len; i++) {\n            if (cb.call(context, obj[i], i, obj)) {\n                result.push(obj[i]);\n            }\n        }\n        return result;\n    }\n}\n\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {*}\n */\nfunction find(obj, cb, context) {\n    if (!(obj && cb)) {\n        return;\n    }\n    for (var i = 0, len = obj.length; i < len; i++) {\n        if (cb.call(context, obj[i], i, obj)) {\n            return obj[i];\n        }\n    }\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @param {*} context\n * @return {Function}\n */\nfunction bind(func, context) {\n    var args = nativeSlice.call(arguments, 2);\n    return function () {\n        return func.apply(context, args.concat(nativeSlice.call(arguments)));\n    };\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @return {Function}\n */\nfunction curry(func) {\n    var args = nativeSlice.call(arguments, 1);\n    return function () {\n        return func.apply(this, args.concat(nativeSlice.call(arguments)));\n    };\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\nfunction isArray(value) {\n    return objToString.call(value) === '[object Array]';\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\nfunction isString(value) {\n    return objToString.call(value) === '[object String]';\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\nfunction isObject(value) {\n    // Avoid a V8 JIT bug in Chrome 19-20.\n    // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n    var type = typeof value;\n    return type === 'function' || (!!value && type == 'object');\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\nfunction isBuiltInObject(value) {\n    return !!BUILTIN_OBJECT[objToString.call(value)];\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\nfunction isDom(value) {\n    return typeof value === 'object'\n        && typeof value.nodeType === 'number'\n        && typeof value.ownerDocument === 'object';\n}\n\n/**\n * Whether is exactly NaN. Notice isNaN('a') returns true.\n * @param {*} value\n * @return {boolean}\n */\nfunction eqNaN(value) {\n    return value !== value;\n}\n\n/**\n * If value1 is not null, then return value1, otherwise judget rest of values.\n * Low performance.\n * @memberOf module:zrender/core/util\n * @return {*} Final value\n */\nfunction retrieve(values) {\n    for (var i = 0, len = arguments.length; i < len; i++) {\n        if (arguments[i] != null) {\n            return arguments[i];\n        }\n    }\n}\n\nfunction retrieve2(value0, value1) {\n    return value0 != null\n        ? value0\n        : value1;\n}\n\nfunction retrieve3(value0, value1, value2) {\n    return value0 != null\n        ? value0\n        : value1 != null\n        ? value1\n        : value2;\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} arr\n * @param {number} startIndex\n * @param {number} endIndex\n * @return {Array}\n */\nfunction slice() {\n    return Function.call.apply(nativeSlice, arguments);\n}\n\n/**\n * Normalize css liked array configuration\n * e.g.\n *  3 => [3, 3, 3, 3]\n *  [4, 2] => [4, 2, 4, 2]\n *  [4, 3, 2] => [4, 3, 2, 3]\n * @param {number|Array.<number>} val\n * @return {Array.<number>}\n */\nfunction normalizeCssArray(val) {\n    if (typeof (val) === 'number') {\n        return [val, val, val, val];\n    }\n    var len = val.length;\n    if (len === 2) {\n        // vertical | horizontal\n        return [val[0], val[1], val[0], val[1]];\n    }\n    else if (len === 3) {\n        // top | horizontal | bottom\n        return [val[0], val[1], val[2], val[1]];\n    }\n    return val;\n}\n\n/**\n * @memberOf module:zrender/core/util\n * @param {boolean} condition\n * @param {string} message\n */\nfunction assert(condition, message) {\n    if (!condition) {\n        throw new Error(message);\n    }\n}\n\nvar primitiveKey = '__ec_primitive__';\n/**\n * Set an object as primitive to be ignored traversing children in clone or merge\n */\nfunction setAsPrimitive(obj) {\n    obj[primitiveKey] = true;\n}\n\nfunction isPrimitive(obj) {\n    return obj[primitiveKey];\n}\n\n/**\n * @constructor\n * @param {Object} obj Only apply `ownProperty`.\n */\nfunction HashMap(obj) {\n    obj && each$1(obj, function (value, key) {\n        this.set(key, value);\n    }, this);\n}\n\n// Add prefix to avoid conflict with Object.prototype.\nvar HASH_MAP_PREFIX = '_ec_';\nvar HASH_MAP_PREFIX_LENGTH = 4;\n\nHashMap.prototype = {\n    constructor: HashMap,\n    // Do not provide `has` method to avoid defining what is `has`.\n    // (We usually treat `null` and `undefined` as the same, different\n    // from ES6 Map).\n    get: function (key) {\n        return this[HASH_MAP_PREFIX + key];\n    },\n    set: function (key, value) {\n        this[HASH_MAP_PREFIX + key] = value;\n        // Comparing with invocation chaining, `return value` is more commonly\n        // used in this case: `var someVal = map.set('a', genVal());`\n        return value;\n    },\n    // Although util.each can be performed on this hashMap directly, user\n    // should not use the exposed keys, who are prefixed.\n    each: function (cb, context) {\n        context !== void 0 && (cb = bind(cb, context));\n        for (var prefixedKey in this) {\n            this.hasOwnProperty(prefixedKey)\n                && cb(this[prefixedKey], prefixedKey.slice(HASH_MAP_PREFIX_LENGTH));\n        }\n    },\n    // Do not use this method if performance sensitive.\n    removeKey: function (key) {\n        delete this[HASH_MAP_PREFIX + key];\n    }\n};\n\nfunction createHashMap(obj) {\n    return new HashMap(obj);\n}\n\nfunction noop() {}\n\n\nvar zrUtil = (Object.freeze || Object)({\n\t$override: $override,\n\tclone: clone,\n\tmerge: merge,\n\tmergeAll: mergeAll,\n\textend: extend,\n\tdefaults: defaults,\n\tcreateCanvas: createCanvas,\n\tgetContext: getContext,\n\tindexOf: indexOf,\n\tinherits: inherits,\n\tmixin: mixin,\n\tisArrayLike: isArrayLike,\n\teach: each$1,\n\tmap: map,\n\treduce: reduce,\n\tfilter: filter,\n\tfind: find,\n\tbind: bind,\n\tcurry: curry,\n\tisArray: isArray,\n\tisFunction: isFunction,\n\tisString: isString,\n\tisObject: isObject,\n\tisBuiltInObject: isBuiltInObject,\n\tisDom: isDom,\n\teqNaN: eqNaN,\n\tretrieve: retrieve,\n\tretrieve2: retrieve2,\n\tretrieve3: retrieve3,\n\tslice: slice,\n\tnormalizeCssArray: normalizeCssArray,\n\tassert: assert,\n\tsetAsPrimitive: setAsPrimitive,\n\tisPrimitive: isPrimitive,\n\tcreateHashMap: createHashMap,\n\tnoop: noop\n});\n\nvar ArrayCtor = typeof Float32Array === 'undefined'\n    ? Array\n    : Float32Array;\n\n/**\n * \n * @param {number} [x=0]\n * @param {number} [y=0]\n * @return {Vector2}\n */\nfunction create(x, y) {\n    var out = new ArrayCtor(2);\n    if (x == null) {\n        x = 0;\n    }\n    if (y == null) {\n        y = 0;\n    }\n    out[0] = x;\n    out[1] = y;\n    return out;\n}\n\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @return {Vector2}\n */\nfunction copy(out, v) {\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n}\n\n/**\n * \n * @param {Vector2} v\n * @return {Vector2}\n */\nfunction clone$1(v) {\n    var out = new ArrayCtor(2);\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n}\n\n/**\n * \n * @param {Vector2} out\n * @param {number} a\n * @param {number} b\n * @return {Vector2} \n */\nfunction set(out, a, b) {\n    out[0] = a;\n    out[1] = b;\n    return out;\n}\n\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\nfunction add(out, v1, v2) {\n    out[0] = v1[0] + v2[0];\n    out[1] = v1[1] + v2[1];\n    return out;\n}\n\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} a\n */\nfunction scaleAndAdd(out, v1, v2, a) {\n    out[0] = v1[0] + v2[0] * a;\n    out[1] = v1[1] + v2[1] * a;\n    return out;\n}\n\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\nfunction sub(out, v1, v2) {\n    out[0] = v1[0] - v2[0];\n    out[1] = v1[1] - v2[1];\n    return out;\n}\n\n/**\n * \n * @param {Vector2} v\n * @return {number}\n */\nfunction len(v) {\n    return Math.sqrt(lenSquare(v));\n}\nvar length = len; // jshint ignore:line\n\n/**\n * \n * @param {Vector2} v\n * @return {number}\n */\nfunction lenSquare(v) {\n    return v[0] * v[0] + v[1] * v[1];\n}\nvar lengthSquare = lenSquare;\n\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\nfunction mul(out, v1, v2) {\n    out[0] = v1[0] * v2[0];\n    out[1] = v1[1] * v2[1];\n    return out;\n}\n\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\nfunction div(out, v1, v2) {\n    out[0] = v1[0] / v2[0];\n    out[1] = v1[1] / v2[1];\n    return out;\n}\n\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\nfunction dot(v1, v2) {\n    return v1[0] * v2[0] + v1[1] * v2[1];\n}\n\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @param {number} s\n */\nfunction scale(out, v, s) {\n    out[0] = v[0] * s;\n    out[1] = v[1] * s;\n    return out;\n}\n\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n */\nfunction normalize(out, v) {\n    var d = len(v);\n    if (d === 0) {\n        out[0] = 0;\n        out[1] = 0;\n    }\n    else {\n        out[0] = v[0] / d;\n        out[1] = v[1] / d;\n    }\n    return out;\n}\n\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\nfunction distance(v1, v2) {\n    return Math.sqrt(\n        (v1[0] - v2[0]) * (v1[0] - v2[0])\n        + (v1[1] - v2[1]) * (v1[1] - v2[1])\n    );\n}\nvar dist = distance;\n\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\nfunction distanceSquare(v1, v2) {\n    return (v1[0] - v2[0]) * (v1[0] - v2[0])\n        + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n}\nvar distSquare = distanceSquare;\n\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n */\nfunction negate(out, v) {\n    out[0] = -v[0];\n    out[1] = -v[1];\n    return out;\n}\n\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} t\n */\nfunction lerp(out, v1, v2, t) {\n    out[0] = v1[0] + t * (v2[0] - v1[0]);\n    out[1] = v1[1] + t * (v2[1] - v1[1]);\n    return out;\n}\n\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @param {Vector2} m\n */\nfunction applyTransform(out, v, m) {\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n}\n\n/**\n * \n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\nfunction min(out, v1, v2) {\n    out[0] = Math.min(v1[0], v2[0]);\n    out[1] = Math.min(v1[1], v2[1]);\n    return out;\n}\n\n/**\n * \n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\nfunction max(out, v1, v2) {\n    out[0] = Math.max(v1[0], v2[0]);\n    out[1] = Math.max(v1[1], v2[1]);\n    return out;\n}\n\n\nvar vector = (Object.freeze || Object)({\n\tcreate: create,\n\tcopy: copy,\n\tclone: clone$1,\n\tset: set,\n\tadd: add,\n\tscaleAndAdd: scaleAndAdd,\n\tsub: sub,\n\tlen: len,\n\tlength: length,\n\tlenSquare: lenSquare,\n\tlengthSquare: lengthSquare,\n\tmul: mul,\n\tdiv: div,\n\tdot: dot,\n\tscale: scale,\n\tnormalize: normalize,\n\tdistance: distance,\n\tdist: dist,\n\tdistanceSquare: distanceSquare,\n\tdistSquare: distSquare,\n\tnegate: negate,\n\tlerp: lerp,\n\tapplyTransform: applyTransform,\n\tmin: min,\n\tmax: max\n});\n\n// TODO Draggable for group\n// FIXME Draggable on element which has parent rotation or scale\nfunction Draggable() {\n\n    this.on('mousedown', this._dragStart, this);\n    this.on('mousemove', this._drag, this);\n    this.on('mouseup', this._dragEnd, this);\n    this.on('globalout', this._dragEnd, this);\n    // this._dropTarget = null;\n    // this._draggingTarget = null;\n\n    // this._x = 0;\n    // this._y = 0;\n}\n\nDraggable.prototype = {\n\n    constructor: Draggable,\n\n    _dragStart: function (e) {\n        var draggingTarget = e.target;\n        if (draggingTarget && draggingTarget.draggable) {\n            this._draggingTarget = draggingTarget;\n            draggingTarget.dragging = true;\n            this._x = e.offsetX;\n            this._y = e.offsetY;\n\n            this.dispatchToElement(param(draggingTarget, e), 'dragstart', e.event);\n        }\n    },\n\n    _drag: function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n\n            var x = e.offsetX;\n            var y = e.offsetY;\n\n            var dx = x - this._x;\n            var dy = y - this._y;\n            this._x = x;\n            this._y = y;\n\n            draggingTarget.drift(dx, dy, e);\n            this.dispatchToElement(param(draggingTarget, e), 'drag', e.event);\n\n            var dropTarget = this.findHover(x, y, draggingTarget).target;\n            var lastDropTarget = this._dropTarget;\n            this._dropTarget = dropTarget;\n\n            if (draggingTarget !== dropTarget) {\n                if (lastDropTarget && dropTarget !== lastDropTarget) {\n                    this.dispatchToElement(param(lastDropTarget, e), 'dragleave', e.event);\n                }\n                if (dropTarget && dropTarget !== lastDropTarget) {\n                    this.dispatchToElement(param(dropTarget, e), 'dragenter', e.event);\n                }\n            }\n        }\n    },\n\n    _dragEnd: function (e) {\n        var draggingTarget = this._draggingTarget;\n\n        if (draggingTarget) {\n            draggingTarget.dragging = false;\n        }\n\n        this.dispatchToElement(param(draggingTarget, e), 'dragend', e.event);\n\n        if (this._dropTarget) {\n            this.dispatchToElement(param(this._dropTarget, e), 'drop', e.event);\n        }\n\n        this._draggingTarget = null;\n        this._dropTarget = null;\n    }\n\n};\n\nfunction param(target, e) {\n    return {target: target, topTarget: e && e.topTarget};\n}\n\n/**\n * \n * @module zrender/mixin/Eventful\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n *         pissang (https://www.github.com/pissang)\n */\n\nvar arrySlice = Array.prototype.slice;\n\n/**\n * \n * @alias module:zrender/mixin/Eventful\n * @constructor\n */\nvar Eventful = function () {\n    this._$handlers = {};\n};\n\nEventful.prototype = {\n\n    constructor: Eventful,\n\n    /**\n     * trigger\n     *\n     * @param {string} event \n     * @param {Function} handler \n     * @param {Object} context\n     */\n    one: function (event, handler, context) {\n        var _h = this._$handlers;\n\n        if (!handler || !event) {\n            return this;\n        }\n\n        if (!_h[event]) {\n            _h[event] = [];\n        }\n\n        for (var i = 0; i < _h[event].length; i++) {\n            if (_h[event][i].h === handler) {\n                return this;\n            }\n        }\n\n        _h[event].push({\n            h: handler,\n            one: true,\n            ctx: context || this\n        });\n\n        return this;\n    },\n\n    /**\n     * \n     * @param {string} event \n     * @param {Function} handler \n     * @param {Object} [context]\n     */\n    on: function (event, handler, context) {\n        var _h = this._$handlers;\n\n        if (!handler || !event) {\n            return this;\n        }\n\n        if (!_h[event]) {\n            _h[event] = [];\n        }\n\n        for (var i = 0; i < _h[event].length; i++) {\n            if (_h[event][i].h === handler) {\n                return this;\n            }\n        }\n\n        _h[event].push({\n            h: handler,\n            one: false,\n            ctx: context || this\n        });\n\n        return this;\n    },\n\n    /**\n     * \n     * @param  {string}  event\n     * @return {boolean}\n     */\n    isSilent: function (event) {\n        var _h = this._$handlers;\n        return _h[event] && _h[event].length;\n    },\n\n    /**\n     * \n     * @param {string} event \n     * @param {Function} [handler] \n     */\n    off: function (event, handler) {\n        var _h = this._$handlers;\n\n        if (!event) {\n            this._$handlers = {};\n            return this;\n        }\n\n        if (handler) {\n            if (_h[event]) {\n                var newList = [];\n                for (var i = 0, l = _h[event].length; i < l; i++) {\n                    if (_h[event][i]['h'] != handler) {\n                        newList.push(_h[event][i]);\n                    }\n                }\n                _h[event] = newList;\n            }\n\n            if (_h[event] && _h[event].length === 0) {\n                delete _h[event];\n            }\n        }\n        else {\n            delete _h[event];\n        }\n\n        return this;\n    },\n\n    /**\n     * \n     *\n     * @param {string} type \n     */\n    trigger: function (type) {\n        if (this._$handlers[type]) {\n            var args = arguments;\n            var argLen = args.length;\n\n            if (argLen > 3) {\n                args = arrySlice.call(args, 1);\n            }\n\n            var _h = this._$handlers[type];\n            var len = _h.length;\n            for (var i = 0; i < len;) {\n                // Optimize advise from backbone\n                switch (argLen) {\n                    case 1:\n                        _h[i]['h'].call(_h[i]['ctx']);\n                        break;\n                    case 2:\n                        _h[i]['h'].call(_h[i]['ctx'], args[1]);\n                        break;\n                    case 3:\n                        _h[i]['h'].call(_h[i]['ctx'], args[1], args[2]);\n                        break;\n                    default:\n                        // have more than 2 given arguments\n                        _h[i]['h'].apply(_h[i]['ctx'], args);\n                        break;\n                }\n\n                if (_h[i]['one']) {\n                    _h.splice(i, 1);\n                    len--;\n                }\n                else {\n                    i++;\n                }\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * context, context\n     * @param {string} type \n     */\n    triggerWithContext: function (type) {\n        if (this._$handlers[type]) {\n            var args = arguments;\n            var argLen = args.length;\n\n            if (argLen > 4) {\n                args = arrySlice.call(args, 1, args.length - 1);\n            }\n            var ctx = args[args.length - 1];\n\n            var _h = this._$handlers[type];\n            var len = _h.length;\n            for (var i = 0; i < len;) {\n                // Optimize advise from backbone\n                switch (argLen) {\n                    case 1:\n                        _h[i]['h'].call(ctx);\n                        break;\n                    case 2:\n                        _h[i]['h'].call(ctx, args[1]);\n                        break;\n                    case 3:\n                        _h[i]['h'].call(ctx, args[1], args[2]);\n                        break;\n                    default:\n                        // have more than 2 given arguments\n                        _h[i]['h'].apply(ctx, args);\n                        break;\n                }\n\n                if (_h[i]['one']) {\n                    _h.splice(i, 1);\n                    len--;\n                }\n                else {\n                    i++;\n                }\n            }\n        }\n\n        return this;\n    }\n};\n\n/**\n * Handler\n * @module zrender/Handler\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n *         pissang (shenyi.914@gmail.com)\n */\n\nvar SILENT = 'silent';\n\nfunction makeEventPacket(eveType, targetInfo, event) {\n    return {\n        type: eveType,\n        event: event,\n        // target can only be an element that is not silent.\n        target: targetInfo.target,\n        // topTarget can be a silent element.\n        topTarget: targetInfo.topTarget,\n        cancelBubble: false,\n        offsetX: event.zrX,\n        offsetY: event.zrY,\n        gestureEvent: event.gestureEvent,\n        pinchX: event.pinchX,\n        pinchY: event.pinchY,\n        pinchScale: event.pinchScale,\n        wheelDelta: event.zrDelta,\n        zrByTouch: event.zrByTouch,\n        which: event.which\n    };\n}\n\nfunction EmptyProxy () {}\nEmptyProxy.prototype.dispose = function () {};\n\nvar handlerNames = [\n    'click', 'dblclick', 'mousewheel', 'mouseout',\n    'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n];\n/**\n * @alias module:zrender/Handler\n * @constructor\n * @extends module:zrender/mixin/Eventful\n * @param {module:zrender/Storage} storage Storage instance.\n * @param {module:zrender/Painter} painter Painter instance.\n * @param {module:zrender/dom/HandlerProxy} proxy HandlerProxy instance.\n * @param {HTMLElement} painterRoot painter.root (not painter.getViewportRoot()).\n */\nvar Handler = function(storage, painter, proxy, painterRoot) {\n    Eventful.call(this);\n\n    this.storage = storage;\n\n    this.painter = painter;\n\n    this.painterRoot = painterRoot;\n\n    proxy = proxy || new EmptyProxy();\n\n    /**\n     * Proxy of event. can be Dom, WebGLSurface, etc.\n     */\n    this.proxy = proxy;\n\n    // Attach handler\n    proxy.handler = this;\n\n    /**\n     * {target, topTarget, x, y}\n     * @private\n     * @type {Object}\n     */\n    this._hovered = {};\n\n    /**\n     * @private\n     * @type {Date}\n     */\n    this._lastTouchMoment;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this._lastX;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this._lastY;\n\n\n    Draggable.call(this);\n\n    each$1(handlerNames, function (name) {\n        proxy.on && proxy.on(name, this[name], this);\n    }, this);\n};\n\nHandler.prototype = {\n\n    constructor: Handler,\n\n    mousemove: function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n\n        var lastHovered = this._hovered;\n        var lastHoveredTarget = lastHovered.target;\n\n        // If lastHoveredTarget is removed from zr (detected by '__zr') by some API call\n        // (like 'setOption' or 'dispatchAction') in event handlers, we should find\n        // lastHovered again here. Otherwise 'mouseout' can not be triggered normally.\n        // See #6198.\n        if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n            lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n            lastHoveredTarget = lastHovered.target;\n        }\n\n        var hovered = this._hovered = this.findHover(x, y);\n        var hoveredTarget = hovered.target;\n\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default');\n\n        // Mouse out on previous hovered element\n        if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(lastHovered, 'mouseout', event);\n        }\n\n        // Mouse moving on one element\n        this.dispatchToElement(hovered, 'mousemove', event);\n\n        // Mouse over on a new element\n        if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(hovered, 'mouseover', event);\n        }\n    },\n\n    mouseout: function (event) {\n        this.dispatchToElement(this._hovered, 'mouseout', event);\n\n        // There might be some doms created by upper layer application\n        // at the same level of painter.getViewportRoot() (e.g., tooltip\n        // dom created by echarts), where 'globalout' event should not\n        // be triggered when mouse enters these doms. (But 'mouseout'\n        // should be triggered at the original hovered element as usual).\n        var element = event.toElement || event.relatedTarget;\n        var innerDom;\n        do {\n            element = element && element.parentNode;\n        }\n        while (element && element.nodeType != 9 && !(\n            innerDom = element === this.painterRoot\n        ));\n\n        !innerDom && this.trigger('globalout', {event: event});\n    },\n\n    /**\n     * Resize\n     */\n    resize: function (event) {\n        this._hovered = {};\n    },\n\n    /**\n     * Dispatch event\n     * @param {string} eventName\n     * @param {event=} eventArgs\n     */\n    dispatch: function (eventName, eventArgs) {\n        var handler = this[eventName];\n        handler && handler.call(this, eventArgs);\n    },\n\n    /**\n     * Dispose\n     */\n    dispose: function () {\n\n        this.proxy.dispose();\n\n        this.storage =\n        this.proxy =\n        this.painter = null;\n    },\n\n    /**\n     * cursor style\n     * @param {string} [cursorStyle='default']  crosshair\n     */\n    setCursorStyle: function (cursorStyle) {\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(cursorStyle);\n    },\n\n    /**\n     * \n     *\n     * @private\n     * @param {Object} targetInfo {target, topTarget} \n     * @param {string} eventName \n     * @param {Object} event \n     */\n    dispatchToElement: function (targetInfo, eventName, event) {\n        targetInfo = targetInfo || {};\n        var el = targetInfo.target;\n        if (el && el.silent) {\n            return;\n        }\n        var eventHandler = 'on' + eventName;\n        var eventPacket = makeEventPacket(eventName, targetInfo, event);\n\n        while (el) {\n            el[eventHandler]\n                && (eventPacket.cancelBubble = el[eventHandler].call(el, eventPacket));\n\n            el.trigger(eventName, eventPacket);\n\n            el = el.parent;\n\n            if (eventPacket.cancelBubble) {\n                break;\n            }\n        }\n\n        if (!eventPacket.cancelBubble) {\n            //  zrender \n            this.trigger(eventName, eventPacket);\n            // \n            //  click  dispose painter \n            this.painter && this.painter.eachOtherLayer(function (layer) {\n                if (typeof(layer[eventHandler]) == 'function') {\n                    layer[eventHandler].call(layer, eventPacket);\n                }\n                if (layer.trigger) {\n                    layer.trigger(eventName, eventPacket);\n                }\n            });\n        }\n    },\n\n    /**\n     * @private\n     * @param {number} x\n     * @param {number} y\n     * @param {module:zrender/graphic/Displayable} exclude\n     * @return {model:zrender/Element}\n     * @method\n     */\n    findHover: function(x, y, exclude) {\n        var list = this.storage.getDisplayList();\n        var out = {x: x, y: y};\n\n        for (var i = list.length - 1; i >= 0 ; i--) {\n            var hoverCheckResult;\n            if (list[i] !== exclude\n                // getDisplayList may include ignored item in VML mode\n                && !list[i].ignore\n                && (hoverCheckResult = isHover(list[i], x, y))\n            ) {\n                !out.topTarget && (out.topTarget = list[i]);\n                if (hoverCheckResult !== SILENT) {\n                    out.target = list[i];\n                    break;\n                }\n            }\n        }\n\n        return out;\n    }\n};\n\n// Common handlers\neach$1(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    Handler.prototype[name] = function (event) {\n        // Find hover again to avoid click event is dispatched manually. Or click is triggered without mouseover\n        var hovered = this.findHover(event.zrX, event.zrY);\n        var hoveredTarget = hovered.target;\n\n        if (name === 'mousedown') {\n            this._downEl = hoveredTarget;\n            this._downPoint = [event.zrX, event.zrY];\n            // In case click triggered before mouseup\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'mosueup') {\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'click') {\n            if (this._downEl !== this._upEl\n                // Original click event is triggered on the whole canvas element,\n                // including the case that `mousedown` - `mousemove` - `mouseup`,\n                // which should be filtered, otherwise it will bring trouble to\n                // pan and zoom.\n                || !this._downPoint\n                // Arbitrary value\n                || dist(this._downPoint, [event.zrX, event.zrY]) > 4\n            ) {\n                return;\n            }\n            this._downPoint = null;\n        }\n\n        this.dispatchToElement(hovered, name, event);\n    };\n});\n\nfunction isHover(displayable, x, y) {\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n        var el = displayable;\n        var isSilent;\n        while (el) {\n            // If clipped by ancestor.\n            // FIXME: If clipPath has neither stroke nor fill,\n            // el.clipPath.contain(x, y) will always return false.\n            if (el.clipPath && !el.clipPath.contain(x, y))  {\n                return false;\n            }\n            if (el.silent) {\n                isSilent = true;\n            }\n            el = el.parent;\n        }\n        return isSilent ? SILENT : true;\n    }\n\n    return false;\n}\n\nmixin(Handler, Eventful);\nmixin(Handler, Draggable);\n\n/**\n * 3x2\n * @exports zrender/tool/matrix\n */\n\nvar ArrayCtor$1 = typeof Float32Array === 'undefined'\n    ? Array\n   : Float32Array;\n\n/**\n * \n * @return {Float32Array|Array.<number>}\n */\nfunction create$1() {\n    var out = new ArrayCtor$1(6);\n    identity(out);\n\n    return out;\n}\n\n/**\n * \n * @param {Float32Array|Array.<number>} out\n */\nfunction identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n}\n\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m\n */\nfunction copy$1(out, m) {\n    out[0] = m[0];\n    out[1] = m[1];\n    out[2] = m[2];\n    out[3] = m[3];\n    out[4] = m[4];\n    out[5] = m[5];\n    return out;\n}\n\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m1\n * @param {Float32Array|Array.<number>} m2\n */\nfunction mul$1(out, m1, m2) {\n    // Consider matrix.mul(m, m2, m);\n    // where out is the same as m2.\n    // So use temp variable to escape error.\n    var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n    var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n    var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n    var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n    var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n    var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n    out[0] = out0;\n    out[1] = out1;\n    out[2] = out2;\n    out[3] = out3;\n    out[4] = out4;\n    out[5] = out5;\n    return out;\n}\n\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\nfunction translate(out, a, v) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4] + v[0];\n    out[5] = a[5] + v[1];\n    return out;\n}\n\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {number} rad\n */\nfunction rotate(out, a, rad) {\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var st = Math.sin(rad);\n    var ct = Math.cos(rad);\n\n    out[0] = aa * ct + ab * st;\n    out[1] = -aa * st + ab * ct;\n    out[2] = ac * ct + ad * st;\n    out[3] = -ac * st + ct * ad;\n    out[4] = ct * atx + st * aty;\n    out[5] = ct * aty - st * atx;\n    return out;\n}\n\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\nfunction scale$1(out, a, v) {\n    var vx = v[0];\n    var vy = v[1];\n    out[0] = a[0] * vx;\n    out[1] = a[1] * vy;\n    out[2] = a[2] * vx;\n    out[3] = a[3] * vy;\n    out[4] = a[4] * vx;\n    out[5] = a[5] * vy;\n    return out;\n}\n\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n */\nfunction invert(out, a) {\n\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n\n    var det = aa * ad - ab * ac;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n}\n\n\nvar matrix = (Object.freeze || Object)({\n\tcreate: create$1,\n\tidentity: identity,\n\tcopy: copy$1,\n\tmul: mul$1,\n\ttranslate: translate,\n\trotate: rotate,\n\tscale: scale$1,\n\tinvert: invert\n});\n\n/**\n * \n * @module zrender/mixin/Transformable\n * @author pissang (https://www.github.com/pissang)\n */\n\nvar mIdentity = identity;\n\nvar EPSILON = 5e-5;\n\nfunction isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n}\n\n/**\n * @alias module:zrender/mixin/Transformable\n * @constructor\n */\nvar Transformable = function (opts) {\n    opts = opts || {};\n    // If there are no given position, rotation, scale\n    if (!opts.position) {\n        /**\n         * \n         * @type {Array.<number>}\n         * @default [0, 0]\n         */\n        this.position = [0, 0];\n    }\n    if (opts.rotation == null) {\n        /**\n         * \n         * @type {Array.<number>}\n         * @default 0\n         */\n        this.rotation = 0;\n    }\n    if (!opts.scale) {\n        /**\n         * \n         * @type {Array.<number>}\n         * @default [1, 1]\n         */\n        this.scale = [1, 1];\n    }\n    /**\n     * \n     * @type {Array.<number>}\n     * @default null\n     */\n    this.origin = this.origin || null;\n};\n\nvar transformableProto = Transformable.prototype;\ntransformableProto.transform = null;\n\n/**\n * \n * , position, rotation, scaletransformtransform\n */\ntransformableProto.needLocalTransform = function () {\n    return isNotAroundZero(this.rotation)\n        || isNotAroundZero(this.position[0])\n        || isNotAroundZero(this.position[1])\n        || isNotAroundZero(this.scale[0] - 1)\n        || isNotAroundZero(this.scale[1] - 1);\n};\n\ntransformableProto.updateTransform = function () {\n    var parent = this.parent;\n    var parentHasTransform = parent && parent.transform;\n    var needLocalTransform = this.needLocalTransform();\n\n    var m = this.transform;\n    if (!(needLocalTransform || parentHasTransform)) {\n        m && mIdentity(m);\n        return;\n    }\n\n    m = m || create$1();\n\n    if (needLocalTransform) {\n        this.getLocalTransform(m);\n    }\n    else {\n        mIdentity(m);\n    }\n\n    // \n    if (parentHasTransform) {\n        if (needLocalTransform) {\n            mul$1(m, parent.transform, m);\n        }\n        else {\n            copy$1(m, parent.transform);\n        }\n    }\n    // \n    this.transform = m;\n\n    this.invTransform = this.invTransform || create$1();\n    invert(this.invTransform, m);\n};\n\ntransformableProto.getLocalTransform = function (m) {\n    return Transformable.getLocalTransform(this, m);\n};\n\n/**\n * transformcontext\n * @param {CanvasRenderingContext2D} ctx\n */\ntransformableProto.setTransform = function (ctx) {\n    var m = this.transform;\n    var dpr = ctx.dpr || 1;\n    if (m) {\n        ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n    }\n    else {\n        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n    }\n};\n\ntransformableProto.restoreTransform = function (ctx) {\n    var dpr = ctx.dpr || 1;\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n};\n\nvar tmpTransform = [];\n\n/**\n * `transform``position`, `rotation`, `scale`\n */\ntransformableProto.decomposeTransform = function () {\n    if (!this.transform) {\n        return;\n    }\n    var parent = this.parent;\n    var m = this.transform;\n    if (parent && parent.transform) {\n        // Get local transform and decompose them to position, scale, rotation\n        mul$1(tmpTransform, parent.invTransform, m);\n        m = tmpTransform;\n    }\n    var sx = m[0] * m[0] + m[1] * m[1];\n    var sy = m[2] * m[2] + m[3] * m[3];\n    var position = this.position;\n    var scale$$1 = this.scale;\n    if (isNotAroundZero(sx - 1)) {\n        sx = Math.sqrt(sx);\n    }\n    if (isNotAroundZero(sy - 1)) {\n        sy = Math.sqrt(sy);\n    }\n    if (m[0] < 0) {\n        sx = -sx;\n    }\n    if (m[3] < 0) {\n        sy = -sy;\n    }\n    position[0] = m[4];\n    position[1] = m[5];\n    scale$$1[0] = sx;\n    scale$$1[1] = sy;\n    this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n};\n\n/**\n * Get global scale\n * @return {Array.<number>}\n */\ntransformableProto.getGlobalScale = function () {\n    var m = this.transform;\n    if (!m) {\n        return [1, 1];\n    }\n    var sx = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n    var sy = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n    if (m[0] < 0) {\n        sx = -sx;\n    }\n    if (m[3] < 0) {\n        sy = -sy;\n    }\n    return [sx, sy];\n};\n/**\n *  shape \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\ntransformableProto.transformCoordToLocal = function (x, y) {\n    var v2 = [x, y];\n    var invTransform = this.invTransform;\n    if (invTransform) {\n        applyTransform(v2, v2, invTransform);\n    }\n    return v2;\n};\n\n/**\n * \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\ntransformableProto.transformCoordToGlobal = function (x, y) {\n    var v2 = [x, y];\n    var transform = this.transform;\n    if (transform) {\n        applyTransform(v2, v2, transform);\n    }\n    return v2;\n};\n\n/**\n * @static\n * @param {Object} target\n * @param {Array.<number>} target.origin\n * @param {number} target.rotation\n * @param {Array.<number>} target.position\n * @param {Array.<number>} [m]\n */\nTransformable.getLocalTransform = function (target, m) {\n    m = m || [];\n    mIdentity(m);\n\n    var origin = target.origin;\n    var scale$$1 = target.scale || [1, 1];\n    var rotation = target.rotation || 0;\n    var position = target.position || [0, 0];\n\n    if (origin) {\n        // Translate to origin\n        m[4] -= origin[0];\n        m[5] -= origin[1];\n    }\n    scale$1(m, m, scale$$1);\n    if (rotation) {\n        rotate(m, m, rotation);\n    }\n    if (origin) {\n        // Translate back from origin\n        m[4] += origin[0];\n        m[5] += origin[1];\n    }\n\n    m[4] += position[0];\n    m[5] += position[1];\n\n    return m;\n};\n\n/**\n *  https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n * @exports zrender/animation/easing\n */\nvar easing = {\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    linear: function (k) {\n        return k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticIn: function (k) {\n        return k * k;\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticOut: function (k) {\n        return k * (2 - k);\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k;\n        }\n        return -0.5 * (--k * (k - 2) - 1);\n    },\n\n    // t^3\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicIn: function (k) {\n        return k * k * k;\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicOut: function (k) {\n        return --k * k * k + 1;\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k;\n        }\n        return 0.5 * ((k -= 2) * k * k + 2);\n    },\n\n    // t^4\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticIn: function (k) {\n        return k * k * k * k;\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticOut: function (k) {\n        return 1 - (--k * k * k * k);\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k * k;\n        }\n        return -0.5 * ((k -= 2) * k * k * k - 2);\n    },\n\n    // t^5\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticIn: function (k) {\n        return k * k * k * k * k;\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticOut: function (k) {\n        return --k * k * k * k * k + 1;\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k * k * k;\n        }\n        return 0.5 * ((k -= 2) * k * k * k * k + 2);\n    },\n\n    // sin(t)\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalIn: function (k) {\n        return 1 - Math.cos(k * Math.PI / 2);\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalOut: function (k) {\n        return Math.sin(k * Math.PI / 2);\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalInOut: function (k) {\n        return 0.5 * (1 - Math.cos(Math.PI * k));\n    },\n\n    // 2^t\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialIn: function (k) {\n        return k === 0 ? 0 : Math.pow(1024, k - 1);\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialOut: function (k) {\n        return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialInOut: function (k) {\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if ((k *= 2) < 1) {\n            return 0.5 * Math.pow(1024, k - 1);\n        }\n        return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n    },\n\n    // sqrt(1-t^2)\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularIn: function (k) {\n        return 1 - Math.sqrt(1 - k * k);\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularOut: function (k) {\n        return Math.sqrt(1 - (--k * k));\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return -0.5 * (Math.sqrt(1 - k * k) - 1);\n        }\n        return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n    },\n\n    // \n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticIn: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1; s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        return -(a * Math.pow(2, 10 * (k -= 1)) *\n                    Math.sin((k - s) * (2 * Math.PI) / p));\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticOut: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1; s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        return (a * Math.pow(2, -10 * k) *\n                Math.sin((k - s) * (2 * Math.PI) / p) + 1);\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticInOut: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1; s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        if ((k *= 2) < 1) {\n            return -0.5 * (a * Math.pow(2, 10 * (k -= 1))\n                * Math.sin((k - s) * (2 * Math.PI) / p));\n        }\n        return a * Math.pow(2, -10 * (k -= 1))\n                * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\n    },\n\n    // \n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backIn: function (k) {\n        var s = 1.70158;\n        return k * k * ((s + 1) * k - s);\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backOut: function (k) {\n        var s = 1.70158;\n        return --k * k * ((s + 1) * k + s) + 1;\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backInOut: function (k) {\n        var s = 1.70158 * 1.525;\n        if ((k *= 2) < 1) {\n            return 0.5 * (k * k * ((s + 1) * k - s));\n        }\n        return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    },\n\n    // \n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceIn: function (k) {\n        return 1 - easing.bounceOut(1 - k);\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceOut: function (k) {\n        if (k < (1 / 2.75)) {\n            return 7.5625 * k * k;\n        }\n        else if (k < (2 / 2.75)) {\n            return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n        }\n        else if (k < (2.5 / 2.75)) {\n            return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n        }\n        else {\n            return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n        }\n    },\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceInOut: function (k) {\n        if (k < 0.5) {\n            return easing.bounceIn(k * 2) * 0.5;\n        }\n        return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n    }\n};\n\n/**\n * \n * @config target onframe\n * @config life(1000) \n * @config delay(0) \n * @config loop(true)\n * @config gap(0) \n * @config onframe\n * @config easing(optional)\n * @config ondestroy(optional)\n * @config onrestart(optional)\n *\n * TODO pause\n */\n\nfunction Clip(options) {\n\n    this._target = options.target;\n\n    // \n    this._life = options.life || 1000;\n    // \n    this._delay = options.delay || 0;\n    // \n    // this._startTime = new Date().getTime() + this._delay;// \n    this._initialized = false;\n\n    // \n    this.loop = options.loop == null ? false : options.loop;\n\n    this.gap = options.gap || 0;\n\n    this.easing = options.easing || 'Linear';\n\n    this.onframe = options.onframe;\n    this.ondestroy = options.ondestroy;\n    this.onrestart = options.onrestart;\n\n    this._pausedTime = 0;\n    this._paused = false;\n}\n\nClip.prototype = {\n\n    constructor: Clip,\n\n    step: function (globalTime, deltaTime) {\n        // Set startTime on first step, or _startTime may has milleseconds different between clips\n        // PENDING\n        if (!this._initialized) {\n            this._startTime = globalTime + this._delay;\n            this._initialized = true;\n        }\n\n        if (this._paused) {\n            this._pausedTime += deltaTime;\n            return;\n        }\n\n        var percent = (globalTime - this._startTime - this._pausedTime) / this._life;\n\n        // \n        if (percent < 0) {\n            return;\n        }\n\n        percent = Math.min(percent, 1);\n\n        var easing$$1 = this.easing;\n        var easingFunc = typeof easing$$1 == 'string' ? easing[easing$$1] : easing$$1;\n        var schedule = typeof easingFunc === 'function'\n            ? easingFunc(percent)\n            : percent;\n\n        this.fire('frame', schedule);\n\n        // \n        if (percent == 1) {\n            if (this.loop) {\n                this.restart (globalTime);\n                // \n                //  stage.update \n                return 'restart';\n            }\n\n            // \n            // Animation.update\n            this._needsRemove = true;\n            return 'destroy';\n        }\n\n        return null;\n    },\n\n    restart: function (globalTime) {\n        var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n        this._startTime = globalTime - remainder + this.gap;\n        this._pausedTime = 0;\n\n        this._needsRemove = false;\n    },\n\n    fire: function (eventType, arg) {\n        eventType = 'on' + eventType;\n        if (this[eventType]) {\n            this[eventType](this._target, arg);\n        }\n    },\n\n    pause: function () {\n        this._paused = true;\n    },\n\n    resume: function () {\n        this._paused = false;\n    }\n};\n\n// Simple LRU cache use doubly linked list\n// @module zrender/core/LRU\n\n/**\n * Simple double linked list. Compared with array, it has O(1) remove operation.\n * @constructor\n */\nvar LinkedList = function () {\n\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n    this.head = null;\n\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n    this.tail = null;\n\n    this._len = 0;\n};\n\nvar linkedListProto = LinkedList.prototype;\n/**\n * Insert a new value at the tail\n * @param  {} val\n * @return {module:zrender/core/LRU~Entry}\n */\nlinkedListProto.insert = function (val) {\n    var entry = new Entry(val);\n    this.insertEntry(entry);\n    return entry;\n};\n\n/**\n * Insert an entry at the tail\n * @param  {module:zrender/core/LRU~Entry} entry\n */\nlinkedListProto.insertEntry = function (entry) {\n    if (!this.head) {\n        this.head = this.tail = entry;\n    }\n    else {\n        this.tail.next = entry;\n        entry.prev = this.tail;\n        entry.next = null;\n        this.tail = entry;\n    }\n    this._len++;\n};\n\n/**\n * Remove entry.\n * @param  {module:zrender/core/LRU~Entry} entry\n */\nlinkedListProto.remove = function (entry) {\n    var prev = entry.prev;\n    var next = entry.next;\n    if (prev) {\n        prev.next = next;\n    }\n    else {\n        // Is head\n        this.head = next;\n    }\n    if (next) {\n        next.prev = prev;\n    }\n    else {\n        // Is tail\n        this.tail = prev;\n    }\n    entry.next = entry.prev = null;\n    this._len--;\n};\n\n/**\n * @return {number}\n */\nlinkedListProto.len = function () {\n    return this._len;\n};\n\n/**\n * Clear list\n */\nlinkedListProto.clear = function () {\n    this.head = this.tail = null;\n    this._len = 0;\n};\n\n/**\n * @constructor\n * @param {} val\n */\nvar Entry = function (val) {\n    /**\n     * @type {}\n     */\n    this.value = val;\n\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n    this.next;\n\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n    this.prev;\n};\n\n/**\n * LRU Cache\n * @constructor\n * @alias module:zrender/core/LRU\n */\nvar LRU = function (maxSize) {\n\n    this._list = new LinkedList();\n\n    this._map = {};\n\n    this._maxSize = maxSize || 10;\n\n    this._lastRemovedEntry = null;\n};\n\nvar LRUProto = LRU.prototype;\n\n/**\n * @param  {string} key\n * @param  {} value\n * @return {} Removed value\n */\nLRUProto.put = function (key, value) {\n    var list = this._list;\n    var map = this._map;\n    var removed = null;\n    if (map[key] == null) {\n        var len = list.len();\n        // Reuse last removed entry\n        var entry = this._lastRemovedEntry;\n\n        if (len >= this._maxSize && len > 0) {\n            // Remove the least recently used\n            var leastUsedEntry = list.head;\n            list.remove(leastUsedEntry);\n            delete map[leastUsedEntry.key];\n\n            removed = leastUsedEntry.value;\n            this._lastRemovedEntry = leastUsedEntry;\n        }\n\n        if (entry) {\n            entry.value = value;\n        }\n        else {\n            entry = new Entry(value);\n        }\n        entry.key = key;\n        list.insertEntry(entry);\n        map[key] = entry;\n    }\n\n    return removed;\n};\n\n/**\n * @param  {string} key\n * @return {}\n */\nLRUProto.get = function (key) {\n    var entry = this._map[key];\n    var list = this._list;\n    if (entry != null) {\n        // Put the latest used entry in the tail\n        if (entry !== list.tail) {\n            list.remove(entry);\n            list.insertEntry(entry);\n        }\n\n        return entry.value;\n    }\n};\n\n/**\n * Clear the cache\n */\nLRUProto.clear = function () {\n    this._list.clear();\n    this._map = {};\n};\n\nvar kCSSColorTable = {\n    'transparent': [0,0,0,0], 'aliceblue': [240,248,255,1],\n    'antiquewhite': [250,235,215,1], 'aqua': [0,255,255,1],\n    'aquamarine': [127,255,212,1], 'azure': [240,255,255,1],\n    'beige': [245,245,220,1], 'bisque': [255,228,196,1],\n    'black': [0,0,0,1], 'blanchedalmond': [255,235,205,1],\n    'blue': [0,0,255,1], 'blueviolet': [138,43,226,1],\n    'brown': [165,42,42,1], 'burlywood': [222,184,135,1],\n    'cadetblue': [95,158,160,1], 'chartreuse': [127,255,0,1],\n    'chocolate': [210,105,30,1], 'coral': [255,127,80,1],\n    'cornflowerblue': [100,149,237,1], 'cornsilk': [255,248,220,1],\n    'crimson': [220,20,60,1], 'cyan': [0,255,255,1],\n    'darkblue': [0,0,139,1], 'darkcyan': [0,139,139,1],\n    'darkgoldenrod': [184,134,11,1], 'darkgray': [169,169,169,1],\n    'darkgreen': [0,100,0,1], 'darkgrey': [169,169,169,1],\n    'darkkhaki': [189,183,107,1], 'darkmagenta': [139,0,139,1],\n    'darkolivegreen': [85,107,47,1], 'darkorange': [255,140,0,1],\n    'darkorchid': [153,50,204,1], 'darkred': [139,0,0,1],\n    'darksalmon': [233,150,122,1], 'darkseagreen': [143,188,143,1],\n    'darkslateblue': [72,61,139,1], 'darkslategray': [47,79,79,1],\n    'darkslategrey': [47,79,79,1], 'darkturquoise': [0,206,209,1],\n    'darkviolet': [148,0,211,1], 'deeppink': [255,20,147,1],\n    'deepskyblue': [0,191,255,1], 'dimgray': [105,105,105,1],\n    'dimgrey': [105,105,105,1], 'dodgerblue': [30,144,255,1],\n    'firebrick': [178,34,34,1], 'floralwhite': [255,250,240,1],\n    'forestgreen': [34,139,34,1], 'fuchsia': [255,0,255,1],\n    'gainsboro': [220,220,220,1], 'ghostwhite': [248,248,255,1],\n    'gold': [255,215,0,1], 'goldenrod': [218,165,32,1],\n    'gray': [128,128,128,1], 'green': [0,128,0,1],\n    'greenyellow': [173,255,47,1], 'grey': [128,128,128,1],\n    'honeydew': [240,255,240,1], 'hotpink': [255,105,180,1],\n    'indianred': [205,92,92,1], 'indigo': [75,0,130,1],\n    'ivory': [255,255,240,1], 'khaki': [240,230,140,1],\n    'lavender': [230,230,250,1], 'lavenderblush': [255,240,245,1],\n    'lawngreen': [124,252,0,1], 'lemonchiffon': [255,250,205,1],\n    'lightblue': [173,216,230,1], 'lightcoral': [240,128,128,1],\n    'lightcyan': [224,255,255,1], 'lightgoldenrodyellow': [250,250,210,1],\n    'lightgray': [211,211,211,1], 'lightgreen': [144,238,144,1],\n    'lightgrey': [211,211,211,1], 'lightpink': [255,182,193,1],\n    'lightsalmon': [255,160,122,1], 'lightseagreen': [32,178,170,1],\n    'lightskyblue': [135,206,250,1], 'lightslategray': [119,136,153,1],\n    'lightslategrey': [119,136,153,1], 'lightsteelblue': [176,196,222,1],\n    'lightyellow': [255,255,224,1], 'lime': [0,255,0,1],\n    'limegreen': [50,205,50,1], 'linen': [250,240,230,1],\n    'magenta': [255,0,255,1], 'maroon': [128,0,0,1],\n    'mediumaquamarine': [102,205,170,1], 'mediumblue': [0,0,205,1],\n    'mediumorchid': [186,85,211,1], 'mediumpurple': [147,112,219,1],\n    'mediumseagreen': [60,179,113,1], 'mediumslateblue': [123,104,238,1],\n    'mediumspringgreen': [0,250,154,1], 'mediumturquoise': [72,209,204,1],\n    'mediumvioletred': [199,21,133,1], 'midnightblue': [25,25,112,1],\n    'mintcream': [245,255,250,1], 'mistyrose': [255,228,225,1],\n    'moccasin': [255,228,181,1], 'navajowhite': [255,222,173,1],\n    'navy': [0,0,128,1], 'oldlace': [253,245,230,1],\n    'olive': [128,128,0,1], 'olivedrab': [107,142,35,1],\n    'orange': [255,165,0,1], 'orangered': [255,69,0,1],\n    'orchid': [218,112,214,1], 'palegoldenrod': [238,232,170,1],\n    'palegreen': [152,251,152,1], 'paleturquoise': [175,238,238,1],\n    'palevioletred': [219,112,147,1], 'papayawhip': [255,239,213,1],\n    'peachpuff': [255,218,185,1], 'peru': [205,133,63,1],\n    'pink': [255,192,203,1], 'plum': [221,160,221,1],\n    'powderblue': [176,224,230,1], 'purple': [128,0,128,1],\n    'red': [255,0,0,1], 'rosybrown': [188,143,143,1],\n    'royalblue': [65,105,225,1], 'saddlebrown': [139,69,19,1],\n    'salmon': [250,128,114,1], 'sandybrown': [244,164,96,1],\n    'seagreen': [46,139,87,1], 'seashell': [255,245,238,1],\n    'sienna': [160,82,45,1], 'silver': [192,192,192,1],\n    'skyblue': [135,206,235,1], 'slateblue': [106,90,205,1],\n    'slategray': [112,128,144,1], 'slategrey': [112,128,144,1],\n    'snow': [255,250,250,1], 'springgreen': [0,255,127,1],\n    'steelblue': [70,130,180,1], 'tan': [210,180,140,1],\n    'teal': [0,128,128,1], 'thistle': [216,191,216,1],\n    'tomato': [255,99,71,1], 'turquoise': [64,224,208,1],\n    'violet': [238,130,238,1], 'wheat': [245,222,179,1],\n    'white': [255,255,255,1], 'whitesmoke': [245,245,245,1],\n    'yellow': [255,255,0,1], 'yellowgreen': [154,205,50,1]\n};\n\nfunction clampCssByte(i) {  // Clamp to integer 0 .. 255.\n    i = Math.round(i);  // Seems to be what Chrome does (vs truncation).\n    return i < 0 ? 0 : i > 255 ? 255 : i;\n}\n\nfunction clampCssAngle(i) {  // Clamp to integer 0 .. 360.\n    i = Math.round(i);  // Seems to be what Chrome does (vs truncation).\n    return i < 0 ? 0 : i > 360 ? 360 : i;\n}\n\nfunction clampCssFloat(f) {  // Clamp to float 0.0 .. 1.0.\n    return f < 0 ? 0 : f > 1 ? 1 : f;\n}\n\nfunction parseCssInt(str) {  // int or percentage.\n    if (str.length && str.charAt(str.length - 1) === '%') {\n        return clampCssByte(parseFloat(str) / 100 * 255);\n    }\n    return clampCssByte(parseInt(str, 10));\n}\n\nfunction parseCssFloat(str) {  // float or percentage.\n    if (str.length && str.charAt(str.length - 1) === '%') {\n        return clampCssFloat(parseFloat(str) / 100);\n    }\n    return clampCssFloat(parseFloat(str));\n}\n\nfunction cssHueToRgb(m1, m2, h) {\n    if (h < 0) {\n        h += 1;\n    }\n    else if (h > 1) {\n        h -= 1;\n    }\n\n    if (h * 6 < 1) {\n        return m1 + (m2 - m1) * h * 6;\n    }\n    if (h * 2 < 1) {\n        return m2;\n    }\n    if (h * 3 < 2) {\n        return m1 + (m2 - m1) * (2/3 - h) * 6;\n    }\n    return m1;\n}\n\nfunction lerpNumber(a, b, p) {\n    return a + (b - a) * p;\n}\n\nfunction setRgba(out, r, g, b, a) {\n    out[0] = r; out[1] = g; out[2] = b; out[3] = a;\n    return out;\n}\nfunction copyRgba(out, a) {\n    out[0] = a[0]; out[1] = a[1]; out[2] = a[2]; out[3] = a[3];\n    return out;\n}\n\nvar colorCache = new LRU(20);\nvar lastRemovedArr = null;\n\nfunction putToCache(colorStr, rgbaArr) {\n    // Reuse removed array\n    if (lastRemovedArr) {\n        copyRgba(lastRemovedArr, rgbaArr);\n    }\n    lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || (rgbaArr.slice()));\n}\n\n/**\n * @param {string} colorStr\n * @param {Array.<number>} out\n * @return {Array.<number>}\n * @memberOf module:zrender/util/color\n */\nfunction parse(colorStr, rgbaArr) {\n    if (!colorStr) {\n        return;\n    }\n    rgbaArr = rgbaArr || [];\n\n    var cached = colorCache.get(colorStr);\n    if (cached) {\n        return copyRgba(rgbaArr, cached);\n    }\n\n    // colorStr may be not string\n    colorStr = colorStr + '';\n    // Remove all whitespace, not compliant, but should just be more accepting.\n    var str = colorStr.replace(/ /g, '').toLowerCase();\n\n    // Color keywords (and transparent) lookup.\n    if (str in kCSSColorTable) {\n        copyRgba(rgbaArr, kCSSColorTable[str]);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n    }\n\n    // #abc and #abc123 syntax.\n    if (str.charAt(0) === '#') {\n        if (str.length === 4) {\n            var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\n            if (!(iv >= 0 && iv <= 0xfff)) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;  // Covers NaN.\n            }\n            setRgba(rgbaArr,\n                ((iv & 0xf00) >> 4) | ((iv & 0xf00) >> 8),\n                (iv & 0xf0) | ((iv & 0xf0) >> 4),\n                (iv & 0xf) | ((iv & 0xf) << 4),\n                1\n            );\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n        }\n        else if (str.length === 7) {\n            var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\n            if (!(iv >= 0 && iv <= 0xffffff)) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;  // Covers NaN.\n            }\n            setRgba(rgbaArr,\n                (iv & 0xff0000) >> 16,\n                (iv & 0xff00) >> 8,\n                iv & 0xff,\n                1\n            );\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n        }\n\n        return;\n    }\n    var op = str.indexOf('('), ep = str.indexOf(')');\n    if (op !== -1 && ep + 1 === str.length) {\n        var fname = str.substr(0, op);\n        var params = str.substr(op + 1, ep - (op + 1)).split(',');\n        var alpha = 1;  // To allow case fallthrough.\n        switch (fname) {\n            case 'rgba':\n                if (params.length !== 4) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                alpha = parseCssFloat(params.pop()); // jshint ignore:line\n            // Fall through.\n            case 'rgb':\n                if (params.length !== 3) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                setRgba(rgbaArr,\n                    parseCssInt(params[0]),\n                    parseCssInt(params[1]),\n                    parseCssInt(params[2]),\n                    alpha\n                );\n                putToCache(colorStr, rgbaArr);\n                return rgbaArr;\n            case 'hsla':\n                if (params.length !== 4) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                params[3] = parseCssFloat(params[3]);\n                hsla2rgba(params, rgbaArr);\n                putToCache(colorStr, rgbaArr);\n                return rgbaArr;\n            case 'hsl':\n                if (params.length !== 3) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                hsla2rgba(params, rgbaArr);\n                putToCache(colorStr, rgbaArr);\n                return rgbaArr;\n            default:\n                return;\n        }\n    }\n\n    setRgba(rgbaArr, 0, 0, 0, 1);\n    return;\n}\n\n/**\n * @param {Array.<number>} hsla\n * @param {Array.<number>} rgba\n * @return {Array.<number>} rgba\n */\nfunction hsla2rgba(hsla, rgba) {\n    var h = (((parseFloat(hsla[0]) % 360) + 360) % 360) / 360;  // 0 .. 1\n    // NOTE(deanm): According to the CSS spec s/l should only be\n    // percentages, but we don't bother and let float or percentage.\n    var s = parseCssFloat(hsla[1]);\n    var l = parseCssFloat(hsla[2]);\n    var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n    var m1 = l * 2 - m2;\n\n    rgba = rgba || [];\n    setRgba(rgba,\n        clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255),\n        clampCssByte(cssHueToRgb(m1, m2, h) * 255),\n        clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255),\n        1\n    );\n\n    if (hsla.length === 4) {\n        rgba[3] = hsla[3];\n    }\n\n    return rgba;\n}\n\n/**\n * @param {Array.<number>} rgba\n * @return {Array.<number>} hsla\n */\nfunction rgba2hsla(rgba) {\n    if (!rgba) {\n        return;\n    }\n\n    // RGB from 0 to 255\n    var R = rgba[0] / 255;\n    var G = rgba[1] / 255;\n    var B = rgba[2] / 255;\n\n    var vMin = Math.min(R, G, B); // Min. value of RGB\n    var vMax = Math.max(R, G, B); // Max. value of RGB\n    var delta = vMax - vMin; // Delta RGB value\n\n    var L = (vMax + vMin) / 2;\n    var H;\n    var S;\n    // HSL results from 0 to 1\n    if (delta === 0) {\n        H = 0;\n        S = 0;\n    }\n    else {\n        if (L < 0.5) {\n            S = delta / (vMax + vMin);\n        }\n        else {\n            S = delta / (2 - vMax - vMin);\n        }\n\n        var deltaR = (((vMax - R) / 6) + (delta / 2)) / delta;\n        var deltaG = (((vMax - G) / 6) + (delta / 2)) / delta;\n        var deltaB = (((vMax - B) / 6) + (delta / 2)) / delta;\n\n        if (R === vMax) {\n            H = deltaB - deltaG;\n        }\n        else if (G === vMax) {\n            H = (1 / 3) + deltaR - deltaB;\n        }\n        else if (B === vMax) {\n            H = (2 / 3) + deltaG - deltaR;\n        }\n\n        if (H < 0) {\n            H += 1;\n        }\n\n        if (H > 1) {\n            H -= 1;\n        }\n    }\n\n    var hsla = [H * 360, S, L];\n\n    if (rgba[3] != null) {\n        hsla.push(rgba[3]);\n    }\n\n    return hsla;\n}\n\n/**\n * @param {string} color\n * @param {number} level\n * @return {string}\n * @memberOf module:zrender/util/color\n */\nfunction lift(color, level) {\n    var colorArr = parse(color);\n    if (colorArr) {\n        for (var i = 0; i < 3; i++) {\n            if (level < 0) {\n                colorArr[i] = colorArr[i] * (1 - level) | 0;\n            }\n            else {\n                colorArr[i] = ((255 - colorArr[i]) * level + colorArr[i]) | 0;\n            }\n        }\n        return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n    }\n}\n\n/**\n * @param {string} color\n * @return {string}\n * @memberOf module:zrender/util/color\n */\nfunction toHex(color) {\n    var colorArr = parse(color);\n    if (colorArr) {\n        return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + (+colorArr[2])).toString(16).slice(1);\n    }\n}\n\n/**\n * Map value to color. Faster than lerp methods because color is represented by rgba array.\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<Array.<number>>} colors List of rgba color array\n * @param {Array.<number>} [out] Mapped gba color array\n * @return {Array.<number>} will be null/undefined if input illegal.\n */\nfunction fastLerp(normalizedValue, colors, out) {\n    if (!(colors && colors.length)\n        || !(normalizedValue >= 0 && normalizedValue <= 1)\n    ) {\n        return;\n    }\n\n    out = out || [];\n\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = colors[leftIndex];\n    var rightColor = colors[rightIndex];\n    var dv = value - leftIndex;\n    out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n    out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n    out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n    out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n\n    return out;\n}\n\n/**\n * @deprecated\n */\nvar fastMapToColor = fastLerp;\n\n/**\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<string>} colors Color list.\n * @param {boolean=} fullOutput Default false.\n * @return {(string|Object)} Result color. If fullOutput,\n *                           return {color: ..., leftIndex: ..., rightIndex: ..., value: ...},\n * @memberOf module:zrender/util/color\n */\nfunction lerp$1(normalizedValue, colors, fullOutput) {\n    if (!(colors && colors.length)\n        || !(normalizedValue >= 0 && normalizedValue <= 1)\n    ) {\n        return;\n    }\n\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = parse(colors[leftIndex]);\n    var rightColor = parse(colors[rightIndex]);\n    var dv = value - leftIndex;\n\n    var color = stringify(\n        [\n            clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)),\n            clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)),\n            clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)),\n            clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))\n        ],\n        'rgba'\n    );\n\n    return fullOutput\n        ? {\n            color: color,\n            leftIndex: leftIndex,\n            rightIndex: rightIndex,\n            value: value\n        }\n        : color;\n}\n\n/**\n * @deprecated\n */\nvar mapToColor = lerp$1;\n\n/**\n * @param {string} color\n * @param {number=} h 0 ~ 360, ignore when null.\n * @param {number=} s 0 ~ 1, ignore when null.\n * @param {number=} l 0 ~ 1, ignore when null.\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\nfunction modifyHSL(color, h, s, l) {\n    color = parse(color);\n\n    if (color) {\n        color = rgba2hsla(color);\n        h != null && (color[0] = clampCssAngle(h));\n        s != null && (color[1] = parseCssFloat(s));\n        l != null && (color[2] = parseCssFloat(l));\n\n        return stringify(hsla2rgba(color), 'rgba');\n    }\n}\n\n/**\n * @param {string} color\n * @param {number=} alpha 0 ~ 1\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\nfunction modifyAlpha(color, alpha) {\n    color = parse(color);\n\n    if (color && alpha != null) {\n        color[3] = clampCssFloat(alpha);\n        return stringify(color, 'rgba');\n    }\n}\n\n/**\n * @param {Array.<number>} arrColor like [12,33,44,0.4]\n * @param {string} type 'rgba', 'hsva', ...\n * @return {string} Result color. (If input illegal, return undefined).\n */\nfunction stringify(arrColor, type) {\n    if (!arrColor || !arrColor.length) {\n        return;\n    }\n    var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n    if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n        colorStr += ',' + arrColor[3];\n    }\n    return type + '(' + colorStr + ')';\n}\n\n\nvar color = (Object.freeze || Object)({\n\tparse: parse,\n\tlift: lift,\n\ttoHex: toHex,\n\tfastLerp: fastLerp,\n\tfastMapToColor: fastMapToColor,\n\tlerp: lerp$1,\n\tmapToColor: mapToColor,\n\tmodifyHSL: modifyHSL,\n\tmodifyAlpha: modifyAlpha,\n\tstringify: stringify\n});\n\n/**\n * @module echarts/animation/Animator\n */\n\nvar arraySlice = Array.prototype.slice;\n\nfunction defaultGetter(target, key) {\n    return target[key];\n}\n\nfunction defaultSetter(target, key, value) {\n    target[key] = value;\n}\n\n/**\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} percent\n * @return {number}\n */\nfunction interpolateNumber(p0, p1, percent) {\n    return (p1 - p0) * percent + p0;\n}\n\n/**\n * @param  {string} p0\n * @param  {string} p1\n * @param  {number} percent\n * @return {string}\n */\nfunction interpolateString(p0, p1, percent) {\n    return percent > 0.5 ? p1 : p0;\n}\n\n/**\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {number} percent\n * @param  {Array} out\n * @param  {number} arrDim\n */\nfunction interpolateArray(p0, p1, percent, out, arrDim) {\n    var len = p0.length;\n    if (arrDim == 1) {\n        for (var i = 0; i < len; i++) {\n            out[i] = interpolateNumber(p0[i], p1[i], percent);\n        }\n    }\n    else {\n        var len2 = len && p0[0].length;\n        for (var i = 0; i < len; i++) {\n            for (var j = 0; j < len2; j++) {\n                out[i][j] = interpolateNumber(\n                    p0[i][j], p1[i][j], percent\n                );\n            }\n        }\n    }\n}\n\n// arr0 is source array, arr1 is target array.\n// Do some preprocess to avoid error happened when interpolating from arr0 to arr1\nfunction fillArr(arr0, arr1, arrDim) {\n    var arr0Len = arr0.length;\n    var arr1Len = arr1.length;\n    if (arr0Len !== arr1Len) {\n        // FIXME Not work for TypedArray\n        var isPreviousLarger = arr0Len > arr1Len;\n        if (isPreviousLarger) {\n            // Cut the previous\n            arr0.length = arr1Len;\n        }\n        else {\n            // Fill the previous\n            for (var i = arr0Len; i < arr1Len; i++) {\n                arr0.push(\n                    arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i])\n                );\n            }\n        }\n    }\n    // Handling NaN value\n    var len2 = arr0[0] && arr0[0].length;\n    for (var i = 0; i < arr0.length; i++) {\n        if (arrDim === 1) {\n            if (isNaN(arr0[i])) {\n                arr0[i] = arr1[i];\n            }\n        }\n        else {\n            for (var j = 0; j < len2; j++) {\n                if (isNaN(arr0[i][j])) {\n                    arr0[i][j] = arr1[i][j];\n                }\n            }\n        }\n    }\n}\n\n/**\n * @param  {Array} arr0\n * @param  {Array} arr1\n * @param  {number} arrDim\n * @return {boolean}\n */\nfunction isArraySame(arr0, arr1, arrDim) {\n    if (arr0 === arr1) {\n        return true;\n    }\n    var len = arr0.length;\n    if (len !== arr1.length) {\n        return false;\n    }\n    if (arrDim === 1) {\n        for (var i = 0; i < len; i++) {\n            if (arr0[i] !== arr1[i]) {\n                return false;\n            }\n        }\n    }\n    else {\n        var len2 = arr0[0].length;\n        for (var i = 0; i < len; i++) {\n            for (var j = 0; j < len2; j++) {\n                if (arr0[i][j] !== arr1[i][j]) {\n                    return false;\n                }\n            }\n        }\n    }\n    return true;\n}\n\n/**\n * Catmull Rom interpolate array\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {Array} p2\n * @param  {Array} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @param  {Array} out\n * @param  {number} arrDim\n */\nfunction catmullRomInterpolateArray(\n    p0, p1, p2, p3, t, t2, t3, out, arrDim\n) {\n    var len = p0.length;\n    if (arrDim == 1) {\n        for (var i = 0; i < len; i++) {\n            out[i] = catmullRomInterpolate(\n                p0[i], p1[i], p2[i], p3[i], t, t2, t3\n            );\n        }\n    }\n    else {\n        var len2 = p0[0].length;\n        for (var i = 0; i < len; i++) {\n            for (var j = 0; j < len2; j++) {\n                out[i][j] = catmullRomInterpolate(\n                    p0[i][j], p1[i][j], p2[i][j], p3[i][j],\n                    t, t2, t3\n                );\n            }\n        }\n    }\n}\n\n/**\n * Catmull Rom interpolate number\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @return {number}\n */\nfunction catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {\n    var v0 = (p2 - p0) * 0.5;\n    var v1 = (p3 - p1) * 0.5;\n    return (2 * (p1 - p2) + v0 + v1) * t3\n            + (-3 * (p1 - p2) - 2 * v0 - v1) * t2\n            + v0 * t + p1;\n}\n\nfunction cloneValue(value) {\n    if (isArrayLike(value)) {\n        var len = value.length;\n        if (isArrayLike(value[0])) {\n            var ret = [];\n            for (var i = 0; i < len; i++) {\n                ret.push(arraySlice.call(value[i]));\n            }\n            return ret;\n        }\n\n        return arraySlice.call(value);\n    }\n\n    return value;\n}\n\nfunction rgba2String(rgba) {\n    rgba[0] = Math.floor(rgba[0]);\n    rgba[1] = Math.floor(rgba[1]);\n    rgba[2] = Math.floor(rgba[2]);\n\n    return 'rgba(' + rgba.join(',') + ')';\n}\n\nfunction getArrayDim(keyframes) {\n    var lastValue = keyframes[keyframes.length - 1].value;\n    return isArrayLike(lastValue && lastValue[0]) ? 2 : 1;\n}\n\nfunction createTrackClip(animator, easing, oneTrackDone, keyframes, propName, forceAnimate) {\n    var getter = animator._getter;\n    var setter = animator._setter;\n    var useSpline = easing === 'spline';\n\n    var trackLen = keyframes.length;\n    if (!trackLen) {\n        return;\n    }\n    // Guess data type\n    var firstVal = keyframes[0].value;\n    var isValueArray = isArrayLike(firstVal);\n    var isValueColor = false;\n    var isValueString = false;\n\n    // For vertices morphing\n    var arrDim = isValueArray ? getArrayDim(keyframes) : 0;\n\n    var trackMaxTime;\n    // Sort keyframe as ascending\n    keyframes.sort(function(a, b) {\n        return a.time - b.time;\n    });\n\n    trackMaxTime = keyframes[trackLen - 1].time;\n    // Percents of each keyframe\n    var kfPercents = [];\n    // Value of each keyframe\n    var kfValues = [];\n    var prevValue = keyframes[0].value;\n    var isAllValueEqual = true;\n    for (var i = 0; i < trackLen; i++) {\n        kfPercents.push(keyframes[i].time / trackMaxTime);\n        // Assume value is a color when it is a string\n        var value = keyframes[i].value;\n\n        // Check if value is equal, deep check if value is array\n        if (!((isValueArray && isArraySame(value, prevValue, arrDim))\n            || (!isValueArray && value === prevValue))) {\n            isAllValueEqual = false;\n        }\n        prevValue = value;\n\n        // Try converting a string to a color array\n        if (typeof value == 'string') {\n            var colorArray = parse(value);\n            if (colorArray) {\n                value = colorArray;\n                isValueColor = true;\n            }\n            else {\n                isValueString = true;\n            }\n        }\n        kfValues.push(value);\n    }\n    if (!forceAnimate && isAllValueEqual) {\n        return;\n    }\n\n    var lastValue = kfValues[trackLen - 1];\n    // Polyfill array and NaN value\n    for (var i = 0; i < trackLen - 1; i++) {\n        if (isValueArray) {\n            fillArr(kfValues[i], lastValue, arrDim);\n        }\n        else {\n            if (isNaN(kfValues[i]) && !isNaN(lastValue) && !isValueString && !isValueColor) {\n                kfValues[i] = lastValue;\n            }\n        }\n    }\n    isValueArray && fillArr(getter(animator._target, propName), lastValue, arrDim);\n\n    // Cache the key of last frame to speed up when\n    // animation playback is sequency\n    var lastFrame = 0;\n    var lastFramePercent = 0;\n    var start;\n    var w;\n    var p0;\n    var p1;\n    var p2;\n    var p3;\n\n    if (isValueColor) {\n        var rgba = [0, 0, 0, 0];\n    }\n\n    var onframe = function (target, percent) {\n        // Find the range keyframes\n        // kf1-----kf2---------current--------kf3\n        // find kf2 and kf3 and do interpolation\n        var frame;\n        // In the easing function like elasticOut, percent may less than 0\n        if (percent < 0) {\n            frame = 0;\n        }\n        else if (percent < lastFramePercent) {\n            // Start from next key\n            // PENDING start from lastFrame ?\n            start = Math.min(lastFrame + 1, trackLen - 1);\n            for (frame = start; frame >= 0; frame--) {\n                if (kfPercents[frame] <= percent) {\n                    break;\n                }\n            }\n            // PENDING really need to do this ?\n            frame = Math.min(frame, trackLen - 2);\n        }\n        else {\n            for (frame = lastFrame; frame < trackLen; frame++) {\n                if (kfPercents[frame] > percent) {\n                    break;\n                }\n            }\n            frame = Math.min(frame - 1, trackLen - 2);\n        }\n        lastFrame = frame;\n        lastFramePercent = percent;\n\n        var range = (kfPercents[frame + 1] - kfPercents[frame]);\n        if (range === 0) {\n            return;\n        }\n        else {\n            w = (percent - kfPercents[frame]) / range;\n        }\n        if (useSpline) {\n            p1 = kfValues[frame];\n            p0 = kfValues[frame === 0 ? frame : frame - 1];\n            p2 = kfValues[frame > trackLen - 2 ? trackLen - 1 : frame + 1];\n            p3 = kfValues[frame > trackLen - 3 ? trackLen - 1 : frame + 2];\n            if (isValueArray) {\n                catmullRomInterpolateArray(\n                    p0, p1, p2, p3, w, w * w, w * w * w,\n                    getter(target, propName),\n                    arrDim\n                );\n            }\n            else {\n                var value;\n                if (isValueColor) {\n                    value = catmullRomInterpolateArray(\n                        p0, p1, p2, p3, w, w * w, w * w * w,\n                        rgba, 1\n                    );\n                    value = rgba2String(rgba);\n                }\n                else if (isValueString) {\n                    // String is step(0.5)\n                    return interpolateString(p1, p2, w);\n                }\n                else {\n                    value = catmullRomInterpolate(\n                        p0, p1, p2, p3, w, w * w, w * w * w\n                    );\n                }\n                setter(\n                    target,\n                    propName,\n                    value\n                );\n            }\n        }\n        else {\n            if (isValueArray) {\n                interpolateArray(\n                    kfValues[frame], kfValues[frame + 1], w,\n                    getter(target, propName),\n                    arrDim\n                );\n            }\n            else {\n                var value;\n                if (isValueColor) {\n                    interpolateArray(\n                        kfValues[frame], kfValues[frame + 1], w,\n                        rgba, 1\n                    );\n                    value = rgba2String(rgba);\n                }\n                else if (isValueString) {\n                    // String is step(0.5)\n                    return interpolateString(kfValues[frame], kfValues[frame + 1], w);\n                }\n                else {\n                    value = interpolateNumber(kfValues[frame], kfValues[frame + 1], w);\n                }\n                setter(\n                    target,\n                    propName,\n                    value\n                );\n            }\n        }\n    };\n\n    var clip = new Clip({\n        target: animator._target,\n        life: trackMaxTime,\n        loop: animator._loop,\n        delay: animator._delay,\n        onframe: onframe,\n        ondestroy: oneTrackDone\n    });\n\n    if (easing && easing !== 'spline') {\n        clip.easing = easing;\n    }\n\n    return clip;\n}\n\n/**\n * @alias module:zrender/animation/Animator\n * @constructor\n * @param {Object} target\n * @param {boolean} loop\n * @param {Function} getter\n * @param {Function} setter\n */\nvar Animator = function(target, loop, getter, setter) {\n    this._tracks = {};\n    this._target = target;\n\n    this._loop = loop || false;\n\n    this._getter = getter || defaultGetter;\n    this._setter = setter || defaultSetter;\n\n    this._clipCount = 0;\n\n    this._delay = 0;\n\n    this._doneList = [];\n\n    this._onframeList = [];\n\n    this._clipList = [];\n};\n\nAnimator.prototype = {\n    /**\n     * \n     * @param  {number} time ms\n     * @param  {Object} props key-value\n     * @return {module:zrender/animation/Animator}\n     */\n    when: function(time /* ms */, props) {\n        var tracks = this._tracks;\n        for (var propName in props) {\n            if (!props.hasOwnProperty(propName)) {\n                continue;\n            }\n\n            if (!tracks[propName]) {\n                tracks[propName] = [];\n                // Invalid value\n                var value = this._getter(this._target, propName);\n                if (value == null) {\n                    // zrLog('Invalid property ' + propName);\n                    continue;\n                }\n                // If time is 0\n                //  Then props is given initialize value\n                // Else\n                //  Initialize value from current prop value\n                if (time !== 0) {\n                    tracks[propName].push({\n                        time: 0,\n                        value: cloneValue(value)\n                    });\n                }\n            }\n            tracks[propName].push({\n                time: time,\n                value: props[propName]\n            });\n        }\n        return this;\n    },\n    /**\n     * \n     * @param  {Function} callback\n     * @return {module:zrender/animation/Animator}\n     */\n    during: function (callback) {\n        this._onframeList.push(callback);\n        return this;\n    },\n\n    pause: function () {\n        for (var i = 0; i < this._clipList.length; i++) {\n            this._clipList[i].pause();\n        }\n        this._paused = true;\n    },\n\n    resume: function () {\n        for (var i = 0; i < this._clipList.length; i++) {\n            this._clipList[i].resume();\n        }\n        this._paused = false;\n    },\n\n    isPaused: function () {\n        return !!this._paused;\n    },\n\n    _doneCallback: function () {\n        // Clear all tracks\n        this._tracks = {};\n        // Clear all clips\n        this._clipList.length = 0;\n\n        var doneList = this._doneList;\n        var len = doneList.length;\n        for (var i = 0; i < len; i++) {\n            doneList[i].call(this);\n        }\n    },\n    /**\n     * \n     * @param  {string|Function} [easing]\n     *         {@link module:zrender/animation/easing}\n     * @param  {boolean} forceAnimate\n     * @return {module:zrender/animation/Animator}\n     */\n    start: function (easing, forceAnimate) {\n\n        var self = this;\n        var clipCount = 0;\n\n        var oneTrackDone = function() {\n            clipCount--;\n            if (!clipCount) {\n                self._doneCallback();\n            }\n        };\n\n        var lastClip;\n        for (var propName in this._tracks) {\n            if (!this._tracks.hasOwnProperty(propName)) {\n                continue;\n            }\n            var clip = createTrackClip(\n                this, easing, oneTrackDone,\n                this._tracks[propName], propName, forceAnimate\n            );\n            if (clip) {\n                this._clipList.push(clip);\n                clipCount++;\n\n                // If start after added to animation\n                if (this.animation) {\n                    this.animation.addClip(clip);\n                }\n\n                lastClip = clip;\n            }\n        }\n\n        // Add during callback on the last clip\n        if (lastClip) {\n            var oldOnFrame = lastClip.onframe;\n            lastClip.onframe = function (target, percent) {\n                oldOnFrame(target, percent);\n\n                for (var i = 0; i < self._onframeList.length; i++) {\n                    self._onframeList[i](target, percent);\n                }\n            };\n        }\n\n        // This optimization will help the case that in the upper application\n        // the view may be refreshed frequently, where animation will be\n        // called repeatly but nothing changed.\n        if (!clipCount) {\n            this._doneCallback();\n        }\n        return this;\n    },\n    /**\n     * \n     * @param {boolean} forwardToLast If move to last frame before stop\n     */\n    stop: function (forwardToLast) {\n        var clipList = this._clipList;\n        var animation = this.animation;\n        for (var i = 0; i < clipList.length; i++) {\n            var clip = clipList[i];\n            if (forwardToLast) {\n                // Move to last frame before stop\n                clip.onframe(this._target, 1);\n            }\n            animation && animation.removeClip(clip);\n        }\n        clipList.length = 0;\n    },\n    /**\n     * \n     * @param  {number} time ms\n     * @return {module:zrender/animation/Animator}\n     */\n    delay: function (time) {\n        this._delay = time;\n        return this;\n    },\n    /**\n     * \n     * @param  {Function} cb\n     * @return {module:zrender/animation/Animator}\n     */\n    done: function(cb) {\n        if (cb) {\n            this._doneList.push(cb);\n        }\n        return this;\n    },\n\n    /**\n     * @return {Array.<module:zrender/animation/Clip>}\n     */\n    getClips: function () {\n        return this._clipList;\n    }\n};\n\nvar dpr = 1;\n\n// If in browser environment\nif (typeof window !== 'undefined') {\n    dpr = Math.max(window.devicePixelRatio || 1, 1);\n}\n\n/**\n * config\n * @exports zrender/config\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n */\n\n/**\n * debugcatchBrushExceptiontrue\n * 0 : debug\n * 1 : \n * 2 : \n */\nvar debugMode = 0;\n\n// retina \nvar devicePixelRatio = dpr;\n\nvar log = function () {\n};\n\nif (debugMode === 1) {\n    log = function () {\n        for (var k in arguments) {\n            throw new Error(arguments[k]);\n        }\n    };\n}\nelse if (debugMode > 1) {\n    log = function () {\n        for (var k in arguments) {\n            console.log(arguments[k]);\n        }\n    };\n}\n\nvar zrLog = log;\n\n/**\n * @alias modue:zrender/mixin/Animatable\n * @constructor\n */\nvar Animatable = function () {\n\n    /**\n     * @type {Array.<module:zrender/animation/Animator>}\n     * @readOnly\n     */\n    this.animators = [];\n};\n\nAnimatable.prototype = {\n\n    constructor: Animatable,\n\n    /**\n     * \n     *\n     * @param {string} path The path to fetch value from object, like 'a.b.c'.\n     * @param {boolean} [loop] Whether to loop animation.\n     * @return {module:zrender/animation/Animator}\n     * @example:\n     *     el.animate('style', false)\n     *         .when(1000, {x: 10} )\n     *         .done(function(){ // Animation done })\n     *         .start()\n     */\n    animate: function (path, loop) {\n        var target;\n        var animatingShape = false;\n        var el = this;\n        var zr = this.__zr;\n        if (path) {\n            var pathSplitted = path.split('.');\n            var prop = el;\n            // If animating shape\n            animatingShape = pathSplitted[0] === 'shape';\n            for (var i = 0, l = pathSplitted.length; i < l; i++) {\n                if (!prop) {\n                    continue;\n                }\n                prop = prop[pathSplitted[i]];\n            }\n            if (prop) {\n                target = prop;\n            }\n        }\n        else {\n            target = el;\n        }\n\n        if (!target) {\n            zrLog(\n                'Property \"'\n                + path\n                + '\" is not existed in element '\n                + el.id\n            );\n            return;\n        }\n\n        var animators = el.animators;\n\n        var animator = new Animator(target, loop);\n\n        animator.during(function (target) {\n            el.dirty(animatingShape);\n        })\n        .done(function () {\n            // FIXME Animator will not be removed if use `Animator#stop` to stop animation\n            animators.splice(indexOf(animators, animator), 1);\n        });\n\n        animators.push(animator);\n\n        // If animate after added to the zrender\n        if (zr) {\n            zr.animation.addAnimator(animator);\n        }\n\n        return animator;\n    },\n\n    /**\n     * \n     * @param {boolean} forwardToLast If move to last frame before stop\n     */\n    stopAnimation: function (forwardToLast) {\n        var animators = this.animators;\n        var len = animators.length;\n        for (var i = 0; i < len; i++) {\n            animators[i].stop(forwardToLast);\n        }\n        animators.length = 0;\n\n        return this;\n    },\n\n    /**\n     * Caution: this method will stop previous animation.\n     * So do not use this method to one element twice before\n     * animation starts, unless you know what you are doing.\n     * @param {Object} target\n     * @param {number} [time=500] Time in ms\n     * @param {string} [easing='linear']\n     * @param {number} [delay=0]\n     * @param {Function} [callback]\n     * @param {Function} [forceAnimate] Prevent stop animation and callback\n     *        immediently when target values are the same as current values.\n     *\n     * @example\n     *  // Animate position\n     *  el.animateTo({\n     *      position: [10, 10]\n     *  }, function () { // done })\n     *\n     *  // Animate shape, style and position in 100ms, delayed 100ms, with cubicOut easing\n     *  el.animateTo({\n     *      shape: {\n     *          width: 500\n     *      },\n     *      style: {\n     *          fill: 'red'\n     *      }\n     *      position: [10, 10]\n     *  }, 100, 100, 'cubicOut', function () { // done })\n     */\n        // TODO Return animation key\n    animateTo: function (target, time, delay, easing, callback, forceAnimate) {\n        // animateTo(target, time, easing, callback);\n        if (isString(delay)) {\n            callback = easing;\n            easing = delay;\n            delay = 0;\n        }\n        // animateTo(target, time, delay, callback);\n        else if (isFunction(easing)) {\n            callback = easing;\n            easing = 'linear';\n            delay = 0;\n        }\n        // animateTo(target, time, callback);\n        else if (isFunction(delay)) {\n            callback = delay;\n            delay = 0;\n        }\n        // animateTo(target, callback)\n        else if (isFunction(time)) {\n            callback = time;\n            time = 500;\n        }\n        // animateTo(target)\n        else if (!time) {\n            time = 500;\n        }\n        // Stop all previous animations\n        this.stopAnimation();\n        this._animateToShallow('', this, target, time, delay);\n\n        // Animators may be removed immediately after start\n        // if there is nothing to animate\n        var animators = this.animators.slice();\n        var count = animators.length;\n        function done() {\n            count--;\n            if (!count) {\n                callback && callback();\n            }\n        }\n\n        // No animators. This should be checked before animators[i].start(),\n        // because 'done' may be executed immediately if no need to animate.\n        if (!count) {\n            callback && callback();\n        }\n        // Start after all animators created\n        // Incase any animator is done immediately when all animation properties are not changed\n        for (var i = 0; i < animators.length; i++) {\n            animators[i]\n                .done(done)\n                .start(easing, forceAnimate);\n        }\n    },\n\n    /**\n     * @private\n     * @param {string} path=''\n     * @param {Object} source=this\n     * @param {Object} target\n     * @param {number} [time=500]\n     * @param {number} [delay=0]\n     *\n     * @example\n     *  // Animate position\n     *  el._animateToShallow({\n     *      position: [10, 10]\n     *  })\n     *\n     *  // Animate shape, style and position in 100ms, delayed 100ms\n     *  el._animateToShallow({\n     *      shape: {\n     *          width: 500\n     *      },\n     *      style: {\n     *          fill: 'red'\n     *      }\n     *      position: [10, 10]\n     *  }, 100, 100)\n     */\n    _animateToShallow: function (path, source, target, time, delay) {\n        var objShallow = {};\n        var propertyCount = 0;\n        for (var name in target) {\n            if (!target.hasOwnProperty(name)) {\n                continue;\n            }\n\n            if (source[name] != null) {\n                if (isObject(target[name]) && !isArrayLike(target[name])) {\n                    this._animateToShallow(\n                        path ? path + '.' + name : name,\n                        source[name],\n                        target[name],\n                        time,\n                        delay\n                    );\n                }\n                else {\n                    objShallow[name] = target[name];\n                    propertyCount++;\n                }\n            }\n            else if (target[name] != null) {\n                // Attr directly if not has property\n                // FIXME, if some property not needed for element ?\n                if (!path) {\n                    this.attr(name, target[name]);\n                }\n                else {  // Shape or style\n                    var props = {};\n                    props[path] = {};\n                    props[path][name] = target[name];\n                    this.attr(props);\n                }\n            }\n        }\n\n        if (propertyCount > 0) {\n            this.animate(path, false)\n                .when(time == null ? 500 : time, objShallow)\n                .delay(delay || 0);\n        }\n\n        return this;\n    }\n};\n\n/**\n * @alias module:zrender/Element\n * @constructor\n * @extends {module:zrender/mixin/Animatable}\n * @extends {module:zrender/mixin/Transformable}\n * @extends {module:zrender/mixin/Eventful}\n */\nvar Element = function (opts) { // jshint ignore:line\n\n    Transformable.call(this, opts);\n    Eventful.call(this, opts);\n    Animatable.call(this, opts);\n\n    /**\n     * ID\n     * @type {string}\n     */\n    this.id = opts.id || guid();\n};\n\nElement.prototype = {\n\n    /**\n     * \n     * Element type\n     * @type {string}\n     */\n    type: 'element',\n\n    /**\n     * \n     * Element name\n     * @type {string}\n     */\n    name: '',\n\n    /**\n     * ZRender  element  zrender \n     * ZRender instance will be assigned when element is associated with zrender\n     * @name module:/zrender/Element#__zr\n     * @type {module:zrender/ZRender}\n     */\n    __zr: null,\n\n    /**\n     * true\n     * If ignore drawing and events of the element object\n     * @name module:/zrender/Element#ignore\n     * @type {boolean}\n     * @default false\n     */\n    ignore: false,\n\n    /**\n     * (shape) Group \n     * \n     * @type {module:zrender/graphic/Path}\n     * @see http://www.w3.org/TR/2dcontext/#clipping-region\n     * @readOnly\n     */\n    clipPath: null,\n\n    /**\n     * Drift element\n     * @param  {number} dx dx on the global space\n     * @param  {number} dy dy on the global space\n     */\n    drift: function (dx, dy) {\n        switch (this.draggable) {\n            case 'horizontal':\n                dy = 0;\n                break;\n            case 'vertical':\n                dx = 0;\n                break;\n        }\n\n        var m = this.transform;\n        if (!m) {\n            m = this.transform = [1, 0, 0, 1, 0, 0];\n        }\n        m[4] += dx;\n        m[5] += dy;\n\n        this.decomposeTransform();\n        this.dirty(false);\n    },\n\n    /**\n     * Hook before update\n     */\n    beforeUpdate: function () {},\n    /**\n     * Hook after update\n     */\n    afterUpdate: function () {},\n    /**\n     * Update each frame\n     */\n    update: function () {\n        this.updateTransform();\n    },\n\n    /**\n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {},\n\n    /**\n     * @protected\n     */\n    attrKV: function (key, value) {\n        if (key === 'position' || key === 'scale' || key === 'origin') {\n            // Copy the array\n            if (value) {\n                var target = this[key];\n                if (!target) {\n                    target = this[key] = [];\n                }\n                target[0] = value[0];\n                target[1] = value[1];\n            }\n        }\n        else {\n            this[key] = value;\n        }\n    },\n\n    /**\n     * Hide the element\n     */\n    hide: function () {\n        this.ignore = true;\n        this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * Show the element\n     */\n    show: function () {\n        this.ignore = false;\n        this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * @param {string|Object} key\n     * @param {*} value\n     */\n    attr: function (key, value) {\n        if (typeof key === 'string') {\n            this.attrKV(key, value);\n        }\n        else if (isObject(key)) {\n            for (var name in key) {\n                if (key.hasOwnProperty(name)) {\n                    this.attrKV(name, key[name]);\n                }\n            }\n        }\n\n        this.dirty(false);\n\n        return this;\n    },\n\n    /**\n     * @param {module:zrender/graphic/Path} clipPath\n     */\n    setClipPath: function (clipPath) {\n        var zr = this.__zr;\n        if (zr) {\n            clipPath.addSelfToZr(zr);\n        }\n\n        // Remove previous clip path\n        if (this.clipPath && this.clipPath !== clipPath) {\n            this.removeClipPath();\n        }\n\n        this.clipPath = clipPath;\n        clipPath.__zr = zr;\n        clipPath.__clipTarget = this;\n\n        this.dirty(false);\n    },\n\n    /**\n     */\n    removeClipPath: function () {\n        var clipPath = this.clipPath;\n        if (clipPath) {\n            if (clipPath.__zr) {\n                clipPath.removeSelfFromZr(clipPath.__zr);\n            }\n\n            clipPath.__zr = null;\n            clipPath.__clipTarget = null;\n            this.clipPath = null;\n\n            this.dirty(false);\n        }\n    },\n\n    /**\n     * Add self from zrender instance.\n     * Not recursively because it will be invoked when element added to storage.\n     * @param {module:zrender/ZRender} zr\n     */\n    addSelfToZr: function (zr) {\n        this.__zr = zr;\n        // \n        var animators = this.animators;\n        if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n                zr.animation.addAnimator(animators[i]);\n            }\n        }\n\n        if (this.clipPath) {\n            this.clipPath.addSelfToZr(zr);\n        }\n    },\n\n    /**\n     * Remove self from zrender instance.\n     * Not recursively because it will be invoked when element added to storage.\n     * @param {module:zrender/ZRender} zr\n     */\n    removeSelfFromZr: function (zr) {\n        this.__zr = null;\n        // \n        var animators = this.animators;\n        if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n                zr.animation.removeAnimator(animators[i]);\n            }\n        }\n\n        if (this.clipPath) {\n            this.clipPath.removeSelfFromZr(zr);\n        }\n    }\n};\n\nmixin(Element, Animatable);\nmixin(Element, Transformable);\nmixin(Element, Eventful);\n\n/**\n * @module echarts/core/BoundingRect\n */\n\nvar v2ApplyTransform = applyTransform;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n\n/**\n * @alias module:echarts/core/BoundingRect\n */\nfunction BoundingRect(x, y, width, height) {\n\n    if (width < 0) {\n        x = x + width;\n        width = -width;\n    }\n    if (height < 0) {\n        y = y + height;\n        height = -height;\n    }\n\n    /**\n     * @type {number}\n     */\n    this.x = x;\n    /**\n     * @type {number}\n     */\n    this.y = y;\n    /**\n     * @type {number}\n     */\n    this.width = width;\n    /**\n     * @type {number}\n     */\n    this.height = height;\n}\n\nBoundingRect.prototype = {\n\n    constructor: BoundingRect,\n\n    /**\n     * @param {module:echarts/core/BoundingRect} other\n     */\n    union: function (other) {\n        var x = mathMin(other.x, this.x);\n        var y = mathMin(other.y, this.y);\n\n        this.width = mathMax(\n                other.x + other.width,\n                this.x + this.width\n            ) - x;\n        this.height = mathMax(\n                other.y + other.height,\n                this.y + this.height\n            ) - y;\n        this.x = x;\n        this.y = y;\n    },\n\n    /**\n     * @param {Array.<number>} m\n     * @methods\n     */\n    applyTransform: (function () {\n        var lt = [];\n        var rb = [];\n        var lb = [];\n        var rt = [];\n        return function (m) {\n            // In case usage like this\n            // el.getBoundingRect().applyTransform(el.transform)\n            // And element has no transform\n            if (!m) {\n                return;\n            }\n            lt[0] = lb[0] = this.x;\n            lt[1] = rt[1] = this.y;\n            rb[0] = rt[0] = this.x + this.width;\n            rb[1] = lb[1] = this.y + this.height;\n\n            v2ApplyTransform(lt, lt, m);\n            v2ApplyTransform(rb, rb, m);\n            v2ApplyTransform(lb, lb, m);\n            v2ApplyTransform(rt, rt, m);\n\n            this.x = mathMin(lt[0], rb[0], lb[0], rt[0]);\n            this.y = mathMin(lt[1], rb[1], lb[1], rt[1]);\n            var maxX = mathMax(lt[0], rb[0], lb[0], rt[0]);\n            var maxY = mathMax(lt[1], rb[1], lb[1], rt[1]);\n            this.width = maxX - this.x;\n            this.height = maxY - this.y;\n        };\n    })(),\n\n    /**\n     * Calculate matrix of transforming from self to target rect\n     * @param  {module:zrender/core/BoundingRect} b\n     * @return {Array.<number>}\n     */\n    calculateTransform: function (b) {\n        var a = this;\n        var sx = b.width / a.width;\n        var sy = b.height / a.height;\n\n        var m = create$1();\n\n        // \n        translate(m, m, [-a.x, -a.y]);\n        scale$1(m, m, [sx, sy]);\n        translate(m, m, [b.x, b.y]);\n\n        return m;\n    },\n\n    /**\n     * @param {(module:echarts/core/BoundingRect|Object)} b\n     * @return {boolean}\n     */\n    intersect: function (b) {\n        if (!b) {\n            return false;\n        }\n\n        if (!(b instanceof BoundingRect)) {\n            // Normalize negative width/height.\n            b = BoundingRect.create(b);\n        }\n\n        var a = this;\n        var ax0 = a.x;\n        var ax1 = a.x + a.width;\n        var ay0 = a.y;\n        var ay1 = a.y + a.height;\n\n        var bx0 = b.x;\n        var bx1 = b.x + b.width;\n        var by0 = b.y;\n        var by1 = b.y + b.height;\n\n        return ! (ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n    },\n\n    contain: function (x, y) {\n        var rect = this;\n        return x >= rect.x\n            && x <= (rect.x + rect.width)\n            && y >= rect.y\n            && y <= (rect.y + rect.height);\n    },\n\n    /**\n     * @return {module:echarts/core/BoundingRect}\n     */\n    clone: function () {\n        return new BoundingRect(this.x, this.y, this.width, this.height);\n    },\n\n    /**\n     * Copy from another rect\n     */\n    copy: function (other) {\n        this.x = other.x;\n        this.y = other.y;\n        this.width = other.width;\n        this.height = other.height;\n    },\n\n    plain: function () {\n        return {\n            x: this.x,\n            y: this.y,\n            width: this.width,\n            height: this.height\n        };\n    }\n};\n\n/**\n * @param {Object|module:zrender/core/BoundingRect} rect\n * @param {number} rect.x\n * @param {number} rect.y\n * @param {number} rect.width\n * @param {number} rect.height\n * @return {module:zrender/core/BoundingRect}\n */\nBoundingRect.create = function (rect) {\n    return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n};\n\n/**\n * GroupGroup\n * @module zrender/graphic/Group\n * @example\n *     var Group = require('zrender/container/Group');\n *     var Circle = require('zrender/graphic/shape/Circle');\n *     var g = new Group();\n *     g.position[0] = 100;\n *     g.position[1] = 100;\n *     g.add(new Circle({\n *         style: {\n *             x: 100,\n *             y: 100,\n *             r: 20,\n *         }\n *     }));\n *     zr.add(g);\n */\n\n/**\n * @alias module:zrender/graphic/Group\n * @constructor\n * @extends module:zrender/mixin/Transformable\n * @extends module:zrender/mixin/Eventful\n */\nvar Group = function (opts) {\n\n    opts = opts || {};\n\n    Element.call(this, opts);\n\n    for (var key in opts) {\n        if (opts.hasOwnProperty(key)) {\n            this[key] = opts[key];\n        }\n    }\n\n    this._children = [];\n\n    this.__storage = null;\n\n    this.__dirty = true;\n};\n\nGroup.prototype = {\n\n    constructor: Group,\n\n    isGroup: true,\n\n    /**\n     * @type {string}\n     */\n    type: 'group',\n\n    /**\n     * \n     * @name module:/zrender/container/Group#silent\n     * @type {boolean}\n     * @default false\n     */\n    silent: false,\n\n    /**\n     * @return {Array.<module:zrender/Element>}\n     */\n    children: function () {\n        return this._children.slice();\n    },\n\n    /**\n     *  index \n     * @param  {number} idx\n     * @return {module:zrender/Element}\n     */\n    childAt: function (idx) {\n        return this._children[idx];\n    },\n\n    /**\n     * \n     * @param  {string} name\n     * @return {module:zrender/Element}\n     */\n    childOfName: function (name) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].name === name) {\n                return children[i];\n            }\n            }\n    },\n\n    /**\n     * @return {number}\n     */\n    childCount: function () {\n        return this._children.length;\n    },\n\n    /**\n     * \n     * @param {module:zrender/Element} child\n     */\n    add: function (child) {\n        if (child && child !== this && child.parent !== this) {\n\n            this._children.push(child);\n\n            this._doAdd(child);\n        }\n\n        return this;\n    },\n\n    /**\n     *  nextSibling \n     * @param {module:zrender/Element} child\n     * @param {module:zrender/Element} nextSibling\n     */\n    addBefore: function (child, nextSibling) {\n        if (child && child !== this && child.parent !== this\n            && nextSibling && nextSibling.parent === this) {\n\n            var children = this._children;\n            var idx = children.indexOf(nextSibling);\n\n            if (idx >= 0) {\n                children.splice(idx, 0, child);\n                this._doAdd(child);\n            }\n        }\n\n        return this;\n    },\n\n    _doAdd: function (child) {\n        if (child.parent) {\n            child.parent.remove(child);\n        }\n\n        child.parent = this;\n\n        var storage = this.__storage;\n        var zr = this.__zr;\n        if (storage && storage !== child.__storage) {\n\n            storage.addToStorage(child);\n\n            if (child instanceof Group) {\n                child.addChildrenToStorage(storage);\n            }\n        }\n\n        zr && zr.refresh();\n    },\n\n    /**\n     * \n     * @param {module:zrender/Element} child\n     */\n    remove: function (child) {\n        var zr = this.__zr;\n        var storage = this.__storage;\n        var children = this._children;\n\n        var idx = indexOf(children, child);\n        if (idx < 0) {\n            return this;\n        }\n        children.splice(idx, 1);\n\n        child.parent = null;\n\n        if (storage) {\n\n            storage.delFromStorage(child);\n\n            if (child instanceof Group) {\n                child.delChildrenFromStorage(storage);\n            }\n        }\n\n        zr && zr.refresh();\n\n        return this;\n    },\n\n    /**\n     * \n     */\n    removeAll: function () {\n        var children = this._children;\n        var storage = this.__storage;\n        var child;\n        var i;\n        for (i = 0; i < children.length; i++) {\n            child = children[i];\n            if (storage) {\n                storage.delFromStorage(child);\n                if (child instanceof Group) {\n                    child.delChildrenFromStorage(storage);\n                }\n            }\n            child.parent = null;\n        }\n        children.length = 0;\n\n        return this;\n    },\n\n    /**\n     * \n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    eachChild: function (cb, context) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            cb.call(context, child, i);\n        }\n        return this;\n    },\n\n    /**\n     * \n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            cb.call(context, child);\n\n            if (child.type === 'group') {\n                child.traverse(cb, context);\n            }\n        }\n        return this;\n    },\n\n    addChildrenToStorage: function (storage) {\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            storage.addToStorage(child);\n            if (child instanceof Group) {\n                child.addChildrenToStorage(storage);\n            }\n        }\n    },\n\n    delChildrenFromStorage: function (storage) {\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            storage.delFromStorage(child);\n            if (child instanceof Group) {\n                child.delChildrenFromStorage(storage);\n            }\n        }\n    },\n\n    dirty: function () {\n        this.__dirty = true;\n        this.__zr && this.__zr.refresh();\n        return this;\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function (includeChildren) {\n        // TODO Caching\n        var rect = null;\n        var tmpRect = new BoundingRect(0, 0, 0, 0);\n        var children = includeChildren || this._children;\n        var tmpMat = [];\n\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if (child.ignore || child.invisible) {\n                continue;\n            }\n\n            var childRect = child.getBoundingRect();\n            var transform = child.getLocalTransform(tmpMat);\n            // TODO\n            // The boundingRect cacluated by transforming original\n            // rect may be bigger than the actual bundingRect when rotation\n            // is used. (Consider a circle rotated aginst its center, where\n            // the actual boundingRect should be the same as that not be\n            // rotated.) But we can not find better approach to calculate\n            // actual boundingRect yet, considering performance.\n            if (transform) {\n                tmpRect.copy(childRect);\n                tmpRect.applyTransform(transform);\n                rect = rect || tmpRect.clone();\n                rect.union(tmpRect);\n            }\n            else {\n                rect = rect || childRect.clone();\n                rect.union(childRect);\n            }\n        }\n        return rect || tmpRect;\n    }\n};\n\ninherits(Group, Element);\n\n// https://github.com/mziccard/node-timsort\nvar DEFAULT_MIN_MERGE = 32;\n\nvar DEFAULT_MIN_GALLOPING = 7;\n\nfunction minRunLength(n) {\n    var r = 0;\n\n    while (n >= DEFAULT_MIN_MERGE) {\n        r |= n & 1;\n        n >>= 1;\n    }\n\n    return n + r;\n}\n\nfunction makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n\n    if (runHi === hi) {\n        return 1;\n    }\n\n    if (compare(array[runHi++], array[lo]) < 0) {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n            runHi++;\n        }\n\n        reverseRun(array, lo, runHi);\n    }\n    else {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n            runHi++;\n        }\n    }\n\n    return runHi - lo;\n}\n\nfunction reverseRun(array, lo, hi) {\n    hi--;\n\n    while (lo < hi) {\n        var t = array[lo];\n        array[lo++] = array[hi];\n        array[hi--] = t;\n    }\n}\n\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n        start++;\n    }\n\n    for (; start < hi; start++) {\n        var pivot = array[start];\n\n        var left = lo;\n        var right = start;\n        var mid;\n\n        while (left < right) {\n            mid = left + right >>> 1;\n\n            if (compare(pivot, array[mid]) < 0) {\n                right = mid;\n            }\n            else {\n                left = mid + 1;\n            }\n        }\n\n        var n = start - left;\n\n        switch (n) {\n            case 3:\n                array[left + 3] = array[left + 2];\n\n            case 2:\n                array[left + 2] = array[left + 1];\n\n            case 1:\n                array[left + 1] = array[left];\n                break;\n            default:\n                while (n > 0) {\n                    array[left + n] = array[left + n - 1];\n                    n--;\n                }\n        }\n\n        array[left] = pivot;\n    }\n}\n\nfunction gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) > 0) {\n        maxOffset = length - hint;\n\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n\n        lastOffset += hint;\n        offset += hint;\n    }\n    else {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n\n        if (compare(value, array[start + m]) > 0) {\n            lastOffset = m + 1;\n        }\n        else {\n            offset = m;\n        }\n    }\n    return offset;\n}\n\nfunction gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) < 0) {\n        maxOffset = hint + 1;\n\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    else {\n        maxOffset = length - hint;\n\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n\n        lastOffset += hint;\n        offset += hint;\n    }\n\n    lastOffset++;\n\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n\n        if (compare(value, array[start + m]) < 0) {\n            offset = m;\n        }\n        else {\n            lastOffset = m + 1;\n        }\n    }\n\n    return offset;\n}\n\nfunction TimSort(array, compare) {\n    var minGallop = DEFAULT_MIN_GALLOPING;\n    var runStart;\n    var runLength;\n    var stackSize = 0;\n\n    var tmp = [];\n\n    runStart = [];\n    runLength = [];\n\n    function pushRun(_runStart, _runLength) {\n        runStart[stackSize] = _runStart;\n        runLength[stackSize] = _runLength;\n        stackSize += 1;\n    }\n\n    function mergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n\n            if (n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1] || n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1]) {\n                if (runLength[n - 1] < runLength[n + 1]) {\n                    n--;\n                }\n            }\n            else if (runLength[n] > runLength[n + 1]) {\n                break;\n            }\n            mergeAt(n);\n        }\n    }\n\n    function forceMergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n\n            if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n                n--;\n            }\n\n            mergeAt(n);\n        }\n    }\n\n    function mergeAt(i) {\n        var start1 = runStart[i];\n        var length1 = runLength[i];\n        var start2 = runStart[i + 1];\n        var length2 = runLength[i + 1];\n\n        runLength[i] = length1 + length2;\n\n        if (i === stackSize - 3) {\n            runStart[i + 1] = runStart[i + 2];\n            runLength[i + 1] = runLength[i + 2];\n        }\n\n        stackSize--;\n\n        var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n        start1 += k;\n        length1 -= k;\n\n        if (length1 === 0) {\n            return;\n        }\n\n        length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n\n        if (length2 === 0) {\n            return;\n        }\n\n        if (length1 <= length2) {\n            mergeLow(start1, length1, start2, length2);\n        }\n        else {\n            mergeHigh(start1, length1, start2, length2);\n        }\n    }\n\n    function mergeLow(start1, length1, start2, length2) {\n        var i = 0;\n\n        for (i = 0; i < length1; i++) {\n            tmp[i] = array[start1 + i];\n        }\n\n        var cursor1 = 0;\n        var cursor2 = start2;\n        var dest = start1;\n\n        array[dest++] = array[cursor2++];\n\n        if (--length2 === 0) {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n            return;\n        }\n\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n            return;\n        }\n\n        var _minGallop = minGallop;\n        var count1, count2, exit;\n\n        while (1) {\n            count1 = 0;\n            count2 = 0;\n            exit = false;\n\n            do {\n                if (compare(array[cursor2], tmp[cursor1]) < 0) {\n                    array[dest++] = array[cursor2++];\n                    count2++;\n                    count1 = 0;\n\n                    if (--length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest++] = tmp[cursor1++];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n\n            if (exit) {\n                break;\n            }\n\n            do {\n                count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n\n                if (count1 !== 0) {\n                    for (i = 0; i < count1; i++) {\n                        array[dest + i] = tmp[cursor1 + i];\n                    }\n\n                    dest += count1;\n                    cursor1 += count1;\n                    length1 -= count1;\n                    if (length1 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n\n                array[dest++] = array[cursor2++];\n\n                if (--length2 === 0) {\n                    exit = true;\n                    break;\n                }\n\n                count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n\n                if (count2 !== 0) {\n                    for (i = 0; i < count2; i++) {\n                        array[dest + i] = array[cursor2 + i];\n                    }\n\n                    dest += count2;\n                    cursor2 += count2;\n                    length2 -= count2;\n\n                    if (length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = tmp[cursor1++];\n\n                if (--length1 === 1) {\n                    exit = true;\n                    break;\n                }\n\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n            if (exit) {\n                break;\n            }\n\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n\n            _minGallop += 2;\n        }\n\n        minGallop = _minGallop;\n\n        minGallop < 1 && (minGallop = 1);\n\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n        }\n        else if (length1 === 0) {\n            throw new Error();\n            // throw new Error('mergeLow preconditions were not respected');\n        }\n        else {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n        }\n    }\n\n    function mergeHigh (start1, length1, start2, length2) {\n        var i = 0;\n\n        for (i = 0; i < length2; i++) {\n            tmp[i] = array[start2 + i];\n        }\n\n        var cursor1 = start1 + length1 - 1;\n        var cursor2 = length2 - 1;\n        var dest = start2 + length2 - 1;\n        var customCursor = 0;\n        var customDest = 0;\n\n        array[dest--] = array[cursor1--];\n\n        if (--length1 === 0) {\n            customCursor = dest - (length2 - 1);\n\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n\n            return;\n        }\n\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n\n            array[dest] = tmp[cursor2];\n            return;\n        }\n\n        var _minGallop = minGallop;\n\n        while (true) {\n            var count1 = 0;\n            var count2 = 0;\n            var exit = false;\n\n            do {\n                if (compare(tmp[cursor2], array[cursor1]) < 0) {\n                    array[dest--] = array[cursor1--];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest--] = tmp[cursor2--];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n\n            if (exit) {\n                break;\n            }\n\n            do {\n                count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n\n                if (count1 !== 0) {\n                    dest -= count1;\n                    cursor1 -= count1;\n                    length1 -= count1;\n                    customDest = dest + 1;\n                    customCursor = cursor1 + 1;\n\n                    for (i = count1 - 1; i >= 0; i--) {\n                        array[customDest + i] = array[customCursor + i];\n                    }\n\n                    if (length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n\n                array[dest--] = tmp[cursor2--];\n\n                if (--length2 === 1) {\n                    exit = true;\n                    break;\n                }\n\n                count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n\n                if (count2 !== 0) {\n                    dest -= count2;\n                    cursor2 -= count2;\n                    length2 -= count2;\n                    customDest = dest + 1;\n                    customCursor = cursor2 + 1;\n\n                    for (i = 0; i < count2; i++) {\n                        array[customDest + i] = tmp[customCursor + i];\n                    }\n\n                    if (length2 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n\n                array[dest--] = array[cursor1--];\n\n                if (--length1 === 0) {\n                    exit = true;\n                    break;\n                }\n\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n            if (exit) {\n                break;\n            }\n\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n\n            _minGallop += 2;\n        }\n\n        minGallop = _minGallop;\n\n        if (minGallop < 1) {\n            minGallop = 1;\n        }\n\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n\n            array[dest] = tmp[cursor2];\n        }\n        else if (length2 === 0) {\n            throw new Error();\n            // throw new Error('mergeHigh preconditions were not respected');\n        }\n        else {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n        }\n    }\n\n    this.mergeRuns = mergeRuns;\n    this.forceMergeRuns = forceMergeRuns;\n    this.pushRun = pushRun;\n}\n\nfunction sort(array, compare, lo, hi) {\n    if (!lo) {\n        lo = 0;\n    }\n    if (!hi) {\n        hi = array.length;\n    }\n\n    var remaining = hi - lo;\n\n    if (remaining < 2) {\n        return;\n    }\n\n    var runLength = 0;\n\n    if (remaining < DEFAULT_MIN_MERGE) {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n        return;\n    }\n\n    var ts = new TimSort(array, compare);\n\n    var minRun = minRunLength(remaining);\n\n    do {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        if (runLength < minRun) {\n            var force = remaining;\n            if (force > minRun) {\n                force = minRun;\n            }\n\n            binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n            runLength = force;\n        }\n\n        ts.pushRun(lo, runLength);\n        ts.mergeRuns();\n\n        remaining -= runLength;\n        lo += runLength;\n    } while (remaining !== 0);\n\n    ts.forceMergeRuns();\n}\n\n/**\n * Storage\n * @module zrender/Storage\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n * @author errorrik (errorrik@gmail.com)\n * @author pissang (https://github.com/pissang/)\n */\n\n// Use timsort because in most case elements are partially sorted\n// https://jsfiddle.net/pissang/jr4x7mdm/8/\nfunction shapeCompareFunc(a, b) {\n    if (a.zlevel === b.zlevel) {\n        if (a.z === b.z) {\n            // if (a.z2 === b.z2) {\n            //     // FIXME Slow has renderidx compare\n            //     // http://stackoverflow.com/questions/20883421/sorting-in-javascript-should-every-compare-function-have-a-return-0-statement\n            //     // https://github.com/v8/v8/blob/47cce544a31ed5577ffe2963f67acb4144ee0232/src/js/array.js#L1012\n            //     return a.__renderidx - b.__renderidx;\n            // }\n            return a.z2 - b.z2;\n        }\n        return a.z - b.z;\n    }\n    return a.zlevel - b.zlevel;\n}\n/**\n *  (M)\n * @alias module:zrender/Storage\n * @constructor\n */\nvar Storage = function () { // jshint ignore:line\n    this._roots = [];\n\n    this._displayList = [];\n\n    this._displayListLen = 0;\n};\n\nStorage.prototype = {\n\n    constructor: Storage,\n\n    /**\n     * @param  {Function} cb\n     *\n     */\n    traverse: function (cb, context) {\n        for (var i = 0; i < this._roots.length; i++) {\n            this._roots[i].traverse(cb, context);\n        }\n    },\n\n    /**\n     * \n     * @param {boolean} [update=false] \n     * @param {boolean} [includeIgnore=false]  ignore ,  update  true \n     *\n     * {@link module:zrender/graphic/Displayable.prototype.updateDisplayList}\n     * @return {Array.<module:zrender/graphic/Displayable>}\n     */\n    getDisplayList: function (update, includeIgnore) {\n        includeIgnore = includeIgnore || false;\n        if (update) {\n            this.updateDisplayList(includeIgnore);\n        }\n        return this._displayList;\n    },\n\n    /**\n     * \n     * GroupShapeShape\n     * zlevel > z > \n     * @param {boolean} [includeIgnore=false]  ignore \n     */\n    updateDisplayList: function (includeIgnore) {\n        this._displayListLen = 0;\n        var roots = this._roots;\n        var displayList = this._displayList;\n        for (var i = 0, len = roots.length; i < len; i++) {\n            this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n        }\n        displayList.length = this._displayListLen;\n\n        // for (var i = 0, len = displayList.length; i < len; i++) {\n        //     displayList[i].__renderidx = i;\n        // }\n\n        // displayList.sort(shapeCompareFunc);\n        env$1.canvasSupported && sort(displayList, shapeCompareFunc);\n    },\n\n    _updateAndAddDisplayable: function (el, clipPaths, includeIgnore) {\n\n        if (el.ignore && !includeIgnore) {\n            return;\n        }\n\n        el.beforeUpdate();\n\n        if (el.__dirty) {\n\n            el.update();\n\n        }\n\n        el.afterUpdate();\n\n        var userSetClipPath = el.clipPath;\n        if (userSetClipPath) {\n\n            // FIXME \n            if (clipPaths) {\n                clipPaths = clipPaths.slice();\n            }\n            else {\n                clipPaths = [];\n            }\n\n            var currentClipPath = userSetClipPath;\n            var parentClipPath = el;\n            // Recursively add clip path\n            while (currentClipPath) {\n                // clipPath  clipPath \n                currentClipPath.parent = parentClipPath;\n                currentClipPath.updateTransform();\n\n                clipPaths.push(currentClipPath);\n\n                parentClipPath = currentClipPath;\n                currentClipPath = currentClipPath.clipPath;\n            }\n        }\n\n        if (el.isGroup) {\n            var children = el._children;\n\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n\n                // Force to mark as dirty if group is dirty\n                // FIXME __dirtyPath ?\n                if (el.__dirty) {\n                    child.__dirty = true;\n                }\n\n                this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n            }\n\n            // Mark group clean here\n            el.__dirty = false;\n\n        }\n        else {\n            el.__clipPaths = clipPaths;\n\n            this._displayList[this._displayListLen++] = el;\n        }\n    },\n\n    /**\n     * (Shape)(Group)\n     * @param {module:zrender/Element} el\n     */\n    addRoot: function (el) {\n        if (el.__storage === this) {\n            return;\n        }\n\n        if (el instanceof Group) {\n            el.addChildrenToStorage(this);\n        }\n\n        this.addToStorage(el);\n        this._roots.push(el);\n    },\n\n    /**\n     * (Shape)(Group)\n     * @param {string|Array.<string>} [el] Storage\n     */\n    delRoot: function (el) {\n        if (el == null) {\n            // el\n            for (var i = 0; i < this._roots.length; i++) {\n                var root = this._roots[i];\n                if (root instanceof Group) {\n                    root.delChildrenFromStorage(this);\n                }\n            }\n\n            this._roots = [];\n            this._displayList = [];\n            this._displayListLen = 0;\n\n            return;\n        }\n\n        if (el instanceof Array) {\n            for (var i = 0, l = el.length; i < l; i++) {\n                this.delRoot(el[i]);\n            }\n            return;\n        }\n\n\n        var idx = indexOf(this._roots, el);\n        if (idx >= 0) {\n            this.delFromStorage(el);\n            this._roots.splice(idx, 1);\n            if (el instanceof Group) {\n                el.delChildrenFromStorage(this);\n            }\n        }\n    },\n\n    addToStorage: function (el) {\n        el.__storage = this;\n        el.dirty(false);\n\n        return this;\n    },\n\n    delFromStorage: function (el) {\n        if (el) {\n            el.__storage = null;\n        }\n\n        return this;\n    },\n\n    /**\n     * Storage\n     */\n    dispose: function () {\n        this._renderList =\n        this._roots = null;\n    },\n\n    displayableSortFunc: shapeCompareFunc\n};\n\nvar STYLE_COMMON_PROPS = [\n    ['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'],\n    ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]\n];\n\n// var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n// var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\nvar Style = function (opts, host) {\n    this.extendFrom(opts, false);\n    this.host = host;\n};\n\nfunction createLinearGradient(ctx, obj, rect) {\n    var x = obj.x == null ? 0 : obj.x;\n    var x2 = obj.x2 == null ? 1 : obj.x2;\n    var y = obj.y == null ? 0 : obj.y;\n    var y2 = obj.y2 == null ? 0 : obj.y2;\n\n    if (!obj.global) {\n        x = x * rect.width + rect.x;\n        x2 = x2 * rect.width + rect.x;\n        y = y * rect.height + rect.y;\n        y2 = y2 * rect.height + rect.y;\n    }\n\n    var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n\n    return canvasGradient;\n}\n\nfunction createRadialGradient(ctx, obj, rect) {\n    var width = rect.width;\n    var height = rect.height;\n    var min = Math.min(width, height);\n\n    var x = obj.x == null ? 0.5 : obj.x;\n    var y = obj.y == null ? 0.5 : obj.y;\n    var r = obj.r == null ? 0.5 : obj.r;\n    if (!obj.global) {\n        x = x * width + rect.x;\n        y = y * height + rect.y;\n        r = r * min;\n    }\n\n    var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n\n    return canvasGradient;\n}\n\n\nStyle.prototype = {\n\n    constructor: Style,\n\n    /**\n     * @type {module:zrender/graphic/Displayable}\n     */\n    host: null,\n\n    /**\n     * @type {string}\n     */\n    fill: '#000',\n\n    /**\n     * @type {string}\n     */\n    stroke: null,\n\n    /**\n     * @type {number}\n     */\n    opacity: 1,\n\n    /**\n     * @type {Array.<number>}\n     */\n    lineDash: null,\n\n    /**\n     * @type {number}\n     */\n    lineDashOffset: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowOffsetY: 0,\n\n    /**\n     * @type {number}\n     */\n    lineWidth: 1,\n\n    /**\n     * If stroke ignore scale\n     * @type {Boolean}\n     */\n    strokeNoScale: false,\n\n    // Bounding rect text configuration\n    // Not affected by element transform\n    /**\n     * @type {string}\n     */\n    text: null,\n\n    /**\n     * If `fontSize` or `fontFamily` exists, `font` will be reset by\n     * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n     * So do not visit it directly in upper application (like echarts),\n     * but use `contain/text#makeFont` instead.\n     * @type {string}\n     */\n    font: null,\n\n    /**\n     * The same as font. Use font please.\n     * @deprecated\n     * @type {string}\n     */\n    textFont: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontStyle: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontWeight: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * Should be 12 but not '12px'.\n     * @type {number}\n     */\n    fontSize: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontFamily: null,\n\n    /**\n     * Reserved for special functinality, like 'hr'.\n     * @type {string}\n     */\n    textTag: null,\n\n    /**\n     * @type {string}\n     */\n    textFill: '#000',\n\n    /**\n     * @type {string}\n     */\n    textStroke: null,\n\n    /**\n     * @type {number}\n     */\n    textWidth: null,\n\n    /**\n     * Only for textBackground.\n     * @type {number}\n     */\n    textHeight: null,\n\n    /**\n     * textStroke may be set as some color as a default\n     * value in upper applicaion, where the default value\n     * of textStrokeWidth should be 0 to make sure that\n     * user can choose to do not use text stroke.\n     * @type {number}\n     */\n    textStrokeWidth: 0,\n\n    /**\n     * @type {number}\n     */\n    textLineHeight: null,\n\n    /**\n     * 'inside', 'left', 'right', 'top', 'bottom'\n     * [x, y]\n     * Based on x, y of rect.\n     * @type {string|Array.<number>}\n     * @default 'inside'\n     */\n    textPosition: 'inside',\n\n    /**\n     * If not specified, use the boundingRect of a `displayable`.\n     * @type {Object}\n     */\n    textRect: null,\n\n    /**\n     * [x, y]\n     * @type {Array.<number>}\n     */\n    textOffset: null,\n\n    /**\n     * @type {string}\n     */\n    textAlign: null,\n\n    /**\n     * @type {string}\n     */\n    textVerticalAlign: null,\n\n    /**\n     * @type {number}\n     */\n    textDistance: 5,\n\n    /**\n     * @type {string}\n     */\n    textShadowColor: 'transparent',\n\n    /**\n     * @type {number}\n     */\n    textShadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    textShadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    textShadowOffsetY: 0,\n\n    /**\n     * @type {string}\n     */\n    textBoxShadowColor: 'transparent',\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowOffsetY: 0,\n\n    /**\n     * Whether transform text.\n     * Only useful in Path and Image element\n     * @type {boolean}\n     */\n    transformText: false,\n\n    /**\n     * Text rotate around position of Path or Image\n     * Only useful in Path and Image element and transformText is false.\n     */\n    textRotation: 0,\n\n    /**\n     * Text origin of text rotation, like [10, 40].\n     * Based on x, y of rect.\n     * Useful in label rotation of circular symbol.\n     * By default, this origin is textPosition.\n     * Can be 'center'.\n     * @type {string|Array.<number>}\n     */\n    textOrigin: null,\n\n    /**\n     * @type {string}\n     */\n    textBackgroundColor: null,\n\n    /**\n     * @type {string}\n     */\n    textBorderColor: null,\n\n    /**\n     * @type {number}\n     */\n    textBorderWidth: 0,\n\n    /**\n     * @type {number}\n     */\n    textBorderRadius: 0,\n\n    /**\n     * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n     * @type {number|Array.<number>}\n     */\n    textPadding: null,\n\n    /**\n     * Text styles for rich text.\n     * @type {Object}\n     */\n    rich: null,\n\n    /**\n     * {outerWidth, outerHeight, ellipsis, placeholder}\n     * @type {Object}\n     */\n    truncate: null,\n\n    /**\n     * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n     * @type {string}\n     */\n    blend: null,\n\n    /**\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    bind: function (ctx, el, prevEl) {\n        var style = this;\n        var prevStyle = prevEl && prevEl.style;\n        var firstDraw = !prevStyle;\n\n        for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n            var prop = STYLE_COMMON_PROPS[i];\n            var styleName = prop[0];\n\n            if (firstDraw || style[styleName] !== prevStyle[styleName]) {\n                // FIXME Invalid property value will cause style leak from previous element.\n                ctx[styleName] = style[styleName] || prop[1];\n            }\n        }\n\n        if ((firstDraw || style.fill !== prevStyle.fill)) {\n            ctx.fillStyle = style.fill;\n        }\n        if ((firstDraw || style.stroke !== prevStyle.stroke)) {\n            ctx.strokeStyle = style.stroke;\n        }\n        if ((firstDraw || style.opacity !== prevStyle.opacity)) {\n            ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n        }\n\n        if ((firstDraw || style.blend !== prevStyle.blend)) {\n            ctx.globalCompositeOperation = style.blend || 'source-over';\n        }\n        if (this.hasStroke()) {\n            var lineWidth = style.lineWidth;\n            ctx.lineWidth = lineWidth / (\n                (this.strokeNoScale && el && el.getLineScale) ? el.getLineScale() : 1\n            );\n        }\n    },\n\n    hasFill: function () {\n        var fill = this.fill;\n        return fill != null && fill !== 'none';\n    },\n\n    hasStroke: function () {\n        var stroke = this.stroke;\n        return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n    },\n\n    /**\n     * Extend from other style\n     * @param {zrender/graphic/Style} otherStyle\n     * @param {boolean} overwrite true: overwrirte any way.\n     *                            false: overwrite only when !target.hasOwnProperty\n     *                            others: overwrite when property is not null/undefined.\n     */\n    extendFrom: function (otherStyle, overwrite) {\n        if (otherStyle) {\n            for (var name in otherStyle) {\n                if (otherStyle.hasOwnProperty(name)\n                    && (overwrite === true\n                        || (\n                            overwrite === false\n                                ? !this.hasOwnProperty(name)\n                                : otherStyle[name] != null\n                        )\n                    )\n                ) {\n                    this[name] = otherStyle[name];\n                }\n            }\n        }\n    },\n\n    /**\n     * Batch setting style with a given object\n     * @param {Object|string} obj\n     * @param {*} [obj]\n     */\n    set: function (obj, value) {\n        if (typeof obj === 'string') {\n            this[obj] = value;\n        }\n        else {\n            this.extendFrom(obj, true);\n        }\n    },\n\n    /**\n     * Clone\n     * @return {zrender/graphic/Style} [description]\n     */\n    clone: function () {\n        var newStyle = new this.constructor();\n        newStyle.extendFrom(this, true);\n        return newStyle;\n    },\n\n    getGradient: function (ctx, obj, rect) {\n        var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n        var canvasGradient = method(ctx, obj, rect);\n        var colorStops = obj.colorStops;\n        for (var i = 0; i < colorStops.length; i++) {\n            canvasGradient.addColorStop(\n                colorStops[i].offset, colorStops[i].color\n            );\n        }\n        return canvasGradient;\n    }\n\n};\n\nvar styleProto = Style.prototype;\nfor (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n    var prop = STYLE_COMMON_PROPS[i];\n    if (!(prop[0] in styleProto)) {\n        styleProto[prop[0]] = prop[1];\n    }\n}\n\n// Provide for others\nStyle.getGradient = styleProto.getGradient;\n\nvar Pattern = function (image, repeat) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {image: ...}`, where this constructor will not be called.\n\n    this.image = image;\n    this.repeat = repeat;\n\n    // Can be cloned\n    this.type = 'pattern';\n};\n\nPattern.prototype.getCanvasPattern = function (ctx) {\n    return ctx.createPattern(this.image, this.repeat || 'repeat');\n};\n\n/**\n * @module zrender/Layer\n * @author pissang(https://www.github.com/pissang)\n */\n\nfunction returnFalse() {\n    return false;\n}\n\n/**\n * dom\n *\n * @inner\n * @param {string} id dom id \n * @param {Painter} painter painter instance\n * @param {number} number\n */\nfunction createDom(id, painter, dpr) {\n    var newDom = createCanvas();\n    var width = painter.getWidth();\n    var height = painter.getHeight();\n\n    var newDomStyle = newDom.style;\n    // append~\n    newDomStyle.position = 'absolute';\n    newDomStyle.left = 0;\n    newDomStyle.top = 0;\n    newDomStyle.width = width + 'px';\n    newDomStyle.height = height + 'px';\n    newDom.width = width * dpr;\n    newDom.height = height * dpr;\n\n    // id\n    newDom.setAttribute('data-zr-dom-id', id);\n    return newDom;\n}\n\n/**\n * @alias module:zrender/Layer\n * @constructor\n * @extends module:zrender/mixin/Transformable\n * @param {string} id\n * @param {module:zrender/Painter} painter\n * @param {number} [dpr]\n */\nvar Layer = function(id, painter, dpr) {\n    var dom;\n    dpr = dpr || devicePixelRatio;\n    if (typeof id === 'string') {\n        dom = createDom(id, painter, dpr);\n    }\n    // Not using isDom because in node it will return false\n    else if (isObject(id)) {\n        dom = id;\n        id = dom.id;\n    }\n    this.id = id;\n    this.dom = dom;\n\n    var domStyle = dom.style;\n    if (domStyle) { // Not in node\n        dom.onselectstart = returnFalse; // \n        domStyle['-webkit-user-select'] = 'none';\n        domStyle['user-select'] = 'none';\n        domStyle['-webkit-touch-callout'] = 'none';\n        domStyle['-webkit-tap-highlight-color'] = 'rgba(0,0,0,0)';\n        domStyle['padding'] = 0;\n        domStyle['margin'] = 0;\n        domStyle['border-width'] = 0;\n    }\n\n    this.domBack = null;\n    this.ctxBack = null;\n\n    this.painter = painter;\n\n    this.config = null;\n\n    // Configs\n    /**\n     * \n     * @type {string}\n     * @default 0\n     */\n    this.clearColor = 0;\n    /**\n     * \n     * @type {boolean}\n     * @default false\n     */\n    this.motionBlur = false;\n    /**\n     * alpha\n     * @type {number}\n     * @default 0.7\n     */\n    this.lastFrameAlpha = 0.7;\n\n    /**\n     * Layer dpr\n     * @type {number}\n     */\n    this.dpr = dpr;\n};\n\nLayer.prototype = {\n\n    constructor: Layer,\n\n    elCount: 0,\n\n    __dirty: true,\n\n    initContext: function () {\n        this.ctx = this.dom.getContext('2d');\n        this.ctx.__currentValues = {};\n        this.ctx.dpr = this.dpr;\n    },\n\n    createBackBuffer: function () {\n        var dpr = this.dpr;\n\n        this.domBack = createDom('back-' + this.id, this.painter, dpr);\n        this.ctxBack = this.domBack.getContext('2d');\n        this.ctxBack.__currentValues = {};\n\n        if (dpr != 1) {\n            this.ctxBack.scale(dpr, dpr);\n        }\n    },\n\n    /**\n     * @param  {number} width\n     * @param  {number} height\n     */\n    resize: function (width, height) {\n        var dpr = this.dpr;\n\n        var dom = this.dom;\n        var domStyle = dom.style;\n        var domBack = this.domBack;\n\n        domStyle.width = width + 'px';\n        domStyle.height = height + 'px';\n\n        dom.width = width * dpr;\n        dom.height = height * dpr;\n\n        if (domBack) {\n            domBack.width = width * dpr;\n            domBack.height = height * dpr;\n\n            if (dpr != 1) {\n                this.ctxBack.scale(dpr, dpr);\n            }\n        }\n    },\n\n    /**\n     * \n     * @param {boolean} clearAll Clear all with out motion blur\n     */\n    clear: function (clearAll) {\n        var dom = this.dom;\n        var ctx = this.ctx;\n        var width = dom.width;\n        var height = dom.height;\n\n        var clearColor = this.clearColor;\n        var haveMotionBLur = this.motionBlur && !clearAll;\n        var lastFrameAlpha = this.lastFrameAlpha;\n\n        var dpr = this.dpr;\n\n        if (haveMotionBLur) {\n            if (!this.domBack) {\n                this.createBackBuffer();\n            }\n\n            this.ctxBack.globalCompositeOperation = 'copy';\n            this.ctxBack.drawImage(\n                dom, 0, 0,\n                width / dpr,\n                height / dpr\n            );\n        }\n\n        ctx.clearRect(0, 0, width, height);\n        if (clearColor) {\n            var clearColorGradientOrPattern;\n            // Gradient\n            if (clearColor.colorStops) {\n                // Cache canvas gradient\n                clearColorGradientOrPattern = clearColor.__canvasGradient || Style.getGradient(ctx, clearColor, {\n                    x: 0,\n                    y: 0,\n                    width: width,\n                    height: height\n                });\n\n                clearColor.__canvasGradient = clearColorGradientOrPattern;\n            }\n            // Pattern\n            else if (clearColor.image) {\n                clearColorGradientOrPattern = Pattern.prototype.getCanvasPattern.call(clearColor, ctx);\n            }\n            ctx.save();\n            ctx.fillStyle = clearColorGradientOrPattern || clearColor;\n            ctx.fillRect(0, 0, width, height);\n            ctx.restore();\n        }\n\n        if (haveMotionBLur) {\n            var domBack = this.domBack;\n            ctx.save();\n            ctx.globalAlpha = lastFrameAlpha;\n            ctx.drawImage(domBack, 0, 0, width, height);\n            ctx.restore();\n        }\n    }\n};\n\nvar requestAnimationFrame = (\n    typeof window !== 'undefined'\n    && (\n        (window.requestAnimationFrame && window.requestAnimationFrame.bind(window))\n        // https://github.com/ecomfe/zrender/issues/189#issuecomment-224919809\n        || (window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window))\n        || window.mozRequestAnimationFrame\n        || window.webkitRequestAnimationFrame\n    )\n) || function (func) {\n    setTimeout(func, 16);\n};\n\nvar globalImageCache = new LRU(50);\n\n/**\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\nfunction findExistImage(newImageOrSrc) {\n    if (typeof newImageOrSrc === 'string') {\n        var cachedImgObj = globalImageCache.get(newImageOrSrc);\n        return cachedImgObj && cachedImgObj.image;\n    }\n    else {\n        return newImageOrSrc;\n    }\n}\n\n/**\n * Caution: User should cache loaded images, but not just count on LRU.\n * Consider if required images more than LRU size, will dead loop occur?\n *\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @param {HTMLImageElement|HTMLCanvasElement|Canvas} image Existent image.\n * @param {module:zrender/Element} [hostEl] For calling `dirty`.\n * @param {Function} [cb] params: (image, cbPayload)\n * @param {Object} [cbPayload] Payload on cb calling.\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\nfunction createOrUpdateImage(newImageOrSrc, image, hostEl, cb, cbPayload) {\n    if (!newImageOrSrc) {\n        return image;\n    }\n    else if (typeof newImageOrSrc === 'string') {\n\n        // Image should not be loaded repeatly.\n        if ((image && image.__zrImageSrc === newImageOrSrc) || !hostEl) {\n            return image;\n        }\n\n        // Only when there is no existent image or existent image src\n        // is different, this method is responsible for load.\n        var cachedImgObj = globalImageCache.get(newImageOrSrc);\n\n        var pendingWrap = {hostEl: hostEl, cb: cb, cbPayload: cbPayload};\n\n        if (cachedImgObj) {\n            image = cachedImgObj.image;\n            !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n        }\n        else {\n            !image && (image = new Image());\n            image.onload = imageOnLoad;\n\n            globalImageCache.put(\n                newImageOrSrc,\n                image.__cachedImgObj = {\n                    image: image,\n                    pending: [pendingWrap]\n                }\n            );\n\n            image.src = image.__zrImageSrc = newImageOrSrc;\n        }\n\n        return image;\n    }\n    // newImageOrSrc is an HTMLImageElement or HTMLCanvasElement or Canvas\n    else {\n        return newImageOrSrc;\n    }\n}\n\nfunction imageOnLoad() {\n    var cachedImgObj = this.__cachedImgObj;\n    this.onload = this.__cachedImgObj = null;\n\n    for (var i = 0; i < cachedImgObj.pending.length; i++) {\n        var pendingWrap = cachedImgObj.pending[i];\n        var cb = pendingWrap.cb;\n        cb && cb(this, pendingWrap.cbPayload);\n        pendingWrap.hostEl.dirty();\n    }\n    cachedImgObj.pending.length = 0;\n}\n\nfunction isImageReady(image) {\n    return image && image.width && image.height;\n}\n\nvar textWidthCache = {};\nvar textWidthCacheCounter = 0;\n\nvar TEXT_CACHE_MAX = 5000;\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\n\nvar DEFAULT_FONT = '12px sans-serif';\n\n// Avoid assign to an exported variable, for transforming to cjs.\nvar methods$1 = {};\n\nfunction $override$1(name, fn) {\n    methods$1[name] = fn;\n}\n\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {number} width\n */\nfunction getWidth(text, font) {\n    font = font || DEFAULT_FONT;\n    var key = text + ':' + font;\n    if (textWidthCache[key]) {\n        return textWidthCache[key];\n    }\n\n    var textLines = (text + '').split('\\n');\n    var width = 0;\n\n    for (var i = 0, l = textLines.length; i < l; i++) {\n        // textContain.measureText may be overrided in SVG or VML\n        width = Math.max(measureText(textLines[i], font).width, width);\n    }\n\n    if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n        textWidthCacheCounter = 0;\n        textWidthCache = {};\n    }\n    textWidthCacheCounter++;\n    textWidthCache[key] = width;\n\n    return width;\n}\n\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {string} [textAlign='left']\n * @param {string} [textVerticalAlign='top']\n * @param {Array.<number>} [textPadding]\n * @param {Object} [rich]\n * @param {Object} [truncate]\n * @return {Object} {x, y, width, height, lineHeight}\n */\nfunction getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate) {\n    return rich\n        ? getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate)\n        : getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, truncate);\n}\n\nfunction getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, truncate) {\n    var contentBlock = parsePlainText(text, font, textPadding, truncate);\n    var outerWidth = getWidth(text, font);\n    if (textPadding) {\n        outerWidth += textPadding[1] + textPadding[3];\n    }\n    var outerHeight = contentBlock.outerHeight;\n\n    var x = adjustTextX(0, outerWidth, textAlign);\n    var y = adjustTextY(0, outerHeight, textVerticalAlign);\n\n    var rect = new BoundingRect(x, y, outerWidth, outerHeight);\n    rect.lineHeight = contentBlock.lineHeight;\n\n    return rect;\n}\n\nfunction getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate) {\n    var contentBlock = parseRichText(text, {\n        rich: rich,\n        truncate: truncate,\n        font: font,\n        textAlign: textAlign,\n        textPadding: textPadding\n    });\n    var outerWidth = contentBlock.outerWidth;\n    var outerHeight = contentBlock.outerHeight;\n\n    var x = adjustTextX(0, outerWidth, textAlign);\n    var y = adjustTextY(0, outerHeight, textVerticalAlign);\n\n    return new BoundingRect(x, y, outerWidth, outerHeight);\n}\n\n/**\n * @public\n * @param {number} x\n * @param {number} width\n * @param {string} [textAlign='left']\n * @return {number} Adjusted x.\n */\nfunction adjustTextX(x, width, textAlign) {\n    // FIXME Right to left language\n    if (textAlign === 'right') {\n        x -= width;\n    }\n    else if (textAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\n\n/**\n * @public\n * @param {number} y\n * @param {number} height\n * @param {string} [textVerticalAlign='top']\n * @return {number} Adjusted y.\n */\nfunction adjustTextY(y, height, textVerticalAlign) {\n    if (textVerticalAlign === 'middle') {\n        y -= height / 2;\n    }\n    else if (textVerticalAlign === 'bottom') {\n        y -= height;\n    }\n    return y;\n}\n\n/**\n * @public\n * @param {stirng} textPosition\n * @param {Object} rect {x, y, width, height}\n * @param {number} distance\n * @return {Object} {x, y, textAlign, textVerticalAlign}\n */\nfunction adjustTextPositionOnRect(textPosition, rect, distance) {\n\n    var x = rect.x;\n    var y = rect.y;\n\n    var height = rect.height;\n    var width = rect.width;\n    var halfHeight = height / 2;\n\n    var textAlign = 'left';\n    var textVerticalAlign = 'top';\n\n    switch (textPosition) {\n        case 'left':\n            x -= distance;\n            y += halfHeight;\n            textAlign = 'right';\n            textVerticalAlign = 'middle';\n            break;\n        case 'right':\n            x += distance + width;\n            y += halfHeight;\n            textVerticalAlign = 'middle';\n            break;\n        case 'top':\n            x += width / 2;\n            y -= distance;\n            textAlign = 'center';\n            textVerticalAlign = 'bottom';\n            break;\n        case 'bottom':\n            x += width / 2;\n            y += height + distance;\n            textAlign = 'center';\n            break;\n        case 'inside':\n            x += width / 2;\n            y += halfHeight;\n            textAlign = 'center';\n            textVerticalAlign = 'middle';\n            break;\n        case 'insideLeft':\n            x += distance;\n            y += halfHeight;\n            textVerticalAlign = 'middle';\n            break;\n        case 'insideRight':\n            x += width - distance;\n            y += halfHeight;\n            textAlign = 'right';\n            textVerticalAlign = 'middle';\n            break;\n        case 'insideTop':\n            x += width / 2;\n            y += distance;\n            textAlign = 'center';\n            break;\n        case 'insideBottom':\n            x += width / 2;\n            y += height - distance;\n            textAlign = 'center';\n            textVerticalAlign = 'bottom';\n            break;\n        case 'insideTopLeft':\n            x += distance;\n            y += distance;\n            break;\n        case 'insideTopRight':\n            x += width - distance;\n            y += distance;\n            textAlign = 'right';\n            break;\n        case 'insideBottomLeft':\n            x += distance;\n            y += height - distance;\n            textVerticalAlign = 'bottom';\n            break;\n        case 'insideBottomRight':\n            x += width - distance;\n            y += height - distance;\n            textAlign = 'right';\n            textVerticalAlign = 'bottom';\n            break;\n    }\n\n    return {\n        x: x,\n        y: y,\n        textAlign: textAlign,\n        textVerticalAlign: textVerticalAlign\n    };\n}\n\n/**\n * Show ellipsis if overflow.\n *\n * @public\n * @param  {string} text\n * @param  {string} containerWidth\n * @param  {string} font\n * @param  {number} [ellipsis='...']\n * @param  {Object} [options]\n * @param  {number} [options.maxIterations=3]\n * @param  {number} [options.minChar=0] If truncate result are less\n *                  then minChar, ellipsis will not show, which is\n *                  better for user hint in some cases.\n * @param  {number} [options.placeholder=''] When all truncated, use the placeholder.\n * @return {string}\n */\nfunction truncateText(text, containerWidth, font, ellipsis, options) {\n    if (!containerWidth) {\n        return '';\n    }\n\n    var textLines = (text + '').split('\\n');\n    options = prepareTruncateOptions(containerWidth, font, ellipsis, options);\n\n    // FIXME\n    // It is not appropriate that every line has '...' when truncate multiple lines.\n    for (var i = 0, len = textLines.length; i < len; i++) {\n        textLines[i] = truncateSingleLine(textLines[i], options);\n    }\n\n    return textLines.join('\\n');\n}\n\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n    options = extend({}, options);\n\n    options.font = font;\n    var ellipsis = retrieve2(ellipsis, '...');\n    options.maxIterations = retrieve2(options.maxIterations, 2);\n    var minChar = options.minChar = retrieve2(options.minChar, 0);\n    // FIXME\n    // Other languages?\n    options.cnCharWidth = getWidth('', font);\n    // FIXME\n    // Consider proportional font?\n    var ascCharWidth = options.ascCharWidth = getWidth('a', font);\n    options.placeholder = retrieve2(options.placeholder, '');\n\n    // Example 1: minChar: 3, text: 'asdfzxcv', truncate result: 'asdf', but not: 'a...'.\n    // Example 2: minChar: 3, text: '', truncate result: '', but not: '...'.\n    var contentWidth = containerWidth = Math.max(0, containerWidth - 1); // Reserve some gap.\n    for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n        contentWidth -= ascCharWidth;\n    }\n\n    var ellipsisWidth = getWidth(ellipsis);\n    if (ellipsisWidth > contentWidth) {\n        ellipsis = '';\n        ellipsisWidth = 0;\n    }\n\n    contentWidth = containerWidth - ellipsisWidth;\n\n    options.ellipsis = ellipsis;\n    options.ellipsisWidth = ellipsisWidth;\n    options.contentWidth = contentWidth;\n    options.containerWidth = containerWidth;\n\n    return options;\n}\n\nfunction truncateSingleLine(textLine, options) {\n    var containerWidth = options.containerWidth;\n    var font = options.font;\n    var contentWidth = options.contentWidth;\n\n    if (!containerWidth) {\n        return '';\n    }\n\n    var lineWidth = getWidth(textLine, font);\n\n    if (lineWidth <= containerWidth) {\n        return textLine;\n    }\n\n    for (var j = 0;; j++) {\n        if (lineWidth <= contentWidth || j >= options.maxIterations) {\n            textLine += options.ellipsis;\n            break;\n        }\n\n        var subLength = j === 0\n            ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth)\n            : lineWidth > 0\n            ? Math.floor(textLine.length * contentWidth / lineWidth)\n            : 0;\n\n        textLine = textLine.substr(0, subLength);\n        lineWidth = getWidth(textLine, font);\n    }\n\n    if (textLine === '') {\n        textLine = options.placeholder;\n    }\n\n    return textLine;\n}\n\nfunction estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n    var width = 0;\n    var i = 0;\n    for (var len = text.length; i < len && width < contentWidth; i++) {\n        var charCode = text.charCodeAt(i);\n        width += (0 <= charCode && charCode <= 127) ? ascCharWidth : cnCharWidth;\n    }\n    return i;\n}\n\n/**\n * @public\n * @param {string} font\n * @return {number} line height\n */\nfunction getLineHeight(font) {\n    // FIXME A rough approach.\n    return getWidth('', font);\n}\n\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {Object} width\n */\nfunction measureText(text, font) {\n    return methods$1.measureText(text, font);\n}\n\n// Avoid assign to an exported variable, for transforming to cjs.\nmethods$1.measureText = function (text, font) {\n    var ctx = getContext();\n    ctx.font = font || DEFAULT_FONT;\n    return ctx.measureText(text);\n};\n\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {Object} [truncate]\n * @return {Object} block: {lineHeight, lines, height, outerHeight}\n *  Notice: for performance, do not calculate outerWidth util needed.\n */\nfunction parsePlainText(text, font, padding, truncate) {\n    text != null && (text += '');\n\n    var lineHeight = getLineHeight(font);\n    var lines = text ? text.split('\\n') : [];\n    var height = lines.length * lineHeight;\n    var outerHeight = height;\n\n    if (padding) {\n        outerHeight += padding[0] + padding[2];\n    }\n\n    if (text && truncate) {\n        var truncOuterHeight = truncate.outerHeight;\n        var truncOuterWidth = truncate.outerWidth;\n        if (truncOuterHeight != null && outerHeight > truncOuterHeight) {\n            text = '';\n            lines = [];\n        }\n        else if (truncOuterWidth != null) {\n            var options = prepareTruncateOptions(\n                truncOuterWidth - (padding ? padding[1] + padding[3] : 0),\n                font,\n                truncate.ellipsis,\n                {minChar: truncate.minChar, placeholder: truncate.placeholder}\n            );\n\n            // FIXME\n            // It is not appropriate that every line has '...' when truncate multiple lines.\n            for (var i = 0, len = lines.length; i < len; i++) {\n                lines[i] = truncateSingleLine(lines[i], options);\n            }\n        }\n    }\n\n    return {\n        lines: lines,\n        height: height,\n        outerHeight: outerHeight,\n        lineHeight: lineHeight\n    };\n}\n\n/**\n * For example: 'some text {a|some text}other text{b|some text}xxx{c|}xxx'\n * Also consider 'bbbb{a|xxx\\nzzz}xxxx\\naaaa'.\n *\n * @public\n * @param {string} text\n * @param {Object} style\n * @return {Object} block\n * {\n *      width,\n *      height,\n *      lines: [{\n *          lineHeight,\n *          width,\n *          tokens: [[{\n *              styleName,\n *              text,\n *              width,      // include textPadding\n *              height,     // include textPadding\n *              textWidth, // pure text width\n *              textHeight, // pure text height\n *              lineHeihgt,\n *              font,\n *              textAlign,\n *              textVerticalAlign\n *          }], [...], ...]\n *      }, ...]\n * }\n * If styleName is undefined, it is plain text.\n */\nfunction parseRichText(text, style) {\n    var contentBlock = {lines: [], width: 0, height: 0};\n\n    text != null && (text += '');\n    if (!text) {\n        return contentBlock;\n    }\n\n    var lastIndex = STYLE_REG.lastIndex = 0;\n    var result;\n    while ((result = STYLE_REG.exec(text)) != null) {\n        var matchedIndex = result.index;\n        if (matchedIndex > lastIndex) {\n            pushTokens(contentBlock, text.substring(lastIndex, matchedIndex));\n        }\n        pushTokens(contentBlock, result[2], result[1]);\n        lastIndex = STYLE_REG.lastIndex;\n    }\n\n    if (lastIndex < text.length) {\n        pushTokens(contentBlock, text.substring(lastIndex, text.length));\n    }\n\n    var lines = contentBlock.lines;\n    var contentHeight = 0;\n    var contentWidth = 0;\n    // For `textWidth: 100%`\n    var pendingList = [];\n\n    var stlPadding = style.textPadding;\n\n    var truncate = style.truncate;\n    var truncateWidth = truncate && truncate.outerWidth;\n    var truncateHeight = truncate && truncate.outerHeight;\n    if (stlPadding) {\n        truncateWidth != null && (truncateWidth -= stlPadding[1] + stlPadding[3]);\n        truncateHeight != null && (truncateHeight -= stlPadding[0] + stlPadding[2]);\n    }\n\n    // Calculate layout info of tokens.\n    for (var i = 0; i < lines.length; i++) {\n        var line = lines[i];\n        var lineHeight = 0;\n        var lineWidth = 0;\n\n        for (var j = 0; j < line.tokens.length; j++) {\n            var token = line.tokens[j];\n            var tokenStyle = token.styleName && style.rich[token.styleName] || {};\n            // textPadding should not inherit from style.\n            var textPadding = token.textPadding = tokenStyle.textPadding;\n\n            // textFont has been asigned to font by `normalizeStyle`.\n            var font = token.font = tokenStyle.font || style.font;\n\n            // textHeight can be used when textVerticalAlign is specified in token.\n            var tokenHeight = token.textHeight = retrieve2(\n                // textHeight should not be inherited, consider it can be specified\n                // as box height of the block.\n                tokenStyle.textHeight, getLineHeight(font)\n            );\n            textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n            token.height = tokenHeight;\n            token.lineHeight = retrieve3(\n                tokenStyle.textLineHeight, style.textLineHeight, tokenHeight\n            );\n\n            token.textAlign = tokenStyle && tokenStyle.textAlign || style.textAlign;\n            token.textVerticalAlign = tokenStyle && tokenStyle.textVerticalAlign || 'middle';\n\n            if (truncateHeight != null && contentHeight + token.lineHeight > truncateHeight) {\n                return {lines: [], width: 0, height: 0};\n            }\n\n            token.textWidth = getWidth(token.text, font);\n            var tokenWidth = tokenStyle.textWidth;\n            var tokenWidthNotSpecified = tokenWidth == null || tokenWidth === 'auto';\n\n            // Percent width, can be `100%`, can be used in drawing separate\n            // line when box width is needed to be auto.\n            if (typeof tokenWidth === 'string' && tokenWidth.charAt(tokenWidth.length - 1) === '%') {\n                token.percentWidth = tokenWidth;\n                pendingList.push(token);\n                tokenWidth = 0;\n                // Do not truncate in this case, because there is no user case\n                // and it is too complicated.\n            }\n            else {\n                if (tokenWidthNotSpecified) {\n                    tokenWidth = token.textWidth;\n\n                    // FIXME: If image is not loaded and textWidth is not specified, calling\n                    // `getBoundingRect()` will not get correct result.\n                    var textBackgroundColor = tokenStyle.textBackgroundColor;\n                    var bgImg = textBackgroundColor && textBackgroundColor.image;\n\n                    // Use cases:\n                    // (1) If image is not loaded, it will be loaded at render phase and call\n                    // `dirty()` and `textBackgroundColor.image` will be replaced with the loaded\n                    // image, and then the right size will be calculated here at the next tick.\n                    // See `graphic/helper/text.js`.\n                    // (2) If image loaded, and `textBackgroundColor.image` is image src string,\n                    // use `imageHelper.findExistImage` to find cached image.\n                    // `imageHelper.findExistImage` will always be called here before\n                    // `imageHelper.createOrUpdateImage` in `graphic/helper/text.js#renderRichText`\n                    // which ensures that image will not be rendered before correct size calcualted.\n                    if (bgImg) {\n                        bgImg = findExistImage(bgImg);\n                        if (isImageReady(bgImg)) {\n                            tokenWidth = Math.max(tokenWidth, bgImg.width * tokenHeight / bgImg.height);\n                        }\n                    }\n                }\n\n                var paddingW = textPadding ? textPadding[1] + textPadding[3] : 0;\n                tokenWidth += paddingW;\n\n                var remianTruncWidth = truncateWidth != null ? truncateWidth - lineWidth : null;\n\n                if (remianTruncWidth != null && remianTruncWidth < tokenWidth) {\n                    if (!tokenWidthNotSpecified || remianTruncWidth < paddingW) {\n                        token.text = '';\n                        token.textWidth = tokenWidth = 0;\n                    }\n                    else {\n                        token.text = truncateText(\n                            token.text, remianTruncWidth - paddingW, font, truncate.ellipsis,\n                            {minChar: truncate.minChar}\n                        );\n                        token.textWidth = getWidth(token.text, font);\n                        tokenWidth = token.textWidth + paddingW;\n                    }\n                }\n            }\n\n            lineWidth += (token.width = tokenWidth);\n            tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n        }\n\n        line.width = lineWidth;\n        line.lineHeight = lineHeight;\n        contentHeight += lineHeight;\n        contentWidth = Math.max(contentWidth, lineWidth);\n    }\n\n    contentBlock.outerWidth = contentBlock.width = retrieve2(style.textWidth, contentWidth);\n    contentBlock.outerHeight = contentBlock.height = retrieve2(style.textHeight, contentHeight);\n\n    if (stlPadding) {\n        contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n        contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n    }\n\n    for (var i = 0; i < pendingList.length; i++) {\n        var token = pendingList[i];\n        var percentWidth = token.percentWidth;\n        // Should not base on outerWidth, because token can not be placed out of padding.\n        token.width = parseInt(percentWidth, 10) / 100 * contentWidth;\n    }\n\n    return contentBlock;\n}\n\nfunction pushTokens(block, str, styleName) {\n    var isEmptyStr = str === '';\n    var strs = str.split('\\n');\n    var lines = block.lines;\n\n    for (var i = 0; i < strs.length; i++) {\n        var text = strs[i];\n        var token = {\n            styleName: styleName,\n            text: text,\n            isLineHolder: !text && !isEmptyStr\n        };\n\n        // The first token should be appended to the last line.\n        if (!i) {\n            var tokens = (lines[lines.length - 1] || (lines[0] = {tokens: []})).tokens;\n\n            // Consider cases:\n            // (1) ''.split('\\n') => ['', '\\n', ''], the '' at the first item\n            // (which is a placeholder) should be replaced by new token.\n            // (2) A image backage, where token likes {a|}.\n            // (3) A redundant '' will affect textAlign in line.\n            // (4) tokens with the same tplName should not be merged, because\n            // they should be displayed in different box (with border and padding).\n            var tokensLen = tokens.length;\n            (tokensLen === 1 && tokens[0].isLineHolder)\n                ? (tokens[0] = token)\n                // Consider text is '', only insert when it is the \"lineHolder\" or\n                // \"emptyStr\". Otherwise a redundant '' will affect textAlign in line.\n                : ((text || !tokensLen || isEmptyStr) && tokens.push(token));\n        }\n        // Other tokens always start a new line.\n        else {\n            // If there is '', insert it as a placeholder.\n            lines.push({tokens: [token]});\n        }\n    }\n}\n\nfunction makeFont(style) {\n    // FIXME in node-canvas fontWeight is before fontStyle\n    // Use `fontSize` `fontFamily` to check whether font properties are defined.\n    return (style.fontSize || style.fontFamily) && [\n        style.fontStyle,\n        style.fontWeight,\n        (style.fontSize || 12) + 'px',\n        // If font properties are defined, `fontFamily` should not be ignored.\n        style.fontFamily || 'sans-serif'\n    ].join(' ') || style.textFont || style.font;\n}\n\nfunction buildPath(ctx, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var width = shape.width;\n    var height = shape.height;\n    var r = shape.r;\n    var r1;\n    var r2;\n    var r3;\n    var r4;\n\n    // Convert width and height to positive for better borderRadius\n    if (width < 0) {\n        x = x + width;\n        width = -width;\n    }\n    if (height < 0) {\n        y = y + height;\n        height = -height;\n    }\n\n    if (typeof r === 'number') {\n        r1 = r2 = r3 = r4 = r;\n    }\n    else if (r instanceof Array) {\n        if (r.length === 1) {\n            r1 = r2 = r3 = r4 = r[0];\n        }\n        else if (r.length === 2) {\n            r1 = r3 = r[0];\n            r2 = r4 = r[1];\n        }\n        else if (r.length === 3) {\n            r1 = r[0];\n            r2 = r4 = r[1];\n            r3 = r[2];\n        }\n        else {\n            r1 = r[0];\n            r2 = r[1];\n            r3 = r[2];\n            r4 = r[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = 0;\n    }\n\n    var total;\n    if (r1 + r2 > width) {\n        total = r1 + r2;\n        r1 *= width / total;\n        r2 *= width / total;\n    }\n    if (r3 + r4 > width) {\n        total = r3 + r4;\n        r3 *= width / total;\n        r4 *= width / total;\n    }\n    if (r2 + r3 > height) {\n        total = r2 + r3;\n        r2 *= height / total;\n        r3 *= height / total;\n    }\n    if (r1 + r4 > height) {\n        total = r1 + r4;\n        r1 *= height / total;\n        r4 *= height / total;\n    }\n    ctx.moveTo(x + r1, y);\n    ctx.lineTo(x + width - r2, y);\n    r2 !== 0 && ctx.quadraticCurveTo(\n        x + width, y, x + width, y + r2\n    );\n    ctx.lineTo(x + width, y + height - r3);\n    r3 !== 0 && ctx.quadraticCurveTo(\n        x + width, y + height, x + width - r3, y + height\n    );\n    ctx.lineTo(x + r4, y + height);\n    r4 !== 0 && ctx.quadraticCurveTo(\n        x, y + height, x, y + height - r4\n    );\n    ctx.lineTo(x, y + r1);\n    r1 !== 0 && ctx.quadraticCurveTo(x, y, x + r1, y);\n}\n\n// TODO: Have not support 'start', 'end' yet.\nvar VALID_TEXT_ALIGN = {left: 1, right: 1, center: 1};\nvar VALID_TEXT_VERTICAL_ALIGN = {top: 1, bottom: 1, middle: 1};\n\n/**\n * @param {module:zrender/graphic/Style} style\n * @return {module:zrender/graphic/Style} The input style.\n */\nfunction normalizeTextStyle(style) {\n    normalizeStyle(style);\n    each$1(style.rich, normalizeStyle);\n    return style;\n}\n\nfunction normalizeStyle(style) {\n    if (style) {\n\n        style.font = makeFont(style);\n\n        var textAlign = style.textAlign;\n        textAlign === 'middle' && (textAlign = 'center');\n        style.textAlign = (\n            textAlign == null || VALID_TEXT_ALIGN[textAlign]\n        ) ? textAlign : 'left';\n\n        // Compatible with textBaseline.\n        var textVerticalAlign = style.textVerticalAlign || style.textBaseline;\n        textVerticalAlign === 'center' && (textVerticalAlign = 'middle');\n        style.textVerticalAlign = (\n            textVerticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[textVerticalAlign]\n        ) ? textVerticalAlign : 'top';\n\n        var textPadding = style.textPadding;\n        if (textPadding) {\n            style.textPadding = normalizeCssArray(style.textPadding);\n        }\n    }\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {string} text\n * @param {module:zrender/graphic/Style} style\n * @param {Object|boolean} [rect] {x, y, width, height}\n *                  If set false, rect text is not used.\n */\nfunction renderText(hostEl, ctx, text, style, rect) {\n    style.rich\n        ? renderRichText(hostEl, ctx, text, style, rect)\n        : renderPlainText(hostEl, ctx, text, style, rect);\n}\n\nfunction renderPlainText(hostEl, ctx, text, style, rect) {\n    var font = setCtx(ctx, 'font', style.font || DEFAULT_FONT);\n\n    var textPadding = style.textPadding;\n\n    var contentBlock = hostEl.__textCotentBlock;\n    if (!contentBlock || hostEl.__dirty) {\n        contentBlock = hostEl.__textCotentBlock = parsePlainText(\n            text, font, textPadding, style.truncate\n        );\n    }\n\n    var outerHeight = contentBlock.outerHeight;\n\n    var textLines = contentBlock.lines;\n    var lineHeight = contentBlock.lineHeight;\n\n    var boxPos = getBoxPosition(outerHeight, style, rect);\n    var baseX = boxPos.baseX;\n    var baseY = boxPos.baseY;\n    var textAlign = boxPos.textAlign;\n    var textVerticalAlign = boxPos.textVerticalAlign;\n\n    // Origin of textRotation should be the base point of text drawing.\n    applyTextRotation(ctx, style, rect, baseX, baseY);\n\n    var boxY = adjustTextY(baseY, outerHeight, textVerticalAlign);\n    var textX = baseX;\n    var textY = boxY;\n\n    var needDrawBg = needDrawBackground(style);\n    if (needDrawBg || textPadding) {\n        // Consider performance, do not call getTextWidth util necessary.\n        var textWidth = getWidth(text, font);\n        var outerWidth = textWidth;\n        textPadding && (outerWidth += textPadding[1] + textPadding[3]);\n        var boxX = adjustTextX(baseX, outerWidth, textAlign);\n\n        needDrawBg && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n        if (textPadding) {\n            textX = getTextXForPadding(baseX, textAlign, textPadding);\n            textY += textPadding[0];\n        }\n    }\n\n    setCtx(ctx, 'textAlign', textAlign || 'left');\n    // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n    // text will offset downward a little bit in font \"Microsoft YaHei\".\n    setCtx(ctx, 'textBaseline', 'middle');\n\n    // Always set shadowBlur and shadowOffset to avoid leak from displayable.\n    setCtx(ctx, 'shadowBlur', style.textShadowBlur || 0);\n    setCtx(ctx, 'shadowColor', style.textShadowColor || 'transparent');\n    setCtx(ctx, 'shadowOffsetX', style.textShadowOffsetX || 0);\n    setCtx(ctx, 'shadowOffsetY', style.textShadowOffsetY || 0);\n\n    // `textBaseline` is set as 'middle'.\n    textY += lineHeight / 2;\n\n    var textStrokeWidth = style.textStrokeWidth;\n    var textStroke = getStroke(style.textStroke, textStrokeWidth);\n    var textFill = getFill(style.textFill);\n\n    if (textStroke) {\n        setCtx(ctx, 'lineWidth', textStrokeWidth);\n        setCtx(ctx, 'strokeStyle', textStroke);\n    }\n    if (textFill) {\n        setCtx(ctx, 'fillStyle', textFill);\n    }\n\n    for (var i = 0; i < textLines.length; i++) {\n        // Fill after stroke so the outline will not cover the main part.\n        textStroke && ctx.strokeText(textLines[i], textX, textY);\n        textFill && ctx.fillText(textLines[i], textX, textY);\n        textY += lineHeight;\n    }\n}\n\nfunction renderRichText(hostEl, ctx, text, style, rect) {\n    var contentBlock = hostEl.__textCotentBlock;\n\n    if (!contentBlock || hostEl.__dirty) {\n        contentBlock = hostEl.__textCotentBlock = parseRichText(text, style);\n    }\n\n    drawRichText(hostEl, ctx, contentBlock, style, rect);\n}\n\nfunction drawRichText(hostEl, ctx, contentBlock, style, rect) {\n    var contentWidth = contentBlock.width;\n    var outerWidth = contentBlock.outerWidth;\n    var outerHeight = contentBlock.outerHeight;\n    var textPadding = style.textPadding;\n\n    var boxPos = getBoxPosition(outerHeight, style, rect);\n    var baseX = boxPos.baseX;\n    var baseY = boxPos.baseY;\n    var textAlign = boxPos.textAlign;\n    var textVerticalAlign = boxPos.textVerticalAlign;\n\n    // Origin of textRotation should be the base point of text drawing.\n    applyTextRotation(ctx, style, rect, baseX, baseY);\n\n    var boxX = adjustTextX(baseX, outerWidth, textAlign);\n    var boxY = adjustTextY(baseY, outerHeight, textVerticalAlign);\n    var xLeft = boxX;\n    var lineTop = boxY;\n    if (textPadding) {\n        xLeft += textPadding[3];\n        lineTop += textPadding[0];\n    }\n    var xRight = xLeft + contentWidth;\n\n    needDrawBackground(style) && drawBackground(\n        hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight\n    );\n\n    for (var i = 0; i < contentBlock.lines.length; i++) {\n        var line = contentBlock.lines[i];\n        var tokens = line.tokens;\n        var tokenCount = tokens.length;\n        var lineHeight = line.lineHeight;\n        var usedWidth = line.width;\n\n        var leftIndex = 0;\n        var lineXLeft = xLeft;\n        var lineXRight = xRight;\n        var rightIndex = tokenCount - 1;\n        var token;\n\n        while (\n            leftIndex < tokenCount\n            && (token = tokens[leftIndex], !token.textAlign || token.textAlign === 'left')\n        ) {\n            placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft, 'left');\n            usedWidth -= token.width;\n            lineXLeft += token.width;\n            leftIndex++;\n        }\n\n        while (\n            rightIndex >= 0\n            && (token = tokens[rightIndex], token.textAlign === 'right')\n        ) {\n            placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXRight, 'right');\n            usedWidth -= token.width;\n            lineXRight -= token.width;\n            rightIndex--;\n        }\n\n        // The other tokens are placed as textAlign 'center' if there is enough space.\n        lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - usedWidth) / 2;\n        while (leftIndex <= rightIndex) {\n            token = tokens[leftIndex];\n            // Consider width specified by user, use 'center' rather than 'left'.\n            placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center');\n            lineXLeft += token.width;\n            leftIndex++;\n        }\n\n        lineTop += lineHeight;\n    }\n}\n\nfunction applyTextRotation(ctx, style, rect, x, y) {\n    // textRotation only apply in RectText.\n    if (rect && style.textRotation) {\n        var origin = style.textOrigin;\n        if (origin === 'center') {\n            x = rect.width / 2 + rect.x;\n            y = rect.height / 2 + rect.y;\n        }\n        else if (origin) {\n            x = origin[0] + rect.x;\n            y = origin[1] + rect.y;\n        }\n\n        ctx.translate(x, y);\n        // Positive: anticlockwise\n        ctx.rotate(-style.textRotation);\n        ctx.translate(-x, -y);\n    }\n}\n\nfunction placeToken(hostEl, ctx, token, style, lineHeight, lineTop, x, textAlign) {\n    var tokenStyle = style.rich[token.styleName] || {};\n\n    // 'ctx.textBaseline' is always set as 'middle', for sake of\n    // the bias of \"Microsoft YaHei\".\n    var textVerticalAlign = token.textVerticalAlign;\n    var y = lineTop + lineHeight / 2;\n    if (textVerticalAlign === 'top') {\n        y = lineTop + token.height / 2;\n    }\n    else if (textVerticalAlign === 'bottom') {\n        y = lineTop + lineHeight - token.height / 2;\n    }\n\n    !token.isLineHolder && needDrawBackground(tokenStyle) && drawBackground(\n        hostEl,\n        ctx,\n        tokenStyle,\n        textAlign === 'right'\n            ? x - token.width\n            : textAlign === 'center'\n            ? x - token.width / 2\n            : x,\n        y - token.height / 2,\n        token.width,\n        token.height\n    );\n\n    var textPadding = token.textPadding;\n    if (textPadding) {\n        x = getTextXForPadding(x, textAlign, textPadding);\n        y -= token.height / 2 - textPadding[2] - token.textHeight / 2;\n    }\n\n    setCtx(ctx, 'shadowBlur', retrieve3(tokenStyle.textShadowBlur, style.textShadowBlur, 0));\n    setCtx(ctx, 'shadowColor', tokenStyle.textShadowColor || style.textShadowColor || 'transparent');\n    setCtx(ctx, 'shadowOffsetX', retrieve3(tokenStyle.textShadowOffsetX, style.textShadowOffsetX, 0));\n    setCtx(ctx, 'shadowOffsetY', retrieve3(tokenStyle.textShadowOffsetY, style.textShadowOffsetY, 0));\n\n    setCtx(ctx, 'textAlign', textAlign);\n    // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n    // text will offset downward a little bit in font \"Microsoft YaHei\".\n    setCtx(ctx, 'textBaseline', 'middle');\n\n    setCtx(ctx, 'font', token.font || DEFAULT_FONT);\n\n    var textStroke = getStroke(tokenStyle.textStroke || style.textStroke, textStrokeWidth);\n    var textFill = getFill(tokenStyle.textFill || style.textFill);\n    var textStrokeWidth = retrieve2(tokenStyle.textStrokeWidth, style.textStrokeWidth);\n\n    // Fill after stroke so the outline will not cover the main part.\n    if (textStroke) {\n        setCtx(ctx, 'lineWidth', textStrokeWidth);\n        setCtx(ctx, 'strokeStyle', textStroke);\n        ctx.strokeText(token.text, x, y);\n    }\n    if (textFill) {\n        setCtx(ctx, 'fillStyle', textFill);\n        ctx.fillText(token.text, x, y);\n    }\n}\n\nfunction needDrawBackground(style) {\n    return style.textBackgroundColor\n        || (style.textBorderWidth && style.textBorderColor);\n}\n\n// style: {textBackgroundColor, textBorderWidth, textBorderColor, textBorderRadius}\n// shape: {x, y, width, height}\nfunction drawBackground(hostEl, ctx, style, x, y, width, height) {\n    var textBackgroundColor = style.textBackgroundColor;\n    var textBorderWidth = style.textBorderWidth;\n    var textBorderColor = style.textBorderColor;\n    var isPlainBg = isString(textBackgroundColor);\n\n    setCtx(ctx, 'shadowBlur', style.textBoxShadowBlur || 0);\n    setCtx(ctx, 'shadowColor', style.textBoxShadowColor || 'transparent');\n    setCtx(ctx, 'shadowOffsetX', style.textBoxShadowOffsetX || 0);\n    setCtx(ctx, 'shadowOffsetY', style.textBoxShadowOffsetY || 0);\n\n    if (isPlainBg || (textBorderWidth && textBorderColor)) {\n        ctx.beginPath();\n        var textBorderRadius = style.textBorderRadius;\n        if (!textBorderRadius) {\n            ctx.rect(x, y, width, height);\n        }\n        else {\n            buildPath(ctx, {\n                x: x, y: y, width: width, height: height, r: textBorderRadius\n            });\n        }\n        ctx.closePath();\n    }\n\n    if (isPlainBg) {\n        setCtx(ctx, 'fillStyle', textBackgroundColor);\n        ctx.fill();\n    }\n    else if (isObject(textBackgroundColor)) {\n        var image = textBackgroundColor.image;\n\n        image = createOrUpdateImage(\n            image, null, hostEl, onBgImageLoaded, textBackgroundColor\n        );\n        if (image && isImageReady(image)) {\n            ctx.drawImage(image, x, y, width, height);\n        }\n    }\n\n    if (textBorderWidth && textBorderColor) {\n        setCtx(ctx, 'lineWidth', textBorderWidth);\n        setCtx(ctx, 'strokeStyle', textBorderColor);\n        ctx.stroke();\n    }\n}\n\nfunction onBgImageLoaded(image, textBackgroundColor) {\n    // Replace image, so that `contain/text.js#parseRichText`\n    // will get correct result in next tick.\n    textBackgroundColor.image = image;\n}\n\nfunction getBoxPosition(blockHeiht, style, rect) {\n    var baseX = style.x || 0;\n    var baseY = style.y || 0;\n    var textAlign = style.textAlign;\n    var textVerticalAlign = style.textVerticalAlign;\n\n    // Text position represented by coord\n    if (rect) {\n        var textPosition = style.textPosition;\n        if (textPosition instanceof Array) {\n            // Percent\n            baseX = rect.x + parsePercent(textPosition[0], rect.width);\n            baseY = rect.y + parsePercent(textPosition[1], rect.height);\n        }\n        else {\n            var res = adjustTextPositionOnRect(\n                textPosition, rect, style.textDistance\n            );\n            baseX = res.x;\n            baseY = res.y;\n            // Default align and baseline when has textPosition\n            textAlign = textAlign || res.textAlign;\n            textVerticalAlign = textVerticalAlign || res.textVerticalAlign;\n        }\n\n        // textOffset is only support in RectText, otherwise\n        // we have to adjust boundingRect for textOffset.\n        var textOffset = style.textOffset;\n        if (textOffset) {\n            baseX += textOffset[0];\n            baseY += textOffset[1];\n        }\n    }\n\n    return {\n        baseX: baseX,\n        baseY: baseY,\n        textAlign: textAlign,\n        textVerticalAlign: textVerticalAlign\n    };\n}\n\nfunction setCtx(ctx, prop, value) {\n    // FIXME ??? performance try\n    // if (ctx.__currentValues[prop] !== value) {\n        // ctx[prop] = ctx.__currentValues[prop] = value;\n    ctx[prop] = value;\n    // }\n    return ctx[prop];\n}\n\n/**\n * @param {string} [stroke] If specified, do not check style.textStroke.\n * @param {string} [lineWidth] If specified, do not check style.textStroke.\n * @param {number} style\n */\nfunction getStroke(stroke, lineWidth) {\n    return (stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none')\n        ? null\n        // TODO pattern and gradient?\n        : (stroke.image || stroke.colorStops)\n        ? '#000'\n        : stroke;\n}\n\nfunction getFill(fill) {\n    return (fill == null || fill === 'none')\n        ? null\n        // TODO pattern and gradient?\n        : (fill.image || fill.colorStops)\n        ? '#000'\n        : fill;\n}\n\nfunction parsePercent(value, maxValue) {\n    if (typeof value === 'string') {\n        if (value.lastIndexOf('%') >= 0) {\n            return parseFloat(value) / 100 * maxValue;\n        }\n        return parseFloat(value);\n    }\n    return value;\n}\n\nfunction getTextXForPadding(x, textAlign, textPadding) {\n    return textAlign === 'right'\n        ? (x - textPadding[1])\n        : textAlign === 'center'\n        ? (x + textPadding[3] / 2 - textPadding[1] / 2)\n        : (x + textPadding[3]);\n}\n\n/**\n * @param {string} text\n * @param {module:zrender/Style} style\n * @return {boolean}\n */\nfunction needDrawText(text, style) {\n    return text != null\n        && (text\n            || style.textBackgroundColor\n            || (style.textBorderWidth && style.textBorderColor)\n            || style.textPadding\n        );\n}\n\n/**\n * Mixin for drawing text in a element bounding rect\n * @module zrender/mixin/RectText\n */\n\nvar tmpRect$1 = new BoundingRect();\n\nvar RectText = function () {};\n\nRectText.prototype = {\n\n    constructor: RectText,\n\n    /**\n     * Draw text in a rect with specified position.\n     * @param  {CanvasRenderingContext2D} ctx\n     * @param  {Object} rect Displayable rect\n     */\n    drawRectText: function (ctx, rect) {\n        var style = this.style;\n\n        rect = style.textRect || rect;\n\n        // Optimize, avoid normalize every time.\n        this.__dirty && normalizeTextStyle(style, true);\n\n        var text = style.text;\n\n        // Convert to string\n        text != null && (text += '');\n\n        if (!needDrawText(text, style)) {\n            return;\n        }\n\n        // FIXME\n        ctx.save();\n\n        // Transform rect to view space\n        var transform = this.transform;\n        if (!style.transformText) {\n            if (transform) {\n                tmpRect$1.copy(rect);\n                tmpRect$1.applyTransform(transform);\n                rect = tmpRect$1;\n            }\n        }\n        else {\n            this.setTransform(ctx);\n        }\n\n        // transformText and textRotation can not be used at the same time.\n        renderText(this, ctx, text, style, rect);\n\n        ctx.restore();\n    }\n};\n\n/**\n * \n * Base class of all displayable graphic objects\n * @module zrender/graphic/Displayable\n */\n\n\n/**\n * @alias module:zrender/graphic/Displayable\n * @extends module:zrender/Element\n * @extends module:zrender/graphic/mixin/RectText\n */\nfunction Displayable(opts) {\n\n    opts = opts || {};\n\n    Element.call(this, opts);\n\n    // Extend properties\n    for (var name in opts) {\n        if (\n            opts.hasOwnProperty(name) &&\n            name !== 'style'\n        ) {\n            this[name] = opts[name];\n        }\n    }\n\n    /**\n     * @type {module:zrender/graphic/Style}\n     */\n    this.style = new Style(opts.style, this);\n\n    this._rect = null;\n    // Shapes for cascade clipping.\n    this.__clipPaths = [];\n\n    // FIXME Stateful must be mixined after style is setted\n    // Stateful.call(this, opts);\n}\n\nDisplayable.prototype = {\n\n    constructor: Displayable,\n\n    type: 'displayable',\n\n    /**\n     * Displayable Painter \n     * Dirty flag. From which painter will determine if this displayable object needs brush\n     * @name module:zrender/graphic/Displayable#__dirty\n     * @type {boolean}\n     */\n    __dirty: true,\n\n    /**\n     * true\n     * If ignore drawing of the displayable object. Mouse event will still be triggered\n     * @name module:/zrender/graphic/Displayable#invisible\n     * @type {boolean}\n     * @default false\n     */\n    invisible: false,\n\n    /**\n     * @name module:/zrender/graphic/Displayable#z\n     * @type {number}\n     * @default 0\n     */\n    z: 0,\n\n    /**\n     * @name module:/zrender/graphic/Displayable#z\n     * @type {number}\n     * @default 0\n     */\n    z2: 0,\n\n    /**\n     * zlevelcanvas\n     * @name module:/zrender/graphic/Displayable#zlevel\n     * @type {number}\n     * @default 0\n     */\n    zlevel: 0,\n\n    /**\n     * \n     * @name module:/zrender/graphic/Displayable#draggable\n     * @type {boolean}\n     * @default false\n     */\n    draggable: false,\n\n    /**\n     * \n     * @name module:/zrender/graphic/Displayable#draggable\n     * @type {boolean}\n     * @default false\n     */\n    dragging: false,\n\n    /**\n     * \n     * @name module:/zrender/graphic/Displayable#silent\n     * @type {boolean}\n     * @default false\n     */\n    silent: false,\n\n    /**\n     * If enable culling\n     * @type {boolean}\n     * @default false\n     */\n    culling: false,\n\n    /**\n     * Mouse cursor when hovered\n     * @name module:/zrender/graphic/Displayable#cursor\n     * @type {string}\n     */\n    cursor: 'pointer',\n\n    /**\n     * If hover area is bounding rect\n     * @name module:/zrender/graphic/Displayable#rectHover\n     * @type {string}\n     */\n    rectHover: false,\n\n    /**\n     * Render the element progressively when the value >= 0,\n     * usefull for large data.\n     * @type {number}\n     */\n    progressive: -1,\n\n    beforeBrush: function (ctx) {},\n\n    afterBrush: function (ctx) {},\n\n    /**\n     * \n     * @param {CanvasRenderingContext2D} ctx\n     */\n    // Interface\n    brush: function (ctx, prevEl) {},\n\n    /**\n     * \n     * @return {module:zrender/core/BoundingRect}\n     */\n    // Interface\n    getBoundingRect: function () {},\n\n    /**\n     *  x, y \n     * If displayable element contain coord x, y\n     * @param  {number} x\n     * @param  {number} y\n     * @return {boolean}\n     */\n    contain: function (x, y) {\n        return this.rectContain(x, y);\n    },\n\n    /**\n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {\n        cb.call(context, this);\n    },\n\n    /**\n     *  x, y \n     * If bounding rect of element contain coord x, y\n     * @param  {number} x\n     * @param  {number} y\n     * @return {boolean}\n     */\n    rectContain: function (x, y) {\n        var coord = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        return rect.contain(coord[0], coord[1]);\n    },\n\n    /**\n     * \n     * Mark displayable element dirty and refresh next frame\n     */\n    dirty: function () {\n        this.__dirty = true;\n\n        this._rect = null;\n\n        this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * \n     * If displayable object binded any event\n     * @return {boolean}\n     */\n    // TODO,  bind \n    // isSilent: function () {\n    //     return !(\n    //         this.hoverable || this.draggable\n    //         || this.onmousemove || this.onmouseover || this.onmouseout\n    //         || this.onmousedown || this.onmouseup || this.onclick\n    //         || this.ondragenter || this.ondragover || this.ondragleave\n    //         || this.ondrop\n    //     );\n    // },\n    /**\n     * Alias for animate('style')\n     * @param {boolean} loop\n     */\n    animateStyle: function (loop) {\n        return this.animate('style', loop);\n    },\n\n    attrKV: function (key, value) {\n        if (key !== 'style') {\n            Element.prototype.attrKV.call(this, key, value);\n        }\n        else {\n            this.style.set(value);\n        }\n    },\n\n    /**\n     * @param {Object|string} key\n     * @param {*} value\n     */\n    setStyle: function (key, value) {\n        this.style.set(key, value);\n        this.dirty(false);\n        return this;\n    },\n\n    /**\n     * Use given style object\n     * @param  {Object} obj\n     */\n    useStyle: function (obj) {\n        this.style = new Style(obj, this);\n        this.dirty(false);\n        return this;\n    }\n};\n\ninherits(Displayable, Element);\n\nmixin(Displayable, RectText);\n\n/**\n * @alias zrender/graphic/Image\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\nfunction ZImage(opts) {\n    Displayable.call(this, opts);\n}\n\nZImage.prototype = {\n\n    constructor: ZImage,\n\n    type: 'image',\n\n    brush: function (ctx, prevEl) {\n        var style = this.style;\n        var src = style.image;\n\n        // Must bind each time\n        style.bind(ctx, this, prevEl);\n\n        var image = this._image = createOrUpdateImage(\n            src,\n            this._image,\n            this,\n            this.onload\n        );\n\n        if (!image || !isImageReady(image)) {\n            return;\n        }\n\n        // \n        // if (image.nodeName.toUpperCase() == 'IMG') {\n        //     if (!image.complete) {\n        //         return;\n        //     }\n        // }\n        // Else is canvas\n\n        var x = style.x || 0;\n        var y = style.y || 0;\n        var width = style.width;\n        var height = style.height;\n        var aspect = image.width / image.height;\n        if (width == null && height != null) {\n            // Keep image/height ratio\n            width = height * aspect;\n        }\n        else if (height == null && width != null) {\n            height = width / aspect;\n        }\n        else if (width == null && height == null) {\n            width = image.width;\n            height = image.height;\n        }\n\n        // transform\n        this.setTransform(ctx);\n\n        if (style.sWidth && style.sHeight) {\n            var sx = style.sx || 0;\n            var sy = style.sy || 0;\n            ctx.drawImage(\n                image,\n                sx, sy, style.sWidth, style.sHeight,\n                x, y, width, height\n            );\n        }\n        else if (style.sx && style.sy) {\n            var sx = style.sx;\n            var sy = style.sy;\n            var sWidth = width - sx;\n            var sHeight = height - sy;\n            ctx.drawImage(\n                image,\n                sx, sy, sWidth, sHeight,\n                x, y, width, height\n            );\n        }\n        else {\n            ctx.drawImage(image, x, y, width, height);\n        }\n\n        this.restoreTransform(ctx);\n\n        // Draw rect text\n        if (style.text != null) {\n            this.drawRectText(ctx, this.getBoundingRect());\n        }\n    },\n\n    getBoundingRect: function () {\n        var style = this.style;\n        if (! this._rect) {\n            this._rect = new BoundingRect(\n                style.x || 0, style.y || 0, style.width || 0, style.height || 0\n            );\n        }\n        return this._rect;\n    }\n};\n\ninherits(ZImage, Displayable);\n\n/**\n * Default canvas painter\n * @module zrender/Painter\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n *         pissang (https://www.github.com/pissang)\n */\n\n// PENDIGN\n// Layer exceeds MAX_PROGRESSIVE_LAYER_NUMBER may have some problem when flush directly second time.\n//\n// Maximum progressive layer. When exceeding this number. All elements will be drawed in the last layer.\nvar MAX_PROGRESSIVE_LAYER_NUMBER = 5;\n\nfunction parseInt10(val) {\n    return parseInt(val, 10);\n}\n\nfunction isLayerValid(layer) {\n    if (!layer) {\n        return false;\n    }\n\n    if (layer.__builtin__) {\n        return true;\n    }\n\n    if (typeof(layer.resize) !== 'function'\n        || typeof(layer.refresh) !== 'function'\n    ) {\n        return false;\n    }\n\n    return true;\n}\n\nfunction preProcessLayer(layer) {\n    layer.__unusedCount++;\n}\n\nfunction postProcessLayer(layer) {\n    if (layer.__unusedCount == 1) {\n        layer.clear();\n    }\n}\n\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar viewRect = new BoundingRect(0, 0, 0, 0);\nfunction isDisplayableCulled(el, width, height) {\n    tmpRect.copy(el.getBoundingRect());\n    if (el.transform) {\n        tmpRect.applyTransform(el.transform);\n    }\n    viewRect.width = width;\n    viewRect.height = height;\n    return !tmpRect.intersect(viewRect);\n}\n\nfunction isClipPathChanged(clipPaths, prevClipPaths) {\n    if (clipPaths == prevClipPaths) { // Can both be null or undefined\n        return false;\n    }\n\n    if (!clipPaths || !prevClipPaths || (clipPaths.length !== prevClipPaths.length)) {\n        return true;\n    }\n    for (var i = 0; i < clipPaths.length; i++) {\n        if (clipPaths[i] !== prevClipPaths[i]) {\n            return true;\n        }\n    }\n}\n\nfunction doClip(clipPaths, ctx) {\n    for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n\n        clipPath.setTransform(ctx);\n        ctx.beginPath();\n        clipPath.buildPath(ctx, clipPath.shape);\n        ctx.clip();\n        // Transform back\n        clipPath.restoreTransform(ctx);\n    }\n}\n\nfunction createRoot(width, height) {\n    var domRoot = document.createElement('div');\n\n    // domRoot.onselectstart = returnFalse; // \n    domRoot.style.cssText = [\n        'position:relative',\n        'overflow:hidden',\n        'width:' + width + 'px',\n        'height:' + height + 'px',\n        'padding:0',\n        'margin:0',\n        'border-width:0'\n    ].join(';') + ';';\n\n    return domRoot;\n}\n\n/**\n * @alias module:zrender/Painter\n * @constructor\n * @param {HTMLElement} root \n * @param {module:zrender/Storage} storage\n * @param {Object} opts\n */\nvar Painter = function (root, storage, opts) {\n\n    this.type = 'canvas';\n\n    // In node environment using node-canvas\n    var singleCanvas = !root.nodeName // In node ?\n        || root.nodeName.toUpperCase() === 'CANVAS';\n\n    this._opts = opts = extend({}, opts || {});\n\n    /**\n     * @type {number}\n     */\n    this.dpr = opts.devicePixelRatio || devicePixelRatio;\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this._singleCanvas = singleCanvas;\n    /**\n     * \n     * @type {HTMLElement}\n     */\n    this.root = root;\n\n    var rootStyle = root.style;\n\n    if (rootStyle) {\n        rootStyle['-webkit-tap-highlight-color'] = 'transparent';\n        rootStyle['-webkit-user-select'] =\n        rootStyle['user-select'] =\n        rootStyle['-webkit-touch-callout'] = 'none';\n\n        root.innerHTML = '';\n    }\n\n    /**\n     * @type {module:zrender/Storage}\n     */\n    this.storage = storage;\n\n    /**\n     * @type {Array.<number>}\n     * @private\n     */\n    var zlevelList = this._zlevelList = [];\n\n    /**\n     * @type {Object.<string, module:zrender/Layer>}\n     * @private\n     */\n    var layers = this._layers = {};\n\n    /**\n     * @type {Object.<string, Object>}\n     * @type {private}\n     */\n    this._layerConfig = {};\n\n    if (!singleCanvas) {\n        this._width = this._getSize(0);\n        this._height = this._getSize(1);\n\n        var domRoot = this._domRoot = createRoot(\n            this._width, this._height\n        );\n        root.appendChild(domRoot);\n    }\n    else {\n        if (opts.width != null) {\n            root.width = opts.width;\n        }\n        if (opts.height != null) {\n            root.height = opts.height;\n        }\n        // Use canvas width and height directly\n        var width = root.width;\n        var height = root.height;\n        this._width = width;\n        this._height = height;\n\n        // Create layer if only one given canvas\n        // Device pixel ratio is fixed to 1 because given canvas has its specified width and height\n        var mainLayer = new Layer(root, this, 1);\n        mainLayer.initContext();\n        // FIXME Use canvas width and height\n        // mainLayer.resize(width, height);\n        layers[0] = mainLayer;\n        zlevelList.push(0);\n\n        this._domRoot = root;\n    }\n\n    // Layers for progressive rendering\n    this._progressiveLayers = [];\n\n    /**\n     * @type {module:zrender/Layer}\n     * @private\n     */\n    this._hoverlayer;\n\n    this._hoverElements = [];\n};\n\nPainter.prototype = {\n\n    constructor: Painter,\n\n    getType: function () {\n        return 'canvas';\n    },\n\n    /**\n     * If painter use a single canvas\n     * @return {boolean}\n     */\n    isSingleCanvas: function () {\n        return this._singleCanvas;\n    },\n    /**\n     * @return {HTMLDivElement}\n     */\n    getViewportRoot: function () {\n        return this._domRoot;\n    },\n\n    getViewportRootOffset: function () {\n        var viewportRoot = this.getViewportRoot();\n        if (viewportRoot) {\n            return {\n                offsetLeft: viewportRoot.offsetLeft || 0,\n                offsetTop: viewportRoot.offsetTop || 0\n            };\n        }\n    },\n\n    /**\n     * \n     * @param {boolean} [paintAll=false] displayable\n     */\n    refresh: function (paintAll) {\n\n        var list = this.storage.getDisplayList(true);\n\n        var zlevelList = this._zlevelList;\n\n        this._paintList(list, paintAll);\n\n        // Paint custum layers\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            var layer = this._layers[z];\n            if (!layer.__builtin__ && layer.refresh) {\n                layer.refresh();\n            }\n        }\n\n        this.refreshHover();\n\n        if (this._progressiveLayers.length) {\n            this._startProgessive();\n        }\n\n        return this;\n    },\n\n    addHover: function (el, hoverStyle) {\n        if (el.__hoverMir) {\n            return;\n        }\n        var elMirror = new el.constructor({\n            style: el.style,\n            shape: el.shape\n        });\n        elMirror.__from = el;\n        el.__hoverMir = elMirror;\n        elMirror.setStyle(hoverStyle);\n        this._hoverElements.push(elMirror);\n    },\n\n    removeHover: function (el) {\n        var elMirror = el.__hoverMir;\n        var hoverElements = this._hoverElements;\n        var idx = indexOf(hoverElements, elMirror);\n        if (idx >= 0) {\n            hoverElements.splice(idx, 1);\n        }\n        el.__hoverMir = null;\n    },\n\n    clearHover: function (el) {\n        var hoverElements = this._hoverElements;\n        for (var i = 0; i < hoverElements.length; i++) {\n            var from = hoverElements[i].__from;\n            if (from) {\n                from.__hoverMir = null;\n            }\n        }\n        hoverElements.length = 0;\n    },\n\n    refreshHover: function () {\n        var hoverElements = this._hoverElements;\n        var len = hoverElements.length;\n        var hoverLayer = this._hoverlayer;\n        hoverLayer && hoverLayer.clear();\n\n        if (!len) {\n            return;\n        }\n        sort(hoverElements, this.storage.displayableSortFunc);\n\n        // Use a extream large zlevel\n        // FIXME?\n        if (!hoverLayer) {\n            hoverLayer = this._hoverlayer = this.getLayer(1e5);\n        }\n\n        var scope = {};\n        hoverLayer.ctx.save();\n        for (var i = 0; i < len;) {\n            var el = hoverElements[i];\n            var originalEl = el.__from;\n            // Original el is removed\n            // PENDING\n            if (!(originalEl && originalEl.__zr)) {\n                hoverElements.splice(i, 1);\n                originalEl.__hoverMir = null;\n                len--;\n                continue;\n            }\n            i++;\n\n            // Use transform\n            // FIXME style and shape ?\n            if (!originalEl.invisible) {\n                el.transform = originalEl.transform;\n                el.invTransform = originalEl.invTransform;\n                el.__clipPaths = originalEl.__clipPaths;\n                // el.\n                this._doPaintEl(el, hoverLayer, true, scope);\n            }\n        }\n        hoverLayer.ctx.restore();\n    },\n\n    _startProgessive: function () {\n        var self = this;\n\n        if (!self._furtherProgressive) {\n            return;\n        }\n\n        // Use a token to stop progress steps triggered by\n        // previous zr.refresh calling.\n        var token = self._progressiveToken = +new Date();\n\n        self._progress++;\n        requestAnimationFrame(step);\n\n        function step() {\n            // In case refreshed or disposed\n            if (token === self._progressiveToken && self.storage) {\n\n                self._doPaintList(self.storage.getDisplayList());\n\n                if (self._furtherProgressive) {\n                    self._progress++;\n                    requestAnimationFrame(step);\n                }\n                else {\n                    self._progressiveToken = -1;\n                }\n            }\n        }\n    },\n\n    _clearProgressive: function () {\n        this._progressiveToken = -1;\n        this._progress = 0;\n        each$1(this._progressiveLayers, function (layer) {\n            layer.__dirty && layer.clear();\n        });\n    },\n\n    _paintList: function (list, paintAll) {\n\n        if (paintAll == null) {\n            paintAll = false;\n        }\n\n        this._updateLayerStatus(list);\n\n        this._clearProgressive();\n\n        this.eachBuiltinLayer(preProcessLayer);\n\n        this._doPaintList(list, paintAll);\n\n        this.eachBuiltinLayer(postProcessLayer);\n    },\n\n    _doPaintList: function (list, paintAll) {\n        var currentLayer;\n        var currentZLevel;\n        var ctx;\n\n        // var invTransform = [];\n        var scope;\n\n        var progressiveLayerIdx = 0;\n        var currentProgressiveLayer;\n\n        var width = this._width;\n        var height = this._height;\n        var layerProgress;\n        var frame = this._progress;\n        function flushProgressiveLayer(layer) {\n            var dpr = ctx.dpr || 1;\n            ctx.save();\n            ctx.globalAlpha = 1;\n            ctx.shadowBlur = 0;\n            // Avoid layer don't clear in next progressive frame\n            currentLayer.__dirty = true;\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n            ctx.drawImage(layer.dom, 0, 0, width * dpr, height * dpr);\n            ctx.restore();\n        }\n\n        for (var i = 0, l = list.length; i < l; i++) {\n            var el = list[i];\n            var elZLevel = this._singleCanvas ? 0 : el.zlevel;\n\n            var elFrame = el.__frame;\n\n            // Flush at current context\n            // PENDING\n            if (elFrame < 0 && currentProgressiveLayer) {\n                flushProgressiveLayer(currentProgressiveLayer);\n                currentProgressiveLayer = null;\n            }\n\n            // Change draw layer\n            if (currentZLevel !== elZLevel) {\n                if (ctx) {\n                    ctx.restore();\n                }\n\n                // Reset scope\n                scope = {};\n\n                // Only 0 zlevel if only has one canvas\n                currentZLevel = elZLevel;\n                currentLayer = this.getLayer(currentZLevel);\n\n                if (!currentLayer.__builtin__) {\n                    zrLog(\n                        'ZLevel ' + currentZLevel\n                        + ' has been used by unkown layer ' + currentLayer.id\n                    );\n                }\n\n                ctx = currentLayer.ctx;\n                ctx.save();\n\n                // Reset the count\n                currentLayer.__unusedCount = 0;\n\n                if (currentLayer.__dirty || paintAll) {\n                    currentLayer.clear();\n                }\n            }\n\n            if (!(currentLayer.__dirty || paintAll)) {\n                continue;\n            }\n\n            if (elFrame >= 0) {\n                // Progressive layer changed\n                if (!currentProgressiveLayer) {\n                    currentProgressiveLayer = this._progressiveLayers[\n                        Math.min(progressiveLayerIdx++, MAX_PROGRESSIVE_LAYER_NUMBER - 1)\n                    ];\n\n                    currentProgressiveLayer.ctx.save();\n                    currentProgressiveLayer.renderScope = {};\n\n                    if (currentProgressiveLayer\n                        && (currentProgressiveLayer.__progress > currentProgressiveLayer.__maxProgress)\n                    ) {\n                        // flushProgressiveLayer(currentProgressiveLayer);\n                        // Quick jump all progressive elements\n                        // All progressive element are not dirty, jump over and flush directly\n                        i = currentProgressiveLayer.__nextIdxNotProg - 1;\n                        // currentProgressiveLayer = null;\n                        continue;\n                    }\n\n                    layerProgress = currentProgressiveLayer.__progress;\n\n                    if (!currentProgressiveLayer.__dirty) {\n                        // Keep rendering\n                        frame = layerProgress;\n                    }\n\n                    currentProgressiveLayer.__progress = frame + 1;\n                }\n\n                if (elFrame === frame) {\n                    this._doPaintEl(el, currentProgressiveLayer, true, currentProgressiveLayer.renderScope);\n                }\n            }\n            else {\n                this._doPaintEl(el, currentLayer, paintAll, scope);\n            }\n\n            el.__dirty = false;\n        }\n\n        if (currentProgressiveLayer) {\n            flushProgressiveLayer(currentProgressiveLayer);\n        }\n\n        // Restore the lastLayer ctx\n        ctx && ctx.restore();\n        // If still has clipping state\n        // if (scope.prevElClipPaths) {\n        //     ctx.restore();\n        // }\n\n        this._furtherProgressive = false;\n        each$1(this._progressiveLayers, function (layer) {\n            if (layer.__maxProgress >= layer.__progress) {\n                this._furtherProgressive = true;\n            }\n        }, this);\n    },\n\n    _doPaintEl: function (el, currentLayer, forcePaint, scope) {\n        var ctx = currentLayer.ctx;\n        var m = el.transform;\n        if (\n            (currentLayer.__dirty || forcePaint)\n            // Ignore invisible element\n            && !el.invisible\n            // Ignore transparent element\n            && el.style.opacity !== 0\n            // Ignore scale 0 element, in some environment like node-canvas\n            // Draw a scale 0 element can cause all following draw wrong\n            // And setTransform with scale 0 will cause set back transform failed.\n            && !(m && !m[0] && !m[3])\n            // Ignore culled element\n            && !(el.culling && isDisplayableCulled(el, this._width, this._height))\n        ) {\n\n            var clipPaths = el.__clipPaths;\n\n            // Optimize when clipping on group with several elements\n            if (scope.prevClipLayer !== currentLayer\n                || isClipPathChanged(clipPaths, scope.prevElClipPaths)\n            ) {\n                // If has previous clipping state, restore from it\n                if (scope.prevElClipPaths) {\n                    scope.prevClipLayer.ctx.restore();\n                    scope.prevClipLayer = scope.prevElClipPaths = null;\n\n                    // Reset prevEl since context has been restored\n                    scope.prevEl = null;\n                }\n                // New clipping state\n                if (clipPaths) {\n                    ctx.save();\n                    doClip(clipPaths, ctx);\n                    scope.prevClipLayer = currentLayer;\n                    scope.prevElClipPaths = clipPaths;\n                }\n            }\n            el.beforeBrush && el.beforeBrush(ctx);\n\n            el.brush(ctx, scope.prevEl || null);\n            scope.prevEl = el;\n\n            el.afterBrush && el.afterBrush(ctx);\n        }\n    },\n\n    /**\n     *  zlevel \n     * @param {number} zlevel\n     * @return {module:zrender/Layer}\n     */\n    getLayer: function (zlevel) {\n        if (this._singleCanvas) {\n            return this._layers[0];\n        }\n\n        var layer = this._layers[zlevel];\n        if (!layer) {\n            // Create a new layer\n            layer = new Layer('zr_' + zlevel, this, this.dpr);\n            layer.__builtin__ = true;\n\n            if (this._layerConfig[zlevel]) {\n                merge(layer, this._layerConfig[zlevel], true);\n            }\n\n            this.insertLayer(zlevel, layer);\n\n            // Context is created after dom inserted to document\n            // Or excanvas will get 0px clientWidth and clientHeight\n            layer.initContext();\n        }\n\n        return layer;\n    },\n\n    insertLayer: function (zlevel, layer) {\n\n        var layersMap = this._layers;\n        var zlevelList = this._zlevelList;\n        var len = zlevelList.length;\n        var prevLayer = null;\n        var i = -1;\n        var domRoot = this._domRoot;\n\n        if (layersMap[zlevel]) {\n            zrLog('ZLevel ' + zlevel + ' has been used already');\n            return;\n        }\n        // Check if is a valid layer\n        if (!isLayerValid(layer)) {\n            zrLog('Layer of zlevel ' + zlevel + ' is not valid');\n            return;\n        }\n\n        if (len > 0 && zlevel > zlevelList[0]) {\n            for (i = 0; i < len - 1; i++) {\n                if (\n                    zlevelList[i] < zlevel\n                    && zlevelList[i + 1] > zlevel\n                ) {\n                    break;\n                }\n            }\n            prevLayer = layersMap[zlevelList[i]];\n        }\n        zlevelList.splice(i + 1, 0, zlevel);\n\n        layersMap[zlevel] = layer;\n\n        // Vitual layer will not directly show on the screen.\n        // (It can be a WebGL layer and assigned to a ZImage element)\n        // But it still under management of zrender.\n        if (!layer.virtual) {\n            if (prevLayer) {\n                var prevDom = prevLayer.dom;\n                if (prevDom.nextSibling) {\n                    domRoot.insertBefore(\n                        layer.dom,\n                        prevDom.nextSibling\n                    );\n                }\n                else {\n                    domRoot.appendChild(layer.dom);\n                }\n            }\n            else {\n                if (domRoot.firstChild) {\n                    domRoot.insertBefore(layer.dom, domRoot.firstChild);\n                }\n                else {\n                    domRoot.appendChild(layer.dom);\n                }\n            }\n        }\n    },\n\n    // Iterate each layer\n    eachLayer: function (cb, context) {\n        var zlevelList = this._zlevelList;\n        var z;\n        var i;\n        for (i = 0; i < zlevelList.length; i++) {\n            z = zlevelList[i];\n            cb.call(context, this._layers[z], z);\n        }\n    },\n\n    // Iterate each buildin layer\n    eachBuiltinLayer: function (cb, context) {\n        var zlevelList = this._zlevelList;\n        var layer;\n        var z;\n        var i;\n        for (i = 0; i < zlevelList.length; i++) {\n            z = zlevelList[i];\n            layer = this._layers[z];\n            if (layer.__builtin__) {\n                cb.call(context, layer, z);\n            }\n        }\n    },\n\n    // Iterate each other layer except buildin layer\n    eachOtherLayer: function (cb, context) {\n        var zlevelList = this._zlevelList;\n        var layer;\n        var z;\n        var i;\n        for (i = 0; i < zlevelList.length; i++) {\n            z = zlevelList[i];\n            layer = this._layers[z];\n            if (!layer.__builtin__) {\n                cb.call(context, layer, z);\n            }\n        }\n    },\n\n    /**\n     * \n     * @param {Array.<module:zrender/Layer>} [prevLayer]\n     */\n    getLayers: function () {\n        return this._layers;\n    },\n\n    _updateLayerStatus: function (list) {\n\n        var layers = this._layers;\n        var progressiveLayers = this._progressiveLayers;\n\n        var elCountsLastFrame = {};\n        var progressiveElCountsLastFrame = {};\n\n        this.eachBuiltinLayer(function (layer, z) {\n            elCountsLastFrame[z] = layer.elCount;\n            layer.elCount = 0;\n            layer.__dirty = false;\n        });\n\n        each$1(progressiveLayers, function (layer, idx) {\n            progressiveElCountsLastFrame[idx] = layer.elCount;\n            layer.elCount = 0;\n            layer.__dirty = false;\n        });\n\n        var progressiveLayerCount = 0;\n        var currentProgressiveLayer;\n        var lastProgressiveKey;\n        var frameCount = 0;\n        for (var i = 0, l = list.length; i < l; i++) {\n            var el = list[i];\n            var zlevel = this._singleCanvas ? 0 : el.zlevel;\n            var layer = layers[zlevel];\n            var elProgress = el.progressive;\n            if (layer) {\n                layer.elCount++;\n                layer.__dirty = layer.__dirty || el.__dirty;\n            }\n\n            /////// Update progressive\n            if (elProgress >= 0) {\n                // Fix wrong progressive sequence problem.\n                if (lastProgressiveKey !== elProgress) {\n                    lastProgressiveKey = elProgress;\n                    frameCount++;\n                }\n                var elFrame = el.__frame = frameCount - 1;\n                if (!currentProgressiveLayer) {\n                    var idx = Math.min(progressiveLayerCount, MAX_PROGRESSIVE_LAYER_NUMBER - 1);\n                    currentProgressiveLayer = progressiveLayers[idx];\n                    if (!currentProgressiveLayer) {\n                        currentProgressiveLayer = progressiveLayers[idx] = new Layer(\n                            'progressive', this, this.dpr\n                        );\n                        currentProgressiveLayer.initContext();\n                    }\n                    currentProgressiveLayer.__maxProgress = 0;\n                }\n                currentProgressiveLayer.__dirty = currentProgressiveLayer.__dirty || el.__dirty;\n                currentProgressiveLayer.elCount++;\n\n                currentProgressiveLayer.__maxProgress = Math.max(\n                    currentProgressiveLayer.__maxProgress, elFrame\n                );\n\n                if (currentProgressiveLayer.__maxProgress >= currentProgressiveLayer.__progress) {\n                    // Should keep rendering this  layer because progressive rendering is not finished yet\n                    layer.__dirty = true;\n                }\n            }\n            else {\n                el.__frame = -1;\n\n                if (currentProgressiveLayer) {\n                    currentProgressiveLayer.__nextIdxNotProg = i;\n                    progressiveLayerCount++;\n                    currentProgressiveLayer = null;\n                }\n            }\n        }\n\n        if (currentProgressiveLayer) {\n            progressiveLayerCount++;\n            currentProgressiveLayer.__nextIdxNotProg = i;\n        }\n\n        // \n        this.eachBuiltinLayer(function (layer, z) {\n            if (elCountsLastFrame[z] !== layer.elCount) {\n                layer.__dirty = true;\n            }\n        });\n\n        progressiveLayers.length = Math.min(progressiveLayerCount, MAX_PROGRESSIVE_LAYER_NUMBER);\n        each$1(progressiveLayers, function (layer, idx) {\n            if (progressiveElCountsLastFrame[idx] !== layer.elCount) {\n                el.__dirty = true;\n            }\n            if (layer.__dirty) {\n                layer.__progress = 0;\n            }\n        });\n    },\n\n    /**\n     * hover\n     */\n    clear: function () {\n        this.eachBuiltinLayer(this._clearLayer);\n        return this;\n    },\n\n    _clearLayer: function (layer) {\n        layer.clear();\n    },\n\n    /**\n     * zlevel\n     *\n     * @param {string} zlevel\n     * @param {Object} config \n     * @param {string} [config.clearColor=0] \n     * @param {string} [config.motionBlur=false] \n     * @param {number} [config.lastFrameAlpha=0.7]\n     *                 alpha\n     */\n    configLayer: function (zlevel, config) {\n        if (config) {\n            var layerConfig = this._layerConfig;\n            if (!layerConfig[zlevel]) {\n                layerConfig[zlevel] = config;\n            }\n            else {\n                merge(layerConfig[zlevel], config, true);\n            }\n\n            var layer = this._layers[zlevel];\n\n            if (layer) {\n                merge(layer, layerConfig[zlevel], true);\n            }\n        }\n    },\n\n    /**\n     * \n     * @param {number} zlevel zlevel\n     */\n    delLayer: function (zlevel) {\n        var layers = this._layers;\n        var zlevelList = this._zlevelList;\n        var layer = layers[zlevel];\n        if (!layer) {\n            return;\n        }\n        layer.dom.parentNode.removeChild(layer.dom);\n        delete layers[zlevel];\n\n        zlevelList.splice(indexOf(zlevelList, zlevel), 1);\n    },\n\n    /**\n     * \n     */\n    resize: function (width, height) {\n        var domRoot = this._domRoot;\n        // FIXME Why ?\n        domRoot.style.display = 'none';\n\n        // Save input w/h\n        var opts = this._opts;\n        width != null && (opts.width = width);\n        height != null && (opts.height = height);\n\n        width = this._getSize(0);\n        height = this._getSize(1);\n\n        domRoot.style.display = '';\n\n        // resize\n        if (this._width != width || height != this._height) {\n            domRoot.style.width = width + 'px';\n            domRoot.style.height = height + 'px';\n\n            for (var id in this._layers) {\n                if (this._layers.hasOwnProperty(id)) {\n                    this._layers[id].resize(width, height);\n                }\n            }\n            each$1(this._progressiveLayers, function (layer) {\n                layer.resize(width, height);\n            });\n\n            this.refresh(true);\n        }\n\n        this._width = width;\n        this._height = height;\n\n        return this;\n    },\n\n    /**\n     * \n     * @param {number} zlevel\n     */\n    clearLayer: function (zlevel) {\n        var layer = this._layers[zlevel];\n        if (layer) {\n            layer.clear();\n        }\n    },\n\n    /**\n     * \n     */\n    dispose: function () {\n        this.root.innerHTML = '';\n\n        this.root =\n        this.storage =\n\n        this._domRoot =\n        this._layers = null;\n    },\n\n    /**\n     * Get canvas which has all thing rendered\n     * @param {Object} opts\n     * @param {string} [opts.backgroundColor]\n     * @param {number} [opts.pixelRatio]\n     */\n    getRenderedCanvas: function (opts) {\n        opts = opts || {};\n        if (this._singleCanvas) {\n            return this._layers[0].dom;\n        }\n\n        var imageLayer = new Layer('image', this, opts.pixelRatio || this.dpr);\n        imageLayer.initContext();\n\n        imageLayer.clearColor = opts.backgroundColor;\n        imageLayer.clear();\n\n        var displayList = this.storage.getDisplayList(true);\n\n        var scope = {};\n        var zlevel;\n\n        var self = this;\n        function findAndDrawOtherLayer(smaller, larger) {\n            var zlevelList = self._zlevelList;\n            if (smaller == null) {\n                smaller = -Infinity;\n            }\n            var intermediateLayer;\n            for (var i = 0; i < zlevelList.length; i++) {\n                var z = zlevelList[i];\n                var layer = self._layers[z];\n                if (!layer.__builtin__ && z > smaller && z < larger) {\n                    intermediateLayer = layer;\n                    break;\n                }\n            }\n            if (intermediateLayer && intermediateLayer.renderToCanvas) {\n                imageLayer.ctx.save();\n                intermediateLayer.renderToCanvas(imageLayer.ctx);\n                imageLayer.ctx.restore();\n            }\n        }\n        for (var i = 0; i < displayList.length; i++) {\n            var el = displayList[i];\n\n            if (el.zlevel !== zlevel) {\n                findAndDrawOtherLayer(zlevel, el.zlevel);\n                zlevel = el.zlevel;\n            }\n            this._doPaintEl(el, imageLayer, true, scope);\n        }\n\n        findAndDrawOtherLayer(zlevel, Infinity);\n\n        return imageLayer.dom;\n    },\n    /**\n     * \n     */\n    getWidth: function () {\n        return this._width;\n    },\n\n    /**\n     * \n     */\n    getHeight: function () {\n        return this._height;\n    },\n\n    _getSize: function (whIdx) {\n        var opts = this._opts;\n        var wh = ['width', 'height'][whIdx];\n        var cwh = ['clientWidth', 'clientHeight'][whIdx];\n        var plt = ['paddingLeft', 'paddingTop'][whIdx];\n        var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n        if (opts[wh] != null && opts[wh] !== 'auto') {\n            return parseFloat(opts[wh]);\n        }\n\n        var root = this.root;\n        // IE8 does not support getComputedStyle, but it use VML.\n        var stl = document.defaultView.getComputedStyle(root);\n\n        return (\n            (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh]))\n            - (parseInt10(stl[plt]) || 0)\n            - (parseInt10(stl[prb]) || 0)\n        ) | 0;\n    },\n\n    pathToImage: function (path, dpr) {\n        dpr = dpr || this.dpr;\n\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        var rect = path.getBoundingRect();\n        var style = path.style;\n        var shadowBlurSize = style.shadowBlur;\n        var shadowOffsetX = style.shadowOffsetX;\n        var shadowOffsetY = style.shadowOffsetY;\n        var lineWidth = style.hasStroke() ? style.lineWidth : 0;\n\n        var leftMargin = Math.max(lineWidth / 2, -shadowOffsetX + shadowBlurSize);\n        var rightMargin = Math.max(lineWidth / 2, shadowOffsetX + shadowBlurSize);\n        var topMargin = Math.max(lineWidth / 2, -shadowOffsetY + shadowBlurSize);\n        var bottomMargin = Math.max(lineWidth / 2, shadowOffsetY + shadowBlurSize);\n        var width = rect.width + leftMargin + rightMargin;\n        var height = rect.height + topMargin + bottomMargin;\n\n        canvas.width = width * dpr;\n        canvas.height = height * dpr;\n\n        ctx.scale(dpr, dpr);\n        ctx.clearRect(0, 0, width, height);\n        ctx.dpr = dpr;\n\n        var pathTransform = {\n            position: path.position,\n            rotation: path.rotation,\n            scale: path.scale\n        };\n        path.position = [leftMargin - rect.x, topMargin - rect.y];\n        path.rotation = 0;\n        path.scale = [1, 1];\n        path.updateTransform();\n        if (path) {\n            path.brush(ctx);\n        }\n\n        var ImageShape = ZImage;\n        var imgShape = new ImageShape({\n            style: {\n                x: 0,\n                y: 0,\n                image: canvas\n            }\n        });\n\n        if (pathTransform.position != null) {\n            imgShape.position = path.position = pathTransform.position;\n        }\n\n        if (pathTransform.rotation != null) {\n            imgShape.rotation = path.rotation = pathTransform.rotation;\n        }\n\n        if (pathTransform.scale != null) {\n            imgShape.scale = path.scale = pathTransform.scale;\n        }\n\n        return imgShape;\n    }\n};\n\n/**\n * \n * @module zrender/core/event\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n */\n\nvar isDomLevel2 = (typeof window !== 'undefined') && !!window.addEventListener;\n\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\n\nfunction getBoundingClientRect(el) {\n    // BlackBerry 5, iOS 3 (original iPhone) don't have getBoundingRect\n    return el.getBoundingClientRect ? el.getBoundingClientRect() : {left: 0, top: 0};\n}\n\n// `calculate` is optional, default false\nfunction clientToLocal(el, e, out, calculate) {\n    out = out || {};\n\n    // According to the W3C Working Draft, offsetX and offsetY should be relative\n    // to the padding edge of the target element. The only browser using this convention\n    // is IE. Webkit uses the border edge, Opera uses the content edge, and FireFox does\n    // not support the properties.\n    // (see http://www.jacklmoore.com/notes/mouse-position/)\n    // In zr painter.dom, padding edge equals to border edge.\n\n    // FIXME\n    // When mousemove event triggered on ec tooltip, target is not zr painter.dom, and\n    // offsetX/Y is relative to e.target, where the calculation of zrX/Y via offsetX/Y\n    // is too complex. So css-transfrom dont support in this case temporarily.\n    if (calculate || !env$1.canvasSupported) {\n        defaultGetZrXY(el, e, out);\n    }\n    // Caution: In FireFox, layerX/layerY Mouse position relative to the closest positioned\n    // ancestor element, so we should make sure el is positioned (e.g., not position:static).\n    // BTW1, Webkit don't return the same results as FF in non-simple cases (like add\n    // zoom-factor, overflow / opacity layers, transforms ...)\n    // BTW2, (ev.offsetY || ev.pageY - $(ev.target).offset().top) is not correct in preserve-3d.\n    // <https://bugs.jquery.com/ticket/8523#comment:14>\n    // BTW3, In ff, offsetX/offsetY is always 0.\n    else if (env$1.browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n    }\n    // For IE6+, chrome, safari, opera. (When will ff support offsetX?)\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n    }\n    // For some other device, e.g., IOS safari.\n    else {\n        defaultGetZrXY(el, e, out);\n    }\n\n    return out;\n}\n\nfunction defaultGetZrXY(el, e, out) {\n    // This well-known method below does not support css transform.\n    var box = getBoundingClientRect(el);\n    out.zrX = e.clientX - box.left;\n    out.zrY = e.clientY - box.top;\n}\n\n/**\n * domtouch.\n * `calculate` is optional, default false.\n */\nfunction normalizeEvent(el, e, calculate) {\n\n    e = e || window.event;\n\n    if (e.zrX != null) {\n        return e;\n    }\n\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n\n    if (!isTouch) {\n        clientToLocal(el, e, e, calculate);\n        e.zrDelta = (e.wheelDelta) ? e.wheelDelta / 120 : -(e.detail || 0) / 3;\n    }\n    else {\n        var touch = eventType != 'touchend'\n            ? e.targetTouches[0]\n            : e.changedTouches[0];\n        touch && clientToLocal(el, touch, e, calculate);\n    }\n\n    // Add which for click: 1 === left; 2 === middle; 3 === right; otherwise: 0;\n    // See jQuery: https://github.com/jquery/jquery/blob/master/src/event.js\n    // If e.which has been defined, if may be readonly,\n    // see: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n    var button = e.button;\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n\n    return e;\n}\n\nfunction addEventListener(el, name, handler) {\n    if (isDomLevel2) {\n        el.addEventListener(name, handler);\n    }\n    else {\n        el.attachEvent('on' + name, handler);\n    }\n}\n\nfunction removeEventListener(el, name, handler) {\n    if (isDomLevel2) {\n        el.removeEventListener(name, handler);\n    }\n    else {\n        el.detachEvent('on' + name, handler);\n    }\n}\n\n/**\n * preventDefault and stopPropagation.\n * Notice: do not do that in zrender. Upper application\n * do that if necessary.\n *\n * @memberOf module:zrender/core/event\n * @method\n * @param {Event} e : event\n */\nvar stop = isDomLevel2\n    ? function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        e.cancelBubble = true;\n    }\n    : function (e) {\n        e.returnValue = false;\n        e.cancelBubble = true;\n    };\n\nfunction notLeftMouse(e) {\n    // If e.which is undefined, considered as left mouse event.\n    return e.which > 1;\n}\n\n/**\n * , \n *\n * @module zrender/animation/Animation\n * @author pissang(https://github.com/pissang)\n */\n// TODO Additive animation\n// http://iosoteric.com/additive-animations-animatewithduration-in-ios-8/\n// https://developer.apple.com/videos/wwdc2014/#236\n\n/**\n * @typedef {Object} IZRenderStage\n * @property {Function} update\n */\n\n/**\n * @alias module:zrender/animation/Animation\n * @constructor\n * @param {Object} [options]\n * @param {Function} [options.onframe]\n * @param {IZRenderStage} [options.stage]\n * @example\n *     var animation = new Animation();\n *     var obj = {\n *         x: 100,\n *         y: 100\n *     };\n *     animation.animate(node.position)\n *         .when(1000, {\n *             x: 500,\n *             y: 500\n *         })\n *         .when(2000, {\n *             x: 100,\n *             y: 100\n *         })\n *         .start('spline');\n */\nvar Animation = function (options) {\n\n    options = options || {};\n\n    this.stage = options.stage || {};\n\n    this.onframe = options.onframe || function() {};\n\n    // private properties\n    this._clips = [];\n\n    this._running = false;\n\n    this._time;\n\n    this._pausedTime;\n\n    this._pauseStart;\n\n    this._paused = false;\n\n    Eventful.call(this);\n};\n\nAnimation.prototype = {\n\n    constructor: Animation,\n    /**\n     *  clip\n     * @param {module:zrender/animation/Clip} clip\n     */\n    addClip: function (clip) {\n        this._clips.push(clip);\n    },\n    /**\n     *  animator\n     * @param {module:zrender/animation/Animator} animator\n     */\n    addAnimator: function (animator) {\n        animator.animation = this;\n        var clips = animator.getClips();\n        for (var i = 0; i < clips.length; i++) {\n            this.addClip(clips[i]);\n        }\n    },\n    /**\n     * \n     * @param {module:zrender/animation/Clip} clip\n     */\n    removeClip: function(clip) {\n        var idx = indexOf(this._clips, clip);\n        if (idx >= 0) {\n            this._clips.splice(idx, 1);\n        }\n    },\n\n    /**\n     * \n     * @param {module:zrender/animation/Animator} animator\n     */\n    removeAnimator: function (animator) {\n        var clips = animator.getClips();\n        for (var i = 0; i < clips.length; i++) {\n            this.removeClip(clips[i]);\n        }\n        animator.animation = null;\n    },\n\n    _update: function() {\n\n        var time = new Date().getTime() - this._pausedTime;\n        var delta = time - this._time;\n        var clips = this._clips;\n        var len = clips.length;\n\n        var deferredEvents = [];\n        var deferredClips = [];\n        for (var i = 0; i < len; i++) {\n            var clip = clips[i];\n            var e = clip.step(time, delta);\n            // Throw out the events need to be called after\n            // stage.update, like destroy\n            if (e) {\n                deferredEvents.push(e);\n                deferredClips.push(clip);\n            }\n        }\n\n        // Remove the finished clip\n        for (var i = 0; i < len;) {\n            if (clips[i]._needsRemove) {\n                clips[i] = clips[len - 1];\n                clips.pop();\n                len--;\n            }\n            else {\n                i++;\n            }\n        }\n\n        len = deferredEvents.length;\n        for (var i = 0; i < len; i++) {\n            deferredClips[i].fire(deferredEvents[i]);\n        }\n\n        this._time = time;\n\n        this.onframe(delta);\n\n        this.trigger('frame', delta);\n\n        if (this.stage.update) {\n            this.stage.update();\n        }\n    },\n\n    _startLoop: function () {\n        var self = this;\n\n        this._running = true;\n\n        function step() {\n            if (self._running) {\n\n                requestAnimationFrame(step);\n\n                !self._paused && self._update();\n            }\n        }\n\n        requestAnimationFrame(step);\n    },\n\n    /**\n     * \n     */\n    start: function () {\n\n        this._time = new Date().getTime();\n        this._pausedTime = 0;\n\n        this._startLoop();\n    },\n    /**\n     * \n     */\n    stop: function () {\n        this._running = false;\n    },\n\n    /**\n     * Pause\n     */\n    pause: function () {\n        if (!this._paused) {\n            this._pauseStart = new Date().getTime();\n            this._paused = true;\n        }\n    },\n\n    /**\n     * Resume\n     */\n    resume: function () {\n        if (this._paused) {\n            this._pausedTime += (new Date().getTime()) - this._pauseStart;\n            this._paused = false;\n        }\n    },\n\n    /**\n     * \n     */\n    clear: function () {\n        this._clips = [];\n    },\n    /**\n     * animator\n     * @param  {Object} target\n     * @param  {Object} options\n     * @param  {boolean} [options.loop=false] \n     * @param  {Function} [options.getter=null]\n     *         gettergetter\n     * @param  {Function} [options.setter=null]\n     *         settersetter\n     * @return {module:zrender/animation/Animation~Animator}\n     */\n    // TODO Gap\n    animate: function (target, options) {\n        options = options || {};\n\n        var animator = new Animator(\n            target,\n            options.loop,\n            options.getter,\n            options.setter\n        );\n\n        this.addAnimator(animator);\n\n        return animator;\n    }\n};\n\nmixin(Animation, Eventful);\n\n/**\n * Only implements needed gestures for mobile.\n */\n\nvar GestureMgr = function () {\n\n    /**\n     * @private\n     * @type {Array.<Object>}\n     */\n    this._track = [];\n};\n\nGestureMgr.prototype = {\n\n    constructor: GestureMgr,\n\n    recognize: function (event, target, root) {\n        this._doTrack(event, target, root);\n        return this._recognize(event);\n    },\n\n    clear: function () {\n        this._track.length = 0;\n        return this;\n    },\n\n    _doTrack: function (event, target, root) {\n        var touches = event.touches;\n\n        if (!touches) {\n            return;\n        }\n\n        var trackItem = {\n            points: [],\n            touches: [],\n            target: target,\n            event: event\n        };\n\n        for (var i = 0, len = touches.length; i < len; i++) {\n            var touch = touches[i];\n            var pos = clientToLocal(root, touch, {});\n            trackItem.points.push([pos.zrX, pos.zrY]);\n            trackItem.touches.push(touch);\n        }\n\n        this._track.push(trackItem);\n    },\n\n    _recognize: function (event) {\n        for (var eventName in recognizers) {\n            if (recognizers.hasOwnProperty(eventName)) {\n                var gestureInfo = recognizers[eventName](this._track, event);\n                if (gestureInfo) {\n                    return gestureInfo;\n                }\n            }\n        }\n    }\n};\n\nfunction dist$1(pointPair) {\n    var dx = pointPair[1][0] - pointPair[0][0];\n    var dy = pointPair[1][1] - pointPair[0][1];\n\n    return Math.sqrt(dx * dx + dy * dy);\n}\n\nfunction center(pointPair) {\n    return [\n        (pointPair[0][0] + pointPair[1][0]) / 2,\n        (pointPair[0][1] + pointPair[1][1]) / 2\n    ];\n}\n\nvar recognizers = {\n\n    pinch: function (track, event) {\n        var trackLen = track.length;\n\n        if (!trackLen) {\n            return;\n        }\n\n        var pinchEnd = (track[trackLen - 1] || {}).points;\n        var pinchPre = (track[trackLen - 2] || {}).points || pinchEnd;\n\n        if (pinchPre\n            && pinchPre.length > 1\n            && pinchEnd\n            && pinchEnd.length > 1\n        ) {\n            var pinchScale = dist$1(pinchEnd) / dist$1(pinchPre);\n            !isFinite(pinchScale) && (pinchScale = 1);\n\n            event.pinchScale = pinchScale;\n\n            var pinchCenter = center(pinchEnd);\n            event.pinchX = pinchCenter[0];\n            event.pinchY = pinchCenter[1];\n\n            return {\n                type: 'pinch',\n                target: track[0].target,\n                event: event\n            };\n        }\n    }\n\n    // Only pinch currently.\n};\n\nvar TOUCH_CLICK_DELAY = 300;\n\nvar mouseHandlerNames = [\n    'click', 'dblclick', 'mousewheel', 'mouseout',\n    'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n];\n\nvar touchHandlerNames = [\n    'touchstart', 'touchend', 'touchmove'\n];\n\nvar pointerEventNames = {\n    pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1\n};\n\nvar pointerHandlerNames = map(mouseHandlerNames, function (name) {\n    var nm = name.replace('mouse', 'pointer');\n    return pointerEventNames[nm] ? nm : name;\n});\n\nfunction eventNameFix(name) {\n    return (name === 'mousewheel' && env$1.browser.firefox) ? 'DOMMouseScroll' : name;\n}\n\nfunction processGesture(proxy, event, stage) {\n    var gestureMgr = proxy._gestureMgr;\n\n    stage === 'start' && gestureMgr.clear();\n\n    var gestureInfo = gestureMgr.recognize(\n        event,\n        proxy.handler.findHover(event.zrX, event.zrY, null).target,\n        proxy.dom\n    );\n\n    stage === 'end' && gestureMgr.clear();\n\n    // Do not do any preventDefault here. Upper application do that if necessary.\n    if (gestureInfo) {\n        var type = gestureInfo.type;\n        event.gestureEvent = type;\n\n        proxy.handler.dispatchToElement({target: gestureInfo.target}, type, gestureInfo.event);\n    }\n}\n\n// function onMSGestureChange(proxy, event) {\n//     if (event.translationX || event.translationY) {\n//         // mousemove is carried by MSGesture to reduce the sensitivity.\n//         proxy.handler.dispatchToElement(event.target, 'mousemove', event);\n//     }\n//     if (event.scale !== 1) {\n//         event.pinchX = event.offsetX;\n//         event.pinchY = event.offsetY;\n//         event.pinchScale = event.scale;\n//         proxy.handler.dispatchToElement(event.target, 'pinch', event);\n//     }\n// }\n\n/**\n * Prevent mouse event from being dispatched after Touch Events action\n * @see <https://github.com/deltakosh/handjs/blob/master/src/hand.base.js>\n * 1. Mobile browsers dispatch mouse events 300ms after touchend.\n * 2. Chrome for Android dispatch mousedown for long-touch about 650ms\n * Result: Blocking Mouse Events for 700ms.\n */\nfunction setTouchTimer(instance) {\n    instance._touching = true;\n    clearTimeout(instance._touchTimer);\n    instance._touchTimer = setTimeout(function () {\n        instance._touching = false;\n    }, 700);\n}\n\n\nvar domHandlers = {\n    /**\n     * Mouse move handler\n     * @inner\n     * @param {Event} event\n     */\n    mousemove: function (event) {\n        event = normalizeEvent(this.dom, event);\n\n        this.trigger('mousemove', event);\n    },\n\n    /**\n     * Mouse out handler\n     * @inner\n     * @param {Event} event\n     */\n    mouseout: function (event) {\n        event = normalizeEvent(this.dom, event);\n\n        var element = event.toElement || event.relatedTarget;\n        if (element != this.dom) {\n            while (element && element.nodeType != 9) {\n                // rootdommouseOut\n                if (element === this.dom) {\n                    return;\n                }\n\n                element = element.parentNode;\n            }\n        }\n\n        this.trigger('mouseout', event);\n    },\n\n    /**\n     * Touch\n     * @inner\n     * @param {Event} event\n     */\n    touchstart: function (event) {\n        // Default mouse behaviour should not be disabled here.\n        // For example, page may needs to be slided.\n        event = normalizeEvent(this.dom, event);\n\n        // Mark touch, which is useful in distinguish touch and\n        // mouse event in upper applicatoin.\n        event.zrByTouch = true;\n\n        this._lastTouchMoment = new Date();\n\n        processGesture(this, event, 'start');\n\n        // In touch device, trigger `mousemove`(`mouseover`) should\n        // be triggered, and must before `mousedown` triggered.\n        domHandlers.mousemove.call(this, event);\n\n        domHandlers.mousedown.call(this, event);\n\n        setTouchTimer(this);\n    },\n\n    /**\n     * Touch\n     * @inner\n     * @param {Event} event\n     */\n    touchmove: function (event) {\n\n        event = normalizeEvent(this.dom, event);\n\n        // Mark touch, which is useful in distinguish touch and\n        // mouse event in upper applicatoin.\n        event.zrByTouch = true;\n\n        processGesture(this, event, 'change');\n\n        // Mouse move should always be triggered no matter whether\n        // there is gestrue event, because mouse move and pinch may\n        // be used at the same time.\n        domHandlers.mousemove.call(this, event);\n\n        setTouchTimer(this);\n    },\n\n    /**\n     * Touch\n     * @inner\n     * @param {Event} event\n     */\n    touchend: function (event) {\n\n        event = normalizeEvent(this.dom, event);\n\n        // Mark touch, which is useful in distinguish touch and\n        // mouse event in upper applicatoin.\n        event.zrByTouch = true;\n\n        processGesture(this, event, 'end');\n\n        domHandlers.mouseup.call(this, event);\n\n        // Do not trigger `mouseout` here, in spite of `mousemove`(`mouseover`) is\n        // triggered in `touchstart`. This seems to be illogical, but by this mechanism,\n        // we can conveniently implement \"hover style\" in both PC and touch device just\n        // by listening to `mouseover` to add \"hover style\" and listening to `mouseout`\n        // to remove \"hover style\" on an element, without any additional code for\n        // compatibility. (`mouseout` will not be triggered in `touchend`, so \"hover\n        // style\" will remain for user view)\n\n        // click event should always be triggered no matter whether\n        // there is gestrue event. System click can not be prevented.\n        if (+new Date() - this._lastTouchMoment < TOUCH_CLICK_DELAY) {\n            domHandlers.click.call(this, event);\n        }\n\n        setTouchTimer(this);\n    },\n\n    pointerdown: function (event) {\n        domHandlers.mousedown.call(this, event);\n\n        // if (useMSGuesture(this, event)) {\n        //     this._msGesture.addPointer(event.pointerId);\n        // }\n    },\n\n    pointermove: function (event) {\n        // FIXME\n        // pointermove is so sensitive that it always triggered when\n        // tap(click) on touch screen, which affect some judgement in\n        // upper application. So, we dont support mousemove on MS touch\n        // device yet.\n        if (!isPointerFromTouch(event)) {\n            domHandlers.mousemove.call(this, event);\n        }\n    },\n\n    pointerup: function (event) {\n        domHandlers.mouseup.call(this, event);\n    },\n\n    pointerout: function (event) {\n        // pointerout will be triggered when tap on touch screen\n        // (IE11+/Edge on MS Surface) after click event triggered,\n        // which is inconsistent with the mousout behavior we defined\n        // in touchend. So we unify them.\n        // (check domHandlers.touchend for detailed explanation)\n        if (!isPointerFromTouch(event)) {\n            domHandlers.mouseout.call(this, event);\n        }\n    }\n};\n\nfunction isPointerFromTouch(event) {\n    var pointerType = event.pointerType;\n    return pointerType === 'pen' || pointerType === 'touch';\n}\n\n// function useMSGuesture(handlerProxy, event) {\n//     return isPointerFromTouch(event) && !!handlerProxy._msGesture;\n// }\n\n// Common handlers\neach$1(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    domHandlers[name] = function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.trigger(name, event);\n    };\n});\n\n/**\n * dom \n *\n * @inner\n * @param {module:zrender/Handler} instance \n */\nfunction initDomHandler(instance) {\n    each$1(touchHandlerNames, function (name) {\n        instance._handlers[name] = bind(domHandlers[name], instance);\n    });\n\n    each$1(pointerHandlerNames, function (name) {\n        instance._handlers[name] = bind(domHandlers[name], instance);\n    });\n\n    each$1(mouseHandlerNames, function (name) {\n        instance._handlers[name] = makeMouseHandler(domHandlers[name], instance);\n    });\n\n    function makeMouseHandler(fn, instance) {\n        return function () {\n            if (instance._touching) {\n                return;\n            }\n            return fn.apply(instance, arguments);\n        };\n    }\n}\n\n\nfunction HandlerDomProxy(dom) {\n    Eventful.call(this);\n\n    this.dom = dom;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this._touching = false;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this._touchTimer;\n\n    /**\n     * @private\n     * @type {module:zrender/core/GestureMgr}\n     */\n    this._gestureMgr = new GestureMgr();\n\n    this._handlers = {};\n\n    initDomHandler(this);\n\n    if (env$1.pointerEventsSupported) { // Only IE11+/Edge\n        // 1. On devices that both enable touch and mouse (e.g., MS Surface and lenovo X240),\n        // IE11+/Edge do not trigger touch event, but trigger pointer event and mouse event\n        // at the same time.\n        // 2. On MS Surface, it probablely only trigger mousedown but no mouseup when tap on\n        // screen, which do not occurs in pointer event.\n        // So we use pointer event to both detect touch gesture and mouse behavior.\n        mountHandlers(pointerHandlerNames, this);\n\n        // FIXME\n        // Note: MS Gesture require CSS touch-action set. But touch-action is not reliable,\n        // which does not prevent defuault behavior occasionally (which may cause view port\n        // zoomed in but use can not zoom it back). And event.preventDefault() does not work.\n        // So we have to not to use MSGesture and not to support touchmove and pinch on MS\n        // touch screen. And we only support click behavior on MS touch screen now.\n\n        // MS Gesture Event is only supported on IE11+/Edge and on Windows 8+.\n        // We dont support touch on IE on win7.\n        // See <https://msdn.microsoft.com/en-us/library/dn433243(v=vs.85).aspx>\n        // if (typeof MSGesture === 'function') {\n        //     (this._msGesture = new MSGesture()).target = dom; // jshint ignore:line\n        //     dom.addEventListener('MSGestureChange', onMSGestureChange);\n        // }\n    }\n    else {\n        if (env$1.touchEventsSupported) {\n            mountHandlers(touchHandlerNames, this);\n            // Handler of 'mouseout' event is needed in touch mode, which will be mounted below.\n            // addEventListener(root, 'mouseout', this._mouseoutHandler);\n        }\n\n        // 1. Considering some devices that both enable touch and mouse event (like on MS Surface\n        // and lenovo X240, @see #2350), we make mouse event be always listened, otherwise\n        // mouse event can not be handle in those devices.\n        // 2. On MS Surface, Chrome will trigger both touch event and mouse event. How to prevent\n        // mouseevent after touch event triggered, see `setTouchTimer`.\n        mountHandlers(mouseHandlerNames, this);\n    }\n\n    function mountHandlers(handlerNames, instance) {\n        each$1(handlerNames, function (name) {\n            addEventListener(dom, eventNameFix(name), instance._handlers[name]);\n        }, instance);\n    }\n}\n\nvar handlerDomProxyProto = HandlerDomProxy.prototype;\nhandlerDomProxyProto.dispose = function () {\n    var handlerNames = mouseHandlerNames.concat(touchHandlerNames);\n\n    for (var i = 0; i < handlerNames.length; i++) {\n        var name = handlerNames[i];\n        removeEventListener(this.dom, eventNameFix(name), this._handlers[name]);\n    }\n};\n\nhandlerDomProxyProto.setCursor = function (cursorStyle) {\n    this.dom.style.cursor = cursorStyle || 'default';\n};\n\nmixin(HandlerDomProxy, Eventful);\n\n/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\n\nvar useVML = !env$1.canvasSupported;\n\nvar painterCtors = {\n    canvas: Painter\n};\n\nvar instances$1 = {};    // ZRendermap\n\n/**\n * @type {string}\n */\nvar version$1 = '3.7.4';\n\n/**\n * Initializing a zrender instance\n * @param {HTMLElement} dom\n * @param {Object} opts\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n * @return {module:zrender/ZRender}\n */\nfunction init$1(dom, opts) {\n    var zr = new ZRender(guid(), dom, opts);\n    instances$1[zr.id] = zr;\n    return zr;\n}\n\n/**\n * Dispose zrender instance\n * @param {module:zrender/ZRender} zr\n */\nfunction dispose$1(zr) {\n    if (zr) {\n        zr.dispose();\n    }\n    else {\n        for (var key in instances$1) {\n            if (instances$1.hasOwnProperty(key)) {\n                instances$1[key].dispose();\n            }\n        }\n        instances$1 = {};\n    }\n\n    return this;\n}\n\n/**\n * Get zrender instance by id\n * @param {string} id zrender instance id\n * @return {module:zrender/ZRender}\n */\nfunction getInstance(id) {\n    return instances$1[id];\n}\n\nfunction registerPainter(name, Ctor) {\n    painterCtors[name] = Ctor;\n}\n\nfunction delInstance(id) {\n    delete instances$1[id];\n}\n\n/**\n * @module zrender/ZRender\n */\n/**\n * @constructor\n * @alias module:zrender/ZRender\n * @param {string} id\n * @param {HTMLElement} dom\n * @param {Object} opts\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n */\nvar ZRender = function (id, dom, opts) {\n\n    opts = opts || {};\n\n    /**\n     * @type {HTMLDomElement}\n     */\n    this.dom = dom;\n\n    /**\n     * @type {string}\n     */\n    this.id = id;\n\n    var self = this;\n    var storage = new Storage();\n\n    var rendererType = opts.renderer;\n    // TODO WebGL\n    if (useVML) {\n        if (!painterCtors.vml) {\n            throw new Error('You need to require \\'zrender/vml/vml\\' to support IE8');\n        }\n        rendererType = 'vml';\n    }\n    else if (!rendererType || !painterCtors[rendererType]) {\n        rendererType = 'canvas';\n    }\n    var painter = new painterCtors[rendererType](dom, storage, opts);\n\n    this.storage = storage;\n    this.painter = painter;\n\n    var handerProxy = !env$1.node ? new HandlerDomProxy(painter.getViewportRoot()) : null;\n    this.handler = new Handler(storage, painter, handerProxy, painter.root);\n\n    /**\n     * @type {module:zrender/animation/Animation}\n     */\n    this.animation = new Animation({\n        stage: {\n            update: bind(this.flush, this)\n        }\n    });\n    this.animation.start();\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this._needsRefresh;\n\n    //  storage.delFromStorage, \n    // FIXME ugly\n    var oldDelFromStorage = storage.delFromStorage;\n    var oldAddToStorage = storage.addToStorage;\n\n    storage.delFromStorage = function (el) {\n        oldDelFromStorage.call(storage, el);\n\n        el && el.removeSelfFromZr(self);\n    };\n\n    storage.addToStorage = function (el) {\n        oldAddToStorage.call(storage, el);\n\n        el.addSelfToZr(self);\n    };\n};\n\nZRender.prototype = {\n\n    constructor: ZRender,\n    /**\n     * \n     * @return {string}\n     */\n    getId: function () {\n        return this.id;\n    },\n\n    /**\n     * \n     * @param  {module:zrender/Element} el\n     */\n    add: function (el) {\n        this.storage.addRoot(el);\n        this._needsRefresh = true;\n    },\n\n    /**\n     * \n     * @param  {module:zrender/Element} el\n     */\n    remove: function (el) {\n        this.storage.delRoot(el);\n        this._needsRefresh = true;\n    },\n\n    /**\n     * Change configuration of layer\n     * @param {string} zLevel\n     * @param {Object} config\n     * @param {string} [config.clearColor=0] Clear color\n     * @param {string} [config.motionBlur=false] If enable motion blur\n     * @param {number} [config.lastFrameAlpha=0.7] Motion blur factor. Larger value cause longer trailer\n    */\n    configLayer: function (zLevel, config) {\n        this.painter.configLayer(zLevel, config);\n        this._needsRefresh = true;\n    },\n\n    /**\n     * Repaint the canvas immediately\n     */\n    refreshImmediately: function () {\n        // var start = new Date();\n        // Clear needsRefresh ahead to avoid something wrong happens in refresh\n        // Or it will cause zrender refreshes again and again.\n        this._needsRefresh = false;\n        this.painter.refresh();\n        /**\n         * Avoid trigger zr.refresh in Element#beforeUpdate hook\n         */\n        this._needsRefresh = false;\n        // var end = new Date();\n\n        // var log = document.getElementById('log');\n        // if (log) {\n        //     log.innerHTML = log.innerHTML + '<br>' + (end - start);\n        // }\n    },\n\n    /**\n     * Mark and repaint the canvas in the next frame of browser\n     */\n    refresh: function() {\n        this._needsRefresh = true;\n    },\n\n    /**\n     * Perform all refresh\n     */\n    flush: function () {\n        if (this._needsRefresh) {\n            this.refreshImmediately();\n        }\n        if (this._needsRefreshHover) {\n            this.refreshHoverImmediately();\n        }\n    },\n\n    /**\n     * Add element to hover layer\n     * @param  {module:zrender/Element} el\n     * @param {Object} style\n     */\n    addHover: function (el, style) {\n        if (this.painter.addHover) {\n            this.painter.addHover(el, style);\n            this.refreshHover();\n        }\n    },\n\n    /**\n     * Add element from hover layer\n     * @param  {module:zrender/Element} el\n     */\n    removeHover: function (el) {\n        if (this.painter.removeHover) {\n            this.painter.removeHover(el);\n            this.refreshHover();\n        }\n    },\n\n    /**\n     * Clear all hover elements in hover layer\n     * @param  {module:zrender/Element} el\n     */\n    clearHover: function () {\n        if (this.painter.clearHover) {\n            this.painter.clearHover();\n            this.refreshHover();\n        }\n    },\n\n    /**\n     * Refresh hover in next frame\n     */\n    refreshHover: function () {\n        this._needsRefreshHover = true;\n    },\n\n    /**\n     * Refresh hover immediately\n     */\n    refreshHoverImmediately: function () {\n        this._needsRefreshHover = false;\n        this.painter.refreshHover && this.painter.refreshHover();\n    },\n\n    /**\n     * Resize the canvas.\n     * Should be invoked when container size is changed\n     * @param {Object} [opts]\n     * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n     * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n     */\n    resize: function(opts) {\n        opts = opts || {};\n        this.painter.resize(opts.width, opts.height);\n        this.handler.resize();\n    },\n\n    /**\n     * Stop and clear all animation immediately\n     */\n    clearAnimation: function () {\n        this.animation.clear();\n    },\n\n    /**\n     * Get container width\n     */\n    getWidth: function() {\n        return this.painter.getWidth();\n    },\n\n    /**\n     * Get container height\n     */\n    getHeight: function() {\n        return this.painter.getHeight();\n    },\n\n    /**\n     * Export the canvas as Base64 URL\n     * @param {string} type\n     * @param {string} [backgroundColor='#fff']\n     * @return {string} Base64 URL\n     */\n    // toDataURL: function(type, backgroundColor) {\n    //     return this.painter.getRenderedCanvas({\n    //         backgroundColor: backgroundColor\n    //     }).toDataURL(type);\n    // },\n\n    /**\n     * Converting a path to image.\n     * It has much better performance of drawing image rather than drawing a vector path.\n     * @param {module:zrender/graphic/Path} e\n     * @param {number} width\n     * @param {number} height\n     */\n    pathToImage: function(e, dpr) {\n        return this.painter.pathToImage(e, dpr);\n    },\n\n    /**\n     * Set default cursor\n     * @param {string} [cursorStyle='default']  crosshair\n     */\n    setCursorStyle: function (cursorStyle) {\n        this.handler.setCursorStyle(cursorStyle);\n    },\n\n    /**\n     * Find hovered element\n     * @param {number} x\n     * @param {number} y\n     * @return {Object} {target, topTarget}\n     */\n    findHover: function (x, y) {\n        return this.handler.findHover(x, y);\n    },\n\n    /**\n     * Bind event\n     *\n     * @param {string} eventName Event name\n     * @param {Function} eventHandler Handler function\n     * @param {Object} [context] Context object\n     */\n    on: function(eventName, eventHandler, context) {\n        this.handler.on(eventName, eventHandler, context);\n    },\n\n    /**\n     * Unbind event\n     * @param {string} eventName Event name\n     * @param {Function} [eventHandler] Handler function\n     */\n    off: function(eventName, eventHandler) {\n        this.handler.off(eventName, eventHandler);\n    },\n\n    /**\n     * Trigger event manually\n     *\n     * @param {string} eventName Event name\n     * @param {event=} event Event object\n     */\n    trigger: function (eventName, event) {\n        this.handler.trigger(eventName, event);\n    },\n\n\n    /**\n     * Clear all objects and the canvas.\n     */\n    clear: function () {\n        this.storage.delRoot();\n        this.painter.clear();\n    },\n\n    /**\n     * Dispose self.\n     */\n    dispose: function () {\n        this.animation.stop();\n\n        this.clear();\n        this.storage.dispose();\n        this.painter.dispose();\n        this.handler.dispose();\n\n        this.animation =\n        this.storage =\n        this.painter =\n        this.handler = null;\n\n        delInstance(this.id);\n    }\n};\n\n\n\nvar zrender = (Object.freeze || Object)({\n\tversion: version$1,\n\tinit: init$1,\n\tdispose: dispose$1,\n\tgetInstance: getInstance,\n\tregisterPainter: registerPainter\n});\n\nvar RADIAN_EPSILON = 1e-4;\n\nfunction _trim(str) {\n    return str.replace(/^\\s+/, '').replace(/\\s+$/, '');\n}\n\n/**\n * Linear mapping a value from domain to range\n * @memberOf module:echarts/util/number\n * @param  {(number|Array.<number>)} val\n * @param  {Array.<number>} domain Domain extent domain[0] can be bigger than domain[1]\n * @param  {Array.<number>} range  Range extent range[0] can be bigger than range[1]\n * @param  {boolean} clamp\n * @return {(number|Array.<number>}\n */\nfunction linearMap(val, domain, range, clamp) {\n    var subDomain = domain[1] - domain[0];\n    var subRange = range[1] - range[0];\n\n    if (subDomain === 0) {\n        return subRange === 0\n            ? range[0]\n            : (range[0] + range[1]) / 2;\n    }\n\n    // Avoid accuracy problem in edge, such as\n    // 146.39 - 62.83 === 83.55999999999999.\n    // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\n    // It is a little verbose for efficiency considering this method\n    // is a hotspot.\n    if (clamp) {\n        if (subDomain > 0) {\n            if (val <= domain[0]) {\n                return range[0];\n            }\n            else if (val >= domain[1]) {\n                return range[1];\n            }\n        }\n        else {\n            if (val >= domain[0]) {\n                return range[0];\n            }\n            else if (val <= domain[1]) {\n                return range[1];\n            }\n        }\n    }\n    else {\n        if (val === domain[0]) {\n            return range[0];\n        }\n        if (val === domain[1]) {\n            return range[1];\n        }\n    }\n\n    return (val - domain[0]) / subDomain * subRange + range[0];\n}\n\n/**\n * Convert a percent string to absolute number.\n * Returns NaN if percent is not a valid string or number\n * @memberOf module:echarts/util/number\n * @param {string|number} percent\n * @param {number} all\n * @return {number}\n */\nfunction parsePercent$1(percent, all) {\n    switch (percent) {\n        case 'center':\n        case 'middle':\n            percent = '50%';\n            break;\n        case 'left':\n        case 'top':\n            percent = '0%';\n            break;\n        case 'right':\n        case 'bottom':\n            percent = '100%';\n            break;\n    }\n    if (typeof percent === 'string') {\n        if (_trim(percent).match(/%$/)) {\n            return parseFloat(percent) / 100 * all;\n        }\n\n        return parseFloat(percent);\n    }\n\n    return percent == null ? NaN : +percent;\n}\n\n/**\n * (1) Fix rounding error of float numbers.\n * (2) Support return string to avoid scientific notation like '3.5e-7'.\n *\n * @param {number} x\n * @param {number} [precision]\n * @param {boolean} [returnStr]\n * @return {number|string}\n */\nfunction round(x, precision, returnStr) {\n    if (precision == null) {\n        precision = 10;\n    }\n    // Avoid range error\n    precision = Math.min(Math.max(0, precision), 20);\n    x = (+x).toFixed(precision);\n    return returnStr ? x : +x;\n}\n\nfunction asc(arr) {\n    arr.sort(function (a, b) {\n        return a - b;\n    });\n    return arr;\n}\n\n/**\n * Get precision\n * @param {number} val\n */\nfunction getPrecision(val) {\n    val = +val;\n    if (isNaN(val)) {\n        return 0;\n    }\n    // It is much faster than methods converting number to string as follows\n    //      var tmp = val.toString();\n    //      return tmp.length - 1 - tmp.indexOf('.');\n    // especially when precision is low\n    var e = 1;\n    var count = 0;\n    while (Math.round(val * e) / e !== val) {\n        e *= 10;\n        count++;\n    }\n    return count;\n}\n\n/**\n * @param {string|number} val\n * @return {number}\n */\nfunction getPrecisionSafe(val) {\n    var str = val.toString();\n\n    // Consider scientific notation: '3.4e-12' '3.4e+12'\n    var eIndex = str.indexOf('e');\n    if (eIndex > 0) {\n        var precision = +str.slice(eIndex + 1);\n        return precision < 0 ? -precision : 0;\n    }\n    else {\n        var dotIndex = str.indexOf('.');\n        return dotIndex < 0 ? 0 : str.length - 1 - dotIndex;\n    }\n}\n\n/**\n * Minimal dicernible data precisioin according to a single pixel.\n *\n * @param {Array.<number>} dataExtent\n * @param {Array.<number>} pixelExtent\n * @return {number} precision\n */\nfunction getPixelPrecision(dataExtent, pixelExtent) {\n    var log = Math.log;\n    var LN10 = Math.LN10;\n    var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\n    var sizeQuantity = Math.round(log(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10);\n    // toFixed() digits argument must be between 0 and 20.\n    var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\n    return !isFinite(precision) ? 20 : precision;\n}\n\n/**\n * Get a data of given precision, assuring the sum of percentages\n * in valueList is 1.\n * The largest remainer method is used.\n * https://en.wikipedia.org/wiki/Largest_remainder_method\n *\n * @param {Array.<number>} valueList a list of all data\n * @param {number} idx index of the data to be processed in valueList\n * @param {number} precision integer number showing digits of precision\n * @return {number} percent ranging from 0 to 100\n */\nfunction getPercentWithPrecision(valueList, idx, precision) {\n    if (!valueList[idx]) {\n        return 0;\n    }\n\n    var sum = reduce(valueList, function (acc, val) {\n        return acc + (isNaN(val) ? 0 : val);\n    }, 0);\n    if (sum === 0) {\n        return 0;\n    }\n\n    var digits = Math.pow(10, precision);\n    var votesPerQuota = map(valueList, function (val) {\n        return (isNaN(val) ? 0 : val) / sum * digits * 100;\n    });\n    var targetSeats = digits * 100;\n\n    var seats = map(votesPerQuota, function (votes) {\n        // Assign automatic seats.\n        return Math.floor(votes);\n    });\n    var currentSum = reduce(seats, function (acc, val) {\n        return acc + val;\n    }, 0);\n\n    var remainder = map(votesPerQuota, function (votes, idx) {\n        return votes - seats[idx];\n    });\n\n    // Has remainding votes.\n    while (currentSum < targetSeats) {\n        // Find next largest remainder.\n        var max = Number.NEGATIVE_INFINITY;\n        var maxId = null;\n        for (var i = 0, len = remainder.length; i < len; ++i) {\n            if (remainder[i] > max) {\n                max = remainder[i];\n                maxId = i;\n            }\n        }\n\n        // Add a vote to max remainder.\n        ++seats[maxId];\n        remainder[maxId] = 0;\n        ++currentSum;\n    }\n\n    return seats[idx] / digits;\n}\n\n// Number.MAX_SAFE_INTEGER, ie do not support.\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * To 0 - 2 * PI, considering negative radian.\n * @param {number} radian\n * @return {number}\n */\nfunction remRadian(radian) {\n    var pi2 = Math.PI * 2;\n    return (radian % pi2 + pi2) % pi2;\n}\n\n/**\n * @param {type} radian\n * @return {boolean}\n */\nfunction isRadianAroundZero(val) {\n    return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\n}\n\nvar TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\n\n/**\n * @param {string|Date|number} value These values can be accepted:\n *   + An instance of Date, represent a time in its own time zone.\n *   + Or string in a subset of ISO 8601, only including:\n *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\n *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\n *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\n *     all of which will be treated as local time if time zone is not specified\n *     (see <https://momentjs.com/>).\n *   + Or other string format, including (all of which will be treated as loacal time):\n *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\n *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\n *   + a timestamp, which represent a time in UTC.\n * @return {Date} date\n */\nfunction parseDate(value) {\n    if (value instanceof Date) {\n        return value;\n    }\n    else if (typeof value === 'string') {\n        // Different browsers parse date in different way, so we parse it manually.\n        // Some other issues:\n        // new Date('1970-01-01') is UTC,\n        // new Date('1970/01/01') and new Date('1970-1-01') is local.\n        // See issue #3623\n        var match = TIME_REG.exec(value);\n\n        if (!match) {\n            // return Invalid Date.\n            return new Date(NaN);\n        }\n\n        // Use local time when no timezone offset specifed.\n        if (!match[8]) {\n            // match[n] can only be string or undefined.\n            // But take care of '12' + 1 => '121'.\n            return new Date(\n                +match[1],\n                +(match[2] || 1) - 1,\n                +match[3] || 1,\n                +match[4] || 0,\n                +(match[5] || 0),\n                +match[6] || 0,\n                +match[7] || 0\n            );\n        }\n        // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\n        // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\n        // For example, system timezone is set as \"Time Zone: America/Toronto\",\n        // then these code will get different result:\n        // `new Date(1478411999999).getTimezoneOffset();  // get 240`\n        // `new Date(1478412000000).getTimezoneOffset();  // get 300`\n        // So we should not use `new Date`, but use `Date.UTC`.\n        else {\n            var hour = +match[4] || 0;\n            if (match[8].toUpperCase() !== 'Z') {\n                hour -= match[8].slice(0, 3);\n            }\n            return new Date(Date.UTC(\n                +match[1],\n                +(match[2] || 1) - 1,\n                +match[3] || 1,\n                hour,\n                +(match[5] || 0),\n                +match[6] || 0,\n                +match[7] || 0\n            ));\n        }\n    }\n    else if (value == null) {\n        return new Date(NaN);\n    }\n\n    return new Date(Math.round(value));\n}\n\n/**\n * Quantity of a number. e.g. 0.1, 1, 10, 100\n *\n * @param  {number} val\n * @return {number}\n */\nfunction quantity(val) {\n    return Math.pow(10, quantityExponent(val));\n}\n\nfunction quantityExponent(val) {\n    return Math.floor(Math.log(val) / Math.LN10);\n}\n\n/**\n * find a nice number approximately equal to x. Round the number if round = true,\n * take ceiling if round = false. The primary observation is that the nicest\n * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\n *\n * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\n *\n * @param  {number} val Non-negative value.\n * @param  {boolean} round\n * @return {number}\n */\nfunction nice(val, round) {\n    var exponent = quantityExponent(val);\n    var exp10 = Math.pow(10, exponent);\n    var f = val / exp10; // 1 <= f < 10\n    var nf;\n    if (round) {\n        if (f < 1.5) { nf = 1; }\n        else if (f < 2.5) { nf = 2; }\n        else if (f < 4) { nf = 3; }\n        else if (f < 7) { nf = 5; }\n        else { nf = 10; }\n    }\n    else {\n        if (f < 1) { nf = 1; }\n        else if (f < 2) { nf = 2; }\n        else if (f < 3) { nf = 3; }\n        else if (f < 5) { nf = 5; }\n        else { nf = 10; }\n    }\n    val = nf * exp10;\n\n    // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\n    // 20 is the uppper bound of toFixed.\n    return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\n}\n\n/**\n * Order intervals asc, and split them when overlap.\n * expect(numberUtil.reformIntervals([\n *     {interval: [18, 62], close: [1, 1]},\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [1, 1]},\n *     {interval: [62, 150], close: [1, 1]},\n *     {interval: [106, 150], close: [1, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ])).toEqual([\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [0, 1]},\n *     {interval: [18, 62], close: [0, 1]},\n *     {interval: [62, 150], close: [0, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ]);\n * @param {Array.<Object>} list, where `close` mean open or close\n *        of the interval, and Infinity can be used.\n * @return {Array.<Object>} The origin list, which has been reformed.\n */\nfunction reformIntervals(list) {\n    list.sort(function (a, b) {\n        return littleThan(a, b, 0) ? -1 : 1;\n    });\n\n    var curr = -Infinity;\n    var currClose = 1;\n    for (var i = 0; i < list.length;) {\n        var interval = list[i].interval;\n        var close = list[i].close;\n\n        for (var lg = 0; lg < 2; lg++) {\n            if (interval[lg] <= curr) {\n                interval[lg] = curr;\n                close[lg] = !lg ? 1 - currClose : 1;\n            }\n            curr = interval[lg];\n            currClose = close[lg];\n        }\n\n        if (interval[0] === interval[1] && close[0] * close[1] !== 1) {\n            list.splice(i, 1);\n        }\n        else {\n            i++;\n        }\n    }\n\n    return list;\n\n    function littleThan(a, b, lg) {\n        return a.interval[lg] < b.interval[lg]\n            || (\n                a.interval[lg] === b.interval[lg]\n                && (\n                    (a.close[lg] - b.close[lg] === (!lg ? 1 : -1))\n                    || (!lg && littleThan(a, b, 1))\n                )\n            );\n    }\n}\n\n/**\n * parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n * ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n * subtraction forces infinities to NaN\n *\n * @param {*} v\n * @return {boolean}\n */\nfunction isNumeric(v) {\n    return v - parseFloat(v) >= 0;\n}\n\n\nvar number = (Object.freeze || Object)({\n\tlinearMap: linearMap,\n\tparsePercent: parsePercent$1,\n\tround: round,\n\tasc: asc,\n\tgetPrecision: getPrecision,\n\tgetPrecisionSafe: getPrecisionSafe,\n\tgetPixelPrecision: getPixelPrecision,\n\tgetPercentWithPrecision: getPercentWithPrecision,\n\tMAX_SAFE_INTEGER: MAX_SAFE_INTEGER,\n\tremRadian: remRadian,\n\tisRadianAroundZero: isRadianAroundZero,\n\tparseDate: parseDate,\n\tquantity: quantity,\n\tnice: nice,\n\treformIntervals: reformIntervals,\n\tisNumeric: isNumeric\n});\n\n/**\n * ,\n * @param {string|number} x\n * @return {string}\n */\nfunction addCommas(x) {\n    if (isNaN(x)) {\n        return '-';\n    }\n    x = (x + '').split('.');\n    return x[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g,'$1,')\n            + (x.length > 1 ? ('.' + x[1]) : '');\n}\n\n/**\n * @param {string} str\n * @param {boolean} [upperCaseFirst=false]\n * @return {string} str\n */\nfunction toCamelCase(str, upperCaseFirst) {\n    str = (str || '').toLowerCase().replace(/-(.)/g, function(match, group1) {\n        return group1.toUpperCase();\n    });\n\n    if (upperCaseFirst && str) {\n        str = str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    return str;\n}\n\nvar normalizeCssArray$1 = normalizeCssArray;\n\nfunction encodeHTML(source) {\n    return String(source)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;');\n}\n\nvar TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\n\nvar wrapVar = function (varName, seriesIdx) {\n    return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\n};\n\n/**\n * Template formatter\n * @param {string} tpl\n * @param {Array.<Object>|Object} paramsList\n * @param {boolean} [encode=false]\n * @return {string}\n */\nfunction formatTpl(tpl, paramsList, encode) {\n    if (!isArray(paramsList)) {\n        paramsList = [paramsList];\n    }\n    var seriesLen = paramsList.length;\n    if (!seriesLen) {\n        return '';\n    }\n\n    var $vars = paramsList[0].$vars || [];\n    for (var i = 0; i < $vars.length; i++) {\n        var alias = TPL_VAR_ALIAS[i];\n        var val = wrapVar(alias, 0);\n        tpl = tpl.replace(wrapVar(alias), encode ? encodeHTML(val) : val);\n    }\n    for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\n        for (var k = 0; k < $vars.length; k++) {\n            var val = paramsList[seriesIdx][$vars[k]];\n            tpl = tpl.replace(\n                wrapVar(TPL_VAR_ALIAS[k], seriesIdx),\n                encode ? encodeHTML(val) : val\n            );\n        }\n    }\n\n    return tpl;\n}\n\n/**\n * simple Template formatter\n *\n * @param {string} tpl\n * @param {Object} param\n * @param {boolean} [encode=false]\n * @return {string}\n */\nfunction formatTplSimple(tpl, param, encode) {\n    each$1(param, function (value, key) {\n        tpl = tpl.replace(\n            '{' + key + '}',\n            encode ? encodeHTML(value) : value\n        );\n    });\n    return tpl;\n}\n\n/**\n * @param {string} color\n * @param {string} [extraCssText]\n * @return {string}\n */\nfunction getTooltipMarker(color, extraCssText) {\n    return color\n        ? '<span style=\"display:inline-block;margin-right:5px;'\n            + 'border-radius:10px;width:9px;height:9px;background-color:'\n            + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>'\n        : '';\n}\n\n/**\n * @param {string} str\n * @return {string}\n * @inner\n */\nvar s2d = function (str) {\n    return str < 10 ? ('0' + str) : str;\n};\n\n/**\n * ISO Date format\n * @param {string} tpl\n * @param {number} value\n * @param {boolean} [isUTC=false] Default in local time.\n *           see `module:echarts/scale/Time`\n *           and `module:echarts/util/number#parseDate`.\n * @inner\n */\nfunction formatTime(tpl, value, isUTC) {\n    if (tpl === 'week'\n        || tpl === 'month'\n        || tpl === 'quarter'\n        || tpl === 'half-year'\n        || tpl === 'year'\n    ) {\n        tpl = 'MM-dd\\nyyyy';\n    }\n\n    var date = parseDate(value);\n    var utc = isUTC ? 'UTC' : '';\n    var y = date['get' + utc + 'FullYear']();\n    var M = date['get' + utc + 'Month']() + 1;\n    var d = date['get' + utc + 'Date']();\n    var h = date['get' + utc + 'Hours']();\n    var m = date['get' + utc + 'Minutes']();\n    var s = date['get' + utc + 'Seconds']();\n\n    tpl = tpl.replace('MM', s2d(M))\n        .replace('M', M)\n        .replace('yyyy', y)\n        .replace('yy', y % 100)\n        .replace('dd', s2d(d))\n        .replace('d', d)\n        .replace('hh', s2d(h))\n        .replace('h', h)\n        .replace('mm', s2d(m))\n        .replace('m', m)\n        .replace('ss', s2d(s))\n        .replace('s', s);\n\n    return tpl;\n}\n\n/**\n * Capital first\n * @param {string} str\n * @return {string}\n */\nfunction capitalFirst(str) {\n    return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\n}\n\nvar truncateText$1 = truncateText;\n\nvar getTextRect = getBoundingRect;\n\n\nvar format = (Object.freeze || Object)({\n\taddCommas: addCommas,\n\ttoCamelCase: toCamelCase,\n\tnormalizeCssArray: normalizeCssArray$1,\n\tencodeHTML: encodeHTML,\n\tformatTpl: formatTpl,\n\tformatTplSimple: formatTplSimple,\n\tgetTooltipMarker: getTooltipMarker,\n\tformatTime: formatTime,\n\tcapitalFirst: capitalFirst,\n\ttruncateText: truncateText$1,\n\tgetTextRect: getTextRect\n});\n\nvar TYPE_DELIMITER = '.';\nvar IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\nvar MEMBER_PRIFIX = '\\0ec_\\0';\n\n/**\n * Hide private class member.\n * The same behavior as `host[name] = value;` (can be right-value)\n * @public\n */\nfunction set$1(host, name, value) {\n    return (host[MEMBER_PRIFIX + name] = value);\n}\n\n/**\n * Hide private class member.\n * The same behavior as `host[name];`\n * @public\n */\nfunction get(host, name) {\n    return host[MEMBER_PRIFIX + name];\n}\n\n/**\n * For hidden private class member.\n * The same behavior as `host.hasOwnProperty(name);`\n * @public\n */\nfunction hasOwn(host, name) {\n    return host.hasOwnProperty(MEMBER_PRIFIX + name);\n}\n\n/**\n * Notice, parseClassType('') should returns {main: '', sub: ''}\n * @public\n */\nfunction parseClassType$1(componentType) {\n    var ret = {main: '', sub: ''};\n    if (componentType) {\n        componentType = componentType.split(TYPE_DELIMITER);\n        ret.main = componentType[0] || '';\n        ret.sub = componentType[1] || '';\n    }\n    return ret;\n}\n\n/**\n * @public\n */\nfunction checkClassType(componentType) {\n    assert(\n        /^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType),\n        'componentType \"' + componentType + '\" illegal'\n    );\n}\n\n/**\n * @public\n */\nfunction enableClassExtend(RootClass, mandatoryMethods) {\n\n    RootClass.$constructor = RootClass;\n    RootClass.extend = function (proto) {\n\n        if (__DEV__) {\n            each$1(mandatoryMethods, function (method) {\n                if (!proto[method]) {\n                    console.warn(\n                        'Method `' + method + '` should be implemented'\n                        + (proto.type ? ' in ' + proto.type : '') + '.'\n                    );\n                }\n            });\n        }\n\n        var superClass = this;\n        var ExtendedClass = function () {\n            if (!proto.$constructor) {\n                superClass.apply(this, arguments);\n            }\n            else {\n                proto.$constructor.apply(this, arguments);\n            }\n        };\n\n        extend(ExtendedClass.prototype, proto);\n\n        ExtendedClass.extend = this.extend;\n        ExtendedClass.superCall = superCall;\n        ExtendedClass.superApply = superApply;\n        inherits(ExtendedClass, this);\n        ExtendedClass.superClass = superClass;\n\n        return ExtendedClass;\n    };\n}\n\n// superCall should have class info, which can not be fetch from 'this'.\n// Consider this case:\n// class A has method f,\n// class B inherits class A, overrides method f, f call superApply('f'),\n// class C inherits class B, do not overrides method f,\n// then when method of class C is called, dead loop occured.\nfunction superCall(context, methodName) {\n    var args = slice(arguments, 2);\n    return this.superClass.prototype[methodName].apply(context, args);\n}\n\nfunction superApply(context, methodName, args) {\n    return this.superClass.prototype[methodName].apply(context, args);\n}\n\n/**\n * @param {Object} entity\n * @param {Object} options\n * @param {boolean} [options.registerWhenExtend]\n * @public\n */\nfunction enableClassManagement(entity, options) {\n    options = options || {};\n\n    /**\n     * Component model classes\n     * key: componentType,\n     * value:\n     *     componentClass, when componentType is 'xxx'\n     *     or Object.<subKey, componentClass>, when componentType is 'xxx.yy'\n     * @type {Object}\n     */\n    var storage = {};\n\n    entity.registerClass = function (Clazz, componentType) {\n        if (componentType) {\n            checkClassType(componentType);\n            componentType = parseClassType$1(componentType);\n\n            if (!componentType.sub) {\n                if (__DEV__) {\n                    if (storage[componentType.main]) {\n                        console.warn(componentType.main + ' exists.');\n                    }\n                }\n                storage[componentType.main] = Clazz;\n            }\n            else if (componentType.sub !== IS_CONTAINER) {\n                var container = makeContainer(componentType);\n                container[componentType.sub] = Clazz;\n            }\n        }\n        return Clazz;\n    };\n\n    entity.getClass = function (componentMainType, subType, throwWhenNotFound) {\n        var Clazz = storage[componentMainType];\n\n        if (Clazz && Clazz[IS_CONTAINER]) {\n            Clazz = subType ? Clazz[subType] : null;\n        }\n\n        if (throwWhenNotFound && !Clazz) {\n            throw new Error(\n                !subType\n                    ? componentMainType + '.' + 'type should be specified.'\n                    : 'Component ' + componentMainType + '.' + (subType || '') + ' not exists. Load it first.'\n            );\n        }\n\n        return Clazz;\n    };\n\n    entity.getClassesByMainType = function (componentType) {\n        componentType = parseClassType$1(componentType);\n\n        var result = [];\n        var obj = storage[componentType.main];\n\n        if (obj && obj[IS_CONTAINER]) {\n            each$1(obj, function (o, type) {\n                type !== IS_CONTAINER && result.push(o);\n            });\n        }\n        else {\n            result.push(obj);\n        }\n\n        return result;\n    };\n\n    entity.hasClass = function (componentType) {\n        // Just consider componentType.main.\n        componentType = parseClassType$1(componentType);\n        return !!storage[componentType.main];\n    };\n\n    /**\n     * @return {Array.<string>} Like ['aa', 'bb'], but can not be ['aa.xx']\n     */\n    entity.getAllClassMainTypes = function () {\n        var types = [];\n        each$1(storage, function (obj, type) {\n            types.push(type);\n        });\n        return types;\n    };\n\n    /**\n     * If a main type is container and has sub types\n     * @param  {string}  mainType\n     * @return {boolean}\n     */\n    entity.hasSubTypes = function (componentType) {\n        componentType = parseClassType$1(componentType);\n        var obj = storage[componentType.main];\n        return obj && obj[IS_CONTAINER];\n    };\n\n    entity.parseClassType = parseClassType$1;\n\n    function makeContainer(componentType) {\n        var container = storage[componentType.main];\n        if (!container || !container[IS_CONTAINER]) {\n            container = storage[componentType.main] = {};\n            container[IS_CONTAINER] = true;\n        }\n        return container;\n    }\n\n    if (options.registerWhenExtend) {\n        var originalExtend = entity.extend;\n        if (originalExtend) {\n            entity.extend = function (proto) {\n                var ExtendedClass = originalExtend.call(this, proto);\n                return entity.registerClass(ExtendedClass, proto.type);\n            };\n        }\n    }\n\n    return entity;\n}\n\n/**\n * @param {string|Array.<string>} properties\n */\n\n// TODO Parse shadow style\n// TODO Only shallow path support\nvar makeStyleMapper = function (properties) {\n    // Normalize\n    for (var i = 0; i < properties.length; i++) {\n        if (!properties[i][1]) {\n            properties[i][1] = properties[i][0];\n        }\n    }\n    return function (model, excludes, includes) {\n        var style = {};\n        for (var i = 0; i < properties.length; i++) {\n            var propName = properties[i][1];\n            if ((excludes && indexOf(excludes, propName) >= 0)\n                || (includes && indexOf(includes, propName) < 0)\n            ) {\n                continue;\n            }\n            var val = model.getShallow(propName);\n            if (val != null) {\n                style[properties[i][0]] = val;\n            }\n        }\n        return style;\n    };\n};\n\nvar getLineStyle = makeStyleMapper(\n    [\n        ['lineWidth', 'width'],\n        ['stroke', 'color'],\n        ['opacity'],\n        ['shadowBlur'],\n        ['shadowOffsetX'],\n        ['shadowOffsetY'],\n        ['shadowColor']\n    ]\n);\n\nvar lineStyleMixin = {\n    getLineStyle: function (excludes) {\n        var style = getLineStyle(this, excludes);\n        var lineDash = this.getLineDash(style.lineWidth);\n        lineDash && (style.lineDash = lineDash);\n        return style;\n    },\n\n    getLineDash: function (lineWidth) {\n        if (lineWidth == null) {\n            lineWidth = 1;\n        }\n        var lineType = this.get('type');\n        var dotSize = Math.max(lineWidth, 2);\n        var dashSize = lineWidth * 4;\n        return (lineType === 'solid' || lineType == null) ? null\n            : (lineType === 'dashed' ? [dashSize, dashSize] : [dotSize, dotSize]);\n    }\n};\n\nvar getAreaStyle = makeStyleMapper(\n    [\n        ['fill', 'color'],\n        ['shadowBlur'],\n        ['shadowOffsetX'],\n        ['shadowOffsetY'],\n        ['opacity'],\n        ['shadowColor']\n    ]\n);\n\nvar areaStyleMixin = {\n    getAreaStyle: function (excludes, includes) {\n        return getAreaStyle(this, excludes, includes);\n    }\n};\n\n/**\n * \n * @module zrender/core/curve\n * @author pissang(https://www.github.com/pissang)\n */\n\nvar mathPow = Math.pow;\nvar mathSqrt$2 = Math.sqrt;\n\nvar EPSILON$1 = 1e-8;\nvar EPSILON_NUMERIC = 1e-4;\n\nvar THREE_SQRT = mathSqrt$2(3);\nvar ONE_THIRD = 1 / 3;\n\n// \nvar _v0 = create();\nvar _v1 = create();\nvar _v2 = create();\n\nfunction isAroundZero(val) {\n    return val > -EPSILON$1 && val < EPSILON$1;\n}\nfunction isNotAroundZero$1(val) {\n    return val > EPSILON$1 || val < -EPSILON$1;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\nfunction cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return onet * onet * (onet * p0 + 3 * t * p1)\n            + t * t * (t * p3 + 3 * onet * p2);\n}\n\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\nfunction cubicDerivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (\n        ((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet\n        + (p3 - p2) * t * t\n    );\n}\n\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} val\n * @param  {Array.<number>} roots\n * @return {number} \n */\nfunction cubicRootAt(p0, p1, p2, p3, val, roots) {\n    // Evaluate roots of cubic functions\n    var a = p3 + 3 * (p1 - p2) - p0;\n    var b = 3 * (p2 - p1 * 2 + p0);\n    var c = 3 * (p1  - p0);\n    var d = p0 - val;\n\n    var A = b * b - 3 * a * c;\n    var B = b * c - 9 * a * d;\n    var C = c * c - 3 * b * d;\n\n    var n = 0;\n\n    if (isAroundZero(A) && isAroundZero(B)) {\n        if (isAroundZero(b)) {\n            roots[0] = 0;\n        }\n        else {\n            var t1 = -c / b;  //t1, t2, t3, b is not zero\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = B * B - 4 * A * C;\n\n        if (isAroundZero(disc)) {\n            var K = B / A;\n            var t1 = -b / a + K;  // t1, a is not zero\n            var t2 = -K / 2;  // t2, t3\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt$2(disc);\n            var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n            var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n            if (Y1 < 0) {\n                Y1 = -mathPow(-Y1, ONE_THIRD);\n            }\n            else {\n                Y1 = mathPow(Y1, ONE_THIRD);\n            }\n            if (Y2 < 0) {\n                Y2 = -mathPow(-Y2, ONE_THIRD);\n            }\n            else {\n                Y2 = mathPow(Y2, ONE_THIRD);\n            }\n            var t1 = (-b - (Y1 + Y2)) / (3 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n        else {\n            var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt$2(A * A * A));\n            var theta = Math.acos(T) / 3;\n            var ASqrt = mathSqrt$2(A);\n            var tmp = Math.cos(theta);\n\n            var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n            var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n            var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n            if (t3 >= 0 && t3 <= 1) {\n                roots[n++] = t3;\n            }\n        }\n    }\n    return n;\n}\n\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {Array.<number>} extrema\n * @return {number} \n */\nfunction cubicExtrema(p0, p1, p2, p3, extrema) {\n    var b = 6 * p2 - 12 * p1 + 6 * p0;\n    var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n    var c = 3 * p1 - 3 * p0;\n\n    var n = 0;\n    if (isAroundZero(a)) {\n        if (isNotAroundZero$1(b)) {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <=1) {\n                extrema[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isAroundZero(disc)) {\n            extrema[0] = -b / (2 * a);\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt$2(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extrema[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extrema[n++] = t2;\n            }\n        }\n    }\n    return n;\n}\n\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {Array.<number>} out\n */\nfunction cubicSubdivide(p0, p1, p2, p3, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p23 = (p3 - p2) * t + p2;\n\n    var p012 = (p12 - p01) * t + p01;\n    var p123 = (p23 - p12) * t + p12;\n\n    var p0123 = (p123 - p012) * t + p012;\n    // Seg0\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p0123;\n    // Seg1\n    out[4] = p0123;\n    out[5] = p123;\n    out[6] = p23;\n    out[7] = p3;\n}\n\n/**\n * \n * \n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} [out] \n * @return {number}\n */\nfunction cubicProjectPoint(\n    x0, y0, x1, y1, x2, y2, x3, y3,\n    x, y, out\n) {\n    // http://pomax.github.io/bezierinfo/#projections\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    var prev;\n    var next;\n    var d1;\n    var d2;\n\n    _v0[0] = x;\n    _v0[1] = y;\n\n    //  t \n    // PENDING\n    for (var _t = 0; _t < 1; _t += 0.05) {\n        _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n        _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n        d1 = distSquare(_v0, _v1);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    d = Infinity;\n\n    // At most 32 iteration\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON_NUMERIC) {\n            break;\n        }\n        prev = t - interval;\n        next = t + interval;\n        // t - interval\n        _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n        _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n\n        d1 = distSquare(_v1, _v0);\n\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            // t + interval\n            _v2[0] = cubicAt(x0, x1, x2, x3, next);\n            _v2[1] = cubicAt(y0, y1, y2, y3, next);\n            d2 = distSquare(_v2, _v0);\n\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    // t\n    if (out) {\n        out[0] = cubicAt(x0, x1, x2, x3, t);\n        out[1] = cubicAt(y0, y1, y2, y3, t);\n    }\n    // console.log(interval, i);\n    return mathSqrt$2(d);\n}\n\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\nfunction quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\n\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\nfunction quadraticDerivativeAt(p0, p1, p2, t) {\n    return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n}\n\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} roots\n * @return {number} \n */\nfunction quadraticRootAt(p0, p1, p2, val, roots) {\n    var a = p0 - 2 * p1 + p2;\n    var b = 2 * (p1 - p0);\n    var c = p0 - val;\n\n    var n = 0;\n    if (isAroundZero(a)) {\n        if (isNotAroundZero$1(b)) {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isAroundZero(disc)) {\n            var t1 = -b / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt$2(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n        }\n    }\n    return n;\n}\n\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @return {number}\n */\nfunction quadraticExtremum(p0, p1, p2) {\n    var divider = p0 + p2 - 2 * p1;\n    if (divider === 0) {\n        // p1 is center of p0 and p2\n        return 0.5;\n    }\n    else {\n        return (p0 - p1) / divider;\n    }\n}\n\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} out\n */\nfunction quadraticSubdivide(p0, p1, p2, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p012 = (p12 - p01) * t + p01;\n\n    // Seg0\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n\n    // Seg1\n    out[3] = p012;\n    out[4] = p12;\n    out[5] = p2;\n}\n\n/**\n * \n * \n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} out \n * @return {number}\n */\nfunction quadraticProjectPoint(\n    x0, y0, x1, y1, x2, y2,\n    x, y, out\n) {\n    // http://pomax.github.io/bezierinfo/#projections\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n\n    _v0[0] = x;\n    _v0[1] = y;\n\n    //  t \n    // PENDING\n    for (var _t = 0; _t < 1; _t += 0.05) {\n        _v1[0] = quadraticAt(x0, x1, x2, _t);\n        _v1[1] = quadraticAt(y0, y1, y2, _t);\n        var d1 = distSquare(_v0, _v1);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    d = Infinity;\n\n    // At most 32 iteration\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON_NUMERIC) {\n            break;\n        }\n        var prev = t - interval;\n        var next = t + interval;\n        // t - interval\n        _v1[0] = quadraticAt(x0, x1, x2, prev);\n        _v1[1] = quadraticAt(y0, y1, y2, prev);\n\n        var d1 = distSquare(_v1, _v0);\n\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            // t + interval\n            _v2[0] = quadraticAt(x0, x1, x2, next);\n            _v2[1] = quadraticAt(y0, y1, y2, next);\n            var d2 = distSquare(_v2, _v0);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    // t\n    if (out) {\n        out[0] = quadraticAt(x0, x1, x2, t);\n        out[1] = quadraticAt(y0, y1, y2, t);\n    }\n    // console.log(interval, i);\n    return mathSqrt$2(d);\n}\n\n/**\n * @author Yi Shen(https://github.com/pissang)\n */\n\nvar mathMin$3 = Math.min;\nvar mathMax$3 = Math.max;\nvar mathSin$2 = Math.sin;\nvar mathCos$2 = Math.cos;\nvar PI2 = Math.PI * 2;\n\nvar start = create();\nvar end = create();\nvar extremity = create();\n\n/**\n * `min``max`\n * @module zrender/core/bbox\n * @param {Array<Object>} points \n * @param {number} min\n * @param {number} max\n */\nfunction fromPoints(points, min$$1, max$$1) {\n    if (points.length === 0) {\n        return;\n    }\n    var p = points[0];\n    var left = p[0];\n    var right = p[0];\n    var top = p[1];\n    var bottom = p[1];\n    var i;\n\n    for (i = 1; i < points.length; i++) {\n        p = points[i];\n        left = mathMin$3(left, p[0]);\n        right = mathMax$3(right, p[0]);\n        top = mathMin$3(top, p[1]);\n        bottom = mathMax$3(bottom, p[1]);\n    }\n\n    min$$1[0] = left;\n    min$$1[1] = top;\n    max$$1[0] = right;\n    max$$1[1] = bottom;\n}\n\n/**\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\nfunction fromLine(x0, y0, x1, y1, min$$1, max$$1) {\n    min$$1[0] = mathMin$3(x0, x1);\n    min$$1[1] = mathMin$3(y0, y1);\n    max$$1[0] = mathMax$3(x0, x1);\n    max$$1[1] = mathMax$3(y0, y1);\n}\n\nvar xDim = [];\nvar yDim = [];\n/**\n * (p0, p1, p2, p3)`min``max`\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\nfunction fromCubic(\n    x0, y0, x1, y1, x2, y2, x3, y3, min$$1, max$$1\n) {\n    var cubicExtrema$$1 = cubicExtrema;\n    var cubicAt$$1 = cubicAt;\n    var i;\n    var n = cubicExtrema$$1(x0, x1, x2, x3, xDim);\n    min$$1[0] = Infinity;\n    min$$1[1] = Infinity;\n    max$$1[0] = -Infinity;\n    max$$1[1] = -Infinity;\n\n    for (i = 0; i < n; i++) {\n        var x = cubicAt$$1(x0, x1, x2, x3, xDim[i]);\n        min$$1[0] = mathMin$3(x, min$$1[0]);\n        max$$1[0] = mathMax$3(x, max$$1[0]);\n    }\n    n = cubicExtrema$$1(y0, y1, y2, y3, yDim);\n    for (i = 0; i < n; i++) {\n        var y = cubicAt$$1(y0, y1, y2, y3, yDim[i]);\n        min$$1[1] = mathMin$3(y, min$$1[1]);\n        max$$1[1] = mathMax$3(y, max$$1[1]);\n    }\n\n    min$$1[0] = mathMin$3(x0, min$$1[0]);\n    max$$1[0] = mathMax$3(x0, max$$1[0]);\n    min$$1[0] = mathMin$3(x3, min$$1[0]);\n    max$$1[0] = mathMax$3(x3, max$$1[0]);\n\n    min$$1[1] = mathMin$3(y0, min$$1[1]);\n    max$$1[1] = mathMax$3(y0, max$$1[1]);\n    min$$1[1] = mathMin$3(y3, min$$1[1]);\n    max$$1[1] = mathMax$3(y3, max$$1[1]);\n}\n\n/**\n * (p0, p1, p2)`min``max`\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\nfunction fromQuadratic(x0, y0, x1, y1, x2, y2, min$$1, max$$1) {\n    var quadraticExtremum$$1 = quadraticExtremum;\n    var quadraticAt$$1 = quadraticAt;\n    // Find extremities, where derivative in x dim or y dim is zero\n    var tx =\n        mathMax$3(\n            mathMin$3(quadraticExtremum$$1(x0, x1, x2), 1), 0\n        );\n    var ty =\n        mathMax$3(\n            mathMin$3(quadraticExtremum$$1(y0, y1, y2), 1), 0\n        );\n\n    var x = quadraticAt$$1(x0, x1, x2, tx);\n    var y = quadraticAt$$1(y0, y1, y2, ty);\n\n    min$$1[0] = mathMin$3(x0, x2, x);\n    min$$1[1] = mathMin$3(y0, y2, y);\n    max$$1[0] = mathMax$3(x0, x2, x);\n    max$$1[1] = mathMax$3(y0, y2, y);\n}\n\n/**\n * `min``max`\n * @method\n * @memberOf module:zrender/core/bbox\n * @param {number} x\n * @param {number} y\n * @param {number} rx\n * @param {number} ry\n * @param {number} startAngle\n * @param {number} endAngle\n * @param {number} anticlockwise\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\nfunction fromArc(\n    x, y, rx, ry, startAngle, endAngle, anticlockwise, min$$1, max$$1\n) {\n    var vec2Min = min;\n    var vec2Max = max;\n\n    var diff = Math.abs(startAngle - endAngle);\n\n\n    if (diff % PI2 < 1e-4 && diff > 1e-4) {\n        // Is a circle\n        min$$1[0] = x - rx;\n        min$$1[1] = y - ry;\n        max$$1[0] = x + rx;\n        max$$1[1] = y + ry;\n        return;\n    }\n\n    start[0] = mathCos$2(startAngle) * rx + x;\n    start[1] = mathSin$2(startAngle) * ry + y;\n\n    end[0] = mathCos$2(endAngle) * rx + x;\n    end[1] = mathSin$2(endAngle) * ry + y;\n\n    vec2Min(min$$1, start, end);\n    vec2Max(max$$1, start, end);\n\n    // Thresh to [0, Math.PI * 2]\n    startAngle = startAngle % (PI2);\n    if (startAngle < 0) {\n        startAngle = startAngle + PI2;\n    }\n    endAngle = endAngle % (PI2);\n    if (endAngle < 0) {\n        endAngle = endAngle + PI2;\n    }\n\n    if (startAngle > endAngle && !anticlockwise) {\n        endAngle += PI2;\n    }\n    else if (startAngle < endAngle && anticlockwise) {\n        startAngle += PI2;\n    }\n    if (anticlockwise) {\n        var tmp = endAngle;\n        endAngle = startAngle;\n        startAngle = tmp;\n    }\n\n    // var number = 0;\n    // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;\n    for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n        if (angle > startAngle) {\n            extremity[0] = mathCos$2(angle) * rx + x;\n            extremity[1] = mathSin$2(angle) * ry + y;\n\n            vec2Min(min$$1, extremity, min$$1);\n            vec2Max(max$$1, extremity, max$$1);\n        }\n    }\n}\n\n/**\n * Path `buildPath``ctx`, pathpathCommands\n *  isInsidePath boundingRect\n *\n * @module zrender/core/PathProxy\n * @author Yi Shen (http://www.github.com/pissang)\n */\n\n// TODO getTotalLength, getPointAtLength\n\nvar CMD = {\n    M: 1,\n    L: 2,\n    C: 3,\n    Q: 4,\n    A: 5,\n    Z: 6,\n    // Rect\n    R: 7\n};\n\n// var CMD_MEM_SIZE = {\n//     M: 3,\n//     L: 3,\n//     C: 7,\n//     Q: 5,\n//     A: 9,\n//     R: 5,\n//     Z: 1\n// };\n\nvar min$1 = [];\nvar max$1 = [];\nvar min2 = [];\nvar max2 = [];\nvar mathMin$2 = Math.min;\nvar mathMax$2 = Math.max;\nvar mathCos$1 = Math.cos;\nvar mathSin$1 = Math.sin;\nvar mathSqrt$1 = Math.sqrt;\nvar mathAbs = Math.abs;\n\nvar hasTypedArray = typeof Float32Array != 'undefined';\n\n/**\n * @alias module:zrender/core/PathProxy\n * @constructor\n */\nvar PathProxy = function (notSaveData) {\n\n    this._saveData = !(notSaveData || false);\n\n    if (this._saveData) {\n        /**\n         * Path data. Stored as flat array\n         * @type {Array.<Object>}\n         */\n        this.data = [];\n    }\n\n    this._ctx = null;\n};\n\n/**\n * Path\n * @return {Object}\n */\nPathProxy.prototype = {\n\n    constructor: PathProxy,\n\n    _xi: 0,\n    _yi: 0,\n\n    _x0: 0,\n    _y0: 0,\n    // Unit x, Unit y. Provide for avoiding drawing that too short line segment\n    _ux: 0,\n    _uy: 0,\n\n    _len: 0,\n\n    _lineDash: null,\n\n    _dashOffset: 0,\n\n    _dashIdx: 0,\n\n    _dashSum: 0,\n\n    /**\n     * @readOnly\n     */\n    setScale: function (sx, sy) {\n        this._ux = mathAbs(1 / devicePixelRatio / sx) || 0;\n        this._uy = mathAbs(1 / devicePixelRatio / sy) || 0;\n    },\n\n    getContext: function () {\n        return this._ctx;\n    },\n\n    /**\n     * @param  {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    beginPath: function (ctx) {\n\n        this._ctx = ctx;\n\n        ctx && ctx.beginPath();\n\n        ctx && (this.dpr = ctx.dpr);\n\n        // Reset\n        if (this._saveData) {\n            this._len = 0;\n        }\n\n        if (this._lineDash) {\n            this._lineDash = null;\n\n            this._dashOffset = 0;\n        }\n\n        return this;\n    },\n\n    /**\n     * @param  {number} x\n     * @param  {number} y\n     * @return {module:zrender/core/PathProxy}\n     */\n    moveTo: function (x, y) {\n        this.addData(CMD.M, x, y);\n        this._ctx && this._ctx.moveTo(x, y);\n\n        // x0, y0, xi, yi  _dashedXXXXTo \n        // xi, yi , x0, y0  closePath \n        //  beginPath  lineTo x0, y0 \n        //  lineTo dashed line  IE10- \n        this._x0 = x;\n        this._y0 = y;\n\n        this._xi = x;\n        this._yi = y;\n\n        return this;\n    },\n\n    /**\n     * @param  {number} x\n     * @param  {number} y\n     * @return {module:zrender/core/PathProxy}\n     */\n    lineTo: function (x, y) {\n        var exceedUnit = mathAbs(x - this._xi) > this._ux\n            || mathAbs(y - this._yi) > this._uy\n            // Force draw the first segment\n            || this._len < 5;\n\n        this.addData(CMD.L, x, y);\n\n        if (this._ctx && exceedUnit) {\n            this._needsDash() ? this._dashedLineTo(x, y)\n                : this._ctx.lineTo(x, y);\n        }\n        if (exceedUnit) {\n            this._xi = x;\n            this._yi = y;\n        }\n\n        return this;\n    },\n\n    /**\n     * @param  {number} x1\n     * @param  {number} y1\n     * @param  {number} x2\n     * @param  {number} y2\n     * @param  {number} x3\n     * @param  {number} y3\n     * @return {module:zrender/core/PathProxy}\n     */\n    bezierCurveTo: function (x1, y1, x2, y2, x3, y3) {\n        this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n        if (this._ctx) {\n            this._needsDash() ? this._dashedBezierTo(x1, y1, x2, y2, x3, y3)\n                : this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n        }\n        this._xi = x3;\n        this._yi = y3;\n        return this;\n    },\n\n    /**\n     * @param  {number} x1\n     * @param  {number} y1\n     * @param  {number} x2\n     * @param  {number} y2\n     * @return {module:zrender/core/PathProxy}\n     */\n    quadraticCurveTo: function (x1, y1, x2, y2) {\n        this.addData(CMD.Q, x1, y1, x2, y2);\n        if (this._ctx) {\n            this._needsDash() ? this._dashedQuadraticTo(x1, y1, x2, y2)\n                : this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n        }\n        this._xi = x2;\n        this._yi = y2;\n        return this;\n    },\n\n    /**\n     * @param  {number} cx\n     * @param  {number} cy\n     * @param  {number} r\n     * @param  {number} startAngle\n     * @param  {number} endAngle\n     * @param  {boolean} anticlockwise\n     * @return {module:zrender/core/PathProxy}\n     */\n    arc: function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n        this.addData(\n            CMD.A, cx, cy, r, r, startAngle, endAngle - startAngle, 0, anticlockwise ? 0 : 1\n        );\n        this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n\n        this._xi = mathCos$1(endAngle) * r + cx;\n        this._yi = mathSin$1(endAngle) * r + cx;\n        return this;\n    },\n\n    // TODO\n    arcTo: function (x1, y1, x2, y2, radius) {\n        if (this._ctx) {\n            this._ctx.arcTo(x1, y1, x2, y2, radius);\n        }\n        return this;\n    },\n\n    // TODO\n    rect: function (x, y, w, h) {\n        this._ctx && this._ctx.rect(x, y, w, h);\n        this.addData(CMD.R, x, y, w, h);\n        return this;\n    },\n\n    /**\n     * @return {module:zrender/core/PathProxy}\n     */\n    closePath: function () {\n        this.addData(CMD.Z);\n\n        var ctx = this._ctx;\n        var x0 = this._x0;\n        var y0 = this._y0;\n        if (ctx) {\n            this._needsDash() && this._dashedLineTo(x0, y0);\n            ctx.closePath();\n        }\n\n        this._xi = x0;\n        this._yi = y0;\n        return this;\n    },\n\n    /**\n     * Context  rebuildPath  fill\n     * stroke \n     * @param {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    fill: function (ctx) {\n        ctx && ctx.fill();\n        this.toStatic();\n    },\n\n    /**\n     * @param {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    stroke: function (ctx) {\n        ctx && ctx.stroke();\n        this.toStatic();\n    },\n\n    /**\n     * \n     * Must be invoked before all other path drawing methods\n     * @return {module:zrender/core/PathProxy}\n     */\n    setLineDash: function (lineDash) {\n        if (lineDash instanceof Array) {\n            this._lineDash = lineDash;\n\n            this._dashIdx = 0;\n\n            var lineDashSum = 0;\n            for (var i = 0; i < lineDash.length; i++) {\n                lineDashSum += lineDash[i];\n            }\n            this._dashSum = lineDashSum;\n        }\n        return this;\n    },\n\n    /**\n     * \n     * Must be invoked before all other path drawing methods\n     * @return {module:zrender/core/PathProxy}\n     */\n    setLineDashOffset: function (offset) {\n        this._dashOffset = offset;\n        return this;\n    },\n\n    /**\n     *\n     * @return {boolean}\n     */\n    len: function () {\n        return this._len;\n    },\n\n    /**\n     *  Path \n     */\n    setData: function (data) {\n\n        var len$$1 = data.length;\n\n        if (! (this.data && this.data.length == len$$1) && hasTypedArray) {\n            this.data = new Float32Array(len$$1);\n        }\n\n        for (var i = 0; i < len$$1; i++) {\n            this.data[i] = data[i];\n        }\n\n        this._len = len$$1;\n    },\n\n    /**\n     * \n     * @param {module:zrender/core/PathProxy|Array.<module:zrender/core/PathProxy>} path\n     */\n    appendPath: function (path) {\n        if (!(path instanceof Array)) {\n            path = [path];\n        }\n        var len$$1 = path.length;\n        var appendSize = 0;\n        var offset = this._len;\n        for (var i = 0; i < len$$1; i++) {\n            appendSize += path[i].len();\n        }\n        if (hasTypedArray && (this.data instanceof Float32Array)) {\n            this.data = new Float32Array(offset + appendSize);\n        }\n        for (var i = 0; i < len$$1; i++) {\n            var appendPathData = path[i].data;\n            for (var k = 0; k < appendPathData.length; k++) {\n                this.data[offset++] = appendPathData[k];\n            }\n        }\n        this._len = offset;\n    },\n\n    /**\n     *  Path \n     * \n     */\n    addData: function (cmd) {\n        if (!this._saveData) {\n            return;\n        }\n\n        var data = this.data;\n        if (this._len + arguments.length > data.length) {\n            //  Float32Array\n            // \n            this._expandData();\n            data = this.data;\n        }\n        for (var i = 0; i < arguments.length; i++) {\n            data[this._len++] = arguments[i];\n        }\n\n        this._prevCmd = cmd;\n    },\n\n    _expandData: function () {\n        // Only if data is Float32Array\n        if (!(this.data instanceof Array)) {\n            var newData = [];\n            for (var i = 0; i < this._len; i++) {\n                newData[i] = this.data[i];\n            }\n            this.data = newData;\n        }\n    },\n\n    /**\n     * If needs js implemented dashed line\n     * @return {boolean}\n     * @private\n     */\n    _needsDash: function () {\n        return this._lineDash;\n    },\n\n    _dashedLineTo: function (x1, y1) {\n        var dashSum = this._dashSum;\n        var offset = this._dashOffset;\n        var lineDash = this._lineDash;\n        var ctx = this._ctx;\n\n        var x0 = this._xi;\n        var y0 = this._yi;\n        var dx = x1 - x0;\n        var dy = y1 - y0;\n        var dist$$1 = mathSqrt$1(dx * dx + dy * dy);\n        var x = x0;\n        var y = y0;\n        var dash;\n        var nDash = lineDash.length;\n        var idx;\n        dx /= dist$$1;\n        dy /= dist$$1;\n\n        if (offset < 0) {\n            // Convert to positive offset\n            offset = dashSum + offset;\n        }\n        offset %= dashSum;\n        x -= offset * dx;\n        y -= offset * dy;\n\n        while ((dx > 0 && x <= x1) || (dx < 0 && x >= x1)\n        || (dx == 0 && ((dy > 0 && y <= y1) || (dy < 0 && y >= y1)))) {\n            idx = this._dashIdx;\n            dash = lineDash[idx];\n            x += dx * dash;\n            y += dy * dash;\n            this._dashIdx = (idx + 1) % nDash;\n            // Skip positive offset\n            if ((dx > 0 && x < x0) || (dx < 0 && x > x0) || (dy > 0 && y < y0) || (dy < 0 && y > y0)) {\n                continue;\n            }\n            ctx[idx % 2 ? 'moveTo' : 'lineTo'](\n                dx >= 0 ? mathMin$2(x, x1) : mathMax$2(x, x1),\n                dy >= 0 ? mathMin$2(y, y1) : mathMax$2(y, y1)\n            );\n        }\n        // Offset for next lineTo\n        dx = x - x1;\n        dy = y - y1;\n        this._dashOffset = -mathSqrt$1(dx * dx + dy * dy);\n    },\n\n    // Not accurate dashed line to\n    _dashedBezierTo: function (x1, y1, x2, y2, x3, y3) {\n        var dashSum = this._dashSum;\n        var offset = this._dashOffset;\n        var lineDash = this._lineDash;\n        var ctx = this._ctx;\n\n        var x0 = this._xi;\n        var y0 = this._yi;\n        var t;\n        var dx;\n        var dy;\n        var cubicAt$$1 = cubicAt;\n        var bezierLen = 0;\n        var idx = this._dashIdx;\n        var nDash = lineDash.length;\n\n        var x;\n        var y;\n\n        var tmpLen = 0;\n\n        if (offset < 0) {\n            // Convert to positive offset\n            offset = dashSum + offset;\n        }\n        offset %= dashSum;\n        // Bezier approx length\n        for (t = 0; t < 1; t += 0.1) {\n            dx = cubicAt$$1(x0, x1, x2, x3, t + 0.1)\n                - cubicAt$$1(x0, x1, x2, x3, t);\n            dy = cubicAt$$1(y0, y1, y2, y3, t + 0.1)\n                - cubicAt$$1(y0, y1, y2, y3, t);\n            bezierLen += mathSqrt$1(dx * dx + dy * dy);\n        }\n\n        // Find idx after add offset\n        for (; idx < nDash; idx++) {\n            tmpLen += lineDash[idx];\n            if (tmpLen > offset) {\n                break;\n            }\n        }\n        t = (tmpLen - offset) / bezierLen;\n\n        while (t <= 1) {\n\n            x = cubicAt$$1(x0, x1, x2, x3, t);\n            y = cubicAt$$1(y0, y1, y2, y3, t);\n\n            // Use line to approximate dashed bezier\n            // Bad result if dash is long\n            idx % 2 ? ctx.moveTo(x, y)\n                : ctx.lineTo(x, y);\n\n            t += lineDash[idx] / bezierLen;\n\n            idx = (idx + 1) % nDash;\n        }\n\n        // Finish the last segment and calculate the new offset\n        (idx % 2 !== 0) && ctx.lineTo(x3, y3);\n        dx = x3 - x;\n        dy = y3 - y;\n        this._dashOffset = -mathSqrt$1(dx * dx + dy * dy);\n    },\n\n    _dashedQuadraticTo: function (x1, y1, x2, y2) {\n        // Convert quadratic to cubic using degree elevation\n        var x3 = x2;\n        var y3 = y2;\n        x2 = (x2 + 2 * x1) / 3;\n        y2 = (y2 + 2 * y1) / 3;\n        x1 = (this._xi + 2 * x1) / 3;\n        y1 = (this._yi + 2 * y1) / 3;\n\n        this._dashedBezierTo(x1, y1, x2, y2, x3, y3);\n    },\n\n    /**\n     *  Float32Array \n     * Convert dynamic array to static Float32Array\n     */\n    toStatic: function () {\n        var data = this.data;\n        if (data instanceof Array) {\n            data.length = this._len;\n            if (hasTypedArray) {\n                this.data = new Float32Array(data);\n            }\n        }\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function () {\n        min$1[0] = min$1[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n        max$1[0] = max$1[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n\n        var data = this.data;\n        var xi = 0;\n        var yi = 0;\n        var x0 = 0;\n        var y0 = 0;\n\n        for (var i = 0; i < data.length;) {\n            var cmd = data[i++];\n\n            if (i == 1) {\n                //  L, C, Q\n                //  previous point  point\n                //\n                //  Arc \n                xi = data[i];\n                yi = data[i + 1];\n\n                x0 = xi;\n                y0 = yi;\n            }\n\n            switch (cmd) {\n                case CMD.M:\n                    // moveTo  subpath, \n                    //  closePath \n                    x0 = data[i++];\n                    y0 = data[i++];\n                    xi = x0;\n                    yi = y0;\n                    min2[0] = x0;\n                    min2[1] = y0;\n                    max2[0] = x0;\n                    max2[1] = y0;\n                    break;\n                case CMD.L:\n                    fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.C:\n                    fromCubic(\n                        xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1],\n                        min2, max2\n                    );\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.Q:\n                    fromQuadratic(\n                        xi, yi, data[i++], data[i++], data[i], data[i + 1],\n                        min2, max2\n                    );\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.A:\n                    // TODO Arc \n                    var cx = data[i++];\n                    var cy = data[i++];\n                    var rx = data[i++];\n                    var ry = data[i++];\n                    var startAngle = data[i++];\n                    var endAngle = data[i++] + startAngle;\n                    // TODO Arc \n                    var psi = data[i++];\n                    var anticlockwise = 1 - data[i++];\n\n                    if (i == 1) {\n                        //  arc \n                        // \n                        x0 = mathCos$1(startAngle) * rx + cx;\n                        y0 = mathSin$1(startAngle) * ry + cy;\n                    }\n\n                    fromArc(\n                        cx, cy, rx, ry, startAngle, endAngle,\n                        anticlockwise, min2, max2\n                    );\n\n                    xi = mathCos$1(endAngle) * rx + cx;\n                    yi = mathSin$1(endAngle) * ry + cy;\n                    break;\n                case CMD.R:\n                    x0 = xi = data[i++];\n                    y0 = yi = data[i++];\n                    var width = data[i++];\n                    var height = data[i++];\n                    // Use fromLine\n                    fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n                    break;\n                case CMD.Z:\n                    xi = x0;\n                    yi = y0;\n                    break;\n            }\n\n            // Union\n            min(min$1, min$1, min2);\n            max(max$1, max$1, max2);\n        }\n\n        // No data\n        if (i === 0) {\n            min$1[0] = min$1[1] = max$1[0] = max$1[1] = 0;\n        }\n\n        return new BoundingRect(\n            min$1[0], min$1[1], max$1[0] - min$1[0], max$1[1] - min$1[1]\n        );\n    },\n\n    /**\n     * Rebuild path from current data\n     * Rebuild path will not consider javascript implemented line dash.\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    rebuildPath: function (ctx) {\n        var d = this.data;\n        var x0, y0;\n        var xi, yi;\n        var x, y;\n        var ux = this._ux;\n        var uy = this._uy;\n        var len$$1 = this._len;\n        for (var i = 0; i < len$$1;) {\n            var cmd = d[i++];\n\n            if (i == 1) {\n                //  L, C, Q\n                //  previous point  point\n                //\n                //  Arc \n                xi = d[i];\n                yi = d[i + 1];\n\n                x0 = xi;\n                y0 = yi;\n            }\n            switch (cmd) {\n                case CMD.M:\n                    x0 = xi = d[i++];\n                    y0 = yi = d[i++];\n                    ctx.moveTo(xi, yi);\n                    break;\n                case CMD.L:\n                    x = d[i++];\n                    y = d[i++];\n                    // Not draw too small seg between\n                    if (mathAbs(x - xi) > ux || mathAbs(y - yi) > uy || i === len$$1 - 1) {\n                        ctx.lineTo(x, y);\n                        xi = x;\n                        yi = y;\n                    }\n                    break;\n                case CMD.C:\n                    ctx.bezierCurveTo(\n                        d[i++], d[i++], d[i++], d[i++], d[i++], d[i++]\n                    );\n                    xi = d[i - 2];\n                    yi = d[i - 1];\n                    break;\n                case CMD.Q:\n                    ctx.quadraticCurveTo(d[i++], d[i++], d[i++], d[i++]);\n                    xi = d[i - 2];\n                    yi = d[i - 1];\n                    break;\n                case CMD.A:\n                    var cx = d[i++];\n                    var cy = d[i++];\n                    var rx = d[i++];\n                    var ry = d[i++];\n                    var theta = d[i++];\n                    var dTheta = d[i++];\n                    var psi = d[i++];\n                    var fs = d[i++];\n                    var r = (rx > ry) ? rx : ry;\n                    var scaleX = (rx > ry) ? 1 : rx / ry;\n                    var scaleY = (rx > ry) ? ry / rx : 1;\n                    var isEllipse = Math.abs(rx - ry) > 1e-3;\n                    var endAngle = theta + dTheta;\n                    if (isEllipse) {\n                        ctx.translate(cx, cy);\n                        ctx.rotate(psi);\n                        ctx.scale(scaleX, scaleY);\n                        ctx.arc(0, 0, r, theta, endAngle, 1 - fs);\n                        ctx.scale(1 / scaleX, 1 / scaleY);\n                        ctx.rotate(-psi);\n                        ctx.translate(-cx, -cy);\n                    }\n                    else {\n                        ctx.arc(cx, cy, r, theta, endAngle, 1 - fs);\n                    }\n\n                    if (i == 1) {\n                        //  arc \n                        // \n                        x0 = mathCos$1(theta) * rx + cx;\n                        y0 = mathSin$1(theta) * ry + cy;\n                    }\n                    xi = mathCos$1(endAngle) * rx + cx;\n                    yi = mathSin$1(endAngle) * ry + cy;\n                    break;\n                case CMD.R:\n                    x0 = xi = d[i];\n                    y0 = yi = d[i + 1];\n                    ctx.rect(d[i++], d[i++], d[i++], d[i++]);\n                    break;\n                case CMD.Z:\n                    ctx.closePath();\n                    xi = x0;\n                    yi = y0;\n            }\n        }\n    }\n};\n\nPathProxy.CMD = CMD;\n\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke$1(x0, y0, x1, y1, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    var _a = 0;\n    var _b = x0;\n    // Quick reject\n    if (\n        (y > y0 + _l && y > y1 + _l)\n        || (y < y0 - _l && y < y1 - _l)\n        || (x > x0 + _l && x > x1 + _l)\n        || (x < x0 - _l && x < x1 - _l)\n    ) {\n        return false;\n    }\n\n    if (x0 !== x1) {\n        _a = (y0 - y1) / (x0 - x1);\n        _b = (x0 * y1 - x1 * y0) / (x0 - x1) ;\n    }\n    else {\n        return Math.abs(x - x0) <= _l / 2;\n    }\n    var tmp = _a * x - y + _b;\n    var _s = tmp * tmp / (_a * _a + 1);\n    return _s <= _l / 2 * _l / 2;\n}\n\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  x3\n * @param  {number}  y3\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke$2(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    // Quick reject\n    if (\n        (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l)\n        || (y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l)\n        || (x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l)\n        || (x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l)\n    ) {\n        return false;\n    }\n    var d = cubicProjectPoint(\n        x0, y0, x1, y1, x2, y2, x3, y3,\n        x, y, null\n    );\n    return d <= _l / 2;\n}\n\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke$3(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    // Quick reject\n    if (\n        (y > y0 + _l && y > y1 + _l && y > y2 + _l)\n        || (y < y0 - _l && y < y1 - _l && y < y2 - _l)\n        || (x > x0 + _l && x > x1 + _l && x > x2 + _l)\n        || (x < x0 - _l && x < x1 - _l && x < x2 - _l)\n    ) {\n        return false;\n    }\n    var d = quadraticProjectPoint(\n        x0, y0, x1, y1, x2, y2,\n        x, y, null\n    );\n    return d <= _l / 2;\n}\n\nvar PI2$3 = Math.PI * 2;\n\nfunction normalizeRadian(angle) {\n    angle %= PI2$3;\n    if (angle < 0) {\n        angle += PI2$3;\n    }\n    return angle;\n}\n\nvar PI2$2 = Math.PI * 2;\n\n/**\n * \n * @param  {number}  cx\n * @param  {number}  cy\n * @param  {number}  r\n * @param  {number}  startAngle\n * @param  {number}  endAngle\n * @param  {boolean}  anticlockwise\n * @param  {number} lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {Boolean}\n */\nfunction containStroke$4(\n    cx, cy, r, startAngle, endAngle, anticlockwise,\n    lineWidth, x, y\n) {\n\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n\n    x -= cx;\n    y -= cy;\n    var d = Math.sqrt(x * x + y * y);\n\n    if ((d - _l > r) || (d + _l < r)) {\n        return false;\n    }\n    if (Math.abs(startAngle - endAngle) % PI2$2 < 1e-4) {\n        // Is a circle\n        return true;\n    }\n    if (anticlockwise) {\n        var tmp = startAngle;\n        startAngle = normalizeRadian(endAngle);\n        endAngle = normalizeRadian(tmp);\n    } else {\n        startAngle = normalizeRadian(startAngle);\n        endAngle = normalizeRadian(endAngle);\n    }\n    if (startAngle > endAngle) {\n        endAngle += PI2$2;\n    }\n\n    var angle = Math.atan2(y, x);\n    if (angle < 0) {\n        angle += PI2$2;\n    }\n    return (angle >= startAngle && angle <= endAngle)\n        || (angle + PI2$2 >= startAngle && angle + PI2$2 <= endAngle);\n}\n\nfunction windingLine(x0, y0, x1, y1, x, y) {\n    if ((y > y0 && y > y1) || (y < y0 && y < y1)) {\n        return 0;\n    }\n    // Ignore horizontal line\n    if (y1 === y0) {\n        return 0;\n    }\n    var dir = y1 < y0 ? 1 : -1;\n    var t = (y - y0) / (y1 - y0);\n\n    // Avoid winding error when intersection point is the connect point of two line of polygon\n    if (t === 1 || t === 0) {\n        dir = y1 < y0 ? 0.5 : -0.5;\n    }\n\n    var x_ = t * (x1 - x0) + x0;\n\n    return x_ > x ? dir : 0;\n}\n\nvar CMD$1 = PathProxy.CMD;\nvar PI2$1 = Math.PI * 2;\n\nvar EPSILON$2 = 1e-4;\n\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON$2;\n}\n\n// \nvar roots = [-1, -1, -1];\nvar extrema = [-1, -1];\n\nfunction swapExtrema() {\n    var tmp = extrema[0];\n    extrema[0] = extrema[1];\n    extrema[1] = tmp;\n}\n\nfunction windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n    // Quick reject\n    if (\n        (y > y0 && y > y1 && y > y2 && y > y3)\n        || (y < y0 && y < y1 && y < y2 && y < y3)\n    ) {\n        return 0;\n    }\n    var nRoots = cubicRootAt(y0, y1, y2, y3, y, roots);\n    if (nRoots === 0) {\n        return 0;\n    }\n    else {\n        var w = 0;\n        var nExtrema = -1;\n        var y0_, y1_;\n        for (var i = 0; i < nRoots; i++) {\n            var t = roots[i];\n\n            // Avoid winding error when intersection point is the connect point of two line of polygon\n            var unit = (t === 0 || t === 1) ? 0.5 : 1;\n\n            var x_ = cubicAt(x0, x1, x2, x3, t);\n            if (x_ < x) { // Quick reject\n                continue;\n            }\n            if (nExtrema < 0) {\n                nExtrema = cubicExtrema(y0, y1, y2, y3, extrema);\n                if (extrema[1] < extrema[0] && nExtrema > 1) {\n                    swapExtrema();\n                }\n                y0_ = cubicAt(y0, y1, y2, y3, extrema[0]);\n                if (nExtrema > 1) {\n                    y1_ = cubicAt(y0, y1, y2, y3, extrema[1]);\n                }\n            }\n            if (nExtrema == 2) {\n                // \n                if (t < extrema[0]) {\n                    w += y0_ < y0 ? unit : -unit;\n                }\n                else if (t < extrema[1]) {\n                    w += y1_ < y0_ ? unit : -unit;\n                }\n                else {\n                    w += y3 < y1_ ? unit : -unit;\n                }\n            }\n            else {\n                // \n                if (t < extrema[0]) {\n                    w += y0_ < y0 ? unit : -unit;\n                }\n                else {\n                    w += y3 < y0_ ? unit : -unit;\n                }\n            }\n        }\n        return w;\n    }\n}\n\nfunction windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n    // Quick reject\n    if (\n        (y > y0 && y > y1 && y > y2)\n        || (y < y0 && y < y1 && y < y2)\n    ) {\n        return 0;\n    }\n    var nRoots = quadraticRootAt(y0, y1, y2, y, roots);\n    if (nRoots === 0) {\n        return 0;\n    }\n    else {\n        var t = quadraticExtremum(y0, y1, y2);\n        if (t >= 0 && t <= 1) {\n            var w = 0;\n            var y_ = quadraticAt(y0, y1, y2, t);\n            for (var i = 0; i < nRoots; i++) {\n                // Remove one endpoint.\n                var unit = (roots[i] === 0 || roots[i] === 1) ? 0.5 : 1;\n\n                var x_ = quadraticAt(x0, x1, x2, roots[i]);\n                if (x_ < x) {   // Quick reject\n                    continue;\n                }\n                if (roots[i] < t) {\n                    w += y_ < y0 ? unit : -unit;\n                }\n                else {\n                    w += y2 < y_ ? unit : -unit;\n                }\n            }\n            return w;\n        }\n        else {\n            // Remove one endpoint.\n            var unit = (roots[0] === 0 || roots[0] === 1) ? 0.5 : 1;\n\n            var x_ = quadraticAt(x0, x1, x2, roots[0]);\n            if (x_ < x) {   // Quick reject\n                return 0;\n            }\n            return y2 < y0 ? unit : -unit;\n        }\n    }\n}\n\n// TODO\n// Arc \nfunction windingArc(\n    cx, cy, r, startAngle, endAngle, anticlockwise, x, y\n) {\n    y -= cy;\n    if (y > r || y < -r) {\n        return 0;\n    }\n    var tmp = Math.sqrt(r * r - y * y);\n    roots[0] = -tmp;\n    roots[1] = tmp;\n\n    var diff = Math.abs(startAngle - endAngle);\n    if (diff < 1e-4) {\n        return 0;\n    }\n    if (diff % PI2$1 < 1e-4) {\n        // Is a circle\n        startAngle = 0;\n        endAngle = PI2$1;\n        var dir = anticlockwise ? 1 : -1;\n        if (x >= roots[0] + cx && x <= roots[1] + cx) {\n            return dir;\n        } else {\n            return 0;\n        }\n    }\n\n    if (anticlockwise) {\n        var tmp = startAngle;\n        startAngle = normalizeRadian(endAngle);\n        endAngle = normalizeRadian(tmp);\n    }\n    else {\n        startAngle = normalizeRadian(startAngle);\n        endAngle = normalizeRadian(endAngle);\n    }\n    if (startAngle > endAngle) {\n        endAngle += PI2$1;\n    }\n\n    var w = 0;\n    for (var i = 0; i < 2; i++) {\n        var x_ = roots[i];\n        if (x_ + cx > x) {\n            var angle = Math.atan2(y, x_);\n            var dir = anticlockwise ? 1 : -1;\n            if (angle < 0) {\n                angle = PI2$1 + angle;\n            }\n            if (\n                (angle >= startAngle && angle <= endAngle)\n                || (angle + PI2$1 >= startAngle && angle + PI2$1 <= endAngle)\n            ) {\n                if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n                    dir = -dir;\n                }\n                w += dir;\n            }\n        }\n    }\n    return w;\n}\n\nfunction containPath(data, lineWidth, isStroke, x, y) {\n    var w = 0;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n\n    for (var i = 0; i < data.length;) {\n        var cmd = data[i++];\n        // Begin a new subpath\n        if (cmd === CMD$1.M && i > 1) {\n            // Close previous subpath\n            if (!isStroke) {\n                w += windingLine(xi, yi, x0, y0, x, y);\n            }\n            //  subpath \n            // if (w !== 0) {\n            //     return true;\n            // }\n        }\n\n        if (i == 1) {\n            //  L, C, Q\n            //  previous point  point\n            //\n            //  Arc \n            xi = data[i];\n            yi = data[i + 1];\n\n            x0 = xi;\n            y0 = yi;\n        }\n\n        switch (cmd) {\n            case CMD$1.M:\n                // moveTo  subpath, \n                //  closePath \n                x0 = data[i++];\n                y0 = data[i++];\n                xi = x0;\n                yi = y0;\n                break;\n            case CMD$1.L:\n                if (isStroke) {\n                    if (containStroke$1(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    // NOTE  L, C, Q  NaN\n                    w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD$1.C:\n                if (isStroke) {\n                    if (containStroke$2(xi, yi,\n                        data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1],\n                        lineWidth, x, y\n                    )) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingCubic(\n                        xi, yi,\n                        data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1],\n                        x, y\n                    ) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD$1.Q:\n                if (isStroke) {\n                    if (containStroke$3(xi, yi,\n                        data[i++], data[i++], data[i], data[i + 1],\n                        lineWidth, x, y\n                    )) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingQuadratic(\n                        xi, yi,\n                        data[i++], data[i++], data[i], data[i + 1],\n                        x, y\n                    ) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD$1.A:\n                // TODO Arc \n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var theta = data[i++];\n                var dTheta = data[i++];\n                // TODO Arc \n                var psi = data[i++];\n                var anticlockwise = 1 - data[i++];\n                var x1 = Math.cos(theta) * rx + cx;\n                var y1 = Math.sin(theta) * ry + cy;\n                //  arc \n                if (i > 1) {\n                    w += windingLine(xi, yi, x1, y1, x, y);\n                }\n                else {\n                    // \n                    x0 = x1;\n                    y0 = y1;\n                }\n                // zr scale, x\n                var _x = (x - cx) * ry / rx + cx;\n                if (isStroke) {\n                    if (containStroke$4(\n                        cx, cy, ry, theta, theta + dTheta, anticlockwise,\n                        lineWidth, _x, y\n                    )) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingArc(\n                        cx, cy, ry, theta, theta + dTheta, anticlockwise,\n                        _x, y\n                    );\n                }\n                xi = Math.cos(theta + dTheta) * rx + cx;\n                yi = Math.sin(theta + dTheta) * ry + cy;\n                break;\n            case CMD$1.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                var width = data[i++];\n                var height = data[i++];\n                var x1 = x0 + width;\n                var y1 = y0 + height;\n                if (isStroke) {\n                    if (containStroke$1(x0, y0, x1, y0, lineWidth, x, y)\n                        || containStroke$1(x1, y0, x1, y1, lineWidth, x, y)\n                        || containStroke$1(x1, y1, x0, y1, lineWidth, x, y)\n                        || containStroke$1(x0, y1, x0, y0, lineWidth, x, y)\n                    ) {\n                        return true;\n                    }\n                }\n                else {\n                    // FIXME Clockwise ?\n                    w += windingLine(x1, y0, x1, y1, x, y);\n                    w += windingLine(x0, y1, x0, y0, x, y);\n                }\n                break;\n            case CMD$1.Z:\n                if (isStroke) {\n                    if (containStroke$1(\n                        xi, yi, x0, y0, lineWidth, x, y\n                    )) {\n                        return true;\n                    }\n                }\n                else {\n                    // Close a subpath\n                    w += windingLine(xi, yi, x0, y0, x, y);\n                    //  subpath \n                    // FIXME subpaths may overlap\n                    // if (w !== 0) {\n                    //     return true;\n                    // }\n                }\n                xi = x0;\n                yi = y0;\n                break;\n        }\n    }\n    if (!isStroke && !isAroundEqual(yi, y0)) {\n        w += windingLine(xi, yi, x0, y0, x, y) || 0;\n    }\n    return w !== 0;\n}\n\nfunction contain(pathData, x, y) {\n    return containPath(pathData, 0, false, x, y);\n}\n\nfunction containStroke(pathData, lineWidth, x, y) {\n    return containPath(pathData, lineWidth, true, x, y);\n}\n\nvar getCanvasPattern = Pattern.prototype.getCanvasPattern;\n\nvar abs = Math.abs;\n\nvar pathProxyForDraw = new PathProxy(true);\n/**\n * @alias module:zrender/graphic/Path\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\nfunction Path(opts) {\n    Displayable.call(this, opts);\n\n    /**\n     * @type {module:zrender/core/PathProxy}\n     * @readOnly\n     */\n    this.path = null;\n}\n\nPath.prototype = {\n\n    constructor: Path,\n\n    type: 'path',\n\n    __dirtyPath: true,\n\n    strokeContainThreshold: 5,\n\n    brush: function (ctx, prevEl) {\n        var style = this.style;\n        var path = this.path || pathProxyForDraw;\n        var hasStroke = style.hasStroke();\n        var hasFill = style.hasFill();\n        var fill = style.fill;\n        var stroke = style.stroke;\n        var hasFillGradient = hasFill && !!(fill.colorStops);\n        var hasStrokeGradient = hasStroke && !!(stroke.colorStops);\n        var hasFillPattern = hasFill && !!(fill.image);\n        var hasStrokePattern = hasStroke && !!(stroke.image);\n\n        style.bind(ctx, this, prevEl);\n        this.setTransform(ctx);\n\n        if (this.__dirty) {\n            var rect;\n            // Update gradient because bounding rect may changed\n            if (hasFillGradient) {\n                rect = rect || this.getBoundingRect();\n                this._fillGradient = style.getGradient(ctx, fill, rect);\n            }\n            if (hasStrokeGradient) {\n                rect = rect || this.getBoundingRect();\n                this._strokeGradient = style.getGradient(ctx, stroke, rect);\n            }\n        }\n        // Use the gradient or pattern\n        if (hasFillGradient) {\n            // PENDING If may have affect the state\n            ctx.fillStyle = this._fillGradient;\n        }\n        else if (hasFillPattern) {\n            ctx.fillStyle = getCanvasPattern.call(fill, ctx);\n        }\n        if (hasStrokeGradient) {\n            ctx.strokeStyle = this._strokeGradient;\n        }\n        else if (hasStrokePattern) {\n            ctx.strokeStyle = getCanvasPattern.call(stroke, ctx);\n        }\n\n        var lineDash = style.lineDash;\n        var lineDashOffset = style.lineDashOffset;\n\n        var ctxLineDash = !!ctx.setLineDash;\n\n        // Update path sx, sy\n        var scale = this.getGlobalScale();\n        path.setScale(scale[0], scale[1]);\n\n        // Proxy context\n        // Rebuild path in following 2 cases\n        // 1. Path is dirty\n        // 2. Path needs javascript implemented lineDash stroking.\n        //    In this case, lineDash information will not be saved in PathProxy\n        if (this.__dirtyPath\n            || (lineDash && !ctxLineDash && hasStroke)\n        ) {\n            path.beginPath(ctx);\n\n            // Setting line dash before build path\n            if (lineDash && !ctxLineDash) {\n                path.setLineDash(lineDash);\n                path.setLineDashOffset(lineDashOffset);\n            }\n\n            this.buildPath(path, this.shape, false);\n\n            // Clear path dirty flag\n            if (this.path) {\n                this.__dirtyPath = false;\n            }\n        }\n        else {\n            // Replay path building\n            ctx.beginPath();\n            this.path.rebuildPath(ctx);\n        }\n\n        hasFill && path.fill(ctx);\n\n        if (lineDash && ctxLineDash) {\n            ctx.setLineDash(lineDash);\n            ctx.lineDashOffset = lineDashOffset;\n        }\n\n        hasStroke && path.stroke(ctx);\n\n        if (lineDash && ctxLineDash) {\n            // PENDING\n            // Remove lineDash\n            ctx.setLineDash([]);\n        }\n\n        this.restoreTransform(ctx);\n\n        // Draw rect text\n        if (style.text != null) {\n            this.drawRectText(ctx, this.getBoundingRect());\n        }\n    },\n\n    // When bundling path, some shape may decide if use moveTo to begin a new subpath or closePath\n    // Like in circle\n    buildPath: function (ctx, shapeCfg, inBundle) {},\n\n    createPathProxy: function () {\n        this.path = new PathProxy();\n    },\n\n    getBoundingRect: function () {\n        var rect = this._rect;\n        var style = this.style;\n        var needsUpdateRect = !rect;\n        if (needsUpdateRect) {\n            var path = this.path;\n            if (!path) {\n                // Create path on demand.\n                path = this.path = new PathProxy();\n            }\n            if (this.__dirtyPath) {\n                path.beginPath();\n                this.buildPath(path, this.shape, false);\n            }\n            rect = path.getBoundingRect();\n        }\n        this._rect = rect;\n\n        if (style.hasStroke()) {\n            // Needs update rect with stroke lineWidth when\n            // 1. Element changes scale or lineWidth\n            // 2. Shape is changed\n            var rectWithStroke = this._rectWithStroke || (this._rectWithStroke = rect.clone());\n            if (this.__dirty || needsUpdateRect) {\n                rectWithStroke.copy(rect);\n                // FIXME Must after updateTransform\n                var w = style.lineWidth;\n                // PENDING, Min line width is needed when line is horizontal or vertical\n                var lineScale = style.strokeNoScale ? this.getLineScale() : 1;\n\n                // Only add extra hover lineWidth when there are no fill\n                if (!style.hasFill()) {\n                    w = Math.max(w, this.strokeContainThreshold || 4);\n                }\n                // Consider line width\n                // Line scale can't be 0;\n                if (lineScale > 1e-10) {\n                    rectWithStroke.width += w / lineScale;\n                    rectWithStroke.height += w / lineScale;\n                    rectWithStroke.x -= w / lineScale / 2;\n                    rectWithStroke.y -= w / lineScale / 2;\n                }\n            }\n\n            // Return rect with stroke\n            return rectWithStroke;\n        }\n\n        return rect;\n    },\n\n    contain: function (x, y) {\n        var localPos = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        var style = this.style;\n        x = localPos[0];\n        y = localPos[1];\n\n        if (rect.contain(x, y)) {\n            var pathData = this.path.data;\n            if (style.hasStroke()) {\n                var lineWidth = style.lineWidth;\n                var lineScale = style.strokeNoScale ? this.getLineScale() : 1;\n                // Line scale can't be 0;\n                if (lineScale > 1e-10) {\n                    // Only add extra hover lineWidth when there are no fill\n                    if (!style.hasFill()) {\n                        lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n                    }\n                    if (containStroke(\n                        pathData, lineWidth / lineScale, x, y\n                    )) {\n                        return true;\n                    }\n                }\n            }\n            if (style.hasFill()) {\n                return contain(pathData, x, y);\n            }\n        }\n        return false;\n    },\n\n    /**\n     * @param  {boolean} dirtyPath\n     */\n    dirty: function (dirtyPath) {\n        if (dirtyPath == null) {\n            dirtyPath = true;\n        }\n        // Only mark dirty, not mark clean\n        if (dirtyPath) {\n            this.__dirtyPath = dirtyPath;\n            this._rect = null;\n        }\n\n        this.__dirty = true;\n\n        this.__zr && this.__zr.refresh();\n\n        // Used as a clipping path\n        if (this.__clipTarget) {\n            this.__clipTarget.dirty();\n        }\n    },\n\n    /**\n     * Alias for animate('shape')\n     * @param {boolean} loop\n     */\n    animateShape: function (loop) {\n        return this.animate('shape', loop);\n    },\n\n    // Overwrite attrKV\n    attrKV: function (key, value) {\n        // FIXME\n        if (key === 'shape') {\n            this.setShape(value);\n            this.__dirtyPath = true;\n            this._rect = null;\n        }\n        else {\n            Displayable.prototype.attrKV.call(this, key, value);\n        }\n    },\n\n    /**\n     * @param {Object|string} key\n     * @param {*} value\n     */\n    setShape: function (key, value) {\n        var shape = this.shape;\n        // Path from string may not have shape\n        if (shape) {\n            if (isObject(key)) {\n                for (var name in key) {\n                    if (key.hasOwnProperty(name)) {\n                        shape[name] = key[name];\n                    }\n                }\n            }\n            else {\n                shape[key] = value;\n            }\n            this.dirty(true);\n        }\n        return this;\n    },\n\n    getLineScale: function () {\n        var m = this.transform;\n        // Get the line scale.\n        // Determinant of `m` means how much the area is enlarged by the\n        // transformation. So its square root can be used as a scale factor\n        // for width.\n        return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10\n            ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1]))\n            : 1;\n    }\n};\n\n/**\n *  Path element, \n * Extend a path element\n * @param {Object} props\n * @param {string} props.type Path type\n * @param {Function} props.init Initialize\n * @param {Function} props.buildPath Overwrite buildPath method\n * @param {Object} [props.style] Extended default style config\n * @param {Object} [props.shape] Extended default shape config\n */\nPath.extend = function (defaults$$1) {\n    var Sub = function (opts) {\n        Path.call(this, opts);\n\n        if (defaults$$1.style) {\n            // Extend default style\n            this.style.extendFrom(defaults$$1.style, false);\n        }\n\n        // Extend default shape\n        var defaultShape = defaults$$1.shape;\n        if (defaultShape) {\n            this.shape = this.shape || {};\n            var thisShape = this.shape;\n            for (var name in defaultShape) {\n                if (\n                    ! thisShape.hasOwnProperty(name)\n                    && defaultShape.hasOwnProperty(name)\n                ) {\n                    thisShape[name] = defaultShape[name];\n                }\n            }\n        }\n\n        defaults$$1.init && defaults$$1.init.call(this, opts);\n    };\n\n    inherits(Sub, Path);\n\n    // FIXME  extend position, rotation \n    for (var name in defaults$$1) {\n        // Extending prototype values and methods\n        if (name !== 'style' && name !== 'shape') {\n            Sub.prototype[name] = defaults$$1[name];\n        }\n    }\n\n    return Sub;\n};\n\ninherits(Path, Displayable);\n\nvar CMD$2 = PathProxy.CMD;\n\nvar points = [[], [], []];\nvar mathSqrt$3 = Math.sqrt;\nvar mathAtan2 = Math.atan2;\n\nvar transformPath = function (path, m) {\n    var data = path.data;\n    var cmd;\n    var nPoint;\n    var i;\n    var j;\n    var k;\n    var p;\n\n    var M = CMD$2.M;\n    var C = CMD$2.C;\n    var L = CMD$2.L;\n    var R = CMD$2.R;\n    var A = CMD$2.A;\n    var Q = CMD$2.Q;\n\n    for (i = 0, j = 0; i < data.length;) {\n        cmd = data[i++];\n        j = i;\n        nPoint = 0;\n\n        switch (cmd) {\n            case M:\n                nPoint = 1;\n                break;\n            case L:\n                nPoint = 1;\n                break;\n            case C:\n                nPoint = 3;\n                break;\n            case Q:\n                nPoint = 2;\n                break;\n            case A:\n                var x = m[4];\n                var y = m[5];\n                var sx = mathSqrt$3(m[0] * m[0] + m[1] * m[1]);\n                var sy = mathSqrt$3(m[2] * m[2] + m[3] * m[3]);\n                var angle = mathAtan2(-m[1] / sy, m[0] / sx);\n                // cx\n                data[i] *= sx;\n                data[i++] += x;\n                // cy\n                data[i] *= sy;\n                data[i++] += y;\n                // Scale rx and ry\n                // FIXME Assume psi is 0 here\n                data[i++] *= sx;\n                data[i++] *= sy;\n\n                // Start angle\n                data[i++] += angle;\n                // end angle\n                data[i++] += angle;\n                // FIXME psi\n                i += 2;\n                j = i;\n                break;\n            case R:\n                // x0, y0\n                p[0] = data[i++];\n                p[1] = data[i++];\n                applyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n                // x1, y1\n                p[0] += data[i++];\n                p[1] += data[i++];\n                applyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n        }\n\n        for (k = 0; k < nPoint; k++) {\n            var p = points[k];\n            p[0] = data[i++];\n            p[1] = data[i++];\n\n            applyTransform(p, p, m);\n            // Write back\n            data[j++] = p[0];\n            data[j++] = p[1];\n        }\n    }\n};\n\n// command chars\nvar cc = [\n    'm', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z',\n    'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'\n];\n\nvar mathSqrt = Math.sqrt;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\n\nvar vMag = function(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n};\nvar vRatio = function(u, v) {\n    return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n};\nvar vAngle = function(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1)\n            * Math.acos(vRatio(u, v));\n};\n\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n    var psi = psiDeg * (PI / 180.0);\n    var xp = mathCos(psi) * (x1 - x2) / 2.0\n                + mathSin(psi) * (y1 - y2) / 2.0;\n    var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0\n                + mathCos(psi) * (y1 - y2) / 2.0;\n\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n\n    if (lambda > 1) {\n        rx *= mathSqrt(lambda);\n        ry *= mathSqrt(lambda);\n    }\n\n    var f = (fa === fs ? -1 : 1)\n        * mathSqrt((((rx * rx) * (ry * ry))\n                - ((rx * rx) * (yp * yp))\n                - ((ry * ry) * (xp * xp))) / ((rx * rx) * (yp * yp)\n                + (ry * ry) * (xp * xp))\n            ) || 0;\n\n    var cxp = f * rx * yp / ry;\n    var cyp = f * -ry * xp / rx;\n\n    var cx = (x1 + x2) / 2.0\n                + mathCos(psi) * cxp\n                - mathSin(psi) * cyp;\n    var cy = (y1 + y2) / 2.0\n            + mathSin(psi) * cxp\n            + mathCos(psi) * cyp;\n\n    var theta = vAngle([ 1, 0 ], [ (xp - cxp) / rx, (yp - cyp) / ry ]);\n    var u = [ (xp - cxp) / rx, (yp - cyp) / ry ];\n    var v = [ (-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry ];\n    var dTheta = vAngle(u, v);\n\n    if (vRatio(u, v) <= -1) {\n        dTheta = PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (fs === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * PI;\n    }\n    if (fs === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * PI;\n    }\n\n    path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n}\n\nfunction createPathProxyFromString(data) {\n    if (!data) {\n        return [];\n    }\n\n    // command string\n    var cs = data.replace(/-/g, ' -')\n        .replace(/  /g, ' ')\n        .replace(/ /g, ',')\n        .replace(/,,/g, ',');\n\n    var n;\n    // create pipes so that we can split the data\n    for (n = 0; n < cc.length; n++) {\n        cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n    }\n\n    // create array\n    var arr = cs.split('|');\n    // init context point\n    var cpx = 0;\n    var cpy = 0;\n\n    var path = new PathProxy();\n    var CMD = PathProxy.CMD;\n\n    var prevCmd;\n    for (n = 1; n < arr.length; n++) {\n        var str = arr[n];\n        var c = str.charAt(0);\n        var off = 0;\n        var p = str.slice(1).replace(/e,-/g, 'e-').split(',');\n        var cmd;\n\n        if (p.length > 0 && p[0] === '') {\n            p.shift();\n        }\n\n        for (var i = 0; i < p.length; i++) {\n            p[i] = parseFloat(p[i]);\n        }\n        while (off < p.length && !isNaN(p[off])) {\n            if (isNaN(p[0])) {\n                break;\n            }\n            var ctlPtx;\n            var ctlPty;\n\n            var rx;\n            var ry;\n            var psi;\n            var fa;\n            var fs;\n\n            var x1 = cpx;\n            var y1 = cpy;\n\n            // convert l, H, h, V, and v to L\n            switch (c) {\n                case 'l':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'L':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'm':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    c = 'l';\n                    break;\n                case 'M':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    c = 'L';\n                    break;\n                case 'h':\n                    cpx += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'H':\n                    cpx = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'v':\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'V':\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'C':\n                    cmd = CMD.C;\n                    path.addData(\n                        cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]\n                    );\n                    cpx = p[off - 2];\n                    cpy = p[off - 1];\n                    break;\n                case 'c':\n                    cmd = CMD.C;\n                    path.addData(\n                        cmd,\n                        p[off++] + cpx, p[off++] + cpy,\n                        p[off++] + cpx, p[off++] + cpy,\n                        p[off++] + cpx, p[off++] + cpy\n                    );\n                    cpx += p[off - 2];\n                    cpy += p[off - 1];\n                    break;\n                case 'S':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    var len = path.len();\n                    var pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 's':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    var len = path.len();\n                    var pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = cpx + p[off++];\n                    y1 = cpy + p[off++];\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 'Q':\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'q':\n                    x1 = p[off++] + cpx;\n                    y1 = p[off++] + cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'T':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    var len = path.len();\n                    var pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 't':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    var len = path.len();\n                    var pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 'A':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n\n                    x1 = cpx, y1 = cpy;\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.A;\n                    processArc(\n                        x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path\n                    );\n                    break;\n                case 'a':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n\n                    x1 = cpx, y1 = cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.A;\n                    processArc(\n                        x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path\n                    );\n                    break;\n            }\n        }\n\n        if (c === 'z' || c === 'Z') {\n            cmd = CMD.Z;\n            path.addData(cmd);\n        }\n\n        prevCmd = cmd;\n    }\n\n    path.toStatic();\n\n    return path;\n}\n\n// TODO Optimize double memory cost problem\nfunction createPathOptions(str, opts) {\n    var pathProxy = createPathProxyFromString(str);\n    opts = opts || {};\n    opts.buildPath = function (path) {\n        if (path.setData) {\n            path.setData(pathProxy.data);\n            // Svg and vml renderer don't have context\n            var ctx = path.getContext();\n            if (ctx) {\n                path.rebuildPath(ctx);\n            }\n        }\n        else {\n            var ctx = path;\n            pathProxy.rebuildPath(ctx);\n        }\n    };\n\n    opts.applyTransform = function (m) {\n        transformPath(pathProxy, m);\n\n        this.dirty(true);\n    };\n\n    return opts;\n}\n\n/**\n * Create a Path object from path string data\n * http://www.w3.org/TR/SVG/paths.html#PathData\n * @param  {Object} opts Other options\n */\nfunction createFromString(str, opts) {\n    return new Path(createPathOptions(str, opts));\n}\n\n/**\n * Create a Path class from path string data\n * @param  {string} str\n * @param  {Object} opts Other options\n */\nfunction extendFromString(str, opts) {\n    return Path.extend(createPathOptions(str, opts));\n}\n\n/**\n * Merge multiple paths\n */\n// TODO Apply transform\n// TODO stroke dash\n// TODO Optimize double memory cost problem\nfunction mergePath$1(pathEls, opts) {\n    var pathList = [];\n    var len = pathEls.length;\n    for (var i = 0; i < len; i++) {\n        var pathEl = pathEls[i];\n        if (!pathEl.path) {\n            pathEl.createPathProxy();\n        }\n        if (pathEl.__dirtyPath) {\n            pathEl.buildPath(pathEl.path, pathEl.shape, true);\n        }\n        pathList.push(pathEl.path);\n    }\n\n    var pathBundle = new Path(opts);\n    // Need path proxy.\n    pathBundle.createPathProxy();\n    pathBundle.buildPath = function (path) {\n        path.appendPath(pathList);\n        // Svg and vml renderer don't have context\n        var ctx = path.getContext();\n        if (ctx) {\n            path.rebuildPath(ctx);\n        }\n    };\n\n    return pathBundle;\n}\n\n/**\n * @alias zrender/graphic/Text\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\nvar Text = function (opts) { // jshint ignore:line\n    Displayable.call(this, opts);\n};\n\nText.prototype = {\n\n    constructor: Text,\n\n    type: 'text',\n\n    brush: function (ctx, prevEl) {\n        var style = this.style;\n\n        // Optimize, avoid normalize every time.\n        this.__dirty && normalizeTextStyle(style, true);\n\n        // Use props with prefix 'text'.\n        style.fill = style.stroke = style.shadowBlur = style.shadowColor =\n            style.shadowOffsetX = style.shadowOffsetY = null;\n\n        var text = style.text;\n        // Convert to string\n        text != null && (text += '');\n\n        // Always bind style\n        style.bind(ctx, this, prevEl);\n\n        if (!needDrawText(text, style)) {\n            return;\n        }\n\n        this.setTransform(ctx);\n\n        renderText(this, ctx, text, style);\n\n        this.restoreTransform(ctx);\n    },\n\n    getBoundingRect: function () {\n        var style = this.style;\n\n        // Optimize, avoid normalize every time.\n        this.__dirty && normalizeTextStyle(style, true);\n\n        if (!this._rect) {\n            var text = style.text;\n            text != null ? (text += '') : (text = '');\n\n            var rect = getBoundingRect(\n                style.text + '',\n                style.font,\n                style.textAlign,\n                style.textVerticalAlign,\n                style.textPadding,\n                style.rich\n            );\n\n            rect.x += style.x || 0;\n            rect.y += style.y || 0;\n\n            if (getStroke(style.textStroke, style.textStrokeWidth)) {\n                var w = style.textStrokeWidth;\n                rect.x -= w / 2;\n                rect.y -= w / 2;\n                rect.width += w;\n                rect.height += w;\n            }\n\n            this._rect = rect;\n        }\n\n        return this._rect;\n    }\n};\n\ninherits(Text, Displayable);\n\n/**\n * \n * @module zrender/shape/Circle\n */\n\nvar Circle = Path.extend({\n\n    type: 'circle',\n\n    shape: {\n        cx: 0,\n        cy: 0,\n        r: 0\n    },\n\n\n    buildPath : function (ctx, shape, inBundle) {\n        // Better stroking in ShapeBundle\n        // Always do it may have performence issue ( fill may be 2x more cost)\n        if (inBundle) {\n            ctx.moveTo(shape.cx + shape.r, shape.cy);\n        }\n        // else {\n        //     if (ctx.allocate && !ctx.data.length) {\n        //         ctx.allocate(ctx.CMD_MEM_SIZE.A);\n        //     }\n        // }\n        // Better stroking in ShapeBundle\n        // ctx.moveTo(shape.cx + shape.r, shape.cy);\n        ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2, true);\n    }\n});\n\n// Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n// where exception \"unexpected call to method or property access\"\n// might be thrown when calling ctx.fill or ctx.stroke after a path\n// whose area size is zero is drawn and ctx.clip() is called and\n// shadowBlur is set. See #4572, #3112, #5777.\n// (e.g.,\n//  ctx.moveTo(10, 10);\n//  ctx.lineTo(20, 10);\n//  ctx.closePath();\n//  ctx.clip();\n//  ctx.shadowBlur = 10;\n//  ...\n//  ctx.fill();\n// )\n\nvar shadowTemp = [\n    ['shadowBlur', 0],\n    ['shadowColor', '#000'],\n    ['shadowOffsetX', 0],\n    ['shadowOffsetY', 0]\n];\n\nvar fixClipWithShadow = function (orignalBrush) {\n\n    // version string can be: '11.0'\n    return (env$1.browser.ie && env$1.browser.version >= 11)\n\n        ? function () {\n            var clipPaths = this.__clipPaths;\n            var style = this.style;\n            var modified;\n\n            if (clipPaths) {\n                for (var i = 0; i < clipPaths.length; i++) {\n                    var clipPath = clipPaths[i];\n                    var shape = clipPath && clipPath.shape;\n                    var type = clipPath && clipPath.type;\n\n                    if (shape && (\n                        (type === 'sector' && shape.startAngle === shape.endAngle)\n                        || (type === 'rect' && (!shape.width || !shape.height))\n                    )) {\n                        for (var j = 0; j < shadowTemp.length; j++) {\n                            // It is save to put shadowTemp static, because shadowTemp\n                            // will be all modified each item brush called.\n                            shadowTemp[j][2] = style[shadowTemp[j][0]];\n                            style[shadowTemp[j][0]] = shadowTemp[j][1];\n                        }\n                        modified = true;\n                        break;\n                    }\n                }\n            }\n\n            orignalBrush.apply(this, arguments);\n\n            if (modified) {\n                for (var j = 0; j < shadowTemp.length; j++) {\n                    style[shadowTemp[j][0]] = shadowTemp[j][2];\n                }\n            }\n        }\n\n        : orignalBrush;\n};\n\n/**\n * \n * @module zrender/graphic/shape/Sector\n */\n\nvar Sector = Path.extend({\n\n    type: 'sector',\n\n    shape: {\n\n        cx: 0,\n\n        cy: 0,\n\n        r0: 0,\n\n        r: 0,\n\n        startAngle: 0,\n\n        endAngle: Math.PI * 2,\n\n        clockwise: true\n    },\n\n    brush: fixClipWithShadow(Path.prototype.brush),\n\n    buildPath: function (ctx, shape) {\n\n        var x = shape.cx;\n        var y = shape.cy;\n        var r0 = Math.max(shape.r0 || 0, 0);\n        var r = Math.max(shape.r, 0);\n        var startAngle = shape.startAngle;\n        var endAngle = shape.endAngle;\n        var clockwise = shape.clockwise;\n\n        var unitX = Math.cos(startAngle);\n        var unitY = Math.sin(startAngle);\n\n        ctx.moveTo(unitX * r0 + x, unitY * r0 + y);\n\n        ctx.lineTo(unitX * r + x, unitY * r + y);\n\n        ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n\n        ctx.lineTo(\n            Math.cos(endAngle) * r0 + x,\n            Math.sin(endAngle) * r0 + y\n        );\n\n        if (r0 !== 0) {\n            ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n        }\n\n        ctx.closePath();\n    }\n});\n\n/**\n * \n * @module zrender/graphic/shape/Ring\n */\n\nvar Ring = Path.extend({\n\n    type: 'ring',\n\n    shape: {\n        cx: 0,\n        cy: 0,\n        r: 0,\n        r0: 0\n    },\n\n    buildPath: function (ctx, shape) {\n        var x = shape.cx;\n        var y = shape.cy;\n        var PI2 = Math.PI * 2;\n        ctx.moveTo(x + shape.r, y);\n        ctx.arc(x, y, shape.r, 0, PI2, false);\n        ctx.moveTo(x + shape.r0, y);\n        ctx.arc(x, y, shape.r0, 0, PI2, true);\n    }\n});\n\n/**\n * Catmull-Rom spline \n * @module zrender/shape/util/smoothSpline\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * @inner\n */\nfunction interpolate(p0, p1, p2, p3, t, t2, t3) {\n    var v0 = (p2 - p0) * 0.5;\n    var v1 = (p3 - p1) * 0.5;\n    return (2 * (p1 - p2) + v0 + v1) * t3\n            + (-3 * (p1 - p2) - 2 * v0 - v1) * t2\n            + v0 * t + p1;\n}\n\n/**\n * @alias module:zrender/shape/util/smoothSpline\n * @param {Array} points \n * @param {boolean} isLoop\n * @return {Array}\n */\nvar smoothSpline = function (points, isLoop) {\n    var len$$1 = points.length;\n    var ret = [];\n\n    var distance$$1 = 0;\n    for (var i = 1; i < len$$1; i++) {\n        distance$$1 += distance(points[i - 1], points[i]);\n    }\n\n    var segs = distance$$1 / 2;\n    segs = segs < len$$1 ? len$$1 : segs;\n    for (var i = 0; i < segs; i++) {\n        var pos = i / (segs - 1) * (isLoop ? len$$1 : len$$1 - 1);\n        var idx = Math.floor(pos);\n\n        var w = pos - idx;\n\n        var p0;\n        var p1 = points[idx % len$$1];\n        var p2;\n        var p3;\n        if (!isLoop) {\n            p0 = points[idx === 0 ? idx : idx - 1];\n            p2 = points[idx > len$$1 - 2 ? len$$1 - 1 : idx + 1];\n            p3 = points[idx > len$$1 - 3 ? len$$1 - 1 : idx + 2];\n        }\n        else {\n            p0 = points[(idx - 1 + len$$1) % len$$1];\n            p2 = points[(idx + 1) % len$$1];\n            p3 = points[(idx + 2) % len$$1];\n        }\n\n        var w2 = w * w;\n        var w3 = w * w2;\n\n        ret.push([\n            interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3),\n            interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)\n        ]);\n    }\n    return ret;\n};\n\n/**\n * \n * @module zrender/shape/util/smoothBezier\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * \n * @alias module:zrender/shape/util/smoothBezier\n * @param {Array} points \n * @param {number} smooth , 0-1\n * @param {boolean} isLoop\n * @param {Array} constraint \n *                            [[0, 0], [100, 100]], \n *                           \n * @param {Array} \n */\nvar smoothBezier = function (points, smooth, isLoop, constraint) {\n    var cps = [];\n\n    var v = [];\n    var v1 = [];\n    var v2 = [];\n    var prevPoint;\n    var nextPoint;\n\n    var min$$1, max$$1;\n    if (constraint) {\n        min$$1 = [Infinity, Infinity];\n        max$$1 = [-Infinity, -Infinity];\n        for (var i = 0, len$$1 = points.length; i < len$$1; i++) {\n            min(min$$1, min$$1, points[i]);\n            max(max$$1, max$$1, points[i]);\n        }\n        // \n        min(min$$1, min$$1, constraint[0]);\n        max(max$$1, max$$1, constraint[1]);\n    }\n\n    for (var i = 0, len$$1 = points.length; i < len$$1; i++) {\n        var point = points[i];\n\n        if (isLoop) {\n            prevPoint = points[i ? i - 1 : len$$1 - 1];\n            nextPoint = points[(i + 1) % len$$1];\n        }\n        else {\n            if (i === 0 || i === len$$1 - 1) {\n                cps.push(clone$1(points[i]));\n                continue;\n            }\n            else {\n                prevPoint = points[i - 1];\n                nextPoint = points[i + 1];\n            }\n        }\n\n        sub(v, nextPoint, prevPoint);\n\n        // use degree to scale the handle length\n        scale(v, v, smooth);\n\n        var d0 = distance(point, prevPoint);\n        var d1 = distance(point, nextPoint);\n        var sum = d0 + d1;\n        if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n        }\n\n        scale(v1, v, -d0);\n        scale(v2, v, d1);\n        var cp0 = add([], point, v1);\n        var cp1 = add([], point, v2);\n        if (constraint) {\n            max(cp0, cp0, min$$1);\n            min(cp0, cp0, max$$1);\n            max(cp1, cp1, min$$1);\n            min(cp1, cp1, max$$1);\n        }\n        cps.push(cp0);\n        cps.push(cp1);\n    }\n\n    if (isLoop) {\n        cps.push(cps.shift());\n    }\n\n    return cps;\n};\n\nfunction buildPath$1(ctx, shape, closePath) {\n    var points = shape.points;\n    var smooth = shape.smooth;\n    if (points && points.length >= 2) {\n        if (smooth && smooth !== 'spline') {\n            var controlPoints = smoothBezier(\n                points, smooth, closePath, shape.smoothConstraint\n            );\n\n            ctx.moveTo(points[0][0], points[0][1]);\n            var len = points.length;\n            for (var i = 0; i < (closePath ? len : len - 1); i++) {\n                var cp1 = controlPoints[i * 2];\n                var cp2 = controlPoints[i * 2 + 1];\n                var p = points[(i + 1) % len];\n                ctx.bezierCurveTo(\n                    cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]\n                );\n            }\n        }\n        else {\n            if (smooth === 'spline') {\n                points = smoothSpline(points, closePath);\n            }\n\n            ctx.moveTo(points[0][0], points[0][1]);\n            for (var i = 1, l = points.length; i < l; i++) {\n                ctx.lineTo(points[i][0], points[i][1]);\n            }\n        }\n\n        closePath && ctx.closePath();\n    }\n}\n\n/**\n * \n * @module zrender/shape/Polygon\n */\n\nvar Polygon = Path.extend({\n\n    type: 'polygon',\n\n    shape: {\n        points: null,\n\n        smooth: false,\n\n        smoothConstraint: null\n    },\n\n    buildPath: function (ctx, shape) {\n        buildPath$1(ctx, shape, true);\n    }\n});\n\n/**\n * @module zrender/graphic/shape/Polyline\n */\n\nvar Polyline = Path.extend({\n\n    type: 'polyline',\n\n    shape: {\n        points: null,\n\n        smooth: false,\n\n        smoothConstraint: null\n    },\n\n    style: {\n        stroke: '#000',\n\n        fill: null\n    },\n\n    buildPath: function (ctx, shape) {\n        buildPath$1(ctx, shape, false);\n    }\n});\n\n/**\n * \n * @module zrender/graphic/shape/Rect\n */\n\nvar Rect = Path.extend({\n\n    type: 'rect',\n\n    shape: {\n        // r1r2r3r4\n        // r1          [1, 1, 1, 1]\n        // r[1]        [1, 1, 1, 1]\n        // r[1, 2]     [1, 2, 1, 2]\n        // r[1, 2, 3]  [1, 2, 3, 2]\n        r: 0,\n\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n    },\n\n    buildPath: function (ctx, shape) {\n        var x = shape.x;\n        var y = shape.y;\n        var width = shape.width;\n        var height = shape.height;\n        if (!shape.r) {\n            ctx.rect(x, y, width, height);\n        }\n        else {\n            buildPath(ctx, shape);\n        }\n        ctx.closePath();\n        return;\n    }\n});\n\n/**\n * \n * @module zrender/graphic/shape/Line\n */\n\nvar Line = Path.extend({\n\n    type: 'line',\n\n    shape: {\n        // Start point\n        x1: 0,\n        y1: 0,\n        // End point\n        x2: 0,\n        y2: 0,\n\n        percent: 1\n    },\n\n    style: {\n        stroke: '#000',\n        fill: null\n    },\n\n    buildPath: function (ctx, shape) {\n        var x1 = shape.x1;\n        var y1 = shape.y1;\n        var x2 = shape.x2;\n        var y2 = shape.y2;\n        var percent = shape.percent;\n\n        if (percent === 0) {\n            return;\n        }\n\n        ctx.moveTo(x1, y1);\n\n        if (percent < 1) {\n            x2 = x1 * (1 - percent) + x2 * percent;\n            y2 = y1 * (1 - percent) + y2 * percent;\n        }\n        ctx.lineTo(x2, y2);\n    },\n\n    /**\n     * Get point at percent\n     * @param  {number} percent\n     * @return {Array.<number>}\n     */\n    pointAt: function (p) {\n        var shape = this.shape;\n        return [\n            shape.x1 * (1 - p) + shape.x2 * p,\n            shape.y1 * (1 - p) + shape.y2 * p\n        ];\n    }\n});\n\n/**\n * \n * @module zrender/shape/BezierCurve\n */\n\nvar out = [];\n\nfunction someVectorAt(shape, t, isTangent) {\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    if (cpx2 === null || cpy2 === null) {\n        return [\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t),\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)\n        ];\n    }\n    else {\n        return [\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t),\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)\n        ];\n    }\n}\n\nvar BezierCurve = Path.extend({\n\n    type: 'bezier-curve',\n\n    shape: {\n        x1: 0,\n        y1: 0,\n        x2: 0,\n        y2: 0,\n        cpx1: 0,\n        cpy1: 0,\n        // cpx2: 0,\n        // cpy2: 0\n\n        // Curve show percent, for animating\n        percent: 1\n    },\n\n    style: {\n        stroke: '#000',\n        fill: null\n    },\n\n    buildPath: function (ctx, shape) {\n        var x1 = shape.x1;\n        var y1 = shape.y1;\n        var x2 = shape.x2;\n        var y2 = shape.y2;\n        var cpx1 = shape.cpx1;\n        var cpy1 = shape.cpy1;\n        var cpx2 = shape.cpx2;\n        var cpy2 = shape.cpy2;\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n\n        ctx.moveTo(x1, y1);\n\n        if (cpx2 == null || cpy2 == null) {\n            if (percent < 1) {\n                quadraticSubdivide(\n                    x1, cpx1, x2, percent, out\n                );\n                cpx1 = out[1];\n                x2 = out[2];\n                quadraticSubdivide(\n                    y1, cpy1, y2, percent, out\n                );\n                cpy1 = out[1];\n                y2 = out[2];\n            }\n\n            ctx.quadraticCurveTo(\n                cpx1, cpy1,\n                x2, y2\n            );\n        }\n        else {\n            if (percent < 1) {\n                cubicSubdivide(\n                    x1, cpx1, cpx2, x2, percent, out\n                );\n                cpx1 = out[1];\n                cpx2 = out[2];\n                x2 = out[3];\n                cubicSubdivide(\n                    y1, cpy1, cpy2, y2, percent, out\n                );\n                cpy1 = out[1];\n                cpy2 = out[2];\n                y2 = out[3];\n            }\n            ctx.bezierCurveTo(\n                cpx1, cpy1,\n                cpx2, cpy2,\n                x2, y2\n            );\n        }\n    },\n\n    /**\n     * Get point at percent\n     * @param  {number} t\n     * @return {Array.<number>}\n     */\n    pointAt: function (t) {\n        return someVectorAt(this.shape, t, false);\n    },\n\n    /**\n     * Get tangent at percent\n     * @param  {number} t\n     * @return {Array.<number>}\n     */\n    tangentAt: function (t) {\n        var p = someVectorAt(this.shape, t, true);\n        return normalize(p, p);\n    }\n});\n\n/**\n * \n * @module zrender/graphic/shape/Arc\n */\n\nvar Arc = Path.extend({\n\n    type: 'arc',\n\n    shape: {\n\n        cx: 0,\n\n        cy: 0,\n\n        r: 0,\n\n        startAngle: 0,\n\n        endAngle: Math.PI * 2,\n\n        clockwise: true\n    },\n\n    style: {\n\n        stroke: '#000',\n\n        fill: null\n    },\n\n    buildPath: function (ctx, shape) {\n\n        var x = shape.cx;\n        var y = shape.cy;\n        var r = Math.max(shape.r, 0);\n        var startAngle = shape.startAngle;\n        var endAngle = shape.endAngle;\n        var clockwise = shape.clockwise;\n\n        var unitX = Math.cos(startAngle);\n        var unitY = Math.sin(startAngle);\n\n        ctx.moveTo(unitX * r + x, unitY * r + y);\n        ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    }\n});\n\n// CompoundPath to improve performance\n\nvar CompoundPath = Path.extend({\n\n    type: 'compound',\n\n    shape: {\n\n        paths: null\n    },\n\n    _updatePathDirty: function () {\n        var dirtyPath = this.__dirtyPath;\n        var paths = this.shape.paths;\n        for (var i = 0; i < paths.length; i++) {\n            // Mark as dirty if any subpath is dirty\n            dirtyPath = dirtyPath || paths[i].__dirtyPath;\n        }\n        this.__dirtyPath = dirtyPath;\n        this.__dirty = this.__dirty || dirtyPath;\n    },\n\n    beforeBrush: function () {\n        this._updatePathDirty();\n        var paths = this.shape.paths || [];\n        var scale = this.getGlobalScale();\n        // Update path scale\n        for (var i = 0; i < paths.length; i++) {\n            if (!paths[i].path) {\n                paths[i].createPathProxy();\n            }\n            paths[i].path.setScale(scale[0], scale[1]);\n        }\n    },\n\n    buildPath: function (ctx, shape) {\n        var paths = shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].buildPath(ctx, paths[i].shape, true);\n        }\n    },\n\n    afterBrush: function () {\n        var paths = this.shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].__dirtyPath = false;\n        }\n    },\n\n    getBoundingRect: function () {\n        this._updatePathDirty();\n        return Path.prototype.getBoundingRect.call(this);\n    }\n});\n\n/**\n * @param {Array.<Object>} colorStops\n */\nvar Gradient = function (colorStops) {\n\n    this.colorStops = colorStops || [];\n\n};\n\nGradient.prototype = {\n\n    constructor: Gradient,\n\n    addColorStop: function (offset, color) {\n        this.colorStops.push({\n\n            offset: offset,\n\n            color: color\n        });\n    }\n\n};\n\n/**\n * x, y, x2, y2 are all percent from 0 to 1\n * @param {number} [x=0]\n * @param {number} [y=0]\n * @param {number} [x2=1]\n * @param {number} [y2=0]\n * @param {Array.<Object>} colorStops\n * @param {boolean} [globalCoord=false]\n */\nvar LinearGradient = function (x, y, x2, y2, colorStops, globalCoord) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {type: 'linear', colorStops: ...}`, where\n    // this constructor will not be called.\n\n    this.x = x == null ? 0 : x;\n\n    this.y = y == null ? 0 : y;\n\n    this.x2 = x2 == null ? 1 : x2;\n\n    this.y2 = y2 == null ? 0 : y2;\n\n    // Can be cloned\n    this.type = 'linear';\n\n    // If use global coord\n    this.global = globalCoord || false;\n\n    Gradient.call(this, colorStops);\n};\n\nLinearGradient.prototype = {\n\n    constructor: LinearGradient\n};\n\ninherits(LinearGradient, Gradient);\n\n/**\n * x, y, r are all percent from 0 to 1\n * @param {number} [x=0.5]\n * @param {number} [y=0.5]\n * @param {number} [r=0.5]\n * @param {Array.<Object>} [colorStops]\n * @param {boolean} [globalCoord=false]\n */\nvar RadialGradient = function (x, y, r, colorStops, globalCoord) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {type: 'radial', colorStops: ...}`, where\n    // this constructor will not be called.\n\n    this.x = x == null ? 0.5 : x;\n\n    this.y = y == null ? 0.5 : y;\n\n    this.r = r == null ? 0.5 : r;\n\n    // Can be cloned\n    this.type = 'radial';\n\n    // If use global coord\n    this.global = globalCoord || false;\n\n    Gradient.call(this, colorStops);\n};\n\nRadialGradient.prototype = {\n\n    constructor: RadialGradient\n};\n\ninherits(RadialGradient, Gradient);\n\nvar round$1 = Math.round;\nvar mathMax$1 = Math.max;\nvar mathMin$1 = Math.min;\n\nvar EMPTY_OBJ = {};\n\n/**\n * Extend shape with parameters\n */\nfunction extendShape(opts) {\n    return Path.extend(opts);\n}\n\n/**\n * Extend path\n */\nfunction extendPath(pathData, opts) {\n    return extendFromString(pathData, opts);\n}\n\n/**\n * Create a path element from path data string\n * @param {string} pathData\n * @param {Object} opts\n * @param {module:zrender/core/BoundingRect} rect\n * @param {string} [layout=cover] 'center' or 'cover'\n */\nfunction makePath(pathData, opts, rect, layout) {\n    var path = createFromString(pathData, opts);\n    var boundingRect = path.getBoundingRect();\n    if (rect) {\n        if (layout === 'center') {\n            rect = centerGraphic(rect, boundingRect);\n        }\n\n        resizePath(path, rect);\n    }\n    return path;\n}\n\n/**\n * Create a image element from image url\n * @param {string} imageUrl image url\n * @param {Object} opts options\n * @param {module:zrender/core/BoundingRect} rect constrain rect\n * @param {string} [layout=cover] 'center' or 'cover'\n */\nfunction makeImage(imageUrl, rect, layout) {\n    var path = new ZImage({\n        style: {\n            image: imageUrl,\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height\n        },\n        onload: function (img) {\n            if (layout === 'center') {\n                var boundingRect = {\n                    width: img.width,\n                    height: img.height\n                };\n                path.setStyle(centerGraphic(rect, boundingRect));\n            }\n        }\n    });\n    return path;\n}\n\n/**\n * Get position of centered element in bounding box.\n *\n * @param  {Object} rect         element local bounding box\n * @param  {Object} boundingRect constraint bounding box\n * @return {Object} element position containing x, y, width, and height\n */\nfunction centerGraphic(rect, boundingRect) {\n    // Set rect to center, keep width / height ratio.\n    var aspect = boundingRect.width / boundingRect.height;\n    var width = rect.height * aspect;\n    var height;\n    if (width <= rect.width) {\n        height = rect.height;\n    }\n    else {\n        width = rect.width;\n        height = width / aspect;\n    }\n    var cx = rect.x + rect.width / 2;\n    var cy = rect.y + rect.height / 2;\n\n    return {\n        x: cx - width / 2,\n        y: cy - height / 2,\n        width: width,\n        height: height\n    };\n}\n\nvar mergePath = mergePath$1;\n\n/**\n * Resize a path to fit the rect\n * @param {module:zrender/graphic/Path} path\n * @param {Object} rect\n */\nfunction resizePath(path, rect) {\n    if (!path.applyTransform) {\n        return;\n    }\n\n    var pathRect = path.getBoundingRect();\n\n    var m = pathRect.calculateTransform(rect);\n\n    path.applyTransform(m);\n}\n\n/**\n * Sub pixel optimize line for canvas\n *\n * @param {Object} param\n * @param {Object} [param.shape]\n * @param {number} [param.shape.x1]\n * @param {number} [param.shape.y1]\n * @param {number} [param.shape.x2]\n * @param {number} [param.shape.y2]\n * @param {Object} [param.style]\n * @param {number} [param.style.lineWidth]\n * @return {Object} Modified param\n */\nfunction subPixelOptimizeLine(param) {\n    var shape = param.shape;\n    var lineWidth = param.style.lineWidth;\n\n    if (round$1(shape.x1 * 2) === round$1(shape.x2 * 2)) {\n        shape.x1 = shape.x2 = subPixelOptimize(shape.x1, lineWidth, true);\n    }\n    if (round$1(shape.y1 * 2) === round$1(shape.y2 * 2)) {\n        shape.y1 = shape.y2 = subPixelOptimize(shape.y1, lineWidth, true);\n    }\n    return param;\n}\n\n/**\n * Sub pixel optimize rect for canvas\n *\n * @param {Object} param\n * @param {Object} [param.shape]\n * @param {number} [param.shape.x]\n * @param {number} [param.shape.y]\n * @param {number} [param.shape.width]\n * @param {number} [param.shape.height]\n * @param {Object} [param.style]\n * @param {number} [param.style.lineWidth]\n * @return {Object} Modified param\n */\nfunction subPixelOptimizeRect(param) {\n    var shape = param.shape;\n    var lineWidth = param.style.lineWidth;\n    var originX = shape.x;\n    var originY = shape.y;\n    var originWidth = shape.width;\n    var originHeight = shape.height;\n    shape.x = subPixelOptimize(shape.x, lineWidth, true);\n    shape.y = subPixelOptimize(shape.y, lineWidth, true);\n    shape.width = Math.max(\n        subPixelOptimize(originX + originWidth, lineWidth, false) - shape.x,\n        originWidth === 0 ? 0 : 1\n    );\n    shape.height = Math.max(\n        subPixelOptimize(originY + originHeight, lineWidth, false) - shape.y,\n        originHeight === 0 ? 0 : 1\n    );\n    return param;\n}\n\n/**\n * Sub pixel optimize for canvas\n *\n * @param {number} position Coordinate, such as x, y\n * @param {number} lineWidth Should be nonnegative integer.\n * @param {boolean=} positiveOrNegative Default false (negative).\n * @return {number} Optimized position.\n */\nfunction subPixelOptimize(position, lineWidth, positiveOrNegative) {\n    // Assure that (position + lineWidth / 2) is near integer edge,\n    // otherwise line will be fuzzy in canvas.\n    var doubledPosition = round$1(position * 2);\n    return (doubledPosition + round$1(lineWidth)) % 2 === 0\n        ? doubledPosition / 2\n        : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n}\n\nfunction hasFillOrStroke(fillOrStroke) {\n    return fillOrStroke != null && fillOrStroke != 'none';\n}\n\nfunction liftColor(color) {\n    return typeof color === 'string' ? lift(color, -0.1) : color;\n}\n\n/**\n * @private\n */\nfunction cacheElementStl(el) {\n    if (el.__hoverStlDirty) {\n        var stroke = el.style.stroke;\n        var fill = el.style.fill;\n\n        // Create hoverStyle on mouseover\n        var hoverStyle = el.__hoverStl;\n        hoverStyle.fill = hoverStyle.fill\n            || (hasFillOrStroke(fill) ? liftColor(fill) : null);\n        hoverStyle.stroke = hoverStyle.stroke\n            || (hasFillOrStroke(stroke) ? liftColor(stroke) : null);\n\n        var normalStyle = {};\n        for (var name in hoverStyle) {\n            // See comment in `doSingleEnterHover`.\n            if (hoverStyle[name] != null) {\n                normalStyle[name] = el.style[name];\n            }\n        }\n\n        el.__normalStl = normalStyle;\n\n        el.__hoverStlDirty = false;\n    }\n}\n\n/**\n * @private\n */\nfunction doSingleEnterHover(el) {\n    if (el.__isHover) {\n        return;\n    }\n\n    cacheElementStl(el);\n\n    if (el.useHoverLayer) {\n        el.__zr && el.__zr.addHover(el, el.__hoverStl);\n    }\n    else {\n        var style = el.style;\n        var insideRollbackOpt = style.insideRollbackOpt;\n\n        // Consider case: only `position: 'top'` is set on emphasis, then text\n        // color should be returned to `autoColor`, rather than remain '#fff'.\n        // So we should rollback then apply again after style merging.\n        insideRollbackOpt && rollbackInsideStyle(style);\n\n        // styles can be:\n        // {\n        //     label: {\n        //         normal: {\n        //             show: false,\n        //             position: 'outside',\n        //             fontSize: 18\n        //         },\n        //         emphasis: {\n        //             show: true\n        //         }\n        //     }\n        // },\n        // where properties of `emphasis` may not appear in `normal`. We previously use\n        // module:echarts/util/model#defaultEmphasis to merge `normal` to `emphasis`.\n        // But consider rich text and setOption in merge mode, it is impossible to cover\n        // all properties in merge. So we use merge mode when setting style here, where\n        // only properties that is not `null/undefined` can be set. The disadventage:\n        // null/undefined can not be used to remove style any more in `emphasis`.\n        style.extendFrom(el.__hoverStl);\n\n        // Do not save `insideRollback`.\n        if (insideRollbackOpt) {\n            applyInsideStyle(style, style.insideOriginalTextPosition, insideRollbackOpt);\n\n            // textFill may be rollbacked to null.\n            if (style.textFill == null) {\n                style.textFill = insideRollbackOpt.autoColor;\n            }\n        }\n\n        el.dirty(false);\n        el.z2 += 1;\n    }\n\n    el.__isHover = true;\n}\n\n/**\n * @inner\n */\nfunction doSingleLeaveHover(el) {\n    if (!el.__isHover) {\n        return;\n    }\n\n    var normalStl = el.__normalStl;\n    if (el.useHoverLayer) {\n        el.__zr && el.__zr.removeHover(el);\n    }\n    else {\n        // Consider null/undefined value, should use\n        // `setStyle` but not `extendFrom(stl, true)`.\n        normalStl && el.setStyle(normalStl);\n        el.z2 -= 1;\n    }\n\n    el.__isHover = false;\n}\n\n/**\n * @inner\n */\nfunction doEnterHover(el) {\n    el.type === 'group'\n        ? el.traverse(function (child) {\n            if (child.type !== 'group') {\n                doSingleEnterHover(child);\n            }\n        })\n        : doSingleEnterHover(el);\n}\n\nfunction doLeaveHover(el) {\n    el.type === 'group'\n        ? el.traverse(function (child) {\n            if (child.type !== 'group') {\n                doSingleLeaveHover(child);\n            }\n        })\n        : doSingleLeaveHover(el);\n}\n\n/**\n * @inner\n */\nfunction setElementHoverStl(el, hoverStl) {\n    // If element has sepcified hoverStyle, then use it instead of given hoverStyle\n    // Often used when item group has a label element and it's hoverStyle is different\n    el.__hoverStl = el.hoverStyle || hoverStl || {};\n    el.__hoverStlDirty = true;\n\n    if (el.__isHover) {\n        cacheElementStl(el);\n    }\n}\n\n/**\n * @inner\n */\nfunction onElementMouseOver(e) {\n    if (this.__hoverSilentOnTouch && e.zrByTouch) {\n        return;\n    }\n\n    // Only if element is not in emphasis status\n    !this.__isEmphasis && doEnterHover(this);\n}\n\n/**\n * @inner\n */\nfunction onElementMouseOut(e) {\n    if (this.__hoverSilentOnTouch && e.zrByTouch) {\n        return;\n    }\n\n    // Only if element is not in emphasis status\n    !this.__isEmphasis && doLeaveHover(this);\n}\n\n/**\n * @inner\n */\nfunction enterEmphasis() {\n    this.__isEmphasis = true;\n    doEnterHover(this);\n}\n\n/**\n * @inner\n */\nfunction leaveEmphasis() {\n    this.__isEmphasis = false;\n    doLeaveHover(this);\n}\n\n/**\n * Set hover style of element.\n * This method can be called repeatly without side-effects.\n * @param {module:zrender/Element} el\n * @param {Object} [hoverStyle]\n * @param {Object} [opt]\n * @param {boolean} [opt.hoverSilentOnTouch=false]\n *        In touch device, mouseover event will be trigger on touchstart event\n *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n *        conviniently use hoverStyle when tap on touch screen without additional\n *        code for compatibility.\n *        But if the chart/component has select feature, which usually also use\n *        hoverStyle, there might be conflict between 'select-highlight' and\n *        'hover-highlight' especially when roam is enabled (see geo for example).\n *        In this case, hoverSilentOnTouch should be used to disable hover-highlight\n *        on touch device.\n */\nfunction setHoverStyle(el, hoverStyle, opt) {\n    el.__hoverSilentOnTouch = opt && opt.hoverSilentOnTouch;\n\n    el.type === 'group'\n        ? el.traverse(function (child) {\n            if (child.type !== 'group') {\n                setElementHoverStl(child, hoverStyle);\n            }\n        })\n        : setElementHoverStl(el, hoverStyle);\n\n    // Duplicated function will be auto-ignored, see Eventful.js.\n    el.on('mouseover', onElementMouseOver)\n        .on('mouseout', onElementMouseOut);\n\n    // Emphasis, normal can be triggered manually\n    el.on('emphasis', enterEmphasis)\n        .on('normal', leaveEmphasis);\n}\n\n/**\n * @param {Object|module:zrender/graphic/Style} normalStyle\n * @param {Object} emphasisStyle\n * @param {module:echarts/model/Model} normalModel\n * @param {module:echarts/model/Model} emphasisModel\n * @param {Object} opt Check `opt` of `setTextStyleCommon` to find other props.\n * @param {Object} [opt.defaultText]\n * @param {module:echarts/model/Model} [opt.labelFetcher] Fetch text by\n *      `opt.labelFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {module:echarts/model/Model} [opt.labelDataIndex] Fetch text by\n *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {module:echarts/model/Model} [opt.labelDimIndex] Fetch text by\n *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {Object} [normalSpecified]\n * @param {Object} [emphasisSpecified]\n */\nfunction setLabelStyle(\n    normalStyle, emphasisStyle,\n    normalModel, emphasisModel,\n    opt,\n    normalSpecified, emphasisSpecified\n) {\n    opt = opt || EMPTY_OBJ;\n    var labelFetcher = opt.labelFetcher;\n    var labelDataIndex = opt.labelDataIndex;\n    var labelDimIndex = opt.labelDimIndex;\n\n    // This scenario, `label.normal.show = true; label.emphasis.show = false`,\n    // is not supported util someone requests.\n\n    var showNormal = normalModel.getShallow('show');\n    var showEmphasis = emphasisModel.getShallow('show');\n\n    // Consider performance, only fetch label when necessary.\n    // If `normal.show` is `false` and `emphasis.show` is `true` and `emphasis.formatter` is not set,\n    // label should be displayed, where text is fetched by `normal.formatter` or `opt.defaultText`.\n    var baseText = (showNormal || showEmphasis)\n        ? retrieve2(\n            labelFetcher\n                ? labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex)\n                : null,\n            opt.defaultText\n        )\n        : null;\n    var normalStyleText = showNormal ? baseText : null;\n    var emphasisStyleText = showEmphasis\n        ? retrieve2(\n            labelFetcher\n                ? labelFetcher.getFormattedLabel(labelDataIndex, 'emphasis', null, labelDimIndex)\n                : null,\n            baseText\n        )\n        : null;\n\n    // Optimize: If style.text is null, text will not be drawn.\n    if (normalStyleText != null || emphasisStyleText != null) {\n        // Always set `textStyle` even if `normalStyle.text` is null, because default\n        // values have to be set on `normalStyle`.\n        // If we set default values on `emphasisStyle`, consider case:\n        // Firstly, `setOption(... label: {normal: {text: null}, emphasis: {show: true}} ...);`\n        // Secondly, `setOption(... label: {noraml: {show: true, text: 'abc', color: 'red'} ...);`\n        // Then the 'red' will not work on emphasis.\n        setTextStyle(normalStyle, normalModel, normalSpecified, opt);\n        setTextStyle(emphasisStyle, emphasisModel, emphasisSpecified, opt, true);\n    }\n\n    normalStyle.text = normalStyleText;\n    emphasisStyle.text = emphasisStyleText;\n}\n\n/**\n * Set basic textStyle properties.\n * @param {Object|module:zrender/graphic/Style} textStyle\n * @param {module:echarts/model/Model} model\n * @param {Object} [specifiedTextStyle] Can be overrided by settings in model.\n * @param {Object} [opt] See `opt` of `setTextStyleCommon`.\n * @param {boolean} [isEmphasis]\n */\nfunction setTextStyle(\n    textStyle, textStyleModel, specifiedTextStyle, opt, isEmphasis\n) {\n    setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis);\n    specifiedTextStyle && extend(textStyle, specifiedTextStyle);\n    textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n\n    return textStyle;\n}\n\n/**\n * Set text option in the style.\n * @deprecated\n * @param {Object} textStyle\n * @param {module:echarts/model/Model} labelModel\n * @param {string|boolean} defaultColor Default text color.\n *        If set as false, it will be processed as a emphasis style.\n */\nfunction setText(textStyle, labelModel, defaultColor) {\n    var opt = {isRectText: true};\n    var isEmphasis;\n\n    if (defaultColor === false) {\n        isEmphasis = true;\n    }\n    else {\n        // Support setting color as 'auto' to get visual color.\n        opt.autoColor = defaultColor;\n    }\n    setTextStyleCommon(textStyle, labelModel, opt, isEmphasis);\n    textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n}\n\n/**\n * {\n *      disableBox: boolean, Whether diable drawing box of block (outer most).\n *      isRectText: boolean,\n *      autoColor: string, specify a color when color is 'auto',\n *              for textFill, textStroke, textBackgroundColor, and textBorderColor.\n *              If autoColor specified, it is used as default textFill.\n *      useInsideStyle:\n *              `true`: Use inside style (textFill, textStroke, textStrokeWidth)\n *                  if `textFill` is not specified.\n *              `false`: Do not use inside style.\n *              `null/undefined`: use inside style if `isRectText` is true and\n *                  `textFill` is not specified and textPosition contains `'inside'`.\n *      forceRich: boolean\n * }\n */\nfunction setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis) {\n    // Consider there will be abnormal when merge hover style to normal style if given default value.\n    opt = opt || EMPTY_OBJ;\n\n    if (opt.isRectText) {\n        var textPosition = textStyleModel.getShallow('position')\n            || (isEmphasis ? null : 'inside');\n        // 'outside' is not a valid zr textPostion value, but used\n        // in bar series, and magric type should be considered.\n        textPosition === 'outside' && (textPosition = 'top');\n        textStyle.textPosition = textPosition;\n        textStyle.textOffset = textStyleModel.getShallow('offset');\n        var labelRotate = textStyleModel.getShallow('rotate');\n        labelRotate != null && (labelRotate *= Math.PI / 180);\n        textStyle.textRotation = labelRotate;\n        textStyle.textDistance = retrieve2(\n            textStyleModel.getShallow('distance'), isEmphasis ? null : 5\n        );\n    }\n\n    var ecModel = textStyleModel.ecModel;\n    var globalTextStyle = ecModel && ecModel.option.textStyle;\n\n    // Consider case:\n    // {\n    //     data: [{\n    //         value: 12,\n    //         label: {\n    //             normal: {\n    //                 rich: {\n    //                     // no 'a' here but using parent 'a'.\n    //                 }\n    //             }\n    //         }\n    //     }],\n    //     rich: {\n    //         a: { ... }\n    //     }\n    // }\n    var richItemNames = getRichItemNames(textStyleModel);\n    var richResult;\n    if (richItemNames) {\n        richResult = {};\n        for (var name in richItemNames) {\n            if (richItemNames.hasOwnProperty(name)) {\n                // Cascade is supported in rich.\n                var richTextStyle = textStyleModel.getModel(['rich', name]);\n                // In rich, never `disableBox`.\n                setTokenTextStyle(richResult[name] = {}, richTextStyle, globalTextStyle, opt, isEmphasis);\n            }\n        }\n    }\n    textStyle.rich = richResult;\n\n    setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, true);\n\n    if (opt.forceRich && !opt.textStyle) {\n        opt.textStyle = {};\n    }\n\n    return textStyle;\n}\n\n// Consider case:\n// {\n//     data: [{\n//         value: 12,\n//         label: {\n//             normal: {\n//                 rich: {\n//                     // no 'a' here but using parent 'a'.\n//                 }\n//             }\n//         }\n//     }],\n//     rich: {\n//         a: { ... }\n//     }\n// }\nfunction getRichItemNames(textStyleModel) {\n    // Use object to remove duplicated names.\n    var richItemNameMap;\n    while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n        var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n        if (rich) {\n            richItemNameMap = richItemNameMap || {};\n            for (var name in rich) {\n                if (rich.hasOwnProperty(name)) {\n                    richItemNameMap[name] = 1;\n                }\n            }\n        }\n        textStyleModel = textStyleModel.parentModel;\n    }\n    return richItemNameMap;\n}\n\nfunction setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, isBlock) {\n    // In merge mode, default value should not be given.\n    globalTextStyle = !isEmphasis && globalTextStyle || EMPTY_OBJ;\n\n    textStyle.textFill = getAutoColor(textStyleModel.getShallow('color'), opt)\n        || globalTextStyle.color;\n    textStyle.textStroke = getAutoColor(textStyleModel.getShallow('textBorderColor'), opt)\n        || globalTextStyle.textBorderColor;\n    textStyle.textStrokeWidth = retrieve2(\n        textStyleModel.getShallow('textBorderWidth'),\n        globalTextStyle.textBorderWidth\n    );\n\n    if (!isEmphasis) {\n        if (isBlock) {\n            // Always set `insideRollback`, for clearing previous.\n            var originalTextPosition = textStyle.textPosition;\n            textStyle.insideRollback = applyInsideStyle(textStyle, originalTextPosition, opt);\n            // Save original textPosition, because style.textPosition will be repalced by\n            // real location (like [10, 30]) in zrender.\n            textStyle.insideOriginalTextPosition = originalTextPosition;\n            textStyle.insideRollbackOpt = opt;\n        }\n\n        // Set default finally.\n        if (textStyle.textFill == null) {\n            textStyle.textFill = opt.autoColor;\n        }\n    }\n\n    // Do not use `getFont` here, because merge should be supported, where\n    // part of these properties may be changed in emphasis style, and the\n    // others should remain their original value got from normal style.\n    textStyle.fontStyle = textStyleModel.getShallow('fontStyle') || globalTextStyle.fontStyle;\n    textStyle.fontWeight = textStyleModel.getShallow('fontWeight') || globalTextStyle.fontWeight;\n    textStyle.fontSize = textStyleModel.getShallow('fontSize') || globalTextStyle.fontSize;\n    textStyle.fontFamily = textStyleModel.getShallow('fontFamily') || globalTextStyle.fontFamily;\n\n    textStyle.textAlign = textStyleModel.getShallow('align');\n    textStyle.textVerticalAlign = textStyleModel.getShallow('verticalAlign')\n        || textStyleModel.getShallow('baseline');\n\n    textStyle.textLineHeight = textStyleModel.getShallow('lineHeight');\n    textStyle.textWidth = textStyleModel.getShallow('width');\n    textStyle.textHeight = textStyleModel.getShallow('height');\n    textStyle.textTag = textStyleModel.getShallow('tag');\n\n    if (!isBlock || !opt.disableBox) {\n        textStyle.textBackgroundColor = getAutoColor(textStyleModel.getShallow('backgroundColor'), opt);\n        textStyle.textPadding = textStyleModel.getShallow('padding');\n        textStyle.textBorderColor = getAutoColor(textStyleModel.getShallow('borderColor'), opt);\n        textStyle.textBorderWidth = textStyleModel.getShallow('borderWidth');\n        textStyle.textBorderRadius = textStyleModel.getShallow('borderRadius');\n\n        textStyle.textBoxShadowColor = textStyleModel.getShallow('shadowColor');\n        textStyle.textBoxShadowBlur = textStyleModel.getShallow('shadowBlur');\n        textStyle.textBoxShadowOffsetX = textStyleModel.getShallow('shadowOffsetX');\n        textStyle.textBoxShadowOffsetY = textStyleModel.getShallow('shadowOffsetY');\n    }\n\n    textStyle.textShadowColor = textStyleModel.getShallow('textShadowColor')\n        || globalTextStyle.textShadowColor;\n    textStyle.textShadowBlur = textStyleModel.getShallow('textShadowBlur')\n        || globalTextStyle.textShadowBlur;\n    textStyle.textShadowOffsetX = textStyleModel.getShallow('textShadowOffsetX')\n        || globalTextStyle.textShadowOffsetX;\n    textStyle.textShadowOffsetY = textStyleModel.getShallow('textShadowOffsetY')\n        || globalTextStyle.textShadowOffsetY;\n}\n\nfunction getAutoColor(color, opt) {\n    return color !== 'auto' ? color : (opt && opt.autoColor) ? opt.autoColor : null;\n}\n\nfunction applyInsideStyle(textStyle, textPosition, opt) {\n    var useInsideStyle = opt.useInsideStyle;\n    var insideRollback;\n\n    if (textStyle.textFill == null\n        && useInsideStyle !== false\n        && (useInsideStyle === true\n            || (opt.isRectText\n                && textPosition\n                // textPosition can be [10, 30]\n                && typeof textPosition === 'string'\n                && textPosition.indexOf('inside') >= 0\n            )\n        )\n    ) {\n        insideRollback = {\n            textFill: null,\n            textStroke: textStyle.textStroke,\n            textStrokeWidth: textStyle.textStrokeWidth\n        };\n        textStyle.textFill = '#fff';\n        // Consider text with #fff overflow its container.\n        if (textStyle.textStroke == null) {\n            textStyle.textStroke = opt.autoColor;\n            textStyle.textStrokeWidth == null && (textStyle.textStrokeWidth = 2);\n        }\n    }\n\n    return insideRollback;\n}\n\nfunction rollbackInsideStyle(style) {\n    var insideRollback = style.insideRollback;\n    if (insideRollback) {\n        style.textFill = insideRollback.textFill;\n        style.textStroke = insideRollback.textStroke;\n        style.textStrokeWidth = insideRollback.textStrokeWidth;\n    }\n}\n\nfunction getFont(opt, ecModel) {\n    // ecModel or default text style model.\n    var gTextStyleModel = ecModel || ecModel.getModel('textStyle');\n    return [\n        // FIXME in node-canvas fontWeight is before fontStyle\n        opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '',\n        opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '',\n        (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px',\n        opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'\n    ].join(' ');\n}\n\nfunction animateOrSetProps(isUpdate, el, props, animatableModel, dataIndex, cb) {\n    if (typeof dataIndex === 'function') {\n        cb = dataIndex;\n        dataIndex = null;\n    }\n    // Do not check 'animation' property directly here. Consider this case:\n    // animation model is an `itemModel`, whose does not have `isAnimationEnabled`\n    // but its parent model (`seriesModel`) does.\n    var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n\n    if (animationEnabled) {\n        var postfix = isUpdate ? 'Update' : '';\n        var duration = animatableModel.getShallow('animationDuration' + postfix);\n        var animationEasing = animatableModel.getShallow('animationEasing' + postfix);\n        var animationDelay = animatableModel.getShallow('animationDelay' + postfix);\n        if (typeof animationDelay === 'function') {\n            animationDelay = animationDelay(\n                dataIndex,\n                animatableModel.getAnimationDelayParams\n                    ? animatableModel.getAnimationDelayParams(el, dataIndex)\n                    : null\n            );\n        }\n        if (typeof duration === 'function') {\n            duration = duration(dataIndex);\n        }\n\n        duration > 0\n            ? el.animateTo(props, duration, animationDelay || 0, animationEasing, cb, !!cb)\n            : (el.stopAnimation(), el.attr(props), cb && cb());\n    }\n    else {\n        el.stopAnimation();\n        el.attr(props);\n        cb && cb();\n    }\n}\n\n/**\n * Update graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So if do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n *\n * @param {module:zrender/Element} el\n * @param {Object} props\n * @param {module:echarts/model/Model} [animatableModel]\n * @param {number} [dataIndex]\n * @param {Function} [cb]\n * @example\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n *     // Or\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, function () { console.log('Animation done!'); });\n */\nfunction updateProps(el, props, animatableModel, dataIndex, cb) {\n    animateOrSetProps(true, el, props, animatableModel, dataIndex, cb);\n}\n\n/**\n * Init graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So if do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n *\n * @param {module:zrender/Element} el\n * @param {Object} props\n * @param {module:echarts/model/Model} [animatableModel]\n * @param {number} [dataIndex]\n * @param {Function} cb\n */\nfunction initProps(el, props, animatableModel, dataIndex, cb) {\n    animateOrSetProps(false, el, props, animatableModel, dataIndex, cb);\n}\n\n/**\n * Get transform matrix of target (param target),\n * in coordinate of its ancestor (param ancestor)\n *\n * @param {module:zrender/mixin/Transformable} target\n * @param {module:zrender/mixin/Transformable} [ancestor]\n */\nfunction getTransform(target, ancestor) {\n    var mat = identity([]);\n\n    while (target && target !== ancestor) {\n        mul$1(mat, target.getLocalTransform(), mat);\n        target = target.parent;\n    }\n\n    return mat;\n}\n\n/**\n * Apply transform to an vertex.\n * @param {Array.<number>} target [x, y]\n * @param {Array.<number>|TypedArray.<number>|Object} transform Can be:\n *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n * @param {boolean=} invert Whether use invert matrix.\n * @return {Array.<number>} [x, y]\n */\nfunction applyTransform$1(target, transform, invert$$1) {\n    if (transform && !isArrayLike(transform)) {\n        transform = Transformable.getLocalTransform(transform);\n    }\n\n    if (invert$$1) {\n        transform = invert([], transform);\n    }\n    return applyTransform([], target, transform);\n}\n\n/**\n * @param {string} direction 'left' 'right' 'top' 'bottom'\n * @param {Array.<number>} transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n * @param {boolean=} invert Whether use invert matrix.\n * @return {string} Transformed direction. 'left' 'right' 'top' 'bottom'\n */\nfunction transformDirection(direction, transform, invert$$1) {\n\n    // Pick a base, ensure that transform result will not be (0, 0).\n    var hBase = (transform[4] === 0 || transform[5] === 0 || transform[0] === 0)\n        ? 1 : Math.abs(2 * transform[4] / transform[0]);\n    var vBase = (transform[4] === 0 || transform[5] === 0 || transform[2] === 0)\n        ? 1 : Math.abs(2 * transform[4] / transform[2]);\n\n    var vertex = [\n        direction === 'left' ? -hBase : direction === 'right' ? hBase : 0,\n        direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0\n    ];\n\n    vertex = applyTransform$1(vertex, transform, invert$$1);\n\n    return Math.abs(vertex[0]) > Math.abs(vertex[1])\n        ? (vertex[0] > 0 ? 'right' : 'left')\n        : (vertex[1] > 0 ? 'bottom' : 'top');\n}\n\n/**\n * Apply group transition animation from g1 to g2.\n * If no animatableModel, no animation.\n */\nfunction groupTransition(g1, g2, animatableModel, cb) {\n    if (!g1 || !g2) {\n        return;\n    }\n\n    function getElMap(g) {\n        var elMap = {};\n        g.traverse(function (el) {\n            if (!el.isGroup && el.anid) {\n                elMap[el.anid] = el;\n            }\n        });\n        return elMap;\n    }\n    function getAnimatableProps(el) {\n        var obj = {\n            position: clone$1(el.position),\n            rotation: el.rotation\n        };\n        if (el.shape) {\n            obj.shape = extend({}, el.shape);\n        }\n        return obj;\n    }\n    var elMap1 = getElMap(g1);\n\n    g2.traverse(function (el) {\n        if (!el.isGroup && el.anid) {\n            var oldEl = elMap1[el.anid];\n            if (oldEl) {\n                var newProp = getAnimatableProps(el);\n                el.attr(getAnimatableProps(oldEl));\n                updateProps(el, newProp, animatableModel, el.dataIndex);\n            }\n            // else {\n            //     if (el.previousProps) {\n            //         graphic.updateProps\n            //     }\n            // }\n        }\n    });\n}\n\n/**\n * @param {Array.<Array.<number>>} points Like: [[23, 44], [53, 66], ...]\n * @param {Object} rect {x, y, width, height}\n * @return {Array.<Array.<number>>} A new clipped points.\n */\nfunction clipPointsByRect(points, rect) {\n    return map(points, function (point) {\n        var x = point[0];\n        x = mathMax$1(x, rect.x);\n        x = mathMin$1(x, rect.x + rect.width);\n        var y = point[1];\n        y = mathMax$1(y, rect.y);\n        y = mathMin$1(y, rect.y + rect.height);\n        return [x, y];\n    });\n}\n\n/**\n * @param {Object} targetRect {x, y, width, height}\n * @param {Object} rect {x, y, width, height}\n * @return {Object} A new clipped rect. If rect size are negative, return undefined.\n */\nfunction clipRectByRect(targetRect, rect) {\n    var x = mathMax$1(targetRect.x, rect.x);\n    var x2 = mathMin$1(targetRect.x + targetRect.width, rect.x + rect.width);\n    var y = mathMax$1(targetRect.y, rect.y);\n    var y2 = mathMin$1(targetRect.y + targetRect.height, rect.y + rect.height);\n\n    if (x2 >= x && y2 >= y) {\n        return {\n            x: x,\n            y: y,\n            width: x2 - x,\n            height: y2 - y\n        };\n    }\n}\n\n/**\n * @param {string} iconStr Support 'image://' or 'path://' or direct svg path.\n * @param {Object} [opt] Properties of `module:zrender/Element`, except `style`.\n * @param {Object} [rect] {x, y, width, height}\n * @return {module:zrender/Element} Icon path or image element.\n */\nfunction createIcon(iconStr, opt, rect) {\n    opt = extend({rectHover: true}, opt);\n    var style = opt.style = {strokeNoScale: true};\n    rect = rect || {x: -1, y: -1, width: 2, height: 2};\n\n    if (iconStr) {\n        return iconStr.indexOf('image://') === 0\n            ? (\n                style.image = iconStr.slice(8),\n                defaults(style, rect),\n                new ZImage(opt)\n            )\n            : (\n                makePath(\n                    iconStr.replace('path://', ''),\n                    opt,\n                    rect,\n                    'center'\n                )\n            );\n    }\n}\n\n\n\n\nvar graphic = (Object.freeze || Object)({\n\textendShape: extendShape,\n\textendPath: extendPath,\n\tmakePath: makePath,\n\tmakeImage: makeImage,\n\tmergePath: mergePath,\n\tresizePath: resizePath,\n\tsubPixelOptimizeLine: subPixelOptimizeLine,\n\tsubPixelOptimizeRect: subPixelOptimizeRect,\n\tsubPixelOptimize: subPixelOptimize,\n\tsetHoverStyle: setHoverStyle,\n\tsetLabelStyle: setLabelStyle,\n\tsetTextStyle: setTextStyle,\n\tsetText: setText,\n\tgetFont: getFont,\n\tupdateProps: updateProps,\n\tinitProps: initProps,\n\tgetTransform: getTransform,\n\tapplyTransform: applyTransform$1,\n\ttransformDirection: transformDirection,\n\tgroupTransition: groupTransition,\n\tclipPointsByRect: clipPointsByRect,\n\tclipRectByRect: clipRectByRect,\n\tcreateIcon: createIcon,\n\tGroup: Group,\n\tImage: ZImage,\n\tText: Text,\n\tCircle: Circle,\n\tSector: Sector,\n\tRing: Ring,\n\tPolygon: Polygon,\n\tPolyline: Polyline,\n\tRect: Rect,\n\tLine: Line,\n\tBezierCurve: BezierCurve,\n\tArc: Arc,\n\tCompoundPath: CompoundPath,\n\tLinearGradient: LinearGradient,\n\tRadialGradient: RadialGradient,\n\tBoundingRect: BoundingRect\n});\n\nvar PATH_COLOR = ['textStyle', 'color'];\n\nvar textStyleMixin = {\n    /**\n     * Get color property or get color from option.textStyle.color\n     * @param {boolean} [isEmphasis]\n     * @return {string}\n     */\n    getTextColor: function (isEmphasis) {\n        var ecModel = this.ecModel;\n        return this.getShallow('color')\n            || (\n                (!isEmphasis && ecModel) ? ecModel.get(PATH_COLOR) : null\n            );\n    },\n\n    /**\n     * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n     * @return {string}\n     */\n    getFont: function () {\n        return getFont({\n            fontStyle: this.getShallow('fontStyle'),\n            fontWeight: this.getShallow('fontWeight'),\n            fontSize: this.getShallow('fontSize'),\n            fontFamily: this.getShallow('fontFamily')\n        }, this.ecModel);\n    },\n\n    getTextRect: function (text) {\n        return getBoundingRect(\n            text,\n            this.getFont(),\n            this.getShallow('align'),\n            this.getShallow('verticalAlign') || this.getShallow('baseline'),\n            this.getShallow('padding'),\n            this.getShallow('rich'),\n            this.getShallow('truncateText')\n        );\n    }\n};\n\nvar getItemStyle = makeStyleMapper(\n    [\n        ['fill', 'color'],\n        ['stroke', 'borderColor'],\n        ['lineWidth', 'borderWidth'],\n        ['opacity'],\n        ['shadowBlur'],\n        ['shadowOffsetX'],\n        ['shadowOffsetY'],\n        ['shadowColor'],\n        ['textPosition'],\n        ['textAlign']\n    ]\n);\n\nvar itemStyleMixin = {\n    getItemStyle: function (excludes, includes) {\n        var style = getItemStyle(this, excludes, includes);\n        var lineDash = this.getBorderLineDash();\n        lineDash && (style.lineDash = lineDash);\n        return style;\n    },\n\n    getBorderLineDash: function () {\n        var lineType = this.get('borderType');\n        return (lineType === 'solid' || lineType == null) ? null\n            : (lineType === 'dashed' ? [5, 5] : [1, 1]);\n    }\n};\n\n/**\n * @module echarts/model/Model\n */\n\nvar mixin$1 = mixin;\n\n/**\n * @alias module:echarts/model/Model\n * @constructor\n * @param {Object} option\n * @param {module:echarts/model/Model} [parentModel]\n * @param {module:echarts/model/Global} [ecModel]\n */\nfunction Model(option, parentModel, ecModel) {\n    /**\n     * @type {module:echarts/model/Model}\n     * @readOnly\n     */\n    this.parentModel = parentModel;\n\n    /**\n     * @type {module:echarts/model/Global}\n     * @readOnly\n     */\n    this.ecModel = ecModel;\n\n    /**\n     * @type {Object}\n     * @protected\n     */\n    this.option = option;\n\n    // Simple optimization\n    // if (this.init) {\n    //     if (arguments.length <= 4) {\n    //         this.init(option, parentModel, ecModel, extraOpt);\n    //     }\n    //     else {\n    //         this.init.apply(this, arguments);\n    //     }\n    // }\n}\n\nModel.prototype = {\n\n    constructor: Model,\n\n    /**\n     * Model \n     * @param {Object} option\n     */\n    init: null,\n\n    /**\n     *  Option merge\n     */\n    mergeOption: function (option) {\n        merge(this.option, option, true);\n    },\n\n    /**\n     * @param {string|Array.<string>} path\n     * @param {boolean} [ignoreParent=false]\n     * @return {*}\n     */\n    get: function (path, ignoreParent) {\n        if (path == null) {\n            return this.option;\n        }\n\n        return doGet(\n            this.option,\n            this.parsePath(path),\n            !ignoreParent && getParent(this, path)\n        );\n    },\n\n    /**\n     * @param {string} key\n     * @param {boolean} [ignoreParent=false]\n     * @return {*}\n     */\n    getShallow: function (key, ignoreParent) {\n        var option = this.option;\n\n        var val = option == null ? option : option[key];\n        var parentModel = !ignoreParent && getParent(this, key);\n        if (val == null && parentModel) {\n            val = parentModel.getShallow(key);\n        }\n        return val;\n    },\n\n    /**\n     * @param {string|Array.<string>} [path]\n     * @param {module:echarts/model/Model} [parentModel]\n     * @return {module:echarts/model/Model}\n     */\n    getModel: function (path, parentModel) {\n        var obj = path == null\n            ? this.option\n            : doGet(this.option, path = this.parsePath(path));\n\n        var thisParentModel;\n        parentModel = parentModel || (\n            (thisParentModel = getParent(this, path))\n                && thisParentModel.getModel(path)\n        );\n\n        return new Model(obj, parentModel, this.ecModel);\n    },\n\n    /**\n     * If model has option\n     */\n    isEmpty: function () {\n        return this.option == null;\n    },\n\n    restoreData: function () {},\n\n    // Pending\n    clone: function () {\n        var Ctor = this.constructor;\n        return new Ctor(clone(this.option));\n    },\n\n    setReadOnly: function (properties) {\n        \n    },\n\n    // If path is null/undefined, return null/undefined.\n    parsePath: function(path) {\n        if (typeof path === 'string') {\n            path = path.split('.');\n        }\n        return path;\n    },\n\n    /**\n     * @param {Function} getParentMethod\n     *        param {Array.<string>|string} path\n     *        return {module:echarts/model/Model}\n     */\n    customizeGetParent: function (getParentMethod) {\n        set$1(this, 'getParent', getParentMethod);\n    },\n\n    isAnimationEnabled: function () {\n        if (!env$1.node) {\n            if (this.option.animation != null) {\n                return !!this.option.animation;\n            }\n            else if (this.parentModel) {\n                return this.parentModel.isAnimationEnabled();\n            }\n        }\n    }\n};\n\nfunction doGet(obj, pathArr, parentModel) {\n    for (var i = 0; i < pathArr.length; i++) {\n        // Ignore empty\n        if (!pathArr[i]) {\n            continue;\n        }\n        // obj could be number/string/... (like 0)\n        obj = (obj && typeof obj === 'object') ? obj[pathArr[i]] : null;\n        if (obj == null) {\n            break;\n        }\n    }\n    if (obj == null && parentModel) {\n        obj = parentModel.get(pathArr);\n    }\n    return obj;\n}\n\n// `path` can be null/undefined\nfunction getParent(model, path) {\n    var getParentMethod = get(model, 'getParent');\n    return getParentMethod ? getParentMethod.call(model, path) : model.parentModel;\n}\n\n// Enable Model.extend.\nenableClassExtend(Model);\n\nmixin$1(Model, lineStyleMixin);\nmixin$1(Model, areaStyleMixin);\nmixin$1(Model, textStyleMixin);\nmixin$1(Model, itemStyleMixin);\n\nvar each$3 = each$1;\nvar isObject$2 = isObject;\n\n/**\n * If value is not array, then translate it to array.\n * @param  {*} value\n * @return {Array} [value] or value\n */\nfunction normalizeToArray(value) {\n    return value instanceof Array\n        ? value\n        : value == null\n        ? []\n        : [value];\n}\n\n/**\n * Sync default option between normal and emphasis like `position` and `show`\n * In case some one will write code like\n *     label: {\n *         normal: {\n *             show: false,\n *             position: 'outside',\n *             fontSize: 18\n *         },\n *         emphasis: {\n *             show: true\n *         }\n *     }\n * @param {Object} opt\n * @param {Array.<string>} subOpts\n */\nfunction defaultEmphasis(opt, subOpts) {\n    if (opt) {\n        var emphasisOpt = opt.emphasis = opt.emphasis || {};\n        var normalOpt = opt.normal = opt.normal || {};\n\n        // Default emphasis option from normal\n        for (var i = 0, len = subOpts.length; i < len; i++) {\n            var subOptName = subOpts[i];\n            if (!emphasisOpt.hasOwnProperty(subOptName)\n                && normalOpt.hasOwnProperty(subOptName)\n            ) {\n                emphasisOpt[subOptName] = normalOpt[subOptName];\n            }\n        }\n    }\n}\n\nvar TEXT_STYLE_OPTIONS = [\n    'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n    'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth',\n    'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline',\n    'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY',\n    'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY',\n    'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding'\n];\n\n// modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n//     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n//     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n//     // FIXME: deprecated, check and remove it.\n//     'textStyle'\n// ]);\n\n/**\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method retieves value from data.\n * @param {string|number|Date|Array|Object} dataItem\n * @return {number|string|Date|Array.<number|string|Date>}\n */\nfunction getDataItemValue(dataItem) {\n    // Performance sensitive.\n    return dataItem && (dataItem.value == null ? dataItem : dataItem.value);\n}\n\n/**\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method determine if dataItem has extra option besides value\n * @param {string|number|Date|Array|Object} dataItem\n */\nfunction isDataItemOption(dataItem) {\n    return isObject$2(dataItem)\n        && !(dataItem instanceof Array);\n        // // markLine data can be array\n        // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n}\n\n/**\n * This helper method convert value in data.\n * @param {string|number|Date} value\n * @param {Object|string} [dimInfo] If string (like 'x'), dimType defaults 'number'.\n */\nfunction converDataValue(value, dimInfo) {\n    // Performance sensitive.\n    var dimType = dimInfo && dimInfo.type;\n    if (dimType === 'ordinal') {\n        return value;\n    }\n\n    if (dimType === 'time'\n        // spead up when using timestamp\n        && typeof value !== 'number'\n        && value != null\n        && value !== '-'\n    ) {\n        value = +parseDate(value);\n    }\n\n    // dimType defaults 'number'.\n    // If dimType is not ordinal and value is null or undefined or NaN or '-',\n    // parse to NaN.\n    return (value == null || value === '')\n        ? NaN : +value; // If string (like '-'), using '+' parse to NaN\n}\n\n/**\n * Create a model proxy to be used in tooltip for edge data, markLine data, markPoint data.\n * @param {module:echarts/data/List} data\n * @param {Object} opt\n * @param {string} [opt.seriesIndex]\n * @param {Object} [opt.name]\n * @param {Object} [opt.mainType]\n * @param {Object} [opt.subType]\n */\n\n\n// PENDING A little ugly\nvar dataFormatMixin = {\n    /**\n     * Get params for formatter\n     * @param {number} dataIndex\n     * @param {string} [dataType]\n     * @return {Object}\n     */\n    getDataParams: function (dataIndex, dataType) {\n        var data = this.getData(dataType);\n        var rawValue = this.getRawValue(dataIndex, dataType);\n        var rawDataIndex = data.getRawIndex(dataIndex);\n        var name = data.getName(dataIndex, true);\n        var itemOpt = data.getRawDataItem(dataIndex);\n        var color = data.getItemVisual(dataIndex, 'color');\n\n        return {\n            componentType: this.mainType,\n            componentSubType: this.subType,\n            seriesType: this.mainType === 'series' ? this.subType : null,\n            seriesIndex: this.seriesIndex,\n            seriesId: this.id,\n            seriesName: this.name,\n            name: name,\n            dataIndex: rawDataIndex,\n            data: itemOpt,\n            dataType: dataType,\n            value: rawValue,\n            color: color,\n            marker: getTooltipMarker(color),\n\n            // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n            $vars: ['seriesName', 'name', 'value']\n        };\n    },\n\n    /**\n     * Format label\n     * @param {number} dataIndex\n     * @param {string} [status='normal'] 'normal' or 'emphasis'\n     * @param {string} [dataType]\n     * @param {number} [dimIndex]\n     * @param {string} [labelProp='label']\n     * @return {string}\n     */\n    getFormattedLabel: function (dataIndex, status, dataType, dimIndex, labelProp) {\n        status = status || 'normal';\n        var data = this.getData(dataType);\n        var itemModel = data.getItemModel(dataIndex);\n\n        var params = this.getDataParams(dataIndex, dataType);\n        if (dimIndex != null && (params.value instanceof Array)) {\n            params.value = params.value[dimIndex];\n        }\n\n        var formatter = itemModel.get([labelProp || 'label', status, 'formatter']);\n\n        if (typeof formatter === 'function') {\n            params.status = status;\n            return formatter(params);\n        }\n        else if (typeof formatter === 'string') {\n            return formatTpl(formatter, params);\n        }\n    },\n\n    /**\n     * Get raw value in option\n     * @param {number} idx\n     * @param {string} [dataType]\n     * @return {Object}\n     */\n    getRawValue: function (idx, dataType) {\n        var data = this.getData(dataType);\n        var dataItem = data.getRawDataItem(idx);\n        if (dataItem != null) {\n            return (isObject$2(dataItem) && !(dataItem instanceof Array))\n                ? dataItem.value : dataItem;\n        }\n    },\n\n    /**\n     * Should be implemented.\n     * @param {number} dataIndex\n     * @param {boolean} [multipleSeries=false]\n     * @param {number} [dataType]\n     * @return {string} tooltip string\n     */\n    formatTooltip: noop\n};\n\n/**\n * Mapping to exists for merge.\n *\n * @public\n * @param {Array.<Object>|Array.<module:echarts/model/Component>} exists\n * @param {Object|Array.<Object>} newCptOptions\n * @return {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n *                          index of which is the same as exists.\n */\nfunction mappingToExists(exists, newCptOptions) {\n    // Mapping by the order by original option (but not order of\n    // new option) in merge mode. Because we should ensure\n    // some specified index (like xAxisIndex) is consistent with\n    // original option, which is easy to understand, espatially in\n    // media query. And in most case, merge option is used to\n    // update partial option but not be expected to change order.\n    newCptOptions = (newCptOptions || []).slice();\n\n    var result = map(exists || [], function (obj, index) {\n        return {exist: obj};\n    });\n\n    // Mapping by id or name if specified.\n    each$3(newCptOptions, function (cptOption, index) {\n        if (!isObject$2(cptOption)) {\n            return;\n        }\n\n        // id has highest priority.\n        for (var i = 0; i < result.length; i++) {\n            if (!result[i].option // Consider name: two map to one.\n                && cptOption.id != null\n                && result[i].exist.id === cptOption.id + ''\n            ) {\n                result[i].option = cptOption;\n                newCptOptions[index] = null;\n                return;\n            }\n        }\n\n        for (var i = 0; i < result.length; i++) {\n            var exist = result[i].exist;\n            if (!result[i].option // Consider name: two map to one.\n                // Can not match when both ids exist but different.\n                && (exist.id == null || cptOption.id == null)\n                && cptOption.name != null\n                && !isIdInner(cptOption)\n                && !isIdInner(exist)\n                && exist.name === cptOption.name + ''\n            ) {\n                result[i].option = cptOption;\n                newCptOptions[index] = null;\n                return;\n            }\n        }\n    });\n\n    // Otherwise mapping by index.\n    each$3(newCptOptions, function (cptOption, index) {\n        if (!isObject$2(cptOption)) {\n            return;\n        }\n\n        var i = 0;\n        for (; i < result.length; i++) {\n            var exist = result[i].exist;\n            if (!result[i].option\n                // Existing model that already has id should be able to\n                // mapped to (because after mapping performed model may\n                // be assigned with a id, whish should not affect next\n                // mapping), except those has inner id.\n                && !isIdInner(exist)\n                // Caution:\n                // Do not overwrite id. But name can be overwritten,\n                // because axis use name as 'show label text'.\n                // 'exist' always has id and name and we dont\n                // need to check it.\n                && cptOption.id == null\n            ) {\n                result[i].option = cptOption;\n                break;\n            }\n        }\n\n        if (i >= result.length) {\n            result.push({option: cptOption});\n        }\n    });\n\n    return result;\n}\n\n/**\n * Make id and name for mapping result (result of mappingToExists)\n * into `keyInfo` field.\n *\n * @public\n * @param {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n *                          which order is the same as exists.\n * @return {Array.<Object>} The input.\n */\nfunction makeIdAndName(mapResult) {\n    // We use this id to hash component models and view instances\n    // in echarts. id can be specified by user, or auto generated.\n\n    // The id generation rule ensures new view instance are able\n    // to mapped to old instance when setOption are called in\n    // no-merge mode. So we generate model id by name and plus\n    // type in view id.\n\n    // name can be duplicated among components, which is convenient\n    // to specify multi components (like series) by one name.\n\n    // Ensure that each id is distinct.\n    var idMap = createHashMap();\n\n    each$3(mapResult, function (item, index) {\n        var existCpt = item.exist;\n        existCpt && idMap.set(existCpt.id, item);\n    });\n\n    each$3(mapResult, function (item, index) {\n        var opt = item.option;\n\n        assert(\n            !opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item,\n            'id duplicates: ' + (opt && opt.id)\n        );\n\n        opt && opt.id != null && idMap.set(opt.id, item);\n        !item.keyInfo && (item.keyInfo = {});\n    });\n\n    // Make name and id.\n    each$3(mapResult, function (item, index) {\n        var existCpt = item.exist;\n        var opt = item.option;\n        var keyInfo = item.keyInfo;\n\n        if (!isObject$2(opt)) {\n            return;\n        }\n\n        // name can be overwitten. Consider case: axis.name = '20km'.\n        // But id generated by name will not be changed, which affect\n        // only in that case: setOption with 'not merge mode' and view\n        // instance will be recreated, which can be accepted.\n        keyInfo.name = opt.name != null\n            ? opt.name + ''\n            : existCpt\n            ? existCpt.name\n            : '\\0-'; // name may be displayed on screen, so use '-'.\n\n        if (existCpt) {\n            keyInfo.id = existCpt.id;\n        }\n        else if (opt.id != null) {\n            keyInfo.id = opt.id + '';\n        }\n        else {\n            // Consider this situatoin:\n            //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n            //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n            // Series with the same name between optionA and optionB\n            // should be mapped.\n            var idNum = 0;\n            do {\n                keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n            }\n            while (idMap.get(keyInfo.id));\n        }\n\n        idMap.set(keyInfo.id, item);\n    });\n}\n\n/**\n * @public\n * @param {Object} cptOption\n * @return {boolean}\n */\nfunction isIdInner(cptOption) {\n    return isObject$2(cptOption)\n        && cptOption.id\n        && (cptOption.id + '').indexOf('\\0_ec_\\0') === 0;\n}\n\n/**\n * A helper for removing duplicate items between batchA and batchB,\n * and in themselves, and categorize by series.\n *\n * @param {Array.<Object>} batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @param {Array.<Object>} batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @return {Array.<Array.<Object>, Array.<Object>>} result: [resultBatchA, resultBatchB]\n */\nfunction compressBatches(batchA, batchB) {\n    var mapA = {};\n    var mapB = {};\n\n    makeMap(batchA || [], mapA);\n    makeMap(batchB || [], mapB, mapA);\n\n    return [mapToArray(mapA), mapToArray(mapB)];\n\n    function makeMap(sourceBatch, map$$1, otherMap) {\n        for (var i = 0, len = sourceBatch.length; i < len; i++) {\n            var seriesId = sourceBatch[i].seriesId;\n            var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n            var otherDataIndices = otherMap && otherMap[seriesId];\n\n            for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n                var dataIndex = dataIndices[j];\n\n                if (otherDataIndices && otherDataIndices[dataIndex]) {\n                    otherDataIndices[dataIndex] = null;\n                }\n                else {\n                    (map$$1[seriesId] || (map$$1[seriesId] = {}))[dataIndex] = 1;\n                }\n            }\n        }\n    }\n\n    function mapToArray(map$$1, isData) {\n        var result = [];\n        for (var i in map$$1) {\n            if (map$$1.hasOwnProperty(i) && map$$1[i] != null) {\n                if (isData) {\n                    result.push(+i);\n                }\n                else {\n                    var dataIndices = mapToArray(map$$1[i], true);\n                    dataIndices.length && result.push({seriesId: i, dataIndex: dataIndices});\n                }\n            }\n        }\n        return result;\n    }\n}\n\n/**\n * @param {module:echarts/data/List} data\n * @param {Object} payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n *                         each of which can be Array or primary type.\n * @return {number|Array.<number>} dataIndex If not found, return undefined/null.\n */\nfunction queryDataIndex(data, payload) {\n    if (payload.dataIndexInside != null) {\n        return payload.dataIndexInside;\n    }\n    else if (payload.dataIndex != null) {\n        return isArray(payload.dataIndex)\n            ? map(payload.dataIndex, function (value) {\n                return data.indexOfRawIndex(value);\n            })\n            : data.indexOfRawIndex(payload.dataIndex);\n    }\n    else if (payload.name != null) {\n        return isArray(payload.name)\n            ? map(payload.name, function (value) {\n                return data.indexOfName(value);\n            })\n            : data.indexOfName(payload.name);\n    }\n}\n\n/**\n * Enable property storage to any host object.\n * Notice: Serialization is not supported.\n *\n * For example:\n * var get = modelUitl.makeGetter();\n *\n * function some(hostObj) {\n *      get(hostObj)._someProperty = 1212;\n *      ...\n * }\n *\n * @return {Function}\n */\nvar makeGetter = (function () {\n    var index = 0;\n    return function () {\n        var key = '\\0__ec_prop_getter_' + index++;\n        return function (hostObj) {\n            return hostObj[key] || (hostObj[key] = {});\n        };\n    };\n})();\n\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex, seriesId, seriesName,\n *            geoIndex, geoId, geoName,\n *            bmapIndex, bmapId, bmapName,\n *            xAxisIndex, xAxisId, xAxisName,\n *            yAxisIndex, yAxisId, yAxisName,\n *            gridIndex, gridId, gridName,\n *            ... (can be extended)\n *        }\n *        Each properties can be number|string|Array.<number>|Array.<string>\n *        For example, a finder could be\n *        {\n *            seriesIndex: 3,\n *            geoId: ['aa', 'cc'],\n *            gridName: ['xx', 'rr']\n *        }\n *        xxxIndex can be set as 'all' (means all xxx) or 'none' (means not specify)\n *        If nothing or null/undefined specified, return nothing.\n * @param {Object} [opt]\n * @param {string} [opt.defaultMainType]\n * @param {Array.<string>} [opt.includeMainTypes]\n * @return {Object} result like:\n *        {\n *            seriesModels: [seriesModel1, seriesModel2],\n *            seriesModel: seriesModel1, // The first model\n *            geoModels: [geoModel1, geoModel2],\n *            geoModel: geoModel1, // The first model\n *            ...\n *        }\n */\nfunction parseFinder(ecModel, finder, opt) {\n    if (isString(finder)) {\n        var obj = {};\n        obj[finder + 'Index'] = 0;\n        finder = obj;\n    }\n\n    var defaultMainType = opt && opt.defaultMainType;\n    if (defaultMainType\n        && !has(finder, defaultMainType + 'Index')\n        && !has(finder, defaultMainType + 'Id')\n        && !has(finder, defaultMainType + 'Name')\n    ) {\n        finder[defaultMainType + 'Index'] = 0;\n    }\n\n    var result = {};\n\n    each$3(finder, function (value, key) {\n        var value = finder[key];\n\n        // Exclude 'dataIndex' and other illgal keys.\n        if (key === 'dataIndex' || key === 'dataIndexInside') {\n            result[key] = value;\n            return;\n        }\n\n        var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n        var mainType = parsedKey[1];\n        var queryType = (parsedKey[2] || '').toLowerCase();\n\n        if (!mainType\n            || !queryType\n            || value == null\n            || (queryType === 'index' && value === 'none')\n            || (opt && opt.includeMainTypes && indexOf(opt.includeMainTypes, mainType) < 0)\n        ) {\n            return;\n        }\n\n        var queryParam = {mainType: mainType};\n        if (queryType !== 'index' || value !== 'all') {\n            queryParam[queryType] = value;\n        }\n\n        var models = ecModel.queryComponents(queryParam);\n        result[mainType + 'Models'] = models;\n        result[mainType + 'Model'] = models[0];\n    });\n\n    return result;\n}\n\n/**\n * @see {module:echarts/data/helper/completeDimensions}\n * @param {module:echarts/data/List} data\n * @param {string|number} dataDim\n * @return {string}\n */\nfunction dataDimToCoordDim(data, dataDim) {\n    var dimensions = data.dimensions;\n    dataDim = data.getDimension(dataDim);\n    for (var i = 0; i < dimensions.length; i++) {\n        var dimItem = data.getDimensionInfo(dimensions[i]);\n        if (dimItem.name === dataDim) {\n            return dimItem.coordDim;\n        }\n    }\n}\n\n/**\n * @see {module:echarts/data/helper/completeDimensions}\n * @param {module:echarts/data/List} data\n * @param {string} coordDim\n * @return {Array.<string>} data dimensions on the coordDim.\n */\nfunction coordDimToDataDim(data, coordDim) {\n    var dataDim = [];\n    each$3(data.dimensions, function (dimName) {\n        var dimItem = data.getDimensionInfo(dimName);\n        if (dimItem.coordDim === coordDim) {\n            dataDim[dimItem.coordDimIndex] = dimItem.name;\n        }\n    });\n    return dataDim;\n}\n\n/**\n * @see {module:echarts/data/helper/completeDimensions}\n * @param {module:echarts/data/List} data\n * @param {string} otherDim Can be `otherDims`\n *                        like 'label' or 'tooltip'.\n * @return {Array.<string>} data dimensions on the otherDim.\n */\nfunction otherDimToDataDim(data, otherDim) {\n    var dataDim = [];\n    each$3(data.dimensions, function (dimName) {\n        var dimItem = data.getDimensionInfo(dimName);\n        var otherDims = dimItem.otherDims;\n        var dimIndex = otherDims[otherDim];\n        if (dimIndex != null && dimIndex !== false) {\n            dataDim[dimIndex] = dimItem.name;\n        }\n    });\n    return dataDim;\n}\n\nfunction has(obj, prop) {\n    return obj && obj.hasOwnProperty(prop);\n}\n\nvar base = 0;\n\nvar DELIMITER = '_';\n\n/**\n * @public\n * @param {string} type\n * @return {string}\n */\nfunction getUID(type) {\n    // Considering the case of crossing js context,\n    // use Math.random to make id as unique as possible.\n    return [(type || ''), base++, Math.random()].join(DELIMITER);\n}\n\n/**\n * @inner\n */\nfunction enableSubTypeDefaulter(entity) {\n\n    var subTypeDefaulters = {};\n\n    entity.registerSubTypeDefaulter = function (componentType, defaulter) {\n        componentType = parseClassType$1(componentType);\n        subTypeDefaulters[componentType.main] = defaulter;\n    };\n\n    entity.determineSubType = function (componentType, option) {\n        var type = option.type;\n        if (!type) {\n            var componentTypeMain = parseClassType$1(componentType).main;\n            if (entity.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n                type = subTypeDefaulters[componentTypeMain](option);\n            }\n        }\n        return type;\n    };\n\n    return entity;\n}\n\n/**\n * Topological travel on Activity Network (Activity On Vertices).\n * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].\n *\n * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.\n *\n * If there is circle dependencey, Error will be thrown.\n *\n */\nfunction enableTopologicalTravel(entity, dependencyGetter) {\n\n    /**\n     * @public\n     * @param {Array.<string>} targetNameList Target Component type list.\n     *                                           Can be ['aa', 'bb', 'aa.xx']\n     * @param {Array.<string>} fullNameList By which we can build dependency graph.\n     * @param {Function} callback Params: componentType, dependencies.\n     * @param {Object} context Scope of callback.\n     */\n    entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n        if (!targetNameList.length) {\n            return;\n        }\n\n        var result = makeDepndencyGraph(fullNameList);\n        var graph = result.graph;\n        var stack = result.noEntryList;\n\n        var targetNameSet = {};\n        each$1(targetNameList, function (name) {\n            targetNameSet[name] = true;\n        });\n\n        while (stack.length) {\n            var currComponentType = stack.pop();\n            var currVertex = graph[currComponentType];\n            var isInTargetNameSet = !!targetNameSet[currComponentType];\n            if (isInTargetNameSet) {\n                callback.call(context, currComponentType, currVertex.originalDeps.slice());\n                delete targetNameSet[currComponentType];\n            }\n            each$1(\n                currVertex.successor,\n                isInTargetNameSet ? removeEdgeAndAdd : removeEdge\n            );\n        }\n\n        each$1(targetNameSet, function () {\n            throw new Error('Circle dependency may exists');\n        });\n\n        function removeEdge(succComponentType) {\n            graph[succComponentType].entryCount--;\n            if (graph[succComponentType].entryCount === 0) {\n                stack.push(succComponentType);\n            }\n        }\n\n        // Consider this case: legend depends on series, and we call\n        // chart.setOption({series: [...]}), where only series is in option.\n        // If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will\n        // not be called, but only sereis.mergeOption is called. Thus legend\n        // have no chance to update its local record about series (like which\n        // name of series is available in legend).\n        function removeEdgeAndAdd(succComponentType) {\n            targetNameSet[succComponentType] = true;\n            removeEdge(succComponentType);\n        }\n    };\n\n    /**\n     * DepndencyGraph: {Object}\n     * key: conponentType,\n     * value: {\n     *     successor: [conponentTypes...],\n     *     originalDeps: [conponentTypes...],\n     *     entryCount: {number}\n     * }\n     */\n    function makeDepndencyGraph(fullNameList) {\n        var graph = {};\n        var noEntryList = [];\n\n        each$1(fullNameList, function (name) {\n\n            var thisItem = createDependencyGraphItem(graph, name);\n            var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n\n            var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n            thisItem.entryCount = availableDeps.length;\n            if (thisItem.entryCount === 0) {\n                noEntryList.push(name);\n            }\n\n            each$1(availableDeps, function (dependentName) {\n                if (indexOf(thisItem.predecessor, dependentName) < 0) {\n                    thisItem.predecessor.push(dependentName);\n                }\n                var thatItem = createDependencyGraphItem(graph, dependentName);\n                if (indexOf(thatItem.successor, dependentName) < 0) {\n                    thatItem.successor.push(name);\n                }\n            });\n        });\n\n        return {graph: graph, noEntryList: noEntryList};\n    }\n\n    function createDependencyGraphItem(graph, name) {\n        if (!graph[name]) {\n            graph[name] = {predecessor: [], successor: []};\n        }\n        return graph[name];\n    }\n\n    function getAvailableDependencies(originalDeps, fullNameList) {\n        var availableDeps = [];\n        each$1(originalDeps, function (dep) {\n            indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n        });\n        return availableDeps;\n    }\n}\n\n// Layout helpers for each component positioning\n\nvar each$4 = each$1;\n\n/**\n * @public\n */\nvar LOCATION_PARAMS = [\n    'left', 'right', 'top', 'bottom', 'width', 'height'\n];\n\n/**\n * @public\n */\nvar HV_NAMES = [\n    ['width', 'left', 'right'],\n    ['height', 'top', 'bottom']\n];\n\nfunction boxLayout(orient, group, gap, maxWidth, maxHeight) {\n    var x = 0;\n    var y = 0;\n\n    if (maxWidth == null) {\n        maxWidth = Infinity;\n    }\n    if (maxHeight == null) {\n        maxHeight = Infinity;\n    }\n    var currentLineMaxSize = 0;\n\n    group.eachChild(function (child, idx) {\n        var position = child.position;\n        var rect = child.getBoundingRect();\n        var nextChild = group.childAt(idx + 1);\n        var nextChildRect = nextChild && nextChild.getBoundingRect();\n        var nextX;\n        var nextY;\n\n        if (orient === 'horizontal') {\n            var moveX = rect.width + (nextChildRect ? (-nextChildRect.x + rect.x) : 0);\n            nextX = x + moveX;\n            // Wrap when width exceeds maxWidth or meet a `newline` group\n            // FIXME compare before adding gap?\n            if (nextX > maxWidth || child.newline) {\n                x = 0;\n                nextX = moveX;\n                y += currentLineMaxSize + gap;\n                currentLineMaxSize = rect.height;\n            }\n            else {\n                // FIXME: consider rect.y is not `0`?\n                currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\n            }\n        }\n        else {\n            var moveY = rect.height + (nextChildRect ? (-nextChildRect.y + rect.y) : 0);\n            nextY = y + moveY;\n            // Wrap when width exceeds maxHeight or meet a `newline` group\n            if (nextY > maxHeight || child.newline) {\n                x += currentLineMaxSize + gap;\n                y = 0;\n                nextY = moveY;\n                currentLineMaxSize = rect.width;\n            }\n            else {\n                currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\n            }\n        }\n\n        if (child.newline) {\n            return;\n        }\n\n        position[0] = x;\n        position[1] = y;\n\n        orient === 'horizontal'\n            ? (x = nextX + gap)\n            : (y = nextY + gap);\n    });\n}\n\n/**\n * VBox or HBox layouting\n * @param {string} orient\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\nvar box = boxLayout;\n\n/**\n * VBox layouting\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\nvar vbox = curry(boxLayout, 'vertical');\n\n/**\n * HBox layouting\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\nvar hbox = curry(boxLayout, 'horizontal');\n\n/**\n * If x or x2 is not specified or 'center' 'left' 'right',\n * the width would be as long as possible.\n * If y or y2 is not specified or 'middle' 'top' 'bottom',\n * the height would be as long as possible.\n *\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.x]\n * @param {number|string} [positionInfo.y]\n * @param {number|string} [positionInfo.x2]\n * @param {number|string} [positionInfo.y2]\n * @param {Object} containerRect {width, height}\n * @param {string|number} margin\n * @return {Object} {width, height}\n */\nfunction getAvailableSize(positionInfo, containerRect, margin) {\n    var containerWidth = containerRect.width;\n    var containerHeight = containerRect.height;\n\n    var x = parsePercent$1(positionInfo.x, containerWidth);\n    var y = parsePercent$1(positionInfo.y, containerHeight);\n    var x2 = parsePercent$1(positionInfo.x2, containerWidth);\n    var y2 = parsePercent$1(positionInfo.y2, containerHeight);\n\n    (isNaN(x) || isNaN(parseFloat(positionInfo.x))) && (x = 0);\n    (isNaN(x2) || isNaN(parseFloat(positionInfo.x2))) && (x2 = containerWidth);\n    (isNaN(y) || isNaN(parseFloat(positionInfo.y))) && (y = 0);\n    (isNaN(y2) || isNaN(parseFloat(positionInfo.y2))) && (y2 = containerHeight);\n\n    margin = normalizeCssArray$1(margin || 0);\n\n    return {\n        width: Math.max(x2 - x - margin[1] - margin[3], 0),\n        height: Math.max(y2 - y - margin[0] - margin[2], 0)\n    };\n}\n\n/**\n * Parse position info.\n *\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.left]\n * @param {number|string} [positionInfo.top]\n * @param {number|string} [positionInfo.right]\n * @param {number|string} [positionInfo.bottom]\n * @param {number|string} [positionInfo.width]\n * @param {number|string} [positionInfo.height]\n * @param {number|string} [positionInfo.aspect] Aspect is width / height\n * @param {Object} containerRect\n * @param {string|number} [margin]\n *\n * @return {module:zrender/core/BoundingRect}\n */\nfunction getLayoutRect(\n    positionInfo, containerRect, margin\n) {\n    margin = normalizeCssArray$1(margin || 0);\n\n    var containerWidth = containerRect.width;\n    var containerHeight = containerRect.height;\n\n    var left = parsePercent$1(positionInfo.left, containerWidth);\n    var top = parsePercent$1(positionInfo.top, containerHeight);\n    var right = parsePercent$1(positionInfo.right, containerWidth);\n    var bottom = parsePercent$1(positionInfo.bottom, containerHeight);\n    var width = parsePercent$1(positionInfo.width, containerWidth);\n    var height = parsePercent$1(positionInfo.height, containerHeight);\n\n    var verticalMargin = margin[2] + margin[0];\n    var horizontalMargin = margin[1] + margin[3];\n    var aspect = positionInfo.aspect;\n\n    // If width is not specified, calculate width from left and right\n    if (isNaN(width)) {\n        width = containerWidth - right - horizontalMargin - left;\n    }\n    if (isNaN(height)) {\n        height = containerHeight - bottom - verticalMargin - top;\n    }\n\n    if (aspect != null) {\n        // If width and height are not given\n        // 1. Graph should not exceeds the container\n        // 2. Aspect must be keeped\n        // 3. Graph should take the space as more as possible\n        // FIXME\n        // Margin is not considered, because there is no case that both\n        // using margin and aspect so far.\n        if (isNaN(width) && isNaN(height)) {\n            if (aspect > containerWidth / containerHeight) {\n                width = containerWidth * 0.8;\n            }\n            else {\n                height = containerHeight * 0.8;\n            }\n        }\n\n        // Calculate width or height with given aspect\n        if (isNaN(width)) {\n            width = aspect * height;\n        }\n        if (isNaN(height)) {\n            height = width / aspect;\n        }\n    }\n\n    // If left is not specified, calculate left from right and width\n    if (isNaN(left)) {\n        left = containerWidth - right - width - horizontalMargin;\n    }\n    if (isNaN(top)) {\n        top = containerHeight - bottom - height - verticalMargin;\n    }\n\n    // Align left and top\n    switch (positionInfo.left || positionInfo.right) {\n        case 'center':\n            left = containerWidth / 2 - width / 2 - margin[3];\n            break;\n        case 'right':\n            left = containerWidth - width - horizontalMargin;\n            break;\n    }\n    switch (positionInfo.top || positionInfo.bottom) {\n        case 'middle':\n        case 'center':\n            top = containerHeight / 2 - height / 2 - margin[0];\n            break;\n        case 'bottom':\n            top = containerHeight - height - verticalMargin;\n            break;\n    }\n    // If something is wrong and left, top, width, height are calculated as NaN\n    left = left || 0;\n    top = top || 0;\n    if (isNaN(width)) {\n        // Width may be NaN if only one value is given except width\n        width = containerWidth - horizontalMargin - left - (right || 0);\n    }\n    if (isNaN(height)) {\n        // Height may be NaN if only one value is given except height\n        height = containerHeight - verticalMargin - top - (bottom || 0);\n    }\n\n    var rect = new BoundingRect(left + margin[3], top + margin[0], width, height);\n    rect.margin = margin;\n    return rect;\n}\n\n\n/**\n * Position a zr element in viewport\n *  Group position is specified by either\n *  {left, top}, {right, bottom}\n *  If all properties exists, right and bottom will be igonred.\n *\n * Logic:\n *     1. Scale (against origin point in parent coord)\n *     2. Rotate (against origin point in parent coord)\n *     3. Traslate (with el.position by this method)\n * So this method only fixes the last step 'Traslate', which does not affect\n * scaling and rotating.\n *\n * If be called repeatly with the same input el, the same result will be gotten.\n *\n * @param {module:zrender/Element} el Should have `getBoundingRect` method.\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.left]\n * @param {number|string} [positionInfo.top]\n * @param {number|string} [positionInfo.right]\n * @param {number|string} [positionInfo.bottom]\n * @param {number|string} [positionInfo.width] Only for opt.boundingModel: 'raw'\n * @param {number|string} [positionInfo.height] Only for opt.boundingModel: 'raw'\n * @param {Object} containerRect\n * @param {string|number} margin\n * @param {Object} [opt]\n * @param {Array.<number>} [opt.hv=[1,1]] Only horizontal or only vertical.\n * @param {Array.<number>} [opt.boundingMode='all']\n *        Specify how to calculate boundingRect when locating.\n *        'all': Position the boundingRect that is transformed and uioned\n *               both itself and its descendants.\n *               This mode simplies confine the elements in the bounding\n *               of their container (e.g., using 'right: 0').\n *        'raw': Position the boundingRect that is not transformed and only itself.\n *               This mode is useful when you want a element can overflow its\n *               container. (Consider a rotated circle needs to be located in a corner.)\n *               In this mode positionInfo.width/height can only be number.\n */\nfunction positionElement(el, positionInfo, containerRect, margin, opt) {\n    var h = !opt || !opt.hv || opt.hv[0];\n    var v = !opt || !opt.hv || opt.hv[1];\n    var boundingMode = opt && opt.boundingMode || 'all';\n\n    if (!h && !v) {\n        return;\n    }\n\n    var rect;\n    if (boundingMode === 'raw') {\n        rect = el.type === 'group'\n            ? new BoundingRect(0, 0, +positionInfo.width || 0, +positionInfo.height || 0)\n            : el.getBoundingRect();\n    }\n    else {\n        rect = el.getBoundingRect();\n        if (el.needLocalTransform()) {\n            var transform = el.getLocalTransform();\n            // Notice: raw rect may be inner object of el,\n            // which should not be modified.\n            rect = rect.clone();\n            rect.applyTransform(transform);\n        }\n    }\n\n    // The real width and height can not be specified but calculated by the given el.\n    positionInfo = getLayoutRect(\n        defaults(\n            {width: rect.width, height: rect.height},\n            positionInfo\n        ),\n        containerRect,\n        margin\n    );\n\n    // Because 'tranlate' is the last step in transform\n    // (see zrender/core/Transformable#getLocalTransfrom),\n    // we can just only modify el.position to get final result.\n    var elPos = el.position;\n    var dx = h ? positionInfo.x - rect.x : 0;\n    var dy = v ? positionInfo.y - rect.y : 0;\n\n    el.attr('position', boundingMode === 'raw' ? [dx, dy] : [elPos[0] + dx, elPos[1] + dy]);\n}\n\n/**\n * @param {Object} option Contains some of the properties in HV_NAMES.\n * @param {number} hvIdx 0: horizontal; 1: vertical.\n */\nfunction sizeCalculable(option, hvIdx) {\n    return option[HV_NAMES[hvIdx][0]] != null\n        || (option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null);\n}\n\n/**\n * Consider Case:\n * When defulat option has {left: 0, width: 100}, and we set {right: 0}\n * through setOption or media query, using normal zrUtil.merge will cause\n * {right: 0} does not take effect.\n *\n * @example\n * ComponentModel.extend({\n *     init: function () {\n *         ...\n *         var inputPositionParams = layout.getLayoutParams(option);\n *         this.mergeOption(inputPositionParams);\n *     },\n *     mergeOption: function (newOption) {\n *         newOption && zrUtil.merge(thisOption, newOption, true);\n *         layout.mergeLayoutParam(thisOption, newOption);\n *     }\n * });\n *\n * @param {Object} targetOption\n * @param {Object} newOption\n * @param {Object|string} [opt]\n * @param {boolean|Array.<boolean>} [opt.ignoreSize=false] Used for the components\n *  that width (or height) should not be calculated by left and right (or top and bottom).\n */\nfunction mergeLayoutParam(targetOption, newOption, opt) {\n    !isObject(opt) && (opt = {});\n\n    var ignoreSize = opt.ignoreSize;\n    !isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\n\n    var hResult = merge$$1(HV_NAMES[0], 0);\n    var vResult = merge$$1(HV_NAMES[1], 1);\n\n    copy(HV_NAMES[0], targetOption, hResult);\n    copy(HV_NAMES[1], targetOption, vResult);\n\n    function merge$$1(names, hvIdx) {\n        var newParams = {};\n        var newValueCount = 0;\n        var merged = {};\n        var mergedValueCount = 0;\n        var enoughParamNumber = 2;\n\n        each$4(names, function (name) {\n            merged[name] = targetOption[name];\n        });\n        each$4(names, function (name) {\n            // Consider case: newOption.width is null, which is\n            // set by user for removing width setting.\n            hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\n            hasValue(newParams, name) && newValueCount++;\n            hasValue(merged, name) && mergedValueCount++;\n        });\n\n        if (ignoreSize[hvIdx]) {\n            // Only one of left/right is premitted to exist.\n            if (hasValue(newOption, names[1])) {\n                merged[names[2]] = null;\n            }\n            else if (hasValue(newOption, names[2])) {\n                merged[names[1]] = null;\n            }\n            return merged;\n        }\n\n        // Case: newOption: {width: ..., right: ...},\n        // or targetOption: {right: ...} and newOption: {width: ...},\n        // There is no conflict when merged only has params count\n        // little than enoughParamNumber.\n        if (mergedValueCount === enoughParamNumber || !newValueCount) {\n            return merged;\n        }\n        // Case: newOption: {width: ..., right: ...},\n        // Than we can make sure user only want those two, and ignore\n        // all origin params in targetOption.\n        else if (newValueCount >= enoughParamNumber) {\n            return newParams;\n        }\n        else {\n            // Chose another param from targetOption by priority.\n            for (var i = 0; i < names.length; i++) {\n                var name = names[i];\n                if (!hasProp(newParams, name) && hasProp(targetOption, name)) {\n                    newParams[name] = targetOption[name];\n                    break;\n                }\n            }\n            return newParams;\n        }\n    }\n\n    function hasProp(obj, name) {\n        return obj.hasOwnProperty(name);\n    }\n\n    function hasValue(obj, name) {\n        return obj[name] != null && obj[name] !== 'auto';\n    }\n\n    function copy(names, target, source) {\n        each$4(names, function (name) {\n            target[name] = source[name];\n        });\n    }\n}\n\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n * @param {Object} source\n * @return {Object} Result contains those props.\n */\nfunction getLayoutParams(source) {\n    return copyLayoutParams({}, source);\n}\n\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n * @param {Object} source\n * @return {Object} Result contains those props.\n */\nfunction copyLayoutParams(target, source) {\n    source && target && each$4(LOCATION_PARAMS, function (name) {\n        source.hasOwnProperty(name) && (target[name] = source[name]);\n    });\n    return target;\n}\n\nvar boxLayoutMixin = {\n    getBoxLayoutParams: function () {\n        return {\n            left: this.get('left'),\n            top: this.get('top'),\n            right: this.get('right'),\n            bottom: this.get('bottom'),\n            width: this.get('width'),\n            height: this.get('height')\n        };\n    }\n};\n\n/**\n * Component model\n *\n * @module echarts/model/Component\n */\n\nvar arrayPush = Array.prototype.push;\n\n/**\n * @alias module:echarts/model/Component\n * @constructor\n * @param {Object} option\n * @param {module:echarts/model/Model} parentModel\n * @param {module:echarts/model/Model} ecModel\n */\nvar ComponentModel = Model.extend({\n\n    type: 'component',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    id: '',\n\n    /**\n     * @readOnly\n     */\n    name: '',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    mainType: '',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    subType: '',\n\n    /**\n     * @readOnly\n     * @type {number}\n     */\n    componentIndex: 0,\n\n    /**\n     * @type {Object}\n     * @protected\n     */\n    defaultOption: null,\n\n    /**\n     * @type {module:echarts/model/Global}\n     * @readOnly\n     */\n    ecModel: null,\n\n    /**\n     * key: componentType\n     * value:  Component model list, can not be null.\n     * @type {Object.<string, Array.<module:echarts/model/Model>>}\n     * @readOnly\n     */\n    dependentModels: [],\n\n    /**\n     * @type {string}\n     * @readOnly\n     */\n    uid: null,\n\n    /**\n     * Support merge layout params.\n     * Only support 'box' now (left/right/top/bottom/width/height).\n     * @type {string|Object} Object can be {ignoreSize: true}\n     * @readOnly\n     */\n    layoutMode: null,\n\n    $constructor: function (option, parentModel, ecModel, extraOpt) {\n        Model.call(this, option, parentModel, ecModel, extraOpt);\n\n        this.uid = getUID('componentModel');\n    },\n\n\n    init: function (option, parentModel, ecModel, extraOpt) {\n        this.mergeDefaultAndTheme(option, ecModel);\n    },\n\n    mergeDefaultAndTheme: function (option, ecModel) {\n        var layoutMode = this.layoutMode;\n        var inputPositionParams = layoutMode\n            ? getLayoutParams(option) : {};\n\n        var themeModel = ecModel.getTheme();\n        merge(option, themeModel.get(this.mainType));\n        merge(option, this.getDefaultOption());\n\n        if (layoutMode) {\n            mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n    },\n\n    mergeOption: function (option, extraOpt) {\n        merge(this.option, option, true);\n\n        var layoutMode = this.layoutMode;\n        if (layoutMode) {\n            mergeLayoutParam(this.option, option, layoutMode);\n        }\n    },\n\n    // Hooker after init or mergeOption\n    optionUpdated: function (newCptOption, isInit) {},\n\n    getDefaultOption: function () {\n        if (!hasOwn(this, '__defaultOption')) {\n            var optList = [];\n            var Class = this.constructor;\n            while (Class) {\n                var opt = Class.prototype.defaultOption;\n                opt && optList.push(opt);\n                Class = Class.superClass;\n            }\n\n            var defaultOption = {};\n            for (var i = optList.length - 1; i >= 0; i--) {\n                defaultOption = merge(defaultOption, optList[i], true);\n            }\n            set$1(this, '__defaultOption', defaultOption);\n        }\n        return get(this, '__defaultOption');\n    },\n\n    getReferringComponents: function (mainType) {\n        return this.ecModel.queryComponents({\n            mainType: mainType,\n            index: this.get(mainType + 'Index', true),\n            id: this.get(mainType + 'Id', true)\n        });\n    }\n\n});\n\n// Reset ComponentModel.extend, add preConstruct.\n// clazzUtil.enableClassExtend(\n//     ComponentModel,\n//     function (option, parentModel, ecModel, extraOpt) {\n//         // Set dependentModels, componentIndex, name, id, mainType, subType.\n//         zrUtil.extend(this, extraOpt);\n\n//         this.uid = componentUtil.getUID('componentModel');\n\n//         // this.setReadOnly([\n//         //     'type', 'id', 'uid', 'name', 'mainType', 'subType',\n//         //     'dependentModels', 'componentIndex'\n//         // ]);\n//     }\n// );\n\n// Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\nenableClassManagement(\n    ComponentModel, {registerWhenExtend: true}\n);\nenableSubTypeDefaulter(ComponentModel);\n\n// Add capability of ComponentModel.topologicalTravel.\nenableTopologicalTravel(ComponentModel, getDependencies);\n\nfunction getDependencies(componentType) {\n    var deps = [];\n    each$1(ComponentModel.getClassesByMainType(componentType), function (Clazz) {\n        arrayPush.apply(deps, Clazz.prototype.dependencies || []);\n    });\n    // Ensure main type\n    return map(deps, function (type) {\n        return parseClassType$1(type).main;\n    });\n}\n\nmixin(ComponentModel, boxLayoutMixin);\n\nvar platform = '';\n// Navigator not exists in node\nif (typeof navigator !== 'undefined') {\n    platform = navigator.platform || '';\n}\n\nvar globalDefault = {\n    // \n    // backgroundColor: 'rgba(0,0,0,0)',\n\n    // https://dribbble.com/shots/1065960-Infographic-Pie-chart-visualization\n    // color: ['#5793f3', '#d14a61', '#fd9c35', '#675bba', '#fec42c', '#dd4444', '#d4df5a', '#cd4870'],\n    // \n    // color: ['#bcd3bb', '#e88f70', '#edc1a5', '#9dc5c8', '#e1e8c8', '#7b7c68', '#e5b5b5', '#f0b489', '#928ea8', '#bda29a'],\n    // color: ['#cc5664', '#9bd6ec', '#ea946e', '#8acaaa', '#f1ec64', '#ee8686', '#a48dc1', '#5da6bc', '#b9dcae'],\n    // \n    color: ['#c23531','#2f4554', '#61a0a8', '#d48265', '#91c7ae','#749f83',  '#ca8622', '#bda29a','#6e7074', '#546570', '#c4ccd3'],\n\n    //  Grid \n    // grid: {},\n    // \n    textStyle: {\n        // color: '#000',\n        // decoration: 'none',\n        // PENDING\n        fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n        // fontFamily: 'Arial, Verdana, sans-serif',\n        fontSize: 12,\n        fontStyle: 'normal',\n        fontWeight: 'normal'\n    },\n\n    // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n    // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n    // Default is source-over\n    blendMode: null,\n\n    animation: 'auto',\n    animationDuration: 1000,\n    animationDurationUpdate: 300,\n    animationEasing: 'exponentialOut',\n    animationEasingUpdate: 'cubicOut',\n\n    animationThreshold: 2000,\n    // Configuration for progressive/incremental rendering\n    progressiveThreshold: 3000,\n    progressive: 400,\n\n    // Threshold of if use single hover layer to optimize.\n    // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n    // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n    // which is unexpected.\n    // see example <echarts/test/heatmap-large.html>.\n    hoverLayerThreshold: 3000,\n\n    // See: module:echarts/scale/Time\n    useUTC: false\n};\n\nvar colorPaletteMixin = {\n    clearColorPalette: function () {\n        set$1(this, 'colorIdx', 0);\n        set$1(this, 'colorNameMap', {});\n    },\n\n    getColorFromPalette: function (name, scope) {\n        scope = scope || this;\n        var colorIdx = get(scope, 'colorIdx') || 0;\n        var colorNameMap = get(scope, 'colorNameMap') || set$1(scope, 'colorNameMap', {});\n        // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n        if (colorNameMap.hasOwnProperty(name)) {\n            return colorNameMap[name];\n        }\n        var colorPalette = this.get('color', true) || [];\n        if (!colorPalette.length) {\n            return;\n        }\n\n        var color = colorPalette[colorIdx];\n        if (name) {\n            colorNameMap[name] = color;\n        }\n        set$1(scope, 'colorIdx', (colorIdx + 1) % colorPalette.length);\n\n        return color;\n    }\n};\n\n/**\n * ECharts global model\n *\n * @module {echarts/model/Global}\n */\n\n\n/**\n * Caution: If the mechanism should be changed some day, these cases\n * should be considered:\n *\n * (1) In `merge option` mode, if using the same option to call `setOption`\n * many times, the result should be the same (try our best to ensure that).\n * (2) In `merge option` mode, if a component has no id/name specified, it\n * will be merged by index, and the result sequence of the components is\n * consistent to the original sequence.\n * (3) `reset` feature (in toolbox). Find detailed info in comments about\n * `mergeOption` in module:echarts/model/OptionManager.\n */\n\nvar each$2 = each$1;\nvar filter$1 = filter;\nvar map$1 = map;\nvar isArray$1 = isArray;\nvar indexOf$1 = indexOf;\nvar isObject$1 = isObject;\n\nvar OPTION_INNER_KEY = '\\0_ec_inner';\n\n/**\n * @alias module:echarts/model/Global\n *\n * @param {Object} option\n * @param {module:echarts/model/Model} parentModel\n * @param {Object} theme\n */\nvar GlobalModel = Model.extend({\n\n    constructor: GlobalModel,\n\n    init: function (option, parentModel, theme, optionManager) {\n        theme = theme || {};\n\n        this.option = null; // Mark as not initialized.\n\n        /**\n         * @type {module:echarts/model/Model}\n         * @private\n         */\n        this._theme = new Model(theme);\n\n        /**\n         * @type {module:echarts/model/OptionManager}\n         */\n        this._optionManager = optionManager;\n    },\n\n    setOption: function (option, optionPreprocessorFuncs) {\n        assert(\n            !(OPTION_INNER_KEY in option),\n            'please use chart.getOption()'\n        );\n\n        this._optionManager.setOption(option, optionPreprocessorFuncs);\n\n        this.resetOption(null);\n    },\n\n    /**\n     * @param {string} type null/undefined: reset all.\n     *                      'recreate': force recreate all.\n     *                      'timeline': only reset timeline option\n     *                      'media': only reset media query option\n     * @return {boolean} Whether option changed.\n     */\n    resetOption: function (type) {\n        var optionChanged = false;\n        var optionManager = this._optionManager;\n\n        if (!type || type === 'recreate') {\n            var baseOption = optionManager.mountOption(type === 'recreate');\n\n            if (!this.option || type === 'recreate') {\n                initBase.call(this, baseOption);\n            }\n            else {\n                this.restoreData();\n                this.mergeOption(baseOption);\n            }\n            optionChanged = true;\n        }\n\n        if (type === 'timeline' || type === 'media') {\n            this.restoreData();\n        }\n\n        if (!type || type === 'recreate' || type === 'timeline') {\n            var timelineOption = optionManager.getTimelineOption(this);\n            timelineOption && (this.mergeOption(timelineOption), optionChanged = true);\n        }\n\n        if (!type || type === 'recreate' || type === 'media') {\n            var mediaOptions = optionManager.getMediaOption(this, this._api);\n            if (mediaOptions.length) {\n                each$2(mediaOptions, function (mediaOption) {\n                    this.mergeOption(mediaOption, optionChanged = true);\n                }, this);\n            }\n        }\n\n        return optionChanged;\n    },\n\n    /**\n     * @protected\n     */\n    mergeOption: function (newOption) {\n        var option = this.option;\n        var componentsMap = this._componentsMap;\n        var newCptTypes = [];\n\n        //  component model  merge\n        each$2(newOption, function (componentOption, mainType) {\n            if (componentOption == null) {\n                return;\n            }\n\n            if (!ComponentModel.hasClass(mainType)) {\n                option[mainType] = option[mainType] == null\n                    ? clone(componentOption)\n                    : merge(option[mainType], componentOption, true);\n            }\n            else {\n                newCptTypes.push(mainType);\n            }\n        });\n\n        // FIXME OPTION \n        ComponentModel.topologicalTravel(\n            newCptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this\n        );\n\n        this._seriesIndices = this._seriesIndices || [];\n\n        function visitComponent(mainType, dependencies) {\n            var newCptOptionList = normalizeToArray(newOption[mainType]);\n\n            var mapResult = mappingToExists(\n                componentsMap.get(mainType), newCptOptionList\n            );\n\n            makeIdAndName(mapResult);\n\n            // Set mainType and complete subType.\n            each$2(mapResult, function (item, index) {\n                var opt = item.option;\n                if (isObject$1(opt)) {\n                    item.keyInfo.mainType = mainType;\n                    item.keyInfo.subType = determineSubType(mainType, opt, item.exist);\n                }\n            });\n\n            var dependentModels = getComponentsByTypes(\n                componentsMap, dependencies\n            );\n\n            option[mainType] = [];\n            componentsMap.set(mainType, []);\n\n            each$2(mapResult, function (resultItem, index) {\n                var componentModel = resultItem.exist;\n                var newCptOption = resultItem.option;\n\n                assert(\n                    isObject$1(newCptOption) || componentModel,\n                    'Empty component definition'\n                );\n\n                // Consider where is no new option and should be merged using {},\n                // see removeEdgeAndAdd in topologicalTravel and\n                // ComponentModel.getAllClassMainTypes.\n                if (!newCptOption) {\n                    componentModel.mergeOption({}, this);\n                    componentModel.optionUpdated({}, false);\n                }\n                else {\n                    var ComponentModelClass = ComponentModel.getClass(\n                        mainType, resultItem.keyInfo.subType, true\n                    );\n\n                    if (componentModel && componentModel instanceof ComponentModelClass) {\n                        componentModel.name = resultItem.keyInfo.name;\n                        componentModel.mergeOption(newCptOption, this);\n                        componentModel.optionUpdated(newCptOption, false);\n                    }\n                    else {\n                        // PENDING Global as parent ?\n                        var extraOpt = extend(\n                            {\n                                dependentModels: dependentModels,\n                                componentIndex: index\n                            },\n                            resultItem.keyInfo\n                        );\n                        componentModel = new ComponentModelClass(\n                            newCptOption, this, this, extraOpt\n                        );\n                        extend(componentModel, extraOpt);\n                        componentModel.init(newCptOption, this, this, extraOpt);\n                        // Call optionUpdated after init.\n                        // newCptOption has been used as componentModel.option\n                        // and may be merged with theme and default, so pass null\n                        // to avoid confusion.\n                        componentModel.optionUpdated(null, true);\n                    }\n                }\n\n                componentsMap.get(mainType)[index] = componentModel;\n                option[mainType][index] = componentModel.option;\n            }, this);\n\n            // Backup series for filtering.\n            if (mainType === 'series') {\n                this._seriesIndices = createSeriesIndices(componentsMap.get('series'));\n            }\n        }\n    },\n\n    /**\n     * Get option for output (cloned option and inner info removed)\n     * @public\n     * @return {Object}\n     */\n    getOption: function () {\n        var option = clone(this.option);\n\n        each$2(option, function (opts, mainType) {\n            if (ComponentModel.hasClass(mainType)) {\n                var opts = normalizeToArray(opts);\n                for (var i = opts.length - 1; i >= 0; i--) {\n                    // Remove options with inner id.\n                    if (isIdInner(opts[i])) {\n                        opts.splice(i, 1);\n                    }\n                }\n                option[mainType] = opts;\n            }\n        });\n\n        delete option[OPTION_INNER_KEY];\n\n        return option;\n    },\n\n    /**\n     * @return {module:echarts/model/Model}\n     */\n    getTheme: function () {\n        return this._theme;\n    },\n\n    /**\n     * @param {string} mainType\n     * @param {number} [idx=0]\n     * @return {module:echarts/model/Component}\n     */\n    getComponent: function (mainType, idx) {\n        var list = this._componentsMap.get(mainType);\n        if (list) {\n            return list[idx || 0];\n        }\n    },\n\n    /**\n     * If none of index and id and name used, return all components with mainType.\n     * @param {Object} condition\n     * @param {string} condition.mainType\n     * @param {string} [condition.subType] If ignore, only query by mainType\n     * @param {number|Array.<number>} [condition.index] Either input index or id or name.\n     * @param {string|Array.<string>} [condition.id] Either input index or id or name.\n     * @param {string|Array.<string>} [condition.name] Either input index or id or name.\n     * @return {Array.<module:echarts/model/Component>}\n     */\n    queryComponents: function (condition) {\n        var mainType = condition.mainType;\n        if (!mainType) {\n            return [];\n        }\n\n        var index = condition.index;\n        var id = condition.id;\n        var name = condition.name;\n\n        var cpts = this._componentsMap.get(mainType);\n\n        if (!cpts || !cpts.length) {\n            return [];\n        }\n\n        var result;\n\n        if (index != null) {\n            if (!isArray$1(index)) {\n                index = [index];\n            }\n            result = filter$1(map$1(index, function (idx) {\n                return cpts[idx];\n            }), function (val) {\n                return !!val;\n            });\n        }\n        else if (id != null) {\n            var isIdArray = isArray$1(id);\n            result = filter$1(cpts, function (cpt) {\n                return (isIdArray && indexOf$1(id, cpt.id) >= 0)\n                    || (!isIdArray && cpt.id === id);\n            });\n        }\n        else if (name != null) {\n            var isNameArray = isArray$1(name);\n            result = filter$1(cpts, function (cpt) {\n                return (isNameArray && indexOf$1(name, cpt.name) >= 0)\n                    || (!isNameArray && cpt.name === name);\n            });\n        }\n        else {\n            // Return all components with mainType\n            result = cpts.slice();\n        }\n\n        return filterBySubType(result, condition);\n    },\n\n    /**\n     * The interface is different from queryComponents,\n     * which is convenient for inner usage.\n     *\n     * @usage\n     * var result = findComponents(\n     *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n     * );\n     * var result = findComponents(\n     *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n     * );\n     * var result = findComponents(\n     *     {mainType: 'series'},\n     *     function (model, index) {...}\n     * );\n     * // result like [component0, componnet1, ...]\n     *\n     * @param {Object} condition\n     * @param {string} condition.mainType Mandatory.\n     * @param {string} [condition.subType] Optional.\n     * @param {Object} [condition.query] like {xxxIndex, xxxId, xxxName},\n     *        where xxx is mainType.\n     *        If query attribute is null/undefined or has no index/id/name,\n     *        do not filtering by query conditions, which is convenient for\n     *        no-payload situations or when target of action is global.\n     * @param {Function} [condition.filter] parameter: component, return boolean.\n     * @return {Array.<module:echarts/model/Component>}\n     */\n    findComponents: function (condition) {\n        var query = condition.query;\n        var mainType = condition.mainType;\n\n        var queryCond = getQueryCond(query);\n        var result = queryCond\n            ? this.queryComponents(queryCond)\n            : this._componentsMap.get(mainType);\n\n        return doFilter(filterBySubType(result, condition));\n\n        function getQueryCond(q) {\n            var indexAttr = mainType + 'Index';\n            var idAttr = mainType + 'Id';\n            var nameAttr = mainType + 'Name';\n            return q && (\n                    q[indexAttr] != null\n                    || q[idAttr] != null\n                    || q[nameAttr] != null\n                )\n                ? {\n                    mainType: mainType,\n                    // subType will be filtered finally.\n                    index: q[indexAttr],\n                    id: q[idAttr],\n                    name: q[nameAttr]\n                }\n                : null;\n        }\n\n        function doFilter(res) {\n            return condition.filter\n                    ? filter$1(res, condition.filter)\n                    : res;\n        }\n    },\n\n    /**\n     * @usage\n     * eachComponent('legend', function (legendModel, index) {\n     *     ...\n     * });\n     * eachComponent(function (componentType, model, index) {\n     *     // componentType does not include subType\n     *     // (componentType is 'xxx' but not 'xxx.aa')\n     * });\n     * eachComponent(\n     *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}},\n     *     function (model, index) {...}\n     * );\n     * eachComponent(\n     *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}},\n     *     function (model, index) {...}\n     * );\n     *\n     * @param {string|Object=} mainType When mainType is object, the definition\n     *                                  is the same as the method 'findComponents'.\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachComponent: function (mainType, cb, context) {\n        var componentsMap = this._componentsMap;\n\n        if (typeof mainType === 'function') {\n            context = cb;\n            cb = mainType;\n            componentsMap.each(function (components, componentType) {\n                each$2(components, function (component, index) {\n                    cb.call(context, componentType, component, index);\n                });\n            });\n        }\n        else if (isString(mainType)) {\n            each$2(componentsMap.get(mainType), cb, context);\n        }\n        else if (isObject$1(mainType)) {\n            var queryResult = this.findComponents(mainType);\n            each$2(queryResult, cb, context);\n        }\n    },\n\n    /**\n     * @param {string} name\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeriesByName: function (name) {\n        var series = this._componentsMap.get('series');\n        return filter$1(series, function (oneSeries) {\n            return oneSeries.name === name;\n        });\n    },\n\n    /**\n     * @param {number} seriesIndex\n     * @return {module:echarts/model/Series}\n     */\n    getSeriesByIndex: function (seriesIndex) {\n        return this._componentsMap.get('series')[seriesIndex];\n    },\n\n    /**\n     * @param {string} subType\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeriesByType: function (subType) {\n        var series = this._componentsMap.get('series');\n        return filter$1(series, function (oneSeries) {\n            return oneSeries.subType === subType;\n        });\n    },\n\n    /**\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeries: function () {\n        return this._componentsMap.get('series').slice();\n    },\n\n    /**\n     * After filtering, series may be different\n     * frome raw series.\n     *\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachSeries: function (cb, context) {\n        assertSeriesInitialized(this);\n        each$2(this._seriesIndices, function (rawSeriesIndex) {\n            var series = this._componentsMap.get('series')[rawSeriesIndex];\n            cb.call(context, series, rawSeriesIndex);\n        }, this);\n    },\n\n    /**\n     * Iterate raw series before filtered.\n     *\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachRawSeries: function (cb, context) {\n        each$2(this._componentsMap.get('series'), cb, context);\n    },\n\n    /**\n     * After filtering, series may be different.\n     * frome raw series.\n     *\n     * @parma {string} subType\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachSeriesByType: function (subType, cb, context) {\n        assertSeriesInitialized(this);\n        each$2(this._seriesIndices, function (rawSeriesIndex) {\n            var series = this._componentsMap.get('series')[rawSeriesIndex];\n            if (series.subType === subType) {\n                cb.call(context, series, rawSeriesIndex);\n            }\n        }, this);\n    },\n\n    /**\n     * Iterate raw series before filtered of given type.\n     *\n     * @parma {string} subType\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachRawSeriesByType: function (subType, cb, context) {\n        return each$2(this.getSeriesByType(subType), cb, context);\n    },\n\n    /**\n     * @param {module:echarts/model/Series} seriesModel\n     */\n    isSeriesFiltered: function (seriesModel) {\n        assertSeriesInitialized(this);\n        return indexOf(this._seriesIndices, seriesModel.componentIndex) < 0;\n    },\n\n    /**\n     * @return {Array.<number>}\n     */\n    getCurrentSeriesIndices: function () {\n        return (this._seriesIndices || []).slice();\n    },\n\n    /**\n     * @param {Function} cb\n     * @param {*} context\n     */\n    filterSeries: function (cb, context) {\n        assertSeriesInitialized(this);\n        var filteredSeries = filter$1(\n            this._componentsMap.get('series'), cb, context\n        );\n        this._seriesIndices = createSeriesIndices(filteredSeries);\n    },\n\n    restoreData: function () {\n        var componentsMap = this._componentsMap;\n\n        this._seriesIndices = createSeriesIndices(componentsMap.get('series'));\n\n        var componentTypes = [];\n        componentsMap.each(function (components, componentType) {\n            componentTypes.push(componentType);\n        });\n\n        ComponentModel.topologicalTravel(\n            componentTypes,\n            ComponentModel.getAllClassMainTypes(),\n            function (componentType, dependencies) {\n                each$2(componentsMap.get(componentType), function (component) {\n                    component.restoreData();\n                });\n            }\n        );\n    }\n\n});\n\n/**\n * @inner\n */\nfunction mergeTheme(option, theme) {\n    each$1(theme, function (themeItem, name) {\n        //  component model  merge  model \n        if (!ComponentModel.hasClass(name)) {\n            if (typeof themeItem === 'object') {\n                option[name] = !option[name]\n                    ? clone(themeItem)\n                    : merge(option[name], themeItem, false);\n            }\n            else {\n                if (option[name] == null) {\n                    option[name] = themeItem;\n                }\n            }\n        }\n    });\n}\n\nfunction initBase(baseOption) {\n    baseOption = baseOption;\n\n    // Using OPTION_INNER_KEY to mark that this option can not be used outside,\n    // i.e. `chart.setOption(chart.getModel().option);` is forbiden.\n    this.option = {};\n    this.option[OPTION_INNER_KEY] = 1;\n\n    /**\n     * Init with series: [], in case of calling findSeries method\n     * before series initialized.\n     * @type {Object.<string, Array.<module:echarts/model/Model>>}\n     * @private\n     */\n    this._componentsMap = createHashMap({series: []});\n\n    /**\n     * Mapping between filtered series list and raw series list.\n     * key: filtered series indices, value: raw series indices.\n     * @type {Array.<nubmer>}\n     * @private\n     */\n    this._seriesIndices = null;\n\n    mergeTheme(baseOption, this._theme.option);\n\n    // TODO Needs clone when merging to the unexisted property\n    merge(baseOption, globalDefault, false);\n\n    this.mergeOption(baseOption);\n}\n\n/**\n * @inner\n * @param {Array.<string>|string} types model types\n * @return {Object} key: {string} type, value: {Array.<Object>} models\n */\nfunction getComponentsByTypes(componentsMap, types) {\n    if (!isArray(types)) {\n        types = types ? [types] : [];\n    }\n\n    var ret = {};\n    each$2(types, function (type) {\n        ret[type] = (componentsMap.get(type) || []).slice();\n    });\n\n    return ret;\n}\n\n/**\n * @inner\n */\nfunction determineSubType(mainType, newCptOption, existComponent) {\n    var subType = newCptOption.type\n        ? newCptOption.type\n        : existComponent\n        ? existComponent.subType\n        // Use determineSubType only when there is no existComponent.\n        : ComponentModel.determineSubType(mainType, newCptOption);\n\n    // tooltip, markline, markpoint may always has no subType\n    return subType;\n}\n\n/**\n * @inner\n */\nfunction createSeriesIndices(seriesModels) {\n    return map$1(seriesModels, function (series) {\n        return series.componentIndex;\n    }) || [];\n}\n\n/**\n * @inner\n */\nfunction filterBySubType(components, condition) {\n    // Using hasOwnProperty for restrict. Consider\n    // subType is undefined in user payload.\n    return condition.hasOwnProperty('subType')\n        ? filter$1(components, function (cpt) {\n            return cpt.subType === condition.subType;\n        })\n        : components;\n}\n\n/**\n * @inner\n */\nfunction assertSeriesInitialized(ecModel) {\n    // Components that use _seriesIndices should depends on series component,\n    // which make sure that their initialization is after series.\n    if (__DEV__) {\n        if (!ecModel._seriesIndices) {\n            throw new Error('Option should contains series.');\n        }\n    }\n}\n\nmixin(GlobalModel, colorPaletteMixin);\n\nvar echartsAPIList = [\n    'getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isDisposed',\n    'on', 'off', 'getDataURL', 'getConnectedDataURL', 'getModel', 'getOption',\n    'getViewOfComponentModel', 'getViewOfSeriesModel'\n];\n// And `getCoordinateSystems` and `getComponentByElement` will be injected in echarts.js\n\nfunction ExtensionAPI(chartInstance) {\n    each$1(echartsAPIList, function (name) {\n        this[name] = bind(chartInstance[name], chartInstance);\n    }, this);\n}\n\nvar coordinateSystemCreators = {};\n\nfunction CoordinateSystemManager() {\n\n    this._coordinateSystems = [];\n}\n\nCoordinateSystemManager.prototype = {\n\n    constructor: CoordinateSystemManager,\n\n    create: function (ecModel, api) {\n        var coordinateSystems = [];\n        each$1(coordinateSystemCreators, function (creater, type) {\n            var list = creater.create(ecModel, api);\n            coordinateSystems = coordinateSystems.concat(list || []);\n        });\n\n        this._coordinateSystems = coordinateSystems;\n    },\n\n    update: function (ecModel, api) {\n        each$1(this._coordinateSystems, function (coordSys) {\n            // FIXME MUST have\n            coordSys.update && coordSys.update(ecModel, api);\n        });\n    },\n\n    getCoordinateSystems: function () {\n        return this._coordinateSystems.slice();\n    }\n};\n\nCoordinateSystemManager.register = function (type, coordinateSystemCreator) {\n    coordinateSystemCreators[type] = coordinateSystemCreator;\n};\n\nCoordinateSystemManager.get = function (type) {\n    return coordinateSystemCreators[type];\n};\n\n/**\n * ECharts option manager\n *\n * @module {echarts/model/OptionManager}\n */\n\n\nvar each$5 = each$1;\nvar clone$2 = clone;\nvar map$2 = map;\nvar merge$1 = merge;\n\nvar QUERY_REG = /^(min|max)?(.+)$/;\n\n/**\n * TERM EXPLANATIONS:\n *\n * [option]:\n *\n *     An object that contains definitions of components. For example:\n *     var option = {\n *         title: {...},\n *         legend: {...},\n *         visualMap: {...},\n *         series: [\n *             {data: [...]},\n *             {data: [...]},\n *             ...\n *         ]\n *     };\n *\n * [rawOption]:\n *\n *     An object input to echarts.setOption. 'rawOption' may be an\n *     'option', or may be an object contains multi-options. For example:\n *     var option = {\n *         baseOption: {\n *             title: {...},\n *             legend: {...},\n *             series: [\n *                 {data: [...]},\n *                 {data: [...]},\n *                 ...\n *             ]\n *         },\n *         timeline: {...},\n *         options: [\n *             {title: {...}, series: {data: [...]}},\n *             {title: {...}, series: {data: [...]}},\n *             ...\n *         ],\n *         media: [\n *             {\n *                 query: {maxWidth: 320},\n *                 option: {series: {x: 20}, visualMap: {show: false}}\n *             },\n *             {\n *                 query: {minWidth: 320, maxWidth: 720},\n *                 option: {series: {x: 500}, visualMap: {show: true}}\n *             },\n *             {\n *                 option: {series: {x: 1200}, visualMap: {show: true}}\n *             }\n *         ]\n *     };\n *\n * @alias module:echarts/model/OptionManager\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction OptionManager(api) {\n\n    /**\n     * @private\n     * @type {module:echarts/ExtensionAPI}\n     */\n    this._api = api;\n\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n    this._timelineOptions = [];\n\n    /**\n     * @private\n     * @type {Array.<Object>}\n     */\n    this._mediaList = [];\n\n    /**\n     * @private\n     * @type {Object}\n     */\n    this._mediaDefault;\n\n    /**\n     * -1, means default.\n     * empty means no media.\n     * @private\n     * @type {Array.<number>}\n     */\n    this._currentMediaIndices = [];\n\n    /**\n     * @private\n     * @type {Object}\n     */\n    this._optionBackup;\n\n    /**\n     * @private\n     * @type {Object}\n     */\n    this._newBaseOption;\n}\n\n// timeline.notMerge is not supported in ec3. Firstly there is rearly\n// case that notMerge is needed. Secondly supporting 'notMerge' requires\n// rawOption cloned and backuped when timeline changed, which does no\n// good to performance. What's more, that both timeline and setOption\n// method supply 'notMerge' brings complex and some problems.\n// Consider this case:\n// (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n// (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n\nOptionManager.prototype = {\n\n    constructor: OptionManager,\n\n    /**\n     * @public\n     * @param {Object} rawOption Raw option.\n     * @param {module:echarts/model/Global} ecModel\n     * @param {Array.<Function>} optionPreprocessorFuncs\n     * @return {Object} Init option\n     */\n    setOption: function (rawOption, optionPreprocessorFuncs) {\n        rawOption = clone$2(rawOption, true);\n\n        // FIXME\n        //  timeline options  media baseOption\n\n        var oldOptionBackup = this._optionBackup;\n        var newParsedOption = parseRawOption.call(\n            this, rawOption, optionPreprocessorFuncs, !oldOptionBackup\n        );\n        this._newBaseOption = newParsedOption.baseOption;\n\n        // For setOption at second time (using merge mode);\n        if (oldOptionBackup) {\n            // Only baseOption can be merged.\n            mergeOption(oldOptionBackup.baseOption, newParsedOption.baseOption);\n\n            // For simplicity, timeline options and media options do not support merge,\n            // that is, if you `setOption` twice and both has timeline options, the latter\n            // timeline opitons will not be merged to the formers, but just substitude them.\n            if (newParsedOption.timelineOptions.length) {\n                oldOptionBackup.timelineOptions = newParsedOption.timelineOptions;\n            }\n            if (newParsedOption.mediaList.length) {\n                oldOptionBackup.mediaList = newParsedOption.mediaList;\n            }\n            if (newParsedOption.mediaDefault) {\n                oldOptionBackup.mediaDefault = newParsedOption.mediaDefault;\n            }\n        }\n        else {\n            this._optionBackup = newParsedOption;\n        }\n    },\n\n    /**\n     * @param {boolean} isRecreate\n     * @return {Object}\n     */\n    mountOption: function (isRecreate) {\n        var optionBackup = this._optionBackup;\n\n        // TODO\n        // resetclone\n\n        this._timelineOptions = map$2(optionBackup.timelineOptions, clone$2);\n        this._mediaList = map$2(optionBackup.mediaList, clone$2);\n        this._mediaDefault = clone$2(optionBackup.mediaDefault);\n        this._currentMediaIndices = [];\n\n        return clone$2(isRecreate\n            // this._optionBackup.baseOption, which is created at the first `setOption`\n            // called, and is merged into every new option by inner method `mergeOption`\n            // each time `setOption` called, can be only used in `isRecreate`, because\n            // its reliability is under suspicion. In other cases option merge is\n            // performed by `model.mergeOption`.\n            ? optionBackup.baseOption : this._newBaseOption\n        );\n    },\n\n    /**\n     * @param {module:echarts/model/Global} ecModel\n     * @return {Object}\n     */\n    getTimelineOption: function (ecModel) {\n        var option;\n        var timelineOptions = this._timelineOptions;\n\n        if (timelineOptions.length) {\n            // getTimelineOption can only be called after ecModel inited,\n            // so we can get currentIndex from timelineModel.\n            var timelineModel = ecModel.getComponent('timeline');\n            if (timelineModel) {\n                option = clone$2(\n                    timelineOptions[timelineModel.getCurrentIndex()],\n                    true\n                );\n            }\n        }\n\n        return option;\n    },\n\n    /**\n     * @param {module:echarts/model/Global} ecModel\n     * @return {Array.<Object>}\n     */\n    getMediaOption: function (ecModel) {\n        var ecWidth = this._api.getWidth();\n        var ecHeight = this._api.getHeight();\n        var mediaList = this._mediaList;\n        var mediaDefault = this._mediaDefault;\n        var indices = [];\n        var result = [];\n\n        // No media defined.\n        if (!mediaList.length && !mediaDefault) {\n            return result;\n        }\n\n        // Multi media may be applied, the latter defined media has higher priority.\n        for (var i = 0, len = mediaList.length; i < len; i++) {\n            if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n                indices.push(i);\n            }\n        }\n\n        // FIXME\n        // mediaDefault\n        if (!indices.length && mediaDefault) {\n            indices = [-1];\n        }\n\n        if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n            result = map$2(indices, function (index) {\n                return clone$2(\n                    index === -1 ? mediaDefault.option : mediaList[index].option\n                );\n            });\n        }\n        // Otherwise return nothing.\n\n        this._currentMediaIndices = indices;\n\n        return result;\n    }\n};\n\nfunction parseRawOption(rawOption, optionPreprocessorFuncs, isNew) {\n    var timelineOptions = [];\n    var mediaList = [];\n    var mediaDefault;\n    var baseOption;\n\n    // Compatible with ec2.\n    var timelineOpt = rawOption.timeline;\n\n    if (rawOption.baseOption) {\n        baseOption = rawOption.baseOption;\n    }\n\n    // For timeline\n    if (timelineOpt || rawOption.options) {\n        baseOption = baseOption || {};\n        timelineOptions = (rawOption.options || []).slice();\n    }\n\n    // For media query\n    if (rawOption.media) {\n        baseOption = baseOption || {};\n        var media = rawOption.media;\n        each$5(media, function (singleMedia) {\n            if (singleMedia && singleMedia.option) {\n                if (singleMedia.query) {\n                    mediaList.push(singleMedia);\n                }\n                else if (!mediaDefault) {\n                    // Use the first media default.\n                    mediaDefault = singleMedia;\n                }\n            }\n        });\n    }\n\n    // For normal option\n    if (!baseOption) {\n        baseOption = rawOption;\n    }\n\n    // Set timelineOpt to baseOption in ec3,\n    // which is convenient for merge option.\n    if (!baseOption.timeline) {\n        baseOption.timeline = timelineOpt;\n    }\n\n    // Preprocess.\n    each$5([baseOption].concat(timelineOptions)\n        .concat(map(mediaList, function (media) {\n            return media.option;\n        })),\n        function (option) {\n            each$5(optionPreprocessorFuncs, function (preProcess) {\n                preProcess(option, isNew);\n            });\n        }\n    );\n\n    return {\n        baseOption: baseOption,\n        timelineOptions: timelineOptions,\n        mediaDefault: mediaDefault,\n        mediaList: mediaList\n    };\n}\n\n/**\n * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n * Support: width, height, aspectRatio\n * Can use max or min as prefix.\n */\nfunction applyMediaQuery(query, ecWidth, ecHeight) {\n    var realMap = {\n        width: ecWidth,\n        height: ecHeight,\n        aspectratio: ecWidth / ecHeight // lowser case for convenientce.\n    };\n\n    var applicatable = true;\n\n    each$1(query, function (value, attr) {\n        var matched = attr.match(QUERY_REG);\n\n        if (!matched || !matched[1] || !matched[2]) {\n            return;\n        }\n\n        var operator = matched[1];\n        var realAttr = matched[2].toLowerCase();\n\n        if (!compare(realMap[realAttr], value, operator)) {\n            applicatable = false;\n        }\n    });\n\n    return applicatable;\n}\n\nfunction compare(real, expect, operator) {\n    if (operator === 'min') {\n        return real >= expect;\n    }\n    else if (operator === 'max') {\n        return real <= expect;\n    }\n    else { // Equals\n        return real === expect;\n    }\n}\n\nfunction indicesEquals(indices1, indices2) {\n    // indices is always order by asc and has only finite number.\n    return indices1.join(',') === indices2.join(',');\n}\n\n/**\n * Consider case:\n * `chart.setOption(opt1);`\n * Then user do some interaction like dataZoom, dataView changing.\n * `chart.setOption(opt2);`\n * Then user press 'reset button' in toolbox.\n *\n * After doing that all of the interaction effects should be reset, the\n * chart should be the same as the result of invoke\n * `chart.setOption(opt1); chart.setOption(opt2);`.\n *\n * Although it is not able ensure that\n * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n * `chart.setOption(merge(opt1, opt2));` exactly,\n * this might be the only simple way to implement that feature.\n *\n * MEMO: We've considered some other approaches:\n * 1. Each model handle its self restoration but not uniform treatment.\n *     (Too complex in logic and error-prone)\n * 2. Use a shadow ecModel. (Performace expensive)\n */\nfunction mergeOption(oldOption, newOption) {\n    newOption = newOption || {};\n\n    each$5(newOption, function (newCptOpt, mainType) {\n        if (newCptOpt == null) {\n            return;\n        }\n\n        var oldCptOpt = oldOption[mainType];\n\n        if (!ComponentModel.hasClass(mainType)) {\n            oldOption[mainType] = merge$1(oldCptOpt, newCptOpt, true);\n        }\n        else {\n            newCptOpt = normalizeToArray(newCptOpt);\n            oldCptOpt = normalizeToArray(oldCptOpt);\n\n            var mapResult = mappingToExists(oldCptOpt, newCptOpt);\n\n            oldOption[mainType] = map$2(mapResult, function (item) {\n                return (item.option && item.exist)\n                    ? merge$1(item.exist, item.option, true)\n                    : (item.exist || item.option);\n            });\n        }\n    });\n}\n\nvar each$6 = each$1;\nvar isObject$3 = isObject;\n\nvar POSSIBLE_STYLES = [\n    'areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle',\n    'chordStyle', 'label', 'labelLine'\n];\n\nfunction compatItemStyle(opt) {\n    var itemStyleOpt = opt && opt.itemStyle;\n    if (!itemStyleOpt) {\n        return;\n    }\n    for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n        var styleName = POSSIBLE_STYLES[i];\n        var normalItemStyleOpt = itemStyleOpt.normal;\n        var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n        if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n            opt[styleName] = opt[styleName] || {};\n            if (!opt[styleName].normal) {\n                opt[styleName].normal = normalItemStyleOpt[styleName];\n            }\n            else {\n                merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n            }\n            normalItemStyleOpt[styleName] = null;\n        }\n        if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n            opt[styleName] = opt[styleName] || {};\n            if (!opt[styleName].emphasis) {\n                opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n            }\n            else {\n                merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n            }\n            emphasisItemStyleOpt[styleName] = null;\n        }\n    }\n}\n\nfunction compatTextStyle(opt, propName) {\n    var labelOptSingle = isObject$3(opt) && opt[propName];\n    var textStyle = isObject$3(labelOptSingle) && labelOptSingle.textStyle;\n    if (textStyle) {\n        for (var i = 0, len = TEXT_STYLE_OPTIONS.length; i < len; i++) {\n            var propName = TEXT_STYLE_OPTIONS[i];\n            if (textStyle.hasOwnProperty(propName)) {\n                labelOptSingle[propName] = textStyle[propName];\n            }\n        }\n    }\n}\n\nfunction compatLabelTextStyle(labelOpt) {\n    if (isObject$3(labelOpt)) {\n        compatTextStyle(labelOpt, 'normal');\n        compatTextStyle(labelOpt, 'emphasis');\n    }\n}\n\nfunction processSeries(seriesOpt) {\n    if (!isObject$3(seriesOpt)) {\n        return;\n    }\n\n    compatItemStyle(seriesOpt);\n    compatLabelTextStyle(seriesOpt.label);\n    // treemap\n    compatLabelTextStyle(seriesOpt.upperLabel);\n    // graph\n    compatLabelTextStyle(seriesOpt.edgeLabel);\n\n    var markPoint = seriesOpt.markPoint;\n    compatItemStyle(markPoint);\n    compatLabelTextStyle(markPoint && markPoint.label);\n\n    var markLine = seriesOpt.markLine;\n    compatItemStyle(seriesOpt.markLine);\n    compatLabelTextStyle(markLine && markLine.label);\n\n    var markArea = seriesOpt.markArea;\n    compatLabelTextStyle(markArea && markArea.label);\n\n    // For gauge\n    compatTextStyle(seriesOpt, 'axisLabel');\n    compatTextStyle(seriesOpt, 'title');\n    compatTextStyle(seriesOpt, 'detail');\n\n    var data = seriesOpt.data;\n    if (data) {\n        for (var i = 0; i < data.length; i++) {\n            compatItemStyle(data[i]);\n            compatLabelTextStyle(data[i] && data[i].label);\n        }\n    }\n\n    // mark point data\n    var markPoint = seriesOpt.markPoint;\n    if (markPoint && markPoint.data) {\n        var mpData = markPoint.data;\n        for (var i = 0; i < mpData.length; i++) {\n            compatItemStyle(mpData[i]);\n            compatLabelTextStyle(mpData[i] && mpData[i].label);\n        }\n    }\n    // mark line data\n    var markLine = seriesOpt.markLine;\n    if (markLine && markLine.data) {\n        var mlData = markLine.data;\n        for (var i = 0; i < mlData.length; i++) {\n            if (isArray(mlData[i])) {\n                compatItemStyle(mlData[i][0]);\n                compatLabelTextStyle(mlData[i][0] && mlData[i][0].label);\n                compatItemStyle(mlData[i][1]);\n                compatLabelTextStyle(mlData[i][1] && mlData[i][1].label);\n            }\n            else {\n                compatItemStyle(mlData[i]);\n                compatLabelTextStyle(mlData[i] && mlData[i].label);\n            }\n        }\n    }\n}\n\nfunction toArr(o) {\n    return isArray(o) ? o : o ? [o] : [];\n}\n\nfunction toObj(o) {\n    return (isArray(o) ? o[0] : o) || {};\n}\n\nvar compatStyle = function (option, isTheme) {\n    each$6(toArr(option.series), function (seriesOpt) {\n        isObject$3(seriesOpt) && processSeries(seriesOpt);\n    });\n\n    var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n    isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n\n    each$6(\n        axes,\n        function (axisName) {\n            each$6(toArr(option[axisName]), function (axisOpt) {\n                if (axisOpt) {\n                    compatTextStyle(axisOpt, 'axisLabel');\n                    compatTextStyle(axisOpt.axisPointer, 'label');\n                }\n            });\n        }\n    );\n\n    each$6(toArr(option.parallel), function (parallelOpt) {\n        var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n        compatTextStyle(parallelAxisDefault, 'axisLabel');\n        compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n    });\n\n    each$6(toArr(option.calendar), function (calendarOpt) {\n        compatTextStyle(calendarOpt, 'dayLabel');\n        compatTextStyle(calendarOpt, 'monthLabel');\n        compatTextStyle(calendarOpt, 'yearLabel');\n    });\n\n    // radar.name.textStyle\n    each$6(toArr(option.radar), function (radarOpt) {\n        compatTextStyle(radarOpt, 'name');\n    });\n\n    each$6(toArr(option.geo), function (geoOpt) {\n        if (isObject$3(geoOpt)) {\n            compatLabelTextStyle(geoOpt.label);\n            each$6(toArr(geoOpt.regions), function (regionObj) {\n                compatLabelTextStyle(regionObj.label);\n            });\n        }\n    });\n\n    compatLabelTextStyle(toObj(option.timeline).label);\n    compatTextStyle(toObj(option.axisPointer), 'label');\n    compatTextStyle(toObj(option.tooltip).axisPointer, 'label');\n};\n\n// Compatitable with 2.0\n\nfunction get$1(opt, path) {\n    path = path.split(',');\n    var obj = opt;\n    for (var i = 0; i < path.length; i++) {\n        obj = obj && obj[path[i]];\n        if (obj == null) {\n            break;\n        }\n    }\n    return obj;\n}\n\nfunction set$2(opt, path, val, overwrite) {\n    path = path.split(',');\n    var obj = opt;\n    var key;\n    for (var i = 0; i < path.length - 1; i++) {\n        key = path[i];\n        if (obj[key] == null) {\n            obj[key] = {};\n        }\n        obj = obj[key];\n    }\n    if (overwrite || obj[path[i]] == null) {\n        obj[path[i]] = val;\n    }\n}\n\nfunction compatLayoutProperties(option) {\n    each$1(LAYOUT_PROPERTIES, function (prop) {\n        if (prop[0] in option && !(prop[1] in option)) {\n            option[prop[1]] = option[prop[0]];\n        }\n    });\n}\n\nvar LAYOUT_PROPERTIES = [\n    ['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']\n];\n\nvar COMPATITABLE_COMPONENTS = [\n    'grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'\n];\n\nvar COMPATITABLE_SERIES = [\n    'bar', 'boxplot', 'candlestick', 'chord', 'effectScatter',\n    'funnel', 'gauge', 'lines', 'graph', 'heatmap', 'line', 'map', 'parallel',\n    'pie', 'radar', 'sankey', 'scatter', 'treemap'\n];\n\nvar backwardCompat = function (option, isTheme) {\n    compatStyle(option, isTheme);\n\n    // Make sure series array for model initialization.\n    option.series = normalizeToArray(option.series);\n\n    each$1(option.series, function (seriesOpt) {\n        if (!isObject(seriesOpt)) {\n            return;\n        }\n\n        var seriesType = seriesOpt.type;\n\n        if (seriesType === 'pie' || seriesType === 'gauge') {\n            if (seriesOpt.clockWise != null) {\n                seriesOpt.clockwise = seriesOpt.clockWise;\n            }\n        }\n        if (seriesType === 'gauge') {\n            var pointerColor = get$1(seriesOpt, 'pointer.color');\n            pointerColor != null\n                && set$2(seriesOpt, 'itemStyle.normal.color', pointerColor);\n        }\n\n        for (var i = 0; i < COMPATITABLE_SERIES.length; i++) {\n            if (COMPATITABLE_SERIES[i] === seriesOpt.type) {\n                compatLayoutProperties(seriesOpt);\n                break;\n            }\n        }\n    });\n\n    // dataRange has changed to visualMap\n    if (option.dataRange) {\n        option.visualMap = option.dataRange;\n    }\n\n    each$1(COMPATITABLE_COMPONENTS, function (componentName) {\n        var options = option[componentName];\n        if (options) {\n            if (!isArray(options)) {\n                options = [options];\n            }\n            each$1(options, function (option) {\n                compatLayoutProperties(option);\n            });\n        }\n    });\n};\n\nvar SeriesModel = ComponentModel.extend({\n\n    type: 'series.__base__',\n\n    /**\n     * @readOnly\n     */\n    seriesIndex: 0,\n\n    // coodinateSystem will be injected in the echarts/CoordinateSystem\n    coordinateSystem: null,\n\n    /**\n     * @type {Object}\n     * @protected\n     */\n    defaultOption: null,\n\n    /**\n     * Data provided for legend\n     * @type {Function}\n     */\n    // PENDING\n    legendDataProvider: null,\n\n    /**\n     * Access path of color for visual\n     */\n    visualColorAccessPath: 'itemStyle.normal.color',\n\n    /**\n     * Support merge layout params.\n     * Only support 'box' now (left/right/top/bottom/width/height).\n     * @type {string|Object} Object can be {ignoreSize: true}\n     * @readOnly\n     */\n    layoutMode: null,\n\n    init: function (option, parentModel, ecModel, extraOpt) {\n\n        /**\n         * @type {number}\n         * @readOnly\n         */\n        this.seriesIndex = this.componentIndex;\n\n        this.mergeDefaultAndTheme(option, ecModel);\n\n        var data = this.getInitialData(option, ecModel);\n        if (__DEV__) {\n            assert(data, 'getInitialData returned invalid data.');\n        }\n        /**\n         * @type {module:echarts/data/List|module:echarts/data/Tree|module:echarts/data/Graph}\n         * @private\n         */\n        set$1(this, 'dataBeforeProcessed', data);\n\n        // If we reverse the order (make data firstly, and then make\n        // dataBeforeProcessed by cloneShallow), cloneShallow will\n        // cause data.graph.data !== data when using\n        // module:echarts/data/Graph or module:echarts/data/Tree.\n        // See module:echarts/data/helper/linkList\n        this.restoreData();\n    },\n\n    /**\n     * Util for merge default and theme to option\n     * @param  {Object} option\n     * @param  {module:echarts/model/Global} ecModel\n     */\n    mergeDefaultAndTheme: function (option, ecModel) {\n        var layoutMode = this.layoutMode;\n        var inputPositionParams = layoutMode\n            ? getLayoutParams(option) : {};\n\n        // Backward compat: using subType on theme.\n        // But if name duplicate between series subType\n        // (for example: parallel) add component mainType,\n        // add suffix 'Series'.\n        var themeSubType = this.subType;\n        if (ComponentModel.hasClass(themeSubType)) {\n            themeSubType += 'Series';\n        }\n        merge(\n            option,\n            ecModel.getTheme().get(this.subType)\n        );\n        merge(option, this.getDefaultOption());\n\n        // Default label emphasis `show`\n        defaultEmphasis(option.label, ['show']);\n\n        this.fillDataTextStyle(option.data);\n\n        if (layoutMode) {\n            mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n    },\n\n    mergeOption: function (newSeriesOption, ecModel) {\n        newSeriesOption = merge(this.option, newSeriesOption, true);\n        this.fillDataTextStyle(newSeriesOption.data);\n\n        var layoutMode = this.layoutMode;\n        if (layoutMode) {\n            mergeLayoutParam(this.option, newSeriesOption, layoutMode);\n        }\n\n        var data = this.getInitialData(newSeriesOption, ecModel);\n        // TODO Merge data?\n        if (data) {\n            set$1(this, 'data', data);\n            set$1(this, 'dataBeforeProcessed', data.cloneShallow());\n        }\n    },\n\n    fillDataTextStyle: function (data) {\n        // Default data label emphasis `show`\n        // FIXME Tree structure data ?\n        // FIXME Performance ?\n        if (data) {\n            var props = ['show'];\n            for (var i = 0; i < data.length; i++) {\n                if (data[i] && data[i].label) {\n                    defaultEmphasis(data[i].label, props);\n                }\n            }\n        }\n    },\n\n    /**\n     * Init a data structure from data related option in series\n     * Must be overwritten\n     */\n    getInitialData: function () {},\n\n    /**\n     * @param {string} [dataType]\n     * @return {module:echarts/data/List}\n     */\n    getData: function (dataType) {\n        var data = get(this, 'data');\n        return dataType == null ? data : data.getLinkedData(dataType);\n    },\n\n    /**\n     * @param {module:echarts/data/List} data\n     */\n    setData: function (data) {\n        set$1(this, 'data', data);\n    },\n\n    /**\n     * Get data before processed\n     * @return {module:echarts/data/List}\n     */\n    getRawData: function () {\n        return get(this, 'dataBeforeProcessed');\n    },\n\n    /**\n     * Coord dimension to data dimension.\n     *\n     * By default the result is the same as dimensions of series data.\n     * But in some series data dimensions are different from coord dimensions (i.e.\n     * candlestick and boxplot). Override this method to handle those cases.\n     *\n     * Coord dimension to data dimension can be one-to-many\n     *\n     * @param {string} coordDim\n     * @return {Array.<string>} dimensions on the axis.\n     */\n    coordDimToDataDim: function (coordDim) {\n        return coordDimToDataDim(this.getData(), coordDim);\n    },\n\n    /**\n     * Convert data dimension to coord dimension.\n     *\n     * @param {string|number} dataDim\n     * @return {string}\n     */\n    dataDimToCoordDim: function (dataDim) {\n        return dataDimToCoordDim(this.getData(), dataDim);\n    },\n\n    /**\n     * Get base axis if has coordinate system and has axis.\n     * By default use coordSys.getBaseAxis();\n     * Can be overrided for some chart.\n     * @return {type} description\n     */\n    getBaseAxis: function () {\n        var coordSys = this.coordinateSystem;\n        return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n    },\n\n    // FIXME\n    /**\n     * Default tooltip formatter\n     *\n     * @param {number} dataIndex\n     * @param {boolean} [multipleSeries=false]\n     * @param {number} [dataType]\n     */\n    formatTooltip: function (dataIndex, multipleSeries, dataType) {\n        function formatArrayValue(value) {\n            var vertially = reduce(value, function (vertially, val, idx) {\n                var dimItem = data.getDimensionInfo(idx);\n                return vertially |= dimItem && dimItem.tooltip !== false && dimItem.tooltipName != null;\n            }, 0);\n\n            var result = [];\n            var tooltipDims = otherDimToDataDim(data, 'tooltip');\n\n            tooltipDims.length\n                ? each$1(tooltipDims, function (dimIdx) {\n                    setEachItem(data.get(dimIdx, dataIndex), dimIdx);\n                })\n                // By default, all dims is used on tooltip.\n                : each$1(value, setEachItem);\n\n            function setEachItem(val, dimIdx) {\n                var dimInfo = data.getDimensionInfo(dimIdx);\n                // If `dimInfo.tooltip` is not set, show tooltip.\n                if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n                    return;\n                }\n                var dimType = dimInfo.type;\n                var valStr = (vertially ? '- ' + (dimInfo.tooltipName || dimInfo.name) + ': ' : '')\n                    + (dimType === 'ordinal'\n                        ? val + ''\n                        : dimType === 'time'\n                        ? (multipleSeries ? '' : formatTime('yyyy/MM/dd hh:mm:ss', val))\n                        : addCommas(val)\n                    );\n                valStr && result.push(encodeHTML(valStr));\n            }\n\n            return (vertially ? '<br/>' : '') + result.join(vertially ? '<br/>' : ', ');\n        }\n\n        var data = get(this, 'data');\n\n        var value = this.getRawValue(dataIndex);\n        var formattedValue = isArray(value)\n            ? formatArrayValue(value) : encodeHTML(addCommas(value));\n        var name = data.getName(dataIndex);\n\n        var color = data.getItemVisual(dataIndex, 'color');\n        if (isObject(color) && color.colorStops) {\n            color = (color.colorStops[0] || {}).color;\n        }\n        color = color || 'transparent';\n\n        var colorEl = getTooltipMarker(color);\n\n        var seriesName = this.name;\n        // FIXME\n        if (seriesName === '\\0-') {\n            // Not show '-'\n            seriesName = '';\n        }\n        seriesName = seriesName\n            ? encodeHTML(seriesName) + (!multipleSeries ? '<br/>' : ': ')\n            : '';\n        return !multipleSeries\n            ? seriesName + colorEl\n                + (name\n                    ? encodeHTML(name) + ': ' + formattedValue\n                    : formattedValue\n                )\n            : colorEl + seriesName + formattedValue;\n    },\n\n    /**\n     * @return {boolean}\n     */\n    isAnimationEnabled: function () {\n        if (env$1.node) {\n            return false;\n        }\n\n        var animationEnabled = this.getShallow('animation');\n        if (animationEnabled) {\n            if (this.getData().count() > this.getShallow('animationThreshold')) {\n                animationEnabled = false;\n            }\n        }\n        return animationEnabled;\n    },\n\n    restoreData: function () {\n        set$1(this, 'data', get(this, 'dataBeforeProcessed').cloneShallow());\n    },\n\n    getColorFromPalette: function (name, scope) {\n        var ecModel = this.ecModel;\n        // PENDING\n        var color = colorPaletteMixin.getColorFromPalette.call(this, name, scope);\n        if (!color) {\n            color = ecModel.getColorFromPalette(name, scope);\n        }\n        return color;\n    },\n\n    /**\n     * Get data indices for show tooltip content. See tooltip.\n     * @abstract\n     * @param {Array.<string>|string} dim\n     * @param {Array.<number>} value\n     * @param {module:echarts/coord/single/SingleAxis} baseAxis\n     * @return {Object} {dataIndices, nestestValue}.\n     */\n    getAxisTooltipData: null,\n\n    /**\n     * See tooltip.\n     * @abstract\n     * @param {number} dataIndex\n     * @return {Array.<number>} Point of tooltip. null/undefined can be returned.\n     */\n    getTooltipPosition: null\n});\n\nmixin(SeriesModel, dataFormatMixin);\nmixin(SeriesModel, colorPaletteMixin);\n\nvar Component = function () {\n    /**\n     * @type {module:zrender/container/Group}\n     * @readOnly\n     */\n    this.group = new Group();\n\n    /**\n     * @type {string}\n     * @readOnly\n     */\n    this.uid = getUID('viewComponent');\n};\n\nComponent.prototype = {\n\n    constructor: Component,\n\n    init: function (ecModel, api) {},\n\n    render: function (componentModel, ecModel, api, payload) {},\n\n    dispose: function () {}\n\n};\n\nvar componentProto = Component.prototype;\ncomponentProto.updateView\n    = componentProto.updateLayout\n    = componentProto.updateVisual\n    = function (seriesModel, ecModel, api, payload) {\n        // Do nothing;\n    };\n// Enable Component.extend.\nenableClassExtend(Component);\n\n// Enable capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\nenableClassManagement(Component, {registerWhenExtend: true});\n\nfunction Chart() {\n\n    /**\n     * @type {module:zrender/container/Group}\n     * @readOnly\n     */\n    this.group = new Group();\n\n    /**\n     * @type {string}\n     * @readOnly\n     */\n    this.uid = getUID('viewChart');\n}\n\nChart.prototype = {\n\n    type: 'chart',\n\n    /**\n     * Init the chart\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    init: function (ecModel, api) {},\n\n    /**\n     * Render the chart\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    render: function (seriesModel, ecModel, api, payload) {},\n\n    /**\n     * Highlight series or specified data item\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    highlight: function (seriesModel, ecModel, api, payload) {\n        toggleHighlight(seriesModel.getData(), payload, 'emphasis');\n    },\n\n    /**\n     * Downplay series or specified data item\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    downplay: function (seriesModel, ecModel, api, payload) {\n        toggleHighlight(seriesModel.getData(), payload, 'normal');\n    },\n\n    /**\n     * Remove self\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    remove: function (ecModel, api) {\n        this.group.removeAll();\n    },\n\n    /**\n     * Dispose self\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    dispose: function () {}\n\n    /**\n     * The view contains the given point.\n     * @interface\n     * @param {Array.<number>} point\n     * @return {boolean}\n     */\n    // containPoint: function () {}\n\n};\n\nvar chartProto = Chart.prototype;\nchartProto.updateView\n    = chartProto.updateLayout\n    = chartProto.updateVisual\n    = function (seriesModel, ecModel, api, payload) {\n        this.render(seriesModel, ecModel, api, payload);\n    };\n\n/**\n * Set state of single element\n * @param  {module:zrender/Element} el\n * @param  {string} state\n */\nfunction elSetState(el, state) {\n    if (el) {\n        el.trigger(state);\n        if (el.type === 'group') {\n            for (var i = 0; i < el.childCount(); i++) {\n                elSetState(el.childAt(i), state);\n            }\n        }\n    }\n}\n/**\n * @param  {module:echarts/data/List} data\n * @param  {Object} payload\n * @param  {string} state 'normal'|'emphasis'\n * @inner\n */\nfunction toggleHighlight(data, payload, state) {\n    var dataIndex = queryDataIndex(data, payload);\n\n    if (dataIndex != null) {\n        each$1(normalizeToArray(dataIndex), function (dataIdx) {\n            elSetState(data.getItemGraphicEl(dataIdx), state);\n        });\n    }\n    else {\n        data.eachItemGraphicEl(function (el) {\n            elSetState(el, state);\n        });\n    }\n}\n\n// Enable Chart.extend.\nenableClassExtend(Chart, ['dispose']);\n\n// Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\nenableClassManagement(Chart, {registerWhenExtend: true});\n\nvar ORIGIN_METHOD = '\\0__throttleOriginMethod';\nvar RATE = '\\0__throttleRate';\nvar THROTTLE_TYPE = '\\0__throttleType';\n\n/**\n * @public\n * @param {(Function)} fn\n * @param {number} [delay=0] Unit: ms.\n * @param {boolean} [debounce=false]\n *        true: If call interval less than `delay`, only the last call works.\n *        false: If call interval less than `delay, call works on fixed rate.\n * @return {(Function)} throttled fn.\n */\nfunction throttle(fn, delay, debounce) {\n\n    var currCall;\n    var lastCall = 0;\n    var lastExec = 0;\n    var timer = null;\n    var diff;\n    var scope;\n    var args;\n    var debounceNextCall;\n\n    delay = delay || 0;\n\n    function exec() {\n        lastExec = (new Date()).getTime();\n        timer = null;\n        fn.apply(scope, args || []);\n    }\n\n    var cb = function () {\n        currCall = (new Date()).getTime();\n        scope = this;\n        args = arguments;\n        var thisDelay = debounceNextCall || delay;\n        var thisDebounce = debounceNextCall || debounce;\n        debounceNextCall = null;\n        diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\n\n        clearTimeout(timer);\n\n        if (thisDebounce) {\n            timer = setTimeout(exec, thisDelay);\n        }\n        else {\n            if (diff >= 0) {\n                exec();\n            }\n            else {\n                timer = setTimeout(exec, -diff);\n            }\n        }\n\n        lastCall = currCall;\n    };\n\n    /**\n     * Clear throttle.\n     * @public\n     */\n    cb.clear = function () {\n        if (timer) {\n            clearTimeout(timer);\n            timer = null;\n        }\n    };\n\n    /**\n     * Enable debounce once.\n     */\n    cb.debounceNextCall = function (debounceDelay) {\n        debounceNextCall = debounceDelay;\n    };\n\n    return cb;\n}\n\n/**\n * Create throttle method or update throttle rate.\n *\n * @example\n * ComponentView.prototype.render = function () {\n *     ...\n *     throttle.createOrUpdate(\n *         this,\n *         '_dispatchAction',\n *         this.model.get('throttle'),\n *         'fixRate'\n *     );\n * };\n * ComponentView.prototype.remove = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n * ComponentView.prototype.dispose = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n *\n * @public\n * @param {Object} obj\n * @param {string} fnAttr\n * @param {number} [rate]\n * @param {string} [throttleType='fixRate'] 'fixRate' or 'debounce'\n * @return {Function} throttled function.\n */\nfunction createOrUpdate(obj, fnAttr, rate, throttleType) {\n    var fn = obj[fnAttr];\n\n    if (!fn) {\n        return;\n    }\n\n    var originFn = fn[ORIGIN_METHOD] || fn;\n    var lastThrottleType = fn[THROTTLE_TYPE];\n    var lastRate = fn[RATE];\n\n    if (lastRate !== rate || lastThrottleType !== throttleType) {\n        if (rate == null || !throttleType) {\n            return (obj[fnAttr] = originFn);\n        }\n\n        fn = obj[fnAttr] = throttle(\n            originFn, rate, throttleType === 'debounce'\n        );\n        fn[ORIGIN_METHOD] = originFn;\n        fn[THROTTLE_TYPE] = throttleType;\n        fn[RATE] = rate;\n    }\n\n    return fn;\n}\n\n/**\n * Clear throttle. Example see throttle.createOrUpdate.\n *\n * @public\n * @param {Object} obj\n * @param {string} fnAttr\n */\nfunction clear(obj, fnAttr) {\n    var fn = obj[fnAttr];\n    if (fn && fn[ORIGIN_METHOD]) {\n        obj[fnAttr] = fn[ORIGIN_METHOD];\n    }\n}\n\nvar seriesColor = function (ecModel) {\n    function encodeColor(seriesModel) {\n        var colorAccessPath = (seriesModel.visualColorAccessPath || 'itemStyle.normal.color').split('.');\n        var data = seriesModel.getData();\n        var color = seriesModel.get(colorAccessPath) // Set in itemStyle\n            || seriesModel.getColorFromPalette(seriesModel.get('name'));  // Default color\n\n        // FIXME Set color function or use the platte color\n        data.setVisual('color', color);\n\n        // Only visible series has each data be visual encoded\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n            if (typeof color === 'function' && !(color instanceof Gradient)) {\n                data.each(function (idx) {\n                    data.setItemVisual(\n                        idx, 'color', color(seriesModel.getDataParams(idx))\n                    );\n                });\n            }\n\n            // itemStyle in each data item\n            data.each(function (idx) {\n                var itemModel = data.getItemModel(idx);\n                var color = itemModel.get(colorAccessPath, true);\n                if (color != null) {\n                    data.setItemVisual(idx, 'color', color);\n                }\n            });\n        }\n    }\n    ecModel.eachRawSeries(encodeColor);\n};\n\nvar PI$1 = Math.PI;\n\n/**\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} [opts]\n * @param {string} [opts.text]\n * @param {string} [opts.color]\n * @param {string} [opts.textColor]\n * @return {module:zrender/Element}\n */\nvar loadingDefault = function (api, opts) {\n    opts = opts || {};\n    defaults(opts, {\n        text: 'loading',\n        color: '#c23531',\n        textColor: '#000',\n        maskColor: 'rgba(255, 255, 255, 0.8)',\n        zlevel: 0\n    });\n    var mask = new Rect({\n        style: {\n            fill: opts.maskColor\n        },\n        zlevel: opts.zlevel,\n        z: 10000\n    });\n    var arc = new Arc({\n        shape: {\n            startAngle: -PI$1 / 2,\n            endAngle: -PI$1 / 2 + 0.1,\n            r: 10\n        },\n        style: {\n            stroke: opts.color,\n            lineCap: 'round',\n            lineWidth: 5\n        },\n        zlevel: opts.zlevel,\n        z: 10001\n    });\n    var labelRect = new Rect({\n        style: {\n            fill: 'none',\n            text: opts.text,\n            textPosition: 'right',\n            textDistance: 10,\n            textFill: opts.textColor\n        },\n        zlevel: opts.zlevel,\n        z: 10001\n    });\n\n    arc.animateShape(true)\n        .when(1000, {\n            endAngle: PI$1 * 3 / 2\n        })\n        .start('circularInOut');\n    arc.animateShape(true)\n        .when(1000, {\n            startAngle: PI$1 * 3 / 2\n        })\n        .delay(300)\n        .start('circularInOut');\n\n    var group = new Group();\n    group.add(arc);\n    group.add(labelRect);\n    group.add(mask);\n    // Inject resize\n    group.resize = function () {\n        var cx = api.getWidth() / 2;\n        var cy = api.getHeight() / 2;\n        arc.setShape({\n            cx: cx,\n            cy: cy\n        });\n        var r = arc.shape.r;\n        labelRect.setShape({\n            x: cx - r,\n            y: cy - r,\n            width: r * 2,\n            height: r * 2\n        });\n\n        mask.setShape({\n            x: 0,\n            y: 0,\n            width: api.getWidth(),\n            height: api.getHeight()\n        });\n    };\n    group.resize();\n    return group;\n};\n\n/*!\n * ECharts, a javascript interactive chart library.\n *\n * Copyright (c) 2015, Baidu Inc.\n * All rights reserved.\n *\n * LICENSE\n * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt\n */\n\nvar each = each$1;\nvar parseClassType = ComponentModel.parseClassType;\n\nvar version = '3.8.5';\n\nvar dependencies = {\n    zrender: '3.7.4'\n};\n\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\n\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_COMPONENT = 4000;\n// FIXME\n// necessary?\nvar PRIORITY_VISUAL_BRUSH = 5000;\n\nvar PRIORITY = {\n    PROCESSOR: {\n        FILTER: PRIORITY_PROCESSOR_FILTER,\n        STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n    },\n    VISUAL: {\n        LAYOUT: PRIORITY_VISUAL_LAYOUT,\n        GLOBAL: PRIORITY_VISUAL_GLOBAL,\n        CHART: PRIORITY_VISUAL_CHART,\n        COMPONENT: PRIORITY_VISUAL_COMPONENT,\n        BRUSH: PRIORITY_VISUAL_BRUSH\n    }\n};\n\n// Main process have three entries: `setOption`, `dispatchAction` and `resize`,\n// where they must not be invoked nestedly, except the only case: invoke\n// dispatchAction with updateMethod \"none\" in main process.\n// This flag is used to carry out this rule.\n// All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\nvar IN_MAIN_PROCESS = '__flagInMainProcess';\nvar HAS_GRADIENT_OR_PATTERN_BG = '__hasGradientOrPatternBg';\nvar OPTION_UPDATED = '__optionUpdated';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\n\n\nfunction createRegisterEventWithLowercaseName(method) {\n    return function (eventName, handler, context) {\n        // Event name is all lowercase\n        eventName = eventName && eventName.toLowerCase();\n        Eventful.prototype[method].call(this, eventName, handler, context);\n    };\n}\n\n/**\n * @module echarts~MessageCenter\n */\nfunction MessageCenter() {\n    Eventful.call(this);\n}\nMessageCenter.prototype.on = createRegisterEventWithLowercaseName('on');\nMessageCenter.prototype.off = createRegisterEventWithLowercaseName('off');\nMessageCenter.prototype.one = createRegisterEventWithLowercaseName('one');\nmixin(MessageCenter, Eventful);\n\n/**\n * @module echarts~ECharts\n */\nfunction ECharts(dom, theme, opts) {\n    opts = opts || {};\n\n    // Get theme by name\n    if (typeof theme === 'string') {\n        theme = themeStorage[theme];\n    }\n\n    /**\n     * @type {string}\n     */\n    this.id;\n\n    /**\n     * Group id\n     * @type {string}\n     */\n    this.group;\n\n    /**\n     * @type {HTMLElement}\n     * @private\n     */\n    this._dom = dom;\n\n    var defaultRenderer = 'canvas';\n    if (__DEV__) {\n        defaultRenderer = (\n            typeof window === 'undefined' ? global : window\n        ).__ECHARTS__DEFAULT__RENDERER__ || defaultRenderer;\n    }\n\n    /**\n     * @type {module:zrender/ZRender}\n     * @private\n     */\n    var zr = this._zr = init$1(dom, {\n        renderer: opts.renderer || defaultRenderer,\n        devicePixelRatio: opts.devicePixelRatio,\n        width: opts.width,\n        height: opts.height\n    });\n\n    /**\n     * Expect 60 pfs.\n     * @type {Function}\n     * @private\n     */\n    this._throttledZrFlush = throttle(bind(zr.flush, zr), 17);\n\n    var theme = clone(theme);\n    theme && backwardCompat(theme, true);\n    /**\n     * @type {Object}\n     * @private\n     */\n    this._theme = theme;\n\n    /**\n     * @type {Array.<module:echarts/view/Chart>}\n     * @private\n     */\n    this._chartsViews = [];\n\n    /**\n     * @type {Object.<string, module:echarts/view/Chart>}\n     * @private\n     */\n    this._chartsMap = {};\n\n    /**\n     * @type {Array.<module:echarts/view/Component>}\n     * @private\n     */\n    this._componentsViews = [];\n\n    /**\n     * @type {Object.<string, module:echarts/view/Component>}\n     * @private\n     */\n    this._componentsMap = {};\n\n    /**\n     * @type {module:echarts/CoordinateSystem}\n     * @private\n     */\n    this._coordSysMgr = new CoordinateSystemManager();\n\n    /**\n     * @type {module:echarts/ExtensionAPI}\n     * @private\n     */\n    this._api = createExtensionAPI(this);\n\n    Eventful.call(this);\n\n    /**\n     * @type {module:echarts~MessageCenter}\n     * @private\n     */\n    this._messageCenter = new MessageCenter();\n\n    // Init mouse events\n    this._initEvents();\n\n    // In case some people write `window.onresize = chart.resize`\n    this.resize = bind(this.resize, this);\n\n    // Can't dispatch action during rendering procedure\n    this._pendingActions = [];\n    // Sort on demand\n    function prioritySortFunc(a, b) {\n        return a.prio - b.prio;\n    }\n    sort(visualFuncs, prioritySortFunc);\n    sort(dataProcessorFuncs, prioritySortFunc);\n\n    zr.animation.on('frame', this._onframe, this);\n\n    // ECharts instance can be used as value.\n    setAsPrimitive(this);\n}\n\nvar echartsProto = ECharts.prototype;\n\nechartsProto._onframe = function () {\n    // Lazy update\n    if (this[OPTION_UPDATED]) {\n        var silent = this[OPTION_UPDATED].silent;\n\n        this[IN_MAIN_PROCESS] = true;\n\n        updateMethods.prepareAndUpdate.call(this);\n\n        this[IN_MAIN_PROCESS] = false;\n\n        this[OPTION_UPDATED] = false;\n\n        flushPendingActions.call(this, silent);\n\n        triggerUpdatedEvent.call(this, silent);\n    }\n};\n/**\n * @return {HTMLElement}\n */\nechartsProto.getDom = function () {\n    return this._dom;\n};\n\n/**\n * @return {module:zrender~ZRender}\n */\nechartsProto.getZr = function () {\n    return this._zr;\n};\n\n/**\n * Usage:\n * chart.setOption(option, notMerge, lazyUpdate);\n * chart.setOption(option, {\n *     notMerge: ...,\n *     lazyUpdate: ...,\n *     silent: ...\n * });\n *\n * @param {Object} option\n * @param {Object|boolean} [opts] opts or notMerge.\n * @param {boolean} [opts.notMerge=false]\n * @param {boolean} [opts.lazyUpdate=false] Useful when setOption frequently.\n */\nechartsProto.setOption = function (option, notMerge, lazyUpdate) {\n    if (__DEV__) {\n        assert(!this[IN_MAIN_PROCESS], '`setOption` should not be called during main process.');\n    }\n\n    var silent;\n    if (isObject(notMerge)) {\n        lazyUpdate = notMerge.lazyUpdate;\n        silent = notMerge.silent;\n        notMerge = notMerge.notMerge;\n    }\n\n    this[IN_MAIN_PROCESS] = true;\n\n    if (!this._model || notMerge) {\n        var optionManager = new OptionManager(this._api);\n        var theme = this._theme;\n        var ecModel = this._model = new GlobalModel(null, null, theme, optionManager);\n        ecModel.init(null, null, theme, optionManager);\n    }\n\n    this._model.setOption(option, optionPreprocessorFuncs);\n\n    if (lazyUpdate) {\n        this[OPTION_UPDATED] = {silent: silent};\n        this[IN_MAIN_PROCESS] = false;\n    }\n    else {\n        updateMethods.prepareAndUpdate.call(this);\n        // Ensure zr refresh sychronously, and then pixel in canvas can be\n        // fetched after `setOption`.\n        this._zr.flush();\n\n        this[OPTION_UPDATED] = false;\n        this[IN_MAIN_PROCESS] = false;\n\n        flushPendingActions.call(this, silent);\n        triggerUpdatedEvent.call(this, silent);\n    }\n};\n\n/**\n * @DEPRECATED\n */\nechartsProto.setTheme = function () {\n    console.log('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n};\n\n/**\n * @return {module:echarts/model/Global}\n */\nechartsProto.getModel = function () {\n    return this._model;\n};\n\n/**\n * @return {Object}\n */\nechartsProto.getOption = function () {\n    return this._model && this._model.getOption();\n};\n\n/**\n * @return {number}\n */\nechartsProto.getWidth = function () {\n    return this._zr.getWidth();\n};\n\n/**\n * @return {number}\n */\nechartsProto.getHeight = function () {\n    return this._zr.getHeight();\n};\n\n/**\n * @return {number}\n */\nechartsProto.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr || window.devicePixelRatio || 1;\n};\n\n/**\n * Get canvas which has all thing rendered\n * @param {Object} opts\n * @param {string} [opts.backgroundColor]\n * @return {string}\n */\nechartsProto.getRenderedCanvas = function (opts) {\n    if (!env$1.canvasSupported) {\n        return;\n    }\n    opts = opts || {};\n    opts.pixelRatio = opts.pixelRatio || 1;\n    opts.backgroundColor = opts.backgroundColor\n        || this._model.get('backgroundColor');\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList();\n    // Stop animations\n    each$1(list, function (el) {\n        el.stopAnimation(true);\n    });\n    return zr.painter.getRenderedCanvas(opts);\n};\n\n/**\n * Get svg data url\n * @return {string}\n */\nechartsProto.getSvgDataUrl = function () {\n    if (!env$1.svgSupported) {\n        return;\n    }\n\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList();\n    // Stop animations\n    each$1(list, function (el) {\n        el.stopAnimation(true);\n    });\n\n    return zr.painter.pathToSvg();\n};\n\n/**\n * @return {string}\n * @param {Object} opts\n * @param {string} [opts.type='png']\n * @param {string} [opts.pixelRatio=1]\n * @param {string} [opts.backgroundColor]\n * @param {string} [opts.excludeComponents]\n */\nechartsProto.getDataURL = function (opts) {\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n\n    each(excludeComponents, function (componentType) {\n        ecModel.eachComponent({\n            mainType: componentType\n        }, function (component) {\n            var view = self._componentsMap[component.__viewId];\n            if (!view.group.ignore) {\n                excludesComponentViews.push(view);\n                view.group.ignore = true;\n            }\n        });\n    });\n\n    var url = this._zr.painter.getType() === 'svg'\n        ? this.getSvgDataUrl()\n        : this.getRenderedCanvas(opts).toDataURL(\n            'image/' + (opts && opts.type || 'png')\n        );\n\n    each(excludesComponentViews, function (view) {\n        view.group.ignore = false;\n    });\n\n    return url;\n};\n\n\n/**\n * @return {string}\n * @param {Object} opts\n * @param {string} [opts.type='png']\n * @param {string} [opts.pixelRatio=1]\n * @param {string} [opts.backgroundColor]\n */\nechartsProto.getConnectedDataURL = function (opts) {\n    if (!env$1.canvasSupported) {\n        return;\n    }\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n    if (connectedGroups[groupId]) {\n        var left = MAX_NUMBER;\n        var top = MAX_NUMBER;\n        var right = -MAX_NUMBER;\n        var bottom = -MAX_NUMBER;\n        var canvasList = [];\n        var dpr = (opts && opts.pixelRatio) || 1;\n\n        each$1(instances, function (chart, id) {\n            if (chart.group === groupId) {\n                var canvas = chart.getRenderedCanvas(\n                    clone(opts)\n                );\n                var boundingRect = chart.getDom().getBoundingClientRect();\n                left = mathMin(boundingRect.left, left);\n                top = mathMin(boundingRect.top, top);\n                right = mathMax(boundingRect.right, right);\n                bottom = mathMax(boundingRect.bottom, bottom);\n                canvasList.push({\n                    dom: canvas,\n                    left: boundingRect.left,\n                    top: boundingRect.top\n                });\n            }\n        });\n\n        left *= dpr;\n        top *= dpr;\n        right *= dpr;\n        bottom *= dpr;\n        var width = right - left;\n        var height = bottom - top;\n        var targetCanvas = createCanvas();\n        targetCanvas.width = width;\n        targetCanvas.height = height;\n        var zr = init$1(targetCanvas);\n\n        each(canvasList, function (item) {\n            var img = new ZImage({\n                style: {\n                    x: item.left * dpr - left,\n                    y: item.top * dpr - top,\n                    image: item.dom\n                }\n            });\n            zr.add(img);\n        });\n        zr.refreshImmediately();\n\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n    }\n    else {\n        return this.getDataURL(opts);\n    }\n};\n\n/**\n * Convert from logical coordinate system to pixel coordinate system.\n * See CoordinateSystem#convertToPixel.\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            geoIndex / geoId, geoName,\n *            bmapIndex / bmapId / bmapName,\n *            xAxisIndex / xAxisId / xAxisName,\n *            yAxisIndex / yAxisId / yAxisName,\n *            gridIndex / gridId / gridName,\n *            ... (can be extended)\n *        }\n * @param {Array|number} value\n * @return {Array|number} result\n */\nechartsProto.convertToPixel = curry(doConvertPixel, 'convertToPixel');\n\n/**\n * Convert from pixel coordinate system to logical coordinate system.\n * See CoordinateSystem#convertFromPixel.\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            geoIndex / geoId / geoName,\n *            bmapIndex / bmapId / bmapName,\n *            xAxisIndex / xAxisId / xAxisName,\n *            yAxisIndex / yAxisId / yAxisName\n *            gridIndex / gridId / gridName,\n *            ... (can be extended)\n *        }\n * @param {Array|number} value\n * @return {Array|number} result\n */\nechartsProto.convertFromPixel = curry(doConvertPixel, 'convertFromPixel');\n\nfunction doConvertPixel(methodName, finder, value) {\n    var ecModel = this._model;\n    var coordSysList = this._coordSysMgr.getCoordinateSystems();\n    var result;\n\n    finder = parseFinder(ecModel, finder);\n\n    for (var i = 0; i < coordSysList.length; i++) {\n        var coordSys = coordSysList[i];\n        if (coordSys[methodName]\n            && (result = coordSys[methodName](ecModel, finder, value)) != null\n        ) {\n            return result;\n        }\n    }\n\n    if (__DEV__) {\n        console.warn(\n            'No coordinate system that supports ' + methodName + ' found by the given finder.'\n        );\n    }\n}\n\n/**\n * Is the specified coordinate systems or components contain the given pixel point.\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            geoIndex / geoId / geoName,\n *            bmapIndex / bmapId / bmapName,\n *            xAxisIndex / xAxisId / xAxisName,\n *            yAxisIndex / yAxisId / yAxisName,\n *            gridIndex / gridId / gridName,\n *            ... (can be extended)\n *        }\n * @param {Array|number} value\n * @return {boolean} result\n */\nechartsProto.containPixel = function (finder, value) {\n    var ecModel = this._model;\n    var result;\n\n    finder = parseFinder(ecModel, finder);\n\n    each$1(finder, function (models, key) {\n        key.indexOf('Models') >= 0 && each$1(models, function (model) {\n            var coordSys = model.coordinateSystem;\n            if (coordSys && coordSys.containPoint) {\n                result |= !!coordSys.containPoint(value);\n            }\n            else if (key === 'seriesModels') {\n                var view = this._chartsMap[model.__viewId];\n                if (view && view.containPoint) {\n                    result |= view.containPoint(value, model);\n                }\n                else {\n                    if (__DEV__) {\n                        console.warn(key + ': ' + (view\n                            ? 'The found component do not support containPoint.'\n                            : 'No view mapping to the found component.'\n                        ));\n                    }\n                }\n            }\n            else {\n                if (__DEV__) {\n                    console.warn(key + ': containPoint is not supported');\n                }\n            }\n        }, this);\n    }, this);\n\n    return !!result;\n};\n\n/**\n * Get visual from series or data.\n * @param {string|Object} finder\n *        If string, e.g., 'series', means {seriesIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            dataIndex / dataIndexInside\n *        }\n *        If dataIndex is not specified, series visual will be fetched,\n *        but not data item visual.\n *        If all of seriesIndex, seriesId, seriesName are not specified,\n *        visual will be fetched from first series.\n * @param {string} visualType 'color', 'symbol', 'symbolSize'\n */\nechartsProto.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n\n    finder = parseFinder(ecModel, finder, {defaultMainType: 'series'});\n\n    var seriesModel = finder.seriesModel;\n\n    if (__DEV__) {\n        if (!seriesModel) {\n            console.warn('There is no specified seires model');\n        }\n    }\n\n    var data = seriesModel.getData();\n\n    var dataIndexInside = finder.hasOwnProperty('dataIndexInside')\n        ? finder.dataIndexInside\n        : finder.hasOwnProperty('dataIndex')\n        ? data.indexOfRawIndex(finder.dataIndex)\n        : null;\n\n    return dataIndexInside != null\n        ? data.getItemVisual(dataIndexInside, visualType)\n        : data.getVisual(visualType);\n};\n\n/**\n * Get view of corresponding component model\n * @param  {module:echarts/model/Component} componentModel\n * @return {module:echarts/view/Component}\n */\nechartsProto.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n};\n\n/**\n * Get view of corresponding series model\n * @param  {module:echarts/model/Series} seriesModel\n * @return {module:echarts/view/Chart}\n */\nechartsProto.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n};\n\n\nvar updateMethods = {\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    update: function (payload) {\n        // console.profile && console.profile('update');\n\n        var ecModel = this._model;\n        var api = this._api;\n        var coordSysMgr = this._coordSysMgr;\n        var zr = this._zr;\n        // update before setOption\n        if (!ecModel) {\n            return;\n        }\n\n        // Fixme First time update ?\n        ecModel.restoreData();\n\n        // TODO\n        // Save total ecModel here for undo/redo (after restoring data and before processing data).\n        // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\n\n        // Create new coordinate system each update\n        // In LineView may save the old coordinate system and use it to get the orignal point\n        coordSysMgr.create(this._model, this._api);\n\n        processData.call(this, ecModel, api);\n\n        stackSeriesData.call(this, ecModel);\n\n        coordSysMgr.update(ecModel, api);\n\n        doVisualEncoding.call(this, ecModel, payload);\n\n        doRender.call(this, ecModel, payload);\n\n        // Set background\n        var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\n\n        var painter = zr.painter;\n        // TODO all use clearColor ?\n        if (painter.isSingleCanvas && painter.isSingleCanvas()) {\n            zr.configLayer(0, {\n                clearColor: backgroundColor\n            });\n        }\n        else {\n            // In IE8\n            if (!env$1.canvasSupported) {\n                var colorArr = parse(backgroundColor);\n                backgroundColor = stringify(colorArr, 'rgb');\n                if (colorArr[3] === 0) {\n                    backgroundColor = 'transparent';\n                }\n            }\n            if (backgroundColor.colorStops || backgroundColor.image) {\n                // Gradient background\n                // FIXME Fixed layer\n                zr.configLayer(0, {\n                    clearColor: backgroundColor\n                });\n                this[HAS_GRADIENT_OR_PATTERN_BG] = true;\n\n                this._dom.style.background = 'transparent';\n            }\n            else {\n                if (this[HAS_GRADIENT_OR_PATTERN_BG]) {\n                    zr.configLayer(0, {\n                        clearColor: null\n                    });\n                }\n                this[HAS_GRADIENT_OR_PATTERN_BG] = false;\n\n                this._dom.style.background = backgroundColor;\n            }\n        }\n\n        each(postUpdateFuncs, function (func) {\n            func(ecModel, api);\n        });\n\n        // console.profile && console.profileEnd('update');\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateView: function (payload) {\n        var ecModel = this._model;\n\n        // update before setOption\n        if (!ecModel) {\n            return;\n        }\n\n        ecModel.eachSeries(function (seriesModel) {\n            seriesModel.getData().clearAllVisual();\n        });\n\n        doVisualEncoding.call(this, ecModel, payload);\n\n        invokeUpdateMethod.call(this, 'updateView', ecModel, payload);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateVisual: function (payload) {\n        var ecModel = this._model;\n\n        // update before setOption\n        if (!ecModel) {\n            return;\n        }\n\n        ecModel.eachSeries(function (seriesModel) {\n            seriesModel.getData().clearAllVisual();\n        });\n\n        doVisualEncoding.call(this, ecModel, payload, true);\n\n        invokeUpdateMethod.call(this, 'updateVisual', ecModel, payload);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateLayout: function (payload) {\n        var ecModel = this._model;\n\n        // update before setOption\n        if (!ecModel) {\n            return;\n        }\n\n        doLayout.call(this, ecModel, payload);\n\n        invokeUpdateMethod.call(this, 'updateLayout', ecModel, payload);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    prepareAndUpdate: function (payload) {\n        var ecModel = this._model;\n\n        prepareView.call(this, 'component', ecModel);\n\n        prepareView.call(this, 'chart', ecModel);\n\n        updateMethods.update.call(this, payload);\n    }\n};\n\n/**\n * @private\n */\nfunction updateDirectly(ecIns, method, payload, mainType, subType) {\n    var ecModel = ecIns._model;\n\n    // broadcast\n    if (!mainType) {\n        each(ecIns._componentsViews.concat(ecIns._chartsViews), callView);\n        return;\n    }\n\n    var query = {};\n    query[mainType + 'Id'] = payload[mainType + 'Id'];\n    query[mainType + 'Index'] = payload[mainType + 'Index'];\n    query[mainType + 'Name'] = payload[mainType + 'Name'];\n\n    var condition = {mainType: mainType, query: query};\n    subType && (condition.subType = subType); // subType may be '' by parseClassType;\n\n    // If dispatchAction before setOption, do nothing.\n    ecModel && ecModel.eachComponent(condition, function (model, index) {\n        callView(ecIns[\n            mainType === 'series' ? '_chartsMap' : '_componentsMap'\n        ][model.__viewId]);\n    }, ecIns);\n\n    function callView(view) {\n        view && view.__alive && view[method] && view[method](\n            view.__model, ecModel, ecIns._api, payload\n        );\n    }\n}\n\n/**\n * Resize the chart\n * @param {Object} opts\n * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n * @param {boolean} [opts.silent=false]\n */\nechartsProto.resize = function (opts) {\n    if (__DEV__) {\n        assert(!this[IN_MAIN_PROCESS], '`resize` should not be called during main process.');\n    }\n\n    this[IN_MAIN_PROCESS] = true;\n\n    this._zr.resize(opts);\n\n    var optionChanged = this._model && this._model.resetOption('media');\n    var updateMethod = optionChanged ? 'prepareAndUpdate' : 'update';\n\n    updateMethods[updateMethod].call(this);\n\n    // Resize loading effect\n    this._loadingFX && this._loadingFX.resize();\n\n    this[IN_MAIN_PROCESS] = false;\n\n    var silent = opts && opts.silent;\n\n    flushPendingActions.call(this, silent);\n\n    triggerUpdatedEvent.call(this, silent);\n};\n\n/**\n * Show loading effect\n * @param  {string} [name='default']\n * @param  {Object} [cfg]\n */\nechartsProto.showLoading = function (name, cfg) {\n    if (isObject(name)) {\n        cfg = name;\n        name = '';\n    }\n    name = name || 'default';\n\n    this.hideLoading();\n    if (!loadingEffects[name]) {\n        if (__DEV__) {\n            console.warn('Loading effects ' + name + ' not exists.');\n        }\n        return;\n    }\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n\n    zr.add(el);\n};\n\n/**\n * Hide loading effect\n */\nechartsProto.hideLoading = function () {\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n};\n\n/**\n * @param {Object} eventObj\n * @return {Object}\n */\nechartsProto.makeActionFromEvent = function (eventObj) {\n    var payload = extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n};\n\n/**\n * @pubilc\n * @param {Object} payload\n * @param {string} [payload.type] Action type\n * @param {Object|boolean} [opt] If pass boolean, means opt.silent\n * @param {boolean} [opt.silent=false] Whether trigger events.\n * @param {boolean} [opt.flush=undefined]\n *                  true: Flush immediately, and then pixel in canvas can be fetched\n *                      immediately. Caution: it might affect performance.\n *                  false: Not not flush.\n *                  undefined: Auto decide whether perform flush.\n */\nechartsProto.dispatchAction = function (payload, opt) {\n    if (!isObject(opt)) {\n        opt = {silent: !!opt};\n    }\n\n    if (!actions[payload.type]) {\n        return;\n    }\n\n    // Avoid dispatch action before setOption. Especially in `connect`.\n    if (!this._model) {\n        return;\n    }\n\n    // May dispatchAction in rendering procedure\n    if (this[IN_MAIN_PROCESS]) {\n        this._pendingActions.push(payload);\n        return;\n    }\n\n    doDispatchAction.call(this, payload, opt.silent);\n\n    if (opt.flush) {\n        this._zr.flush(true);\n    }\n    else if (opt.flush !== false && env$1.browser.weChat) {\n        // In WeChat embeded browser, `requestAnimationFrame` and `setInterval`\n        // hang when sliding page (on touch event), which cause that zr does not\n        // refresh util user interaction finished, which is not expected.\n        // But `dispatchAction` may be called too frequently when pan on touch\n        // screen, which impacts performance if do not throttle them.\n        this._throttledZrFlush();\n    }\n\n    flushPendingActions.call(this, opt.silent);\n\n    triggerUpdatedEvent.call(this, opt.silent);\n};\n\nfunction doDispatchAction(payload, silent) {\n    var payloadType = payload.type;\n    var escapeConnect = payload.escapeConnect;\n    var actionWrap = actions[payloadType];\n    var actionInfo = actionWrap.actionInfo;\n\n    var cptType = (actionInfo.update || 'update').split(':');\n    var updateMethod = cptType.pop();\n    cptType = cptType[0] != null && parseClassType(cptType[0]);\n\n    this[IN_MAIN_PROCESS] = true;\n\n    var payloads = [payload];\n    var batched = false;\n    // Batch action\n    if (payload.batch) {\n        batched = true;\n        payloads = map(payload.batch, function (item) {\n            item = defaults(extend({}, item), payload);\n            item.batch = null;\n            return item;\n        });\n    }\n\n    var eventObjBatch = [];\n    var eventObj;\n    var isHighDown = payloadType === 'highlight' || payloadType === 'downplay';\n\n    each(payloads, function (batchItem) {\n        // Action can specify the event by return it.\n        eventObj = actionWrap.action(batchItem, this._model, this._api);\n        // Emit event outside\n        eventObj = eventObj || extend({}, batchItem);\n        // Convert type to eventType\n        eventObj.type = actionInfo.event || eventObj.type;\n        eventObjBatch.push(eventObj);\n\n        // light update does not perform data process, layout and visual.\n        if (isHighDown) {\n            // method, payload, mainType, subType\n            updateDirectly(this, updateMethod, batchItem, 'series');\n        }\n        else if (cptType) {\n            updateDirectly(this, updateMethod, batchItem, cptType.main, cptType.sub);\n        }\n    }, this);\n\n    if (updateMethod !== 'none' && !isHighDown && !cptType) {\n        // Still dirty\n        if (this[OPTION_UPDATED]) {\n            // FIXME Pass payload ?\n            updateMethods.prepareAndUpdate.call(this, payload);\n            this[OPTION_UPDATED] = false;\n        }\n        else {\n            updateMethods[updateMethod].call(this, payload);\n        }\n    }\n\n    // Follow the rule of action batch\n    if (batched) {\n        eventObj = {\n            type: actionInfo.event || payloadType,\n            escapeConnect: escapeConnect,\n            batch: eventObjBatch\n        };\n    }\n    else {\n        eventObj = eventObjBatch[0];\n    }\n\n    this[IN_MAIN_PROCESS] = false;\n\n    !silent && this._messageCenter.trigger(eventObj.type, eventObj);\n}\n\nfunction flushPendingActions(silent) {\n    var pendingActions = this._pendingActions;\n    while (pendingActions.length) {\n        var payload = pendingActions.shift();\n        doDispatchAction.call(this, payload, silent);\n    }\n}\n\nfunction triggerUpdatedEvent(silent) {\n    !silent && this.trigger('updated');\n}\n\n/**\n * Register event\n * @method\n */\nechartsProto.on = createRegisterEventWithLowercaseName('on');\nechartsProto.off = createRegisterEventWithLowercaseName('off');\nechartsProto.one = createRegisterEventWithLowercaseName('one');\n\n/**\n * @param {string} methodName\n * @private\n */\nfunction invokeUpdateMethod(methodName, ecModel, payload) {\n    var api = this._api;\n\n    // Update all components\n    each(this._componentsViews, function (component) {\n        var componentModel = component.__model;\n        component[methodName](componentModel, ecModel, api, payload);\n\n        updateZ(componentModel, component);\n    }, this);\n\n    // Upate all charts\n    ecModel.eachSeries(function (seriesModel, idx) {\n        var chart = this._chartsMap[seriesModel.__viewId];\n        chart[methodName](seriesModel, ecModel, api, payload);\n\n        updateZ(seriesModel, chart);\n\n        updateProgressiveAndBlend(seriesModel, chart);\n    }, this);\n\n    // If use hover layer\n    updateHoverLayerStatus(this._zr, ecModel);\n\n    // Post render\n    each(postUpdateFuncs, function (func) {\n        func(ecModel, api);\n    });\n}\n\n/**\n * Prepare view instances of charts and components\n * @param  {module:echarts/model/Global} ecModel\n * @private\n */\nfunction prepareView(type, ecModel) {\n    var isComponent = type === 'component';\n    var viewList = isComponent ? this._componentsViews : this._chartsViews;\n    var viewMap = isComponent ? this._componentsMap : this._chartsMap;\n    var zr = this._zr;\n\n    for (var i = 0; i < viewList.length; i++) {\n        viewList[i].__alive = false;\n    }\n\n    ecModel[isComponent ? 'eachComponent' : 'eachSeries'](function (componentType, model) {\n        if (isComponent) {\n            if (componentType === 'series') {\n                return;\n            }\n        }\n        else {\n            model = componentType;\n        }\n\n        // Consider: id same and type changed.\n        var viewId = '_ec_' + model.id + '_' + model.type;\n        var view = viewMap[viewId];\n        if (!view) {\n            var classType = parseClassType(model.type);\n            var Clazz = isComponent\n                ? Component.getClass(classType.main, classType.sub)\n                : Chart.getClass(classType.sub);\n            if (Clazz) {\n                view = new Clazz();\n                view.init(ecModel, this._api);\n                viewMap[viewId] = view;\n                viewList.push(view);\n                zr.add(view.group);\n            }\n            else {\n                // Error\n                return;\n            }\n        }\n\n        model.__viewId = view.__id = viewId;\n        view.__alive = true;\n        view.__model = model;\n        view.group.__ecComponentInfo = {\n            mainType: model.mainType,\n            index: model.componentIndex\n        };\n    }, this);\n\n    for (var i = 0; i < viewList.length;) {\n        var view = viewList[i];\n        if (!view.__alive) {\n            zr.remove(view.group);\n            view.dispose(ecModel, this._api);\n            viewList.splice(i, 1);\n            delete viewMap[view.__id];\n            view.__id = view.group.__ecComponentInfo = null;\n        }\n        else {\n            i++;\n        }\n    }\n}\n\n/**\n * Processor data in each series\n *\n * @param {module:echarts/model/Global} ecModel\n * @private\n */\nfunction processData(ecModel, api) {\n    each(dataProcessorFuncs, function (process) {\n        process.func(ecModel, api);\n    });\n}\n\n/**\n * @private\n */\nfunction stackSeriesData(ecModel) {\n    var stackedDataMap = {};\n    ecModel.eachSeries(function (series) {\n        var stack = series.get('stack');\n        var data = series.getData();\n        if (stack && data.type === 'list') {\n            var previousStack = stackedDataMap[stack];\n            // Avoid conflict with Object.prototype\n            if (stackedDataMap.hasOwnProperty(stack) && previousStack) {\n                data.stackedOn = previousStack;\n            }\n            stackedDataMap[stack] = data;\n        }\n    });\n}\n\n/**\n * Layout before each chart render there series, special visual encoding stage\n *\n * @param {module:echarts/model/Global} ecModel\n * @private\n */\nfunction doLayout(ecModel, payload) {\n    var api = this._api;\n    each(visualFuncs, function (visual) {\n        if (visual.isLayout) {\n            visual.func(ecModel, api, payload);\n        }\n    });\n}\n\n/**\n * Encode visual infomation from data after data processing\n *\n * @param {module:echarts/model/Global} ecModel\n * @param {object} layout\n * @param {boolean} [excludesLayout]\n * @private\n */\nfunction doVisualEncoding(ecModel, payload, excludesLayout) {\n    var api = this._api;\n    ecModel.clearColorPalette();\n    ecModel.eachSeries(function (seriesModel) {\n        seriesModel.clearColorPalette();\n    });\n    each(visualFuncs, function (visual) {\n        (!excludesLayout || !visual.isLayout)\n            && visual.func(ecModel, api, payload);\n    });\n}\n\n/**\n * Render each chart and component\n * @private\n */\nfunction doRender(ecModel, payload) {\n    var api = this._api;\n    // Render all components\n    each(this._componentsViews, function (componentView) {\n        var componentModel = componentView.__model;\n        componentView.render(componentModel, ecModel, api, payload);\n\n        updateZ(componentModel, componentView);\n    }, this);\n\n    each(this._chartsViews, function (chart) {\n        chart.__alive = false;\n    }, this);\n\n    // Render all charts\n    ecModel.eachSeries(function (seriesModel, idx) {\n        var chartView = this._chartsMap[seriesModel.__viewId];\n        chartView.__alive = true;\n        chartView.render(seriesModel, ecModel, api, payload);\n\n        chartView.group.silent = !!seriesModel.get('silent');\n\n        updateZ(seriesModel, chartView);\n\n        updateProgressiveAndBlend(seriesModel, chartView);\n\n    }, this);\n\n    // If use hover layer\n    updateHoverLayerStatus(this._zr, ecModel);\n\n    // Remove groups of unrendered charts\n    each(this._chartsViews, function (chart) {\n        if (!chart.__alive) {\n            chart.remove(ecModel, api);\n        }\n    }, this);\n}\n\nvar MOUSE_EVENT_NAMES = [\n    'click', 'dblclick', 'mouseover', 'mouseout', 'mousemove',\n    'mousedown', 'mouseup', 'globalout', 'contextmenu'\n];\n/**\n * @private\n */\nechartsProto._initEvents = function () {\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n        this._zr.on(eveName, function (e) {\n            var ecModel = this.getModel();\n            var el = e.target;\n            var params;\n\n            // no e.target when 'globalout'.\n            if (eveName === 'globalout') {\n                params = {};\n            }\n            else if (el && el.dataIndex != null) {\n                var dataModel = el.dataModel || ecModel.getSeriesByIndex(el.seriesIndex);\n                params = dataModel && dataModel.getDataParams(el.dataIndex, el.dataType) || {};\n            }\n            // If element has custom eventData of components\n            else if (el && el.eventData) {\n                params = extend({}, el.eventData);\n            }\n\n            if (params) {\n                params.event = e;\n                params.type = eveName;\n                this.trigger(eveName, params);\n            }\n\n        }, this);\n    }, this);\n\n    each(eventActionMap, function (actionType, eventType) {\n        this._messageCenter.on(eventType, function (event) {\n            this.trigger(eventType, event);\n        }, this);\n    }, this);\n};\n\n/**\n * @return {boolean}\n */\nechartsProto.isDisposed = function () {\n    return this._disposed;\n};\n\n/**\n * Clear\n */\nechartsProto.clear = function () {\n    this.setOption({ series: [] }, true);\n};\n\n/**\n * Dispose instance\n */\nechartsProto.dispose = function () {\n    if (this._disposed) {\n        if (__DEV__) {\n            console.warn('Instance ' + this.id + ' has been disposed');\n        }\n        return;\n    }\n    this._disposed = true;\n\n    var api = this._api;\n    var ecModel = this._model;\n\n    each(this._componentsViews, function (component) {\n        component.dispose(ecModel, api);\n    });\n    each(this._chartsViews, function (chart) {\n        chart.dispose(ecModel, api);\n    });\n\n    // Dispose after all views disposed\n    this._zr.dispose();\n\n    delete instances[this.id];\n};\n\nmixin(ECharts, Eventful);\n\nfunction updateHoverLayerStatus(zr, ecModel) {\n    var storage = zr.storage;\n    var elCount = 0;\n    storage.traverse(function (el) {\n        if (!el.isGroup) {\n            elCount++;\n        }\n    });\n    if (elCount > ecModel.get('hoverLayerThreshold') && !env$1.node) {\n        storage.traverse(function (el) {\n            if (!el.isGroup) {\n                el.useHoverLayer = true;\n            }\n        });\n    }\n}\n\n/**\n * Update chart progressive and blend.\n * @param {module:echarts/model/Series|module:echarts/model/Component} model\n * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n */\nfunction updateProgressiveAndBlend(seriesModel, chartView) {\n    // Progressive configuration\n    var elCount = 0;\n    chartView.group.traverse(function (el) {\n        if (el.type !== 'group' && !el.ignore) {\n            elCount++;\n        }\n    });\n    var frameDrawNum = +seriesModel.get('progressive');\n    var needProgressive = elCount > seriesModel.get('progressiveThreshold') && frameDrawNum && !env$1.node;\n    if (needProgressive) {\n        chartView.group.traverse(function (el) {\n            // FIXME marker and other components\n            if (!el.isGroup) {\n                el.progressive = needProgressive ?\n                    Math.floor(elCount++ / frameDrawNum) : -1;\n                if (needProgressive) {\n                    el.stopAnimation(true);\n                }\n            }\n        });\n    }\n\n    // Blend configration\n    var blendMode = seriesModel.get('blendMode') || null;\n    if (__DEV__) {\n        if (!env$1.canvasSupported && blendMode && blendMode !== 'source-over') {\n            console.warn('Only canvas support blendMode');\n        }\n    }\n    chartView.group.traverse(function (el) {\n        // FIXME marker and other components\n        if (!el.isGroup) {\n            el.setStyle('blend', blendMode);\n        }\n    });\n}\n\n/**\n * @param {module:echarts/model/Series|module:echarts/model/Component} model\n * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n */\nfunction updateZ(model, view) {\n    var z = model.get('z');\n    var zlevel = model.get('zlevel');\n    // Set z and zlevel\n    view.group.traverse(function (el) {\n        if (el.type !== 'group') {\n            z != null && (el.z = z);\n            zlevel != null && (el.zlevel = zlevel);\n        }\n    });\n}\n\nfunction createExtensionAPI(ecInstance) {\n    var coordSysMgr = ecInstance._coordSysMgr;\n    return extend(new ExtensionAPI(ecInstance), {\n        // Inject methods\n        getCoordinateSystems: bind(\n            coordSysMgr.getCoordinateSystems, coordSysMgr\n        ),\n        getComponentByElement: function (el) {\n            while (el) {\n                var modelInfo = el.__ecComponentInfo;\n                if (modelInfo != null) {\n                    return ecInstance._model.getComponent(modelInfo.mainType, modelInfo.index);\n                }\n                el = el.parent;\n            }\n        }\n    });\n}\n\n/**\n * @type {Object} key: actionType.\n * @inner\n */\nvar actions = {};\n\n/**\n * Map eventType to actionType\n * @type {Object}\n */\nvar eventActionMap = {};\n\n/**\n * Data processor functions of each stage\n * @type {Array.<Object.<string, Function>>}\n * @inner\n */\nvar dataProcessorFuncs = [];\n\n/**\n * @type {Array.<Function>}\n * @inner\n */\nvar optionPreprocessorFuncs = [];\n\n/**\n * @type {Array.<Function>}\n * @inner\n */\nvar postUpdateFuncs = [];\n\n/**\n * Visual encoding functions of each stage\n * @type {Array.<Object.<string, Function>>}\n * @inner\n */\nvar visualFuncs = [];\n/**\n * Theme storage\n * @type {Object.<key, Object>}\n */\nvar themeStorage = {};\n/**\n * Loading effects\n */\nvar loadingEffects = {};\n\nvar instances = {};\nvar connectedGroups = {};\n\nvar idBase = new Date() - 0;\nvar groupIdBase = new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n\nvar mapDataStores = {};\n\nfunction enableConnect(chart) {\n    var STATUS_PENDING = 0;\n    var STATUS_UPDATING = 1;\n    var STATUS_UPDATED = 2;\n    var STATUS_KEY = '__connectUpdateStatus';\n\n    function updateConnectedChartsStatus(charts, status) {\n        for (var i = 0; i < charts.length; i++) {\n            var otherChart = charts[i];\n            otherChart[STATUS_KEY] = status;\n        }\n    }\n\n    each$1(eventActionMap, function (actionType, eventType) {\n        chart._messageCenter.on(eventType, function (event) {\n            if (connectedGroups[chart.group] && chart[STATUS_KEY] !== STATUS_PENDING) {\n                if (event && event.escapeConnect) {\n                    return;\n                }\n\n                var action = chart.makeActionFromEvent(event);\n                var otherCharts = [];\n\n                each$1(instances, function (otherChart) {\n                    if (otherChart !== chart && otherChart.group === chart.group) {\n                        otherCharts.push(otherChart);\n                    }\n                });\n\n                updateConnectedChartsStatus(otherCharts, STATUS_PENDING);\n                each(otherCharts, function (otherChart) {\n                    if (otherChart[STATUS_KEY] !== STATUS_UPDATING) {\n                        otherChart.dispatchAction(action);\n                    }\n                });\n                updateConnectedChartsStatus(otherCharts, STATUS_UPDATED);\n            }\n        });\n    });\n}\n\n/**\n * @param {HTMLElement} dom\n * @param {Object} [theme]\n * @param {Object} opts\n * @param {number} [opts.devicePixelRatio] Use window.devicePixelRatio by default\n * @param {string} [opts.renderer] Currently only 'canvas' is supported.\n * @param {number} [opts.width] Use clientWidth of the input `dom` by default.\n *                              Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Use clientHeight of the input `dom` by default.\n *                               Can be 'auto' (the same as null/undefined)\n */\nfunction init(dom, theme, opts) {\n    if (__DEV__) {\n        // Check version\n        if ((version$1.replace('.', '') - 0) < (dependencies.zrender.replace('.', '') - 0)) {\n            throw new Error(\n                'zrender/src ' + version$1\n                + ' is too old for ECharts ' + version\n                + '. Current version need ZRender '\n                + dependencies.zrender + '+'\n            );\n        }\n\n        if (!dom) {\n            throw new Error('Initialize failed: invalid dom.');\n        }\n    }\n\n    var existInstance = getInstanceByDom(dom);\n    if (existInstance) {\n        if (__DEV__) {\n            console.warn('There is a chart instance already initialized on the dom.');\n        }\n        return existInstance;\n    }\n\n    if (__DEV__) {\n        if (isDom(dom)\n            && dom.nodeName.toUpperCase() !== 'CANVAS'\n            && (\n                (!dom.clientWidth && (!opts || opts.width == null))\n                || (!dom.clientHeight && (!opts || opts.height == null))\n            )\n        ) {\n            console.warn('Can\\'t get dom width or height');\n        }\n    }\n\n    var chart = new ECharts(dom, theme, opts);\n    chart.id = 'ec_' + idBase++;\n    instances[chart.id] = chart;\n\n    if (dom.setAttribute) {\n        dom.setAttribute(DOM_ATTRIBUTE_KEY, chart.id);\n    }\n    else {\n        dom[DOM_ATTRIBUTE_KEY] = chart.id;\n    }\n\n    enableConnect(chart);\n\n    return chart;\n}\n\n/**\n * @return {string|Array.<module:echarts~ECharts>} groupId\n */\nfunction connect(groupId) {\n    // Is array of charts\n    if (isArray(groupId)) {\n        var charts = groupId;\n        groupId = null;\n        // If any chart has group\n        each$1(charts, function (chart) {\n            if (chart.group != null) {\n                groupId = chart.group;\n            }\n        });\n        groupId = groupId || ('g_' + groupIdBase++);\n        each$1(charts, function (chart) {\n            chart.group = groupId;\n        });\n    }\n    connectedGroups[groupId] = true;\n    return groupId;\n}\n\n/**\n * @DEPRECATED\n * @return {string} groupId\n */\nfunction disConnect(groupId) {\n    connectedGroups[groupId] = false;\n}\n\n/**\n * @return {string} groupId\n */\nvar disconnect = disConnect;\n\n/**\n * Dispose a chart instance\n * @param  {module:echarts~ECharts|HTMLDomElement|string} chart\n */\nfunction dispose(chart) {\n    if (typeof chart === 'string') {\n        chart = instances[chart];\n    }\n    else if (!(chart instanceof ECharts)){\n        // Try to treat as dom\n        chart = getInstanceByDom(chart);\n    }\n    if ((chart instanceof ECharts) && !chart.isDisposed()) {\n        chart.dispose();\n    }\n}\n\n/**\n * @param  {HTMLElement} dom\n * @return {echarts~ECharts}\n */\nfunction getInstanceByDom(dom) {\n    var key;\n    if (dom.getAttribute) {\n        key = dom.getAttribute(DOM_ATTRIBUTE_KEY);\n    }\n    else {\n        key = dom[DOM_ATTRIBUTE_KEY];\n    }\n    return instances[key];\n}\n\n/**\n * @param {string} key\n * @return {echarts~ECharts}\n */\nfunction getInstanceById(key) {\n    return instances[key];\n}\n\n/**\n * Register theme\n */\nfunction registerTheme(name, theme) {\n    themeStorage[name] = theme;\n}\n\n/**\n * Register option preprocessor\n * @param {Function} preprocessorFunc\n */\nfunction registerPreprocessor(preprocessorFunc) {\n    optionPreprocessorFuncs.push(preprocessorFunc);\n}\n\n/**\n * @param {number} [priority=1000]\n * @param {Function} processorFunc\n */\nfunction registerProcessor(priority, processorFunc) {\n    if (typeof priority === 'function') {\n        processorFunc = priority;\n        priority = PRIORITY_PROCESSOR_FILTER;\n    }\n    if (__DEV__) {\n        if (isNaN(priority)) {\n            throw new Error('Unkown processor priority');\n        }\n    }\n    dataProcessorFuncs.push({\n        prio: priority,\n        func: processorFunc\n    });\n}\n\n/**\n * Register postUpdater\n * @param {Function} postUpdateFunc\n */\nfunction registerPostUpdate(postUpdateFunc) {\n    postUpdateFuncs.push(postUpdateFunc);\n}\n\n/**\n * Usage:\n * registerAction('someAction', 'someEvent', function () { ... });\n * registerAction('someAction', function () { ... });\n * registerAction(\n *     {type: 'someAction', event: 'someEvent', update: 'updateView'},\n *     function () { ... }\n * );\n *\n * @param {(string|Object)} actionInfo\n * @param {string} actionInfo.type\n * @param {string} [actionInfo.event]\n * @param {string} [actionInfo.update]\n * @param {string} [eventName]\n * @param {Function} action\n */\nfunction registerAction(actionInfo, eventName, action) {\n    if (typeof eventName === 'function') {\n        action = eventName;\n        eventName = '';\n    }\n    var actionType = isObject(actionInfo)\n        ? actionInfo.type\n        : ([actionInfo, actionInfo = {\n            event: eventName\n        }][0]);\n\n    // Event name is all lowercase\n    actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n    eventName = actionInfo.event;\n\n    // Validate action type and event name.\n    assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n\n    if (!actions[actionType]) {\n        actions[actionType] = {action: action, actionInfo: actionInfo};\n    }\n    eventActionMap[eventName] = actionType;\n}\n\n/**\n * @param {string} type\n * @param {*} CoordinateSystem\n */\nfunction registerCoordinateSystem(type, CoordinateSystem$$1) {\n    CoordinateSystemManager.register(type, CoordinateSystem$$1);\n}\n\n/**\n * Get dimensions of specified coordinate system.\n * @param {string} type\n * @return {Array.<string|Object>}\n */\nfunction getCoordinateSystemDimensions(type) {\n    var coordSysCreator = CoordinateSystemManager.get(type);\n    if (coordSysCreator) {\n        return coordSysCreator.getDimensionsInfo\n                ? coordSysCreator.getDimensionsInfo()\n                : coordSysCreator.dimensions.slice();\n    }\n}\n\n/**\n * Layout is a special stage of visual encoding\n * Most visual encoding like color are common for different chart\n * But each chart has it's own layout algorithm\n *\n * @param {number} [priority=1000]\n * @param {Function} layoutFunc\n */\nfunction registerLayout(priority, layoutFunc) {\n    if (typeof priority === 'function') {\n        layoutFunc = priority;\n        priority = PRIORITY_VISUAL_LAYOUT;\n    }\n    if (__DEV__) {\n        if (isNaN(priority)) {\n            throw new Error('Unkown layout priority');\n        }\n    }\n    visualFuncs.push({\n        prio: priority,\n        func: layoutFunc,\n        isLayout: true\n    });\n}\n\n/**\n * @param {number} [priority=3000]\n * @param {Function} visualFunc\n */\nfunction registerVisual(priority, visualFunc) {\n    if (typeof priority === 'function') {\n        visualFunc = priority;\n        priority = PRIORITY_VISUAL_CHART;\n    }\n    if (__DEV__) {\n        if (isNaN(priority)) {\n            throw new Error('Unkown visual priority');\n        }\n    }\n    visualFuncs.push({\n        prio: priority,\n        func: visualFunc\n    });\n}\n\n/**\n * @param {string} name\n */\nfunction registerLoading(name, loadingFx) {\n    loadingEffects[name] = loadingFx;\n}\n\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\nfunction extendComponentModel(opts/*, superClass*/) {\n    // var Clazz = ComponentModel;\n    // if (superClass) {\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n    // }\n    return ComponentModel.extend(opts);\n}\n\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\nfunction extendComponentView(opts/*, superClass*/) {\n    // var Clazz = ComponentView;\n    // if (superClass) {\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentView.getClass(classType.main, classType.sub, true);\n    // }\n    return Component.extend(opts);\n}\n\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\nfunction extendSeriesModel(opts/*, superClass*/) {\n    // var Clazz = SeriesModel;\n    // if (superClass) {\n    //     superClass = 'series.' + superClass.replace('series.', '');\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n    // }\n    return SeriesModel.extend(opts);\n}\n\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\nfunction extendChartView(opts/*, superClass*/) {\n    // var Clazz = ChartView;\n    // if (superClass) {\n    //     superClass = superClass.replace('series.', '');\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ChartView.getClass(classType.main, true);\n    // }\n    return Chart.extend(opts);\n}\n\n/**\n * ZRender need a canvas context to do measureText.\n * But in node environment canvas may be created by node-canvas.\n * So we need to specify how to create a canvas instead of using document.createElement('canvas')\n *\n * Be careful of using it in the browser.\n *\n * @param {Function} creator\n * @example\n *     var Canvas = require('canvas');\n *     var echarts = require('echarts');\n *     echarts.setCanvasCreator(function () {\n *         // Small size is enough.\n *         return new Canvas(32, 32);\n *     });\n */\nfunction setCanvasCreator(creator) {\n    $override('createCanvas', creator);\n}\n\n/**\n * @param {string} mapName\n * @param {Object|string} geoJson\n * @param {Object} [specialAreas]\n *\n * @example\n *     $.get('USA.json', function (geoJson) {\n *         echarts.registerMap('USA', geoJson);\n *         // Or\n *         echarts.registerMap('USA', {\n *             geoJson: geoJson,\n *             specialAreas: {}\n *         })\n *     });\n */\nfunction registerMap(mapName, geoJson, specialAreas) {\n    if (geoJson.geoJson && !geoJson.features) {\n        specialAreas = geoJson.specialAreas;\n        geoJson = geoJson.geoJson;\n    }\n    if (typeof geoJson === 'string') {\n        geoJson = (typeof JSON !== 'undefined' && JSON.parse)\n            ? JSON.parse(geoJson) : (new Function('return (' + geoJson + ');'))();\n    }\n    mapDataStores[mapName] = {\n        geoJson: geoJson,\n        specialAreas: specialAreas\n    };\n}\n\n/**\n * @param {string} mapName\n * @return {Object}\n */\nfunction getMap(mapName) {\n    return mapDataStores[mapName];\n}\n\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesColor);\nregisterPreprocessor(backwardCompat);\nregisterLoading('default', loadingDefault);\n\n// Default actions\n\nregisterAction({\n    type: 'highlight',\n    event: 'highlight',\n    update: 'highlight'\n}, noop);\n\nregisterAction({\n    type: 'downplay',\n    event: 'downplay',\n    update: 'downplay'\n}, noop);\n\n\n// For backward compatibility, where the namespace `dataTool` will\n// be mounted on `echarts` is the extension `dataTool` is imported.\nvar dataTool = {};\n\nfunction defaultKeyGetter(item) {\n    return item;\n}\n\n/**\n * @param {Array} oldArr\n * @param {Array} newArr\n * @param {Function} oldKeyGetter\n * @param {Function} newKeyGetter\n * @param {Object} [context] Can be visited by this.context in callback.\n */\nfunction DataDiffer(oldArr, newArr, oldKeyGetter, newKeyGetter, context) {\n    this._old = oldArr;\n    this._new = newArr;\n\n    this._oldKeyGetter = oldKeyGetter || defaultKeyGetter;\n    this._newKeyGetter = newKeyGetter || defaultKeyGetter;\n\n    this.context = context;\n}\n\nDataDiffer.prototype = {\n\n    constructor: DataDiffer,\n\n    /**\n     * Callback function when add a data\n     */\n    add: function (func) {\n        this._add = func;\n        return this;\n    },\n\n    /**\n     * Callback function when update a data\n     */\n    update: function (func) {\n        this._update = func;\n        return this;\n    },\n\n    /**\n     * Callback function when remove a data\n     */\n    remove: function (func) {\n        this._remove = func;\n        return this;\n    },\n\n    execute: function () {\n        var oldArr = this._old;\n        var newArr = this._new;\n\n        var oldDataIndexMap = {};\n        var newDataIndexMap = {};\n        var oldDataKeyArr = [];\n        var newDataKeyArr = [];\n        var i;\n\n        initIndexMap(oldArr, oldDataIndexMap, oldDataKeyArr, '_oldKeyGetter', this);\n        initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter', this);\n\n        // Travel by inverted order to make sure order consistency\n        // when duplicate keys exists (consider newDataIndex.pop() below).\n        // For performance consideration, these code below do not look neat.\n        for (i = 0; i < oldArr.length; i++) {\n            var key = oldDataKeyArr[i];\n            var idx = newDataIndexMap[key];\n\n            // idx can never be empty array here. see 'set null' logic below.\n            if (idx != null) {\n                // Consider there is duplicate key (for example, use dataItem.name as key).\n                // We should make sure every item in newArr and oldArr can be visited.\n                var len = idx.length;\n                if (len) {\n                    len === 1 && (newDataIndexMap[key] = null);\n                    idx = idx.unshift();\n                }\n                else {\n                    newDataIndexMap[key] = null;\n                }\n                this._update && this._update(idx, i);\n            }\n            else {\n                this._remove && this._remove(i);\n            }\n        }\n\n        for (var i = 0; i < newDataKeyArr.length; i++) {\n            var key = newDataKeyArr[i];\n            if (newDataIndexMap.hasOwnProperty(key)) {\n                var idx = newDataIndexMap[key];\n                if (idx == null) {\n                    continue;\n                }\n                // idx can never be empty array here. see 'set null' logic above.\n                if (!idx.length) {\n                    this._add && this._add(idx);\n                }\n                else {\n                    for (var j = 0, len = idx.length; j < len; j++) {\n                        this._add && this._add(idx[j]);\n                    }\n                }\n            }\n        }\n    }\n};\n\nfunction initIndexMap(arr, map, keyArr, keyGetterName, dataDiffer) {\n    for (var i = 0; i < arr.length; i++) {\n        // Add prefix to avoid conflict with Object.prototype.\n        var key = '_ec_' + dataDiffer[keyGetterName](arr[i], i);\n        var existence = map[key];\n        if (existence == null) {\n            keyArr.push(key);\n            map[key] = i;\n        }\n        else {\n            if (!existence.length) {\n                map[key] = existence = [existence];\n            }\n            existence.push(i);\n        }\n    }\n}\n\n/**\n * List for data storage\n * @module echarts/data/List\n */\n\nvar isObject$4 = isObject;\n\nvar UNDEFINED = 'undefined';\nvar globalObj = typeof window === UNDEFINED ? global : window;\n\nvar dataCtors = {\n    'float': typeof globalObj.Float64Array === UNDEFINED\n        ? Array : globalObj.Float64Array,\n    'int': typeof globalObj.Int32Array === UNDEFINED\n        ? Array : globalObj.Int32Array,\n    // Ordinal data type can be string or int\n    'ordinal': Array,\n    'number': Array,\n    'time': Array\n};\n\nvar TRANSFERABLE_PROPERTIES = [\n    'stackedOn', 'hasItemOption', '_nameList', '_idList', '_rawData'\n];\n\nfunction transferProperties(a, b) {\n    each$1(TRANSFERABLE_PROPERTIES.concat(b.__wrappedMethods || []), function (propName) {\n        if (b.hasOwnProperty(propName)) {\n            a[propName] = b[propName];\n        }\n    });\n\n    a.__wrappedMethods = b.__wrappedMethods;\n}\n\nfunction DefaultDataProvider(dataArray) {\n    this._array = dataArray || [];\n}\n\nDefaultDataProvider.prototype.pure = false;\n\nDefaultDataProvider.prototype.count = function () {\n    return this._array.length;\n};\nDefaultDataProvider.prototype.getItem = function (idx) {\n    return this._array[idx];\n};\n\n/**\n * @constructor\n * @alias module:echarts/data/List\n *\n * @param {Array.<string|Object>} dimensions\n *      For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].\n *      Dimensions should be concrete names like x, y, z, lng, lat, angle, radius\n * @param {module:echarts/model/Model} hostModel\n */\nvar List = function (dimensions, hostModel) {\n\n    dimensions = dimensions || ['x', 'y'];\n\n    var dimensionInfos = {};\n    var dimensionNames = [];\n    for (var i = 0; i < dimensions.length; i++) {\n        var dimensionName;\n        var dimensionInfo = {};\n        if (typeof dimensions[i] === 'string') {\n            dimensionName = dimensions[i];\n            dimensionInfo = {\n                name: dimensionName,\n                coordDim: dimensionName,\n                coordDimIndex: 0,\n                stackable: false,\n                // Type can be 'float', 'int', 'number'\n                // Default is number, Precision of float may not enough\n                type: 'number'\n            };\n        }\n        else {\n            dimensionInfo = dimensions[i];\n            dimensionName = dimensionInfo.name;\n            dimensionInfo.type = dimensionInfo.type || 'number';\n            if (!dimensionInfo.coordDim) {\n                dimensionInfo.coordDim = dimensionName;\n                dimensionInfo.coordDimIndex = 0;\n            }\n        }\n        dimensionInfo.otherDims = dimensionInfo.otherDims || {};\n        dimensionNames.push(dimensionName);\n        dimensionInfos[dimensionName] = dimensionInfo;\n    }\n\n    /**\n     * @readOnly\n     * @type {Array.<string>}\n     */\n    this.dimensions = dimensionNames;\n\n    /**\n     * Infomation of each data dimension, like data type.\n     * @type {Object}\n     */\n    this._dimensionInfos = dimensionInfos;\n\n    /**\n     * @type {module:echarts/model/Model}\n     */\n    this.hostModel = hostModel;\n\n    /**\n     * @type {module:echarts/model/Model}\n     */\n    this.dataType;\n\n    /**\n     * Indices stores the indices of data subset after filtered.\n     * This data subset will be used in chart.\n     * @type {Array.<number>}\n     * @readOnly\n     */\n    this.indices = [];\n\n    /**\n     * Data storage\n     * @type {Object.<key, TypedArray|Array>}\n     * @private\n     */\n    this._storage = {};\n\n    /**\n     * @type {Array.<string>}\n     */\n    this._nameList = [];\n    /**\n     * @type {Array.<string>}\n     */\n    this._idList = [];\n\n    /**\n     * Models of data option is stored sparse for optimizing memory cost\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n    this._optionModels = [];\n\n    /**\n     * @param {module:echarts/data/List}\n     */\n    this.stackedOn = null;\n\n    /**\n     * Global visual properties after visual coding\n     * @type {Object}\n     * @private\n     */\n    this._visual = {};\n\n    /**\n     * Globel layout properties.\n     * @type {Object}\n     * @private\n     */\n    this._layout = {};\n\n    /**\n     * Item visual properties after visual coding\n     * @type {Array.<Object>}\n     * @private\n     */\n    this._itemVisuals = [];\n\n    /**\n     * Item layout properties after layout\n     * @type {Array.<Object>}\n     * @private\n     */\n    this._itemLayouts = [];\n\n    /**\n     * Graphic elemnents\n     * @type {Array.<module:zrender/Element>}\n     * @private\n     */\n    this._graphicEls = [];\n\n    /**\n     * @type {Array.<Array|Object>}\n     * @private\n     */\n    this._rawData;\n\n    /**\n     * @type {Object}\n     * @private\n     */\n    this._extent;\n};\n\nvar listProto = List.prototype;\n\nlistProto.type = 'list';\n\n/**\n * If each data item has it's own option\n * @type {boolean}\n */\nlistProto.hasItemOption = true;\n\n/**\n * Get dimension name\n * @param {string|number} dim\n *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n * @return {string} Concrete dim name.\n */\nlistProto.getDimension = function (dim) {\n    if (!isNaN(dim)) {\n        dim = this.dimensions[dim] || dim;\n    }\n    return dim;\n};\n\n/**\n * Get type and stackable info of particular dimension\n * @param {string|number} dim\n *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n */\nlistProto.getDimensionInfo = function (dim) {\n    return clone(this._dimensionInfos[this.getDimension(dim)]);\n};\n\n/**\n * Initialize from data\n * @param {Array.<Object|number|Array>} data\n * @param {Array.<string>} [nameList]\n * @param {Function} [dimValueGetter] (dataItem, dimName, dataIndex, dimIndex) => number\n */\nlistProto.initData = function (data, nameList, dimValueGetter) {\n    data = data || [];\n\n    var isDataArray = isArray(data);\n    if (isDataArray) {\n        data = new DefaultDataProvider(data);\n    }\n    if (__DEV__) {\n        if (!isDataArray && (typeof data.getItem != 'function' || typeof data.count != 'function')) {\n            throw new Error('Inavlid data provider.');\n        }\n    }\n\n    this._rawData = data;\n\n    // Clear\n    var storage = this._storage = {};\n    var indices = this.indices = [];\n\n    var dimensions = this.dimensions;\n    var dimensionInfoMap = this._dimensionInfos;\n\n    var size = data.count();\n\n    var idList = [];\n    var nameRepeatCount = {};\n    var nameDimIdx;\n\n    nameList = nameList || [];\n\n    // Init storage\n    for (var i = 0; i < dimensions.length; i++) {\n        var dimInfo = dimensionInfoMap[dimensions[i]];\n        dimInfo.otherDims.itemName === 0 && (nameDimIdx = i);\n        var DataCtor = dataCtors[dimInfo.type];\n        storage[dimensions[i]] = new DataCtor(size);\n    }\n\n    var self = this;\n    if (!dimValueGetter) {\n        self.hasItemOption = false;\n    }\n    // Default dim value getter\n    dimValueGetter = dimValueGetter || function (dataItem, dimName, dataIndex, dimIndex) {\n        var value = getDataItemValue(dataItem);\n        // If any dataItem is like { value: 10 }\n        if (isDataItemOption(dataItem)) {\n            self.hasItemOption = true;\n        }\n        return converDataValue(\n            (value instanceof Array)\n                ? value[dimIndex]\n                // If value is a single number or something else not array.\n                : value,\n            dimensionInfoMap[dimName]\n        );\n    };\n\n    for (var i = 0; i < size; i++) {\n        // NOTICE: Try not to write things into dataItem\n        var dataItem = data.getItem(i);\n        // Each data item is value\n        // [1, 2]\n        // 2\n        // Bar chart, line chart which uses category axis\n        // only gives the 'y' value. 'x' value is the indices of cateogry\n        // Use a tempValue to normalize the value to be a (x, y) value\n\n        // Store the data by dimensions\n        for (var k = 0; k < dimensions.length; k++) {\n            var dim = dimensions[k];\n            var dimStorage = storage[dim];\n            // PENDING NULL is empty or zero\n            dimStorage[i] = dimValueGetter(dataItem, dim, i, k);\n        }\n\n        indices.push(i);\n    }\n\n    // Use the name in option and create id\n    for (var i = 0; i < size; i++) {\n        var dataItem = data.getItem(i);\n        if (!nameList[i] && dataItem) {\n            if (dataItem.name != null) {\n                nameList[i] = dataItem.name;\n            }\n            else if (nameDimIdx != null) {\n                nameList[i] = storage[dimensions[nameDimIdx]][i];\n            }\n        }\n        var name = nameList[i] || '';\n        // Try using the id in option\n        var id = dataItem && dataItem.id;\n\n        if (!id && name) {\n            // Use name as id and add counter to avoid same name\n            nameRepeatCount[name] = nameRepeatCount[name] || 0;\n            id = name;\n            if (nameRepeatCount[name] > 0) {\n                id += '__ec__' + nameRepeatCount[name];\n            }\n            nameRepeatCount[name]++;\n        }\n        id && (idList[i] = id);\n    }\n\n    this._nameList = nameList;\n    this._idList = idList;\n};\n\n/**\n * @return {number}\n */\nlistProto.count = function () {\n    return this.indices.length;\n};\n\n/**\n * Get value. Return NaN if idx is out of range.\n * @param {string} dim Dim must be concrete name.\n * @param {number} idx\n * @param {boolean} stack\n * @return {number}\n */\nlistProto.get = function (dim, idx, stack) {\n    var storage = this._storage;\n    var dataIndex = this.indices[idx];\n\n    // If value not exists\n    if (dataIndex == null || !storage[dim]) {\n        return NaN;\n    }\n\n    var value = storage[dim][dataIndex];\n    // FIXME ordinal data type is not stackable\n    if (stack) {\n        var dimensionInfo = this._dimensionInfos[dim];\n        if (dimensionInfo && dimensionInfo.stackable) {\n            var stackedOn = this.stackedOn;\n            while (stackedOn) {\n                // Get no stacked data of stacked on\n                var stackedValue = stackedOn.get(dim, idx);\n                // Considering positive stack, negative stack and empty data\n                if ((value >= 0 && stackedValue > 0)  // Positive stack\n                    || (value <= 0 && stackedValue < 0) // Negative stack\n                ) {\n                    value += stackedValue;\n                }\n                stackedOn = stackedOn.stackedOn;\n            }\n        }\n    }\n    return value;\n};\n\n/**\n * Get value for multi dimensions.\n * @param {Array.<string>} [dimensions] If ignored, using all dimensions.\n * @param {number} idx\n * @param {boolean} stack\n * @return {number}\n */\nlistProto.getValues = function (dimensions, idx, stack) {\n    var values = [];\n\n    if (!isArray(dimensions)) {\n        stack = idx;\n        idx = dimensions;\n        dimensions = this.dimensions;\n    }\n\n    for (var i = 0, len = dimensions.length; i < len; i++) {\n        values.push(this.get(dimensions[i], idx, stack));\n    }\n\n    return values;\n};\n\n/**\n * If value is NaN. Inlcuding '-'\n * @param {string} dim\n * @param {number} idx\n * @return {number}\n */\nlistProto.hasValue = function (idx) {\n    var dimensions = this.dimensions;\n    var dimensionInfos = this._dimensionInfos;\n    for (var i = 0, len = dimensions.length; i < len; i++) {\n        if (\n            // Ordinal type can be string or number\n            dimensionInfos[dimensions[i]].type !== 'ordinal'\n            && isNaN(this.get(dimensions[i], idx))\n        ) {\n            return false;\n        }\n    }\n    return true;\n};\n\n/**\n * Get extent of data in one dimension\n * @param {string} dim\n * @param {boolean} stack\n * @param {Function} filter\n */\nlistProto.getDataExtent = function (dim, stack, filter$$1) {\n    dim = this.getDimension(dim);\n    var dimData = this._storage[dim];\n    var dimInfo = this.getDimensionInfo(dim);\n    stack = (dimInfo && dimInfo.stackable) && stack;\n    var dimExtent = (this._extent || (this._extent = {}))[dim + (!!stack)];\n    var value;\n    if (dimExtent) {\n        return dimExtent;\n    }\n    // var dimInfo = this._dimensionInfos[dim];\n    if (dimData) {\n        var min = Infinity;\n        var max = -Infinity;\n        // var isOrdinal = dimInfo.type === 'ordinal';\n        for (var i = 0, len = this.count(); i < len; i++) {\n            value = this.get(dim, i, stack);\n            // FIXME\n            // if (isOrdinal && typeof value === 'string') {\n            //     value = zrUtil.indexOf(dimData, value);\n            // }\n            if (!filter$$1 || filter$$1(value, dim, i)) {\n                value < min && (min = value);\n                value > max && (max = value);\n            }\n        }\n        return (this._extent[dim + !!stack] = [min, max]);\n    }\n    else {\n        return [Infinity, -Infinity];\n    }\n};\n\n/**\n * Get sum of data in one dimension\n * @param {string} dim\n * @param {boolean} stack\n */\nlistProto.getSum = function (dim, stack) {\n    var dimData = this._storage[dim];\n    var sum = 0;\n    if (dimData) {\n        for (var i = 0, len = this.count(); i < len; i++) {\n            var value = this.get(dim, i, stack);\n            if (!isNaN(value)) {\n                sum += value;\n            }\n        }\n    }\n    return sum;\n};\n\n/**\n * Retreive the index with given value\n * @param {number} idx\n * @param {number} value\n * @return {number}\n */\n// FIXME Precision of float value\nlistProto.indexOf = function (dim, value) {\n    var storage = this._storage;\n    var dimData = storage[dim];\n    var indices = this.indices;\n\n    if (dimData) {\n        for (var i = 0, len = indices.length; i < len; i++) {\n            var rawIndex = indices[i];\n            if (dimData[rawIndex] === value) {\n                return i;\n            }\n        }\n    }\n    return -1;\n};\n\n/**\n * Retreive the index with given name\n * @param {number} idx\n * @param {number} name\n * @return {number}\n */\nlistProto.indexOfName = function (name) {\n    var indices = this.indices;\n    var nameList = this._nameList;\n\n    for (var i = 0, len = indices.length; i < len; i++) {\n        var rawIndex = indices[i];\n        if (nameList[rawIndex] === name) {\n            return i;\n        }\n    }\n\n    return -1;\n};\n\n/**\n * Retreive the index with given raw data index\n * @param {number} idx\n * @param {number} name\n * @return {number}\n */\nlistProto.indexOfRawIndex = function (rawIndex) {\n    // Indices are ascending\n    var indices = this.indices;\n\n    // If rawIndex === dataIndex\n    var rawDataIndex = indices[rawIndex];\n    if (rawDataIndex != null && rawDataIndex === rawIndex) {\n        return rawIndex;\n    }\n\n    var left = 0;\n    var right = indices.length - 1;\n    while (left <= right) {\n        var mid = (left + right) / 2 | 0;\n        if (indices[mid] < rawIndex) {\n            left = mid + 1;\n        }\n        else if (indices[mid] > rawIndex) {\n            right = mid - 1;\n        }\n        else {\n            return mid;\n        }\n    }\n    return -1;\n};\n\n/**\n * Retreive the index of nearest value\n * @param {string} dim\n * @param {number} value\n * @param {boolean} stack If given value is after stacked\n * @param {number} [maxDistance=Infinity]\n * @return {Array.<number>} Considere multiple points has the same value.\n */\nlistProto.indicesOfNearest = function (dim, value, stack, maxDistance) {\n    var storage = this._storage;\n    var dimData = storage[dim];\n    var nearestIndices = [];\n\n    if (!dimData) {\n        return nearestIndices;\n    }\n\n    if (maxDistance == null) {\n        maxDistance = Infinity;\n    }\n\n    var minDist = Number.MAX_VALUE;\n    var minDiff = -1;\n    for (var i = 0, len = this.count(); i < len; i++) {\n        var diff = value - this.get(dim, i, stack);\n        var dist = Math.abs(diff);\n        if (diff <= maxDistance && dist <= minDist) {\n            // For the case of two data are same on xAxis, which has sequence data.\n            // Show the nearest index\n            // https://github.com/ecomfe/echarts/issues/2869\n            if (dist < minDist || (diff >= 0 && minDiff < 0)) {\n                minDist = dist;\n                minDiff = diff;\n                nearestIndices.length = 0;\n            }\n            nearestIndices.push(i);\n        }\n    }\n    return nearestIndices;\n};\n\n/**\n * Get raw data index\n * @param {number} idx\n * @return {number}\n */\nlistProto.getRawIndex = function (idx) {\n    var rawIdx = this.indices[idx];\n    return rawIdx == null ? -1 : rawIdx;\n};\n\n/**\n * Get raw data item\n * @param {number} idx\n * @return {number}\n */\nlistProto.getRawDataItem = function (idx) {\n    return this._rawData.getItem(this.getRawIndex(idx));\n};\n\n/**\n * @param {number} idx\n * @param {boolean} [notDefaultIdx=false]\n * @return {string}\n */\nlistProto.getName = function (idx) {\n    return this._nameList[this.indices[idx]] || '';\n};\n\n/**\n * @param {number} idx\n * @param {boolean} [notDefaultIdx=false]\n * @return {string}\n */\nlistProto.getId = function (idx) {\n    return this._idList[this.indices[idx]] || (this.getRawIndex(idx) + '');\n};\n\n\nfunction normalizeDimensions(dimensions) {\n    if (!isArray(dimensions)) {\n        dimensions = [dimensions];\n    }\n    return dimensions;\n}\n\n/**\n * Data iteration\n * @param {string|Array.<string>}\n * @param {Function} cb\n * @param {boolean} [stack=false]\n * @param {*} [context=this]\n *\n * @example\n *  list.each('x', function (x, idx) {});\n *  list.each(['x', 'y'], function (x, y, idx) {});\n *  list.each(function (idx) {})\n */\nlistProto.each = function (dims, cb, stack, context) {\n    if (typeof dims === 'function') {\n        context = stack;\n        stack = cb;\n        cb = dims;\n        dims = [];\n    }\n\n    dims = map(normalizeDimensions(dims), this.getDimension, this);\n\n    var value = [];\n    var dimSize = dims.length;\n    var indices = this.indices;\n\n    context = context || this;\n\n    for (var i = 0; i < indices.length; i++) {\n        // Simple optimization\n        switch (dimSize) {\n            case 0:\n                cb.call(context, i);\n                break;\n            case 1:\n                cb.call(context, this.get(dims[0], i, stack), i);\n                break;\n            case 2:\n                cb.call(context, this.get(dims[0], i, stack), this.get(dims[1], i, stack), i);\n                break;\n            default:\n                for (var k = 0; k < dimSize; k++) {\n                    value[k] = this.get(dims[k], i, stack);\n                }\n                // Index\n                value[k] = i;\n                cb.apply(context, value);\n        }\n    }\n};\n\n/**\n * Data filter\n * @param {string|Array.<string>}\n * @param {Function} cb\n * @param {boolean} [stack=false]\n * @param {*} [context=this]\n */\nlistProto.filterSelf = function (dimensions, cb, stack, context) {\n    if (typeof dimensions === 'function') {\n        context = stack;\n        stack = cb;\n        cb = dimensions;\n        dimensions = [];\n    }\n\n    dimensions = map(\n        normalizeDimensions(dimensions), this.getDimension, this\n    );\n\n    var newIndices = [];\n    var value = [];\n    var dimSize = dimensions.length;\n    var indices = this.indices;\n\n    context = context || this;\n\n    for (var i = 0; i < indices.length; i++) {\n        var keep;\n        // Simple optimization\n        if (!dimSize) {\n            keep = cb.call(context, i);\n        }\n        else if (dimSize === 1) {\n            keep = cb.call(\n                context, this.get(dimensions[0], i, stack), i\n            );\n        }\n        else {\n            for (var k = 0; k < dimSize; k++) {\n                value[k] = this.get(dimensions[k], i, stack);\n            }\n            value[k] = i;\n            keep = cb.apply(context, value);\n        }\n        if (keep) {\n            newIndices.push(indices[i]);\n        }\n    }\n\n    this.indices = newIndices;\n\n    // Reset data extent\n    this._extent = {};\n\n    return this;\n};\n\n/**\n * Data mapping to a plain array\n * @param {string|Array.<string>} [dimensions]\n * @param {Function} cb\n * @param {boolean} [stack=false]\n * @param {*} [context=this]\n * @return {Array}\n */\nlistProto.mapArray = function (dimensions, cb, stack, context) {\n    if (typeof dimensions === 'function') {\n        context = stack;\n        stack = cb;\n        cb = dimensions;\n        dimensions = [];\n    }\n\n    var result = [];\n    this.each(dimensions, function () {\n        result.push(cb && cb.apply(this, arguments));\n    }, stack, context);\n    return result;\n};\n\nfunction cloneListForMapAndSample(original, excludeDimensions) {\n    var allDimensions = original.dimensions;\n    var list = new List(\n        map(allDimensions, original.getDimensionInfo, original),\n        original.hostModel\n    );\n    // FIXME If needs stackedOn, value may already been stacked\n    transferProperties(list, original);\n\n    var storage = list._storage = {};\n    var originalStorage = original._storage;\n    // Init storage\n    for (var i = 0; i < allDimensions.length; i++) {\n        var dim = allDimensions[i];\n        var dimStore = originalStorage[dim];\n        if (indexOf(excludeDimensions, dim) >= 0) {\n            storage[dim] = new dimStore.constructor(\n                originalStorage[dim].length\n            );\n        }\n        else {\n            // Direct reference for other dimensions\n            storage[dim] = originalStorage[dim];\n        }\n    }\n    return list;\n}\n\n/**\n * Data mapping to a new List with given dimensions\n * @param {string|Array.<string>} dimensions\n * @param {Function} cb\n * @param {boolean} [stack=false]\n * @param {*} [context=this]\n * @return {Array}\n */\nlistProto.map = function (dimensions, cb, stack, context) {\n    dimensions = map(\n        normalizeDimensions(dimensions), this.getDimension, this\n    );\n\n    var list = cloneListForMapAndSample(this, dimensions);\n    // Following properties are all immutable.\n    // So we can reference to the same value\n    var indices = list.indices = this.indices;\n\n    var storage = list._storage;\n\n    var tmpRetValue = [];\n    this.each(dimensions, function () {\n        var idx = arguments[arguments.length - 1];\n        var retValue = cb && cb.apply(this, arguments);\n        if (retValue != null) {\n            // a number\n            if (typeof retValue === 'number') {\n                tmpRetValue[0] = retValue;\n                retValue = tmpRetValue;\n            }\n            for (var i = 0; i < retValue.length; i++) {\n                var dim = dimensions[i];\n                var dimStore = storage[dim];\n                var rawIdx = indices[idx];\n                if (dimStore) {\n                    dimStore[rawIdx] = retValue[i];\n                }\n            }\n        }\n    }, stack, context);\n\n    return list;\n};\n\n/**\n * Large data down sampling on given dimension\n * @param {string} dimension\n * @param {number} rate\n * @param {Function} sampleValue\n * @param {Function} sampleIndex Sample index for name and id\n */\nlistProto.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n    var list = cloneListForMapAndSample(this, [dimension]);\n    var storage = this._storage;\n    var targetStorage = list._storage;\n\n    var originalIndices = this.indices;\n    var indices = list.indices = [];\n\n    var frameValues = [];\n    var frameIndices = [];\n    var frameSize = Math.floor(1 / rate);\n\n    var dimStore = targetStorage[dimension];\n    var len = this.count();\n    // Copy data from original data\n    for (var i = 0; i < storage[dimension].length; i++) {\n        targetStorage[dimension][i] = storage[dimension][i];\n    }\n    for (var i = 0; i < len; i += frameSize) {\n        // Last frame\n        if (frameSize > len - i) {\n            frameSize = len - i;\n            frameValues.length = frameSize;\n        }\n        for (var k = 0; k < frameSize; k++) {\n            var idx = originalIndices[i + k];\n            frameValues[k] = dimStore[idx];\n            frameIndices[k] = idx;\n        }\n        var value = sampleValue(frameValues);\n        var idx = frameIndices[sampleIndex(frameValues, value) || 0];\n        // Only write value on the filtered data\n        dimStore[idx] = value;\n        indices.push(idx);\n    }\n\n    return list;\n};\n\n/**\n * Get model of one data item.\n *\n * @param {number} idx\n */\n// FIXME Model proxy ?\nlistProto.getItemModel = function (idx) {\n    var hostModel = this.hostModel;\n    idx = this.indices[idx];\n    return new Model(this._rawData.getItem(idx), hostModel, hostModel && hostModel.ecModel);\n};\n\n/**\n * Create a data differ\n * @param {module:echarts/data/List} otherList\n * @return {module:echarts/data/DataDiffer}\n */\nlistProto.diff = function (otherList) {\n    var idList = this._idList;\n    var otherIdList = otherList && otherList._idList;\n    var val;\n    // Use prefix to avoid index to be the same as otherIdList[idx],\n    // which will cause weird udpate animation.\n    var prefix = 'e\\0\\0';\n\n    return new DataDiffer(\n        otherList ? otherList.indices : [],\n        this.indices,\n        function (idx) {\n            return (val = otherIdList[idx]) != null ? val : prefix + idx;\n        },\n        function (idx) {\n            return (val = idList[idx]) != null ? val : prefix + idx;\n        }\n    );\n};\n/**\n * Get visual property.\n * @param {string} key\n */\nlistProto.getVisual = function (key) {\n    var visual = this._visual;\n    return visual && visual[key];\n};\n\n/**\n * Set visual property\n * @param {string|Object} key\n * @param {*} [value]\n *\n * @example\n *  setVisual('color', color);\n *  setVisual({\n *      'color': color\n *  });\n */\nlistProto.setVisual = function (key, val) {\n    if (isObject$4(key)) {\n        for (var name in key) {\n            if (key.hasOwnProperty(name)) {\n                this.setVisual(name, key[name]);\n            }\n        }\n        return;\n    }\n    this._visual = this._visual || {};\n    this._visual[key] = val;\n};\n\n/**\n * Set layout property.\n * @param {string|Object} key\n * @param {*} [val]\n */\nlistProto.setLayout = function (key, val) {\n    if (isObject$4(key)) {\n        for (var name in key) {\n            if (key.hasOwnProperty(name)) {\n                this.setLayout(name, key[name]);\n            }\n        }\n        return;\n    }\n    this._layout[key] = val;\n};\n\n/**\n * Get layout property.\n * @param  {string} key.\n * @return {*}\n */\nlistProto.getLayout = function (key) {\n    return this._layout[key];\n};\n\n/**\n * Get layout of single data item\n * @param {number} idx\n */\nlistProto.getItemLayout = function (idx) {\n    return this._itemLayouts[idx];\n};\n\n/**\n * Set layout of single data item\n * @param {number} idx\n * @param {Object} layout\n * @param {boolean=} [merge=false]\n */\nlistProto.setItemLayout = function (idx, layout, merge$$1) {\n    this._itemLayouts[idx] = merge$$1\n        ? extend(this._itemLayouts[idx] || {}, layout)\n        : layout;\n};\n\n/**\n * Clear all layout of single data item\n */\nlistProto.clearItemLayouts = function () {\n    this._itemLayouts.length = 0;\n};\n\n/**\n * Get visual property of single data item\n * @param {number} idx\n * @param {string} key\n * @param {boolean} [ignoreParent=false]\n */\nlistProto.getItemVisual = function (idx, key, ignoreParent) {\n    var itemVisual = this._itemVisuals[idx];\n    var val = itemVisual && itemVisual[key];\n    if (val == null && !ignoreParent) {\n        // Use global visual property\n        return this.getVisual(key);\n    }\n    return val;\n};\n\n/**\n * Set visual property of single data item\n *\n * @param {number} idx\n * @param {string|Object} key\n * @param {*} [value]\n *\n * @example\n *  setItemVisual(0, 'color', color);\n *  setItemVisual(0, {\n *      'color': color\n *  });\n */\nlistProto.setItemVisual = function (idx, key, value) {\n    var itemVisual = this._itemVisuals[idx] || {};\n    this._itemVisuals[idx] = itemVisual;\n\n    if (isObject$4(key)) {\n        for (var name in key) {\n            if (key.hasOwnProperty(name)) {\n                itemVisual[name] = key[name];\n            }\n        }\n        return;\n    }\n    itemVisual[key] = value;\n};\n\n/**\n * Clear itemVisuals and list visual.\n */\nlistProto.clearAllVisual = function () {\n    this._visual = {};\n    this._itemVisuals = [];\n};\n\nvar setItemDataAndSeriesIndex = function (child) {\n    child.seriesIndex = this.seriesIndex;\n    child.dataIndex = this.dataIndex;\n    child.dataType = this.dataType;\n};\n/**\n * Set graphic element relative to data. It can be set as null\n * @param {number} idx\n * @param {module:zrender/Element} [el]\n */\nlistProto.setItemGraphicEl = function (idx, el) {\n    var hostModel = this.hostModel;\n\n    if (el) {\n        // Add data index and series index for indexing the data by element\n        // Useful in tooltip\n        el.dataIndex = idx;\n        el.dataType = this.dataType;\n        el.seriesIndex = hostModel && hostModel.seriesIndex;\n        if (el.type === 'group') {\n            el.traverse(setItemDataAndSeriesIndex, el);\n        }\n    }\n\n    this._graphicEls[idx] = el;\n};\n\n/**\n * @param {number} idx\n * @return {module:zrender/Element}\n */\nlistProto.getItemGraphicEl = function (idx) {\n    return this._graphicEls[idx];\n};\n\n/**\n * @param {Function} cb\n * @param {*} context\n */\nlistProto.eachItemGraphicEl = function (cb, context) {\n    each$1(this._graphicEls, function (el, idx) {\n        if (el) {\n            cb && cb.call(context, el, idx);\n        }\n    });\n};\n\n/**\n * Shallow clone a new list except visual and layout properties, and graph elements.\n * New list only change the indices.\n */\nlistProto.cloneShallow = function () {\n    var dimensionInfoList = map(this.dimensions, this.getDimensionInfo, this);\n    var list = new List(dimensionInfoList, this.hostModel);\n\n    // FIXME\n    list._storage = this._storage;\n\n    transferProperties(list, this);\n\n\n    // Clone will not change the data extent and indices\n    list.indices = this.indices.slice();\n\n    if (this._extent) {\n        list._extent = extend({}, this._extent);\n    }\n\n    return list;\n};\n\n/**\n * Wrap some method to add more feature\n * @param {string} methodName\n * @param {Function} injectFunction\n */\nlistProto.wrapMethod = function (methodName, injectFunction) {\n    var originalMethod = this[methodName];\n    if (typeof originalMethod !== 'function') {\n        return;\n    }\n    this.__wrappedMethods = this.__wrappedMethods || [];\n    this.__wrappedMethods.push(methodName);\n    this[methodName] = function () {\n        var res = originalMethod.apply(this, arguments);\n        return injectFunction.apply(this, [res].concat(slice(arguments)));\n    };\n};\n\n// Methods that create a new list based on this list should be listed here.\n// Notice that those method should `RETURN` the new list.\nlistProto.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'map'];\n// Methods that change indices of this list should be listed here.\nlistProto.CHANGABLE_METHODS = ['filterSelf'];\n\n/**\n * Complete dimensions by data (guess dimension).\n */\n\nvar each$7 = each$1;\nvar isString$1 = isString;\nvar defaults$1 = defaults;\n\nvar OTHER_DIMS = {tooltip: 1, label: 1, itemName: 1};\n\n/**\n * Complete the dimensions array, by user defined `dimension` and `encode`,\n * and guessing from the data structure.\n * If no 'value' dimension specified, the first no-named dimension will be\n * named as 'value'.\n *\n * @param {Array.<string>} sysDims Necessary dimensions, like ['x', 'y'], which\n *      provides not only dim template, but also default order.\n *      `name` of each item provides default coord name.\n *      [{dimsDef: []}, ...] can be specified to give names.\n * @param {Array} data Data list. [[1, 2, 3], [2, 3, 4]].\n * @param {Object} [opt]\n * @param {Array.<Object|string>} [opt.dimsDef] option.series.dimensions User defined dimensions\n *      For example: ['asdf', {name, type}, ...].\n * @param {Object} [opt.encodeDef] option.series.encode {x: 2, y: [3, 1], tooltip: [1, 2], label: 3}\n * @param {string} [opt.extraPrefix] Prefix of name when filling the left dimensions.\n * @param {string} [opt.extraFromZero] If specified, extra dim names will be:\n *                      extraPrefix + 0, extraPrefix + extraBaseIndex + 1 ...\n *                      If not specified, extra dim names will be:\n *                      extraPrefix, extraPrefix + 0, extraPrefix + 1 ...\n * @param {number} [opt.dimCount] If not specified, guess by the first data item.\n * @return {Array.<Object>} [{\n *      name: string mandatory,\n *      coordDim: string mandatory,\n *      coordDimIndex: number mandatory,\n *      type: string optional,\n *      tooltipName: string optional,\n *      otherDims: {\n *          tooltip: number optional,\n *          label: number optional\n *      },\n *      isExtraCoord: boolean true or undefined.\n *      other props ...\n * }]\n */\nfunction completeDimensions(sysDims, data, opt) {\n    data = data || [];\n    opt = opt || {};\n    sysDims = (sysDims || []).slice();\n    var dimsDef = (opt.dimsDef || []).slice();\n    var encodeDef = createHashMap(opt.encodeDef);\n    var dataDimNameMap = createHashMap();\n    var coordDimNameMap = createHashMap();\n    // var valueCandidate;\n    var result = [];\n\n    var dimCount = opt.dimCount;\n    if (dimCount == null) {\n        var value0 = retrieveValue(data[0]);\n        dimCount = Math.max(\n            isArray(value0) && value0.length || 1,\n            sysDims.length,\n            dimsDef.length\n        );\n        each$7(sysDims, function (sysDimItem) {\n            var sysDimItemDimsDef = sysDimItem.dimsDef;\n            sysDimItemDimsDef && (dimCount = Math.max(dimCount, sysDimItemDimsDef.length));\n        });\n    }\n\n    // Apply user defined dims (`name` and `type`) and init result.\n    for (var i = 0; i < dimCount; i++) {\n        var dimDefItem = isString$1(dimsDef[i]) ? {name: dimsDef[i]} : (dimsDef[i] || {});\n        var userDimName = dimDefItem.name;\n        var resultItem = result[i] = {otherDims: {}};\n        // Name will be applied later for avoiding duplication.\n        if (userDimName != null && dataDimNameMap.get(userDimName) == null) {\n            // Only if `series.dimensions` is defined in option, tooltipName\n            // will be set, and dimension will be diplayed vertically in\n            // tooltip by default.\n            resultItem.name = resultItem.tooltipName = userDimName;\n            dataDimNameMap.set(userDimName, i);\n        }\n        dimDefItem.type != null && (resultItem.type = dimDefItem.type);\n    }\n\n    // Set `coordDim` and `coordDimIndex` by `encodeDef` and normalize `encodeDef`.\n    encodeDef.each(function (dataDims, coordDim) {\n        dataDims = encodeDef.set(coordDim, normalizeToArray(dataDims).slice());\n        each$7(dataDims, function (resultDimIdx, coordDimIndex) {\n            // The input resultDimIdx can be dim name or index.\n            isString$1(resultDimIdx) && (resultDimIdx = dataDimNameMap.get(resultDimIdx));\n            if (resultDimIdx != null && resultDimIdx < dimCount) {\n                dataDims[coordDimIndex] = resultDimIdx;\n                applyDim(result[resultDimIdx], coordDim, coordDimIndex);\n            }\n        });\n    });\n\n    // Apply templetes and default order from `sysDims`.\n    var availDimIdx = 0;\n    each$7(sysDims, function (sysDimItem, sysDimIndex) {\n        var coordDim;\n        var sysDimItem;\n        var sysDimItemDimsDef;\n        var sysDimItemOtherDims;\n        if (isString$1(sysDimItem)) {\n            coordDim = sysDimItem;\n            sysDimItem = {};\n        }\n        else {\n            coordDim = sysDimItem.name;\n            sysDimItem = clone(sysDimItem);\n            // `coordDimIndex` should not be set directly.\n            sysDimItemDimsDef = sysDimItem.dimsDef;\n            sysDimItemOtherDims = sysDimItem.otherDims;\n            sysDimItem.name = sysDimItem.coordDim = sysDimItem.coordDimIndex\n                = sysDimItem.dimsDef = sysDimItem.otherDims = null;\n        }\n\n        var dataDims = normalizeToArray(encodeDef.get(coordDim));\n        // dimensions provides default dim sequences.\n        if (!dataDims.length) {\n            for (var i = 0; i < (sysDimItemDimsDef && sysDimItemDimsDef.length || 1); i++) {\n                while (availDimIdx < result.length && result[availDimIdx].coordDim != null) {\n                    availDimIdx++;\n                }\n                availDimIdx < result.length && dataDims.push(availDimIdx++);\n            }\n        }\n        // Apply templates.\n        each$7(dataDims, function (resultDimIdx, coordDimIndex) {\n            var resultItem = result[resultDimIdx];\n            applyDim(defaults$1(resultItem, sysDimItem), coordDim, coordDimIndex);\n            if (resultItem.name == null && sysDimItemDimsDef) {\n                resultItem.name = resultItem.tooltipName = sysDimItemDimsDef[coordDimIndex];\n            }\n            sysDimItemOtherDims && defaults$1(resultItem.otherDims, sysDimItemOtherDims);\n        });\n    });\n\n    // Make sure the first extra dim is 'value'.\n    var extra = opt.extraPrefix || 'value';\n\n    // Set dim `name` and other `coordDim` and other props.\n    for (var resultDimIdx = 0; resultDimIdx < dimCount; resultDimIdx++) {\n        var resultItem = result[resultDimIdx] = result[resultDimIdx] || {};\n        var coordDim = resultItem.coordDim;\n\n        coordDim == null && (\n            resultItem.coordDim = genName(extra, coordDimNameMap, opt.extraFromZero),\n            resultItem.coordDimIndex = 0,\n            resultItem.isExtraCoord = true\n        );\n\n        resultItem.name == null && (resultItem.name = genName(\n            resultItem.coordDim,\n            dataDimNameMap\n        ));\n\n        resultItem.type == null && guessOrdinal(data, resultDimIdx)\n            && (resultItem.type = 'ordinal');\n    }\n\n    return result;\n\n    function applyDim(resultItem, coordDim, coordDimIndex) {\n        if (OTHER_DIMS[coordDim]) {\n            resultItem.otherDims[coordDim] = coordDimIndex;\n        }\n        else {\n            resultItem.coordDim = coordDim;\n            resultItem.coordDimIndex = coordDimIndex;\n            coordDimNameMap.set(coordDim, true);\n        }\n    }\n\n    function genName(name, map$$1, fromZero) {\n        if (fromZero || map$$1.get(name) != null) {\n            var i = 0;\n            while (map$$1.get(name + i) != null) {\n                i++;\n            }\n            name += i;\n        }\n        map$$1.set(name, true);\n        return name;\n    }\n}\n\n// The rule should not be complex, otherwise user might not\n// be able to known where the data is wrong.\nvar guessOrdinal = completeDimensions.guessOrdinal = function (data, dimIndex) {\n    for (var i = 0, len = data.length; i < len; i++) {\n        var value = retrieveValue(data[i]);\n\n        if (!isArray(value)) {\n            return false;\n        }\n\n        var value = value[dimIndex];\n        // Consider usage convenience, '1', '2' will be treated as \"number\".\n        // `isFinit('')` get `true`.\n        if (value != null && isFinite(value) && value !== '') {\n            return false;\n        }\n        else if (isString$1(value) && value !== '-') {\n            return true;\n        }\n    }\n    return false;\n};\n\nfunction retrieveValue(o) {\n    return isArray(o) ? o : isObject(o) ? o.value: o;\n}\n\nfunction firstDataNotNull(data) {\n    var i = 0;\n    while (i < data.length && data[i] == null) {\n        i++;\n    }\n    return data[i];\n}\nfunction ifNeedCompleteOrdinalData(data) {\n    var sampleItem = firstDataNotNull(data);\n    return sampleItem != null\n        && !isArray(getDataItemValue(sampleItem));\n}\n\n/**\n * Helper function to create a list from option data\n */\nfunction createListFromArray(data, seriesModel, ecModel) {\n    // If data is undefined\n    data = data || [];\n\n    if (__DEV__) {\n        if (!isArray(data)) {\n            throw new Error('Invalid data.');\n        }\n    }\n\n    var coordSysName = seriesModel.get('coordinateSystem');\n    var creator = creators[coordSysName];\n    var registeredCoordSys = CoordinateSystemManager.get(coordSysName);\n    var completeDimOpt = {\n        encodeDef: seriesModel.get('encode'),\n        dimsDef: seriesModel.get('dimensions')\n    };\n\n    // FIXME\n    var axesInfo = creator && creator(data, seriesModel, ecModel, completeDimOpt);\n    var dimensions = axesInfo && axesInfo.dimensions;\n    if (!dimensions) {\n        // Get dimensions from registered coordinate system\n        dimensions = (registeredCoordSys && (\n            registeredCoordSys.getDimensionsInfo\n                ? registeredCoordSys.getDimensionsInfo()\n                : registeredCoordSys.dimensions.slice()\n        )) || ['x', 'y'];\n        dimensions = completeDimensions(dimensions, data, completeDimOpt);\n    }\n\n    var categoryIndex = axesInfo ? axesInfo.categoryIndex : -1;\n\n    var list = new List(dimensions, seriesModel);\n\n    var nameList = createNameList(axesInfo, data);\n\n    var categories = {};\n    var dimValueGetter = (categoryIndex >= 0 && ifNeedCompleteOrdinalData(data))\n        ? function (itemOpt, dimName, dataIndex, dimIndex) {\n            // If any dataItem is like { value: 10 }\n            if (isDataItemOption(itemOpt)) {\n                list.hasItemOption = true;\n            }\n\n            // Use dataIndex as ordinal value in categoryAxis\n            return dimIndex === categoryIndex\n                ? dataIndex\n                : converDataValue(getDataItemValue(itemOpt), dimensions[dimIndex]);\n        }\n        : function (itemOpt, dimName, dataIndex, dimIndex) {\n            var value = getDataItemValue(itemOpt);\n            var val = converDataValue(value && value[dimIndex], dimensions[dimIndex]);\n            // If any dataItem is like { value: 10 }\n            if (isDataItemOption(itemOpt)) {\n                list.hasItemOption = true;\n            }\n\n            var categoryAxesModels = axesInfo && axesInfo.categoryAxesModels;\n            if (categoryAxesModels && categoryAxesModels[dimName]) {\n                // If given value is a category string\n                if (typeof val === 'string') {\n                    // Lazy get categories\n                    categories[dimName] = categories[dimName]\n                        || categoryAxesModels[dimName].getCategories();\n                    val = indexOf(categories[dimName], val);\n                    if (val < 0 && !isNaN(val)) {\n                        // In case some one write '1', '2' istead of 1, 2\n                        val = +val;\n                    }\n                }\n            }\n            return val;\n        };\n\n    list.hasItemOption = false;\n    list.initData(data, nameList, dimValueGetter);\n\n    return list;\n}\n\nfunction isStackable(axisType) {\n    return axisType !== 'category' && axisType !== 'time';\n}\n\nfunction getDimTypeByAxis(axisType) {\n    return axisType === 'category'\n        ? 'ordinal'\n        : axisType === 'time'\n        ? 'time'\n        : 'float';\n}\n\n/**\n * Creaters for each coord system.\n */\nvar creators = {\n\n    cartesian2d: function (data, seriesModel, ecModel, completeDimOpt) {\n\n        var axesModels = map(['xAxis', 'yAxis'], function (name) {\n            return ecModel.queryComponents({\n                mainType: name,\n                index: seriesModel.get(name + 'Index'),\n                id: seriesModel.get(name + 'Id')\n            })[0];\n        });\n        var xAxisModel = axesModels[0];\n        var yAxisModel = axesModels[1];\n\n        if (__DEV__) {\n            if (!xAxisModel) {\n                throw new Error('xAxis \"' + retrieve(\n                    seriesModel.get('xAxisIndex'),\n                    seriesModel.get('xAxisId'),\n                    0\n                ) + '\" not found');\n            }\n            if (!yAxisModel) {\n                throw new Error('yAxis \"' + retrieve(\n                    seriesModel.get('xAxisIndex'),\n                    seriesModel.get('yAxisId'),\n                    0\n                ) + '\" not found');\n            }\n        }\n\n        var xAxisType = xAxisModel.get('type');\n        var yAxisType = yAxisModel.get('type');\n\n        var dimensions = [\n            {\n                name: 'x',\n                type: getDimTypeByAxis(xAxisType),\n                stackable: isStackable(xAxisType)\n            },\n            {\n                name: 'y',\n                // If two category axes\n                type: getDimTypeByAxis(yAxisType),\n                stackable: isStackable(yAxisType)\n            }\n        ];\n\n        var isXAxisCateogry = xAxisType === 'category';\n        var isYAxisCategory = yAxisType === 'category';\n\n        dimensions = completeDimensions(dimensions, data, completeDimOpt);\n\n        var categoryAxesModels = {};\n        if (isXAxisCateogry) {\n            categoryAxesModels.x = xAxisModel;\n        }\n        if (isYAxisCategory) {\n            categoryAxesModels.y = yAxisModel;\n        }\n        return {\n            dimensions: dimensions,\n            categoryIndex: isXAxisCateogry ? 0 : (isYAxisCategory ? 1 : -1),\n            categoryAxesModels: categoryAxesModels\n        };\n    },\n\n    singleAxis: function (data, seriesModel, ecModel, completeDimOpt) {\n\n        var singleAxisModel = ecModel.queryComponents({\n            mainType: 'singleAxis',\n            index: seriesModel.get('singleAxisIndex'),\n            id: seriesModel.get('singleAxisId')\n        })[0];\n\n        if (__DEV__) {\n            if (!singleAxisModel) {\n                throw new Error('singleAxis should be specified.');\n            }\n        }\n\n        var singleAxisType = singleAxisModel.get('type');\n        var isCategory = singleAxisType === 'category';\n\n        var dimensions = [{\n            name: 'single',\n            type: getDimTypeByAxis(singleAxisType),\n            stackable: isStackable(singleAxisType)\n        }];\n\n        dimensions = completeDimensions(dimensions, data, completeDimOpt);\n\n        var categoryAxesModels = {};\n        if (isCategory) {\n            categoryAxesModels.single = singleAxisModel;\n        }\n\n        return {\n            dimensions: dimensions,\n            categoryIndex: isCategory ? 0 : -1,\n            categoryAxesModels: categoryAxesModels\n        };\n    },\n\n    polar: function (data, seriesModel, ecModel, completeDimOpt) {\n        var polarModel = ecModel.queryComponents({\n            mainType: 'polar',\n            index: seriesModel.get('polarIndex'),\n            id: seriesModel.get('polarId')\n        })[0];\n\n        var angleAxisModel = polarModel.findAxisModel('angleAxis');\n        var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n\n        if (__DEV__) {\n            if (!angleAxisModel) {\n                throw new Error('angleAxis option not found');\n            }\n            if (!radiusAxisModel) {\n                throw new Error('radiusAxis option not found');\n            }\n        }\n\n        var radiusAxisType = radiusAxisModel.get('type');\n        var angleAxisType = angleAxisModel.get('type');\n\n        var dimensions = [\n            {\n                name: 'radius',\n                type: getDimTypeByAxis(radiusAxisType),\n                stackable: isStackable(radiusAxisType)\n            },\n            {\n                name: 'angle',\n                type: getDimTypeByAxis(angleAxisType),\n                stackable: isStackable(angleAxisType)\n            }\n        ];\n        var isAngleAxisCateogry = angleAxisType === 'category';\n        var isRadiusAxisCateogry = radiusAxisType === 'category';\n\n        dimensions = completeDimensions(dimensions, data, completeDimOpt);\n\n        var categoryAxesModels = {};\n        if (isRadiusAxisCateogry) {\n            categoryAxesModels.radius = radiusAxisModel;\n        }\n        if (isAngleAxisCateogry) {\n            categoryAxesModels.angle = angleAxisModel;\n        }\n        return {\n            dimensions: dimensions,\n            categoryIndex: isAngleAxisCateogry ? 1 : (isRadiusAxisCateogry ? 0 : -1),\n            categoryAxesModels: categoryAxesModels\n        };\n    },\n\n    geo: function (data, seriesModel, ecModel, completeDimOpt) {\n        // TODO Region\n        // \n        return {\n            dimensions: completeDimensions([\n                {name: 'lng'},\n                {name: 'lat'}\n            ], data, completeDimOpt)\n        };\n    }\n};\n\nfunction createNameList(result, data) {\n    var nameList = [];\n\n    var categoryDim = result && result.dimensions[result.categoryIndex];\n    var categoryAxisModel;\n    if (categoryDim) {\n        categoryAxisModel = result.categoryAxesModels[categoryDim.name];\n    }\n\n    if (categoryAxisModel) {\n        // FIXME Two category axis\n        var categories = categoryAxisModel.getCategories();\n        if (categories) {\n            var dataLen = data.length;\n            // Ordered data is given explicitly like\n            // [[3, 0.2], [1, 0.3], [2, 0.15]]\n            // or given scatter data,\n            // pick the category\n            if (isArray(data[0]) && data[0].length > 1) {\n                nameList = [];\n                for (var i = 0; i < dataLen; i++) {\n                    nameList[i] = categories[data[i][result.categoryIndex || 0]];\n                }\n            }\n            else {\n                nameList = categories.slice(0);\n            }\n        }\n    }\n\n    return nameList;\n}\n\n/**\n * // Scale class management\n * @module echarts/scale/Scale\n */\n\n/**\n * @param {Object} [setting]\n */\nfunction Scale(setting) {\n    this._setting = setting || {};\n\n    /**\n     * Extent\n     * @type {Array.<number>}\n     * @protected\n     */\n    this._extent = [Infinity, -Infinity];\n\n    /**\n     * Step is calculated in adjustExtent\n     * @type {Array.<number>}\n     * @protected\n     */\n    this._interval = 0;\n\n    this.init && this.init.apply(this, arguments);\n}\n\n/**\n * Parse input val to valid inner number.\n * @param {*} val\n * @return {number}\n */\nScale.prototype.parse = function (val) {\n    // Notice: This would be a trap here, If the implementation\n    // of this method depends on extent, and this method is used\n    // before extent set (like in dataZoom), it would be wrong.\n    // Nevertheless, parse does not depend on extent generally.\n    return val;\n};\n\nScale.prototype.getSetting = function (name) {\n    return this._setting[name];\n};\n\nScale.prototype.contain = function (val) {\n    var extent = this._extent;\n    return val >= extent[0] && val <= extent[1];\n};\n\n/**\n * Normalize value to linear [0, 1], return 0.5 if extent span is 0\n * @param {number} val\n * @return {number}\n */\nScale.prototype.normalize = function (val) {\n    var extent = this._extent;\n    if (extent[1] === extent[0]) {\n        return 0.5;\n    }\n    return (val - extent[0]) / (extent[1] - extent[0]);\n};\n\n/**\n * Scale normalized value\n * @param {number} val\n * @return {number}\n */\nScale.prototype.scale = function (val) {\n    var extent = this._extent;\n    return val * (extent[1] - extent[0]) + extent[0];\n};\n\n/**\n * Set extent from data\n * @param {Array.<number>} other\n */\nScale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]);\n    // not setExtent because in log axis it may transformed to power\n    // this.setExtent(extent[0], extent[1]);\n};\n\n/**\n * Set extent from data\n * @param {module:echarts/data/List} data\n * @param {string} dim\n */\nScale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getDataExtent(dim, true));\n};\n\n/**\n * Get extent\n * @return {Array.<number>}\n */\nScale.prototype.getExtent = function () {\n    return this._extent.slice();\n};\n\n/**\n * Set extent\n * @param {number} start\n * @param {number} end\n */\nScale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent;\n    if (!isNaN(start)) {\n        thisExtent[0] = start;\n    }\n    if (!isNaN(end)) {\n        thisExtent[1] = end;\n    }\n};\n\n/**\n * @return {Array.<string>}\n */\nScale.prototype.getTicksLabels = function () {\n    var labels = [];\n    var ticks = this.getTicks();\n    for (var i = 0; i < ticks.length; i++) {\n        labels.push(this.getLabel(ticks[i]));\n    }\n    return labels;\n};\n\n/**\n * When axis extent depends on data and no data exists,\n * axis ticks should not be drawn, which is named 'blank'.\n */\nScale.prototype.isBlank = function () {\n    return this._isBlank;\n},\n\n/**\n * When axis extent depends on data and no data exists,\n * axis ticks should not be drawn, which is named 'blank'.\n */\nScale.prototype.setBlank = function (isBlank) {\n    this._isBlank = isBlank;\n};\n\n\nenableClassExtend(Scale);\nenableClassManagement(Scale, {\n    registerWhenExtend: true\n});\n\n/**\n * Linear continuous scale\n * @module echarts/coord/scale/Ordinal\n *\n * http://en.wikipedia.org/wiki/Level_of_measurement\n */\n\n// FIXME only one data\n\nvar scaleProto = Scale.prototype;\n\nvar OrdinalScale = Scale.extend({\n\n    type: 'ordinal',\n\n    init: function (data, extent) {\n        this._data = data;\n        this._extent = extent || [0, data.length - 1];\n    },\n\n    parse: function (val) {\n        return typeof val === 'string'\n            ? indexOf(this._data, val)\n            // val might be float.\n            : Math.round(val);\n    },\n\n    contain: function (rank) {\n        rank = this.parse(rank);\n        return scaleProto.contain.call(this, rank)\n            && this._data[rank] != null;\n    },\n\n    /**\n     * Normalize given rank or name to linear [0, 1]\n     * @param {number|string} [val]\n     * @return {number}\n     */\n    normalize: function (val) {\n        return scaleProto.normalize.call(this, this.parse(val));\n    },\n\n    scale: function (val) {\n        return Math.round(scaleProto.scale.call(this, val));\n    },\n\n    /**\n     * @return {Array}\n     */\n    getTicks: function () {\n        var ticks = [];\n        var extent = this._extent;\n        var rank = extent[0];\n\n        while (rank <= extent[1]) {\n            ticks.push(rank);\n            rank++;\n        }\n\n        return ticks;\n    },\n\n    /**\n     * Get item on rank n\n     * @param {number} n\n     * @return {string}\n     */\n    getLabel: function (n) {\n        return this._data[n];\n    },\n\n    /**\n     * @return {number}\n     */\n    count: function () {\n        return this._extent[1] - this._extent[0] + 1;\n    },\n\n    /**\n     * @override\n     */\n    unionExtentFromData: function (data, dim) {\n        this.unionExtent(data.getDataExtent(dim, false));\n    },\n\n    niceTicks: noop,\n    niceExtent: noop\n});\n\n/**\n * @return {module:echarts/scale/Time}\n */\nOrdinalScale.create = function () {\n    return new OrdinalScale();\n};\n\n/**\n * For testable.\n */\n\nvar roundNumber$1 = round;\n\n/**\n * @param {Array.<number>} extent Both extent[0] and extent[1] should be valid number.\n *                                Should be extent[0] < extent[1].\n * @param {number} splitNumber splitNumber should be >= 1.\n * @param {number} [minInterval]\n * @param {number} [maxInterval]\n * @return {Object} {interval, intervalPrecision, niceTickExtent}\n */\nfunction intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval) {\n    var result = {};\n    var span = extent[1] - extent[0];\n\n    var interval = result.interval = nice(span / splitNumber, true);\n    if (minInterval != null && interval < minInterval) {\n        interval = result.interval = minInterval;\n    }\n    if (maxInterval != null && interval > maxInterval) {\n        interval = result.interval = maxInterval;\n    }\n    // Tow more digital for tick.\n    var precision = result.intervalPrecision = getIntervalPrecision(interval);\n    // Niced extent inside original extent\n    var niceTickExtent = result.niceTickExtent = [\n        roundNumber$1(Math.ceil(extent[0] / interval) * interval, precision),\n        roundNumber$1(Math.floor(extent[1] / interval) * interval, precision)\n    ];\n\n    fixExtent(niceTickExtent, extent);\n\n    return result;\n}\n\n/**\n * @param {number} interval\n * @return {number} interval precision\n */\nfunction getIntervalPrecision(interval) {\n    // Tow more digital for tick.\n    return getPrecisionSafe(interval) + 2;\n}\n\nfunction clamp(niceTickExtent, idx, extent) {\n    niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n}\n\n// In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\nfunction fixExtent(niceTickExtent, extent) {\n    !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n    !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n    clamp(niceTickExtent, 0, extent);\n    clamp(niceTickExtent, 1, extent);\n    if (niceTickExtent[0] > niceTickExtent[1]) {\n        niceTickExtent[0] = niceTickExtent[1];\n    }\n}\n\nfunction intervalScaleGetTicks(interval, extent, niceTickExtent, intervalPrecision) {\n    var ticks = [];\n\n    // If interval is 0, return [];\n    if (!interval) {\n        return ticks;\n    }\n\n    // Consider this case: using dataZoom toolbox, zoom and zoom.\n    var safeLimit = 10000;\n\n    if (extent[0] < niceTickExtent[0]) {\n        ticks.push(extent[0]);\n    }\n    var tick = niceTickExtent[0];\n\n    while (tick <= niceTickExtent[1]) {\n        ticks.push(tick);\n        // Avoid rounding error\n        tick = roundNumber$1(tick + interval, intervalPrecision);\n        if (tick === ticks[ticks.length - 1]) {\n            // Consider out of safe float point, e.g.,\n            // -3711126.9907707 + 2e-10 === -3711126.9907707\n            break;\n        }\n        if (ticks.length > safeLimit) {\n            return [];\n        }\n    }\n    // Consider this case: the last item of ticks is smaller\n    // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n    if (extent[1] > (ticks.length ? ticks[ticks.length - 1] : niceTickExtent[1])) {\n        ticks.push(extent[1]);\n    }\n\n    return ticks;\n}\n\n/**\n * Interval scale\n * @module echarts/scale/Interval\n */\n\n\nvar roundNumber = round;\n\n/**\n * @alias module:echarts/coord/scale/Interval\n * @constructor\n */\nvar IntervalScale = Scale.extend({\n\n    type: 'interval',\n\n    _interval: 0,\n\n    _intervalPrecision: 2,\n\n    setExtent: function (start, end) {\n        var thisExtent = this._extent;\n        //start,end may be a Number like '25',so...\n        if (!isNaN(start)) {\n            thisExtent[0] = parseFloat(start);\n        }\n        if (!isNaN(end)) {\n            thisExtent[1] = parseFloat(end);\n        }\n    },\n\n    unionExtent: function (other) {\n        var extent = this._extent;\n        other[0] < extent[0] && (extent[0] = other[0]);\n        other[1] > extent[1] && (extent[1] = other[1]);\n\n        // unionExtent may called by it's sub classes\n        IntervalScale.prototype.setExtent.call(this, extent[0], extent[1]);\n    },\n    /**\n     * Get interval\n     */\n    getInterval: function () {\n        return this._interval;\n    },\n\n    /**\n     * Set interval\n     */\n    setInterval: function (interval) {\n        this._interval = interval;\n        // Dropped auto calculated niceExtent and use user setted extent\n        // We assume user wan't to set both interval, min, max to get a better result\n        this._niceExtent = this._extent.slice();\n\n        this._intervalPrecision = getIntervalPrecision(interval);\n    },\n\n    /**\n     * @return {Array.<number>}\n     */\n    getTicks: function () {\n        return intervalScaleGetTicks(\n            this._interval, this._extent, this._niceExtent, this._intervalPrecision\n        );\n    },\n\n    /**\n     * @return {Array.<string>}\n     */\n    getTicksLabels: function () {\n        var labels = [];\n        var ticks = this.getTicks();\n        for (var i = 0; i < ticks.length; i++) {\n            labels.push(this.getLabel(ticks[i]));\n        }\n        return labels;\n    },\n\n    /**\n     * @param {number} data\n     * @param {Object} [opt]\n     * @param {number|string} [opt.precision] If 'auto', use nice presision.\n     * @param {boolean} [opt.pad] returns 1.50 but not 1.5 if precision is 2.\n     * @return {string}\n     */\n    getLabel: function (data, opt) {\n        if (data == null) {\n            return '';\n        }\n\n        var precision = opt && opt.precision;\n\n        if (precision == null) {\n            precision = getPrecisionSafe(data) || 0;\n        }\n        else if (precision === 'auto') {\n            // Should be more precise then tick.\n            precision = this._intervalPrecision;\n        }\n\n        // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n        // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n        data = roundNumber(data, precision, true);\n\n        return addCommas(data);\n    },\n\n    /**\n     * Update interval and extent of intervals for nice ticks\n     *\n     * @param {number} [splitNumber = 5] Desired number of ticks\n     * @param {number} [minInterval]\n     * @param {number} [maxInterval]\n     */\n    niceTicks: function (splitNumber, minInterval, maxInterval) {\n        splitNumber = splitNumber || 5;\n        var extent = this._extent;\n        var span = extent[1] - extent[0];\n        if (!isFinite(span)) {\n            return;\n        }\n        // User may set axis min 0 and data are all negative\n        // FIXME If it needs to reverse ?\n        if (span < 0) {\n            span = -span;\n            extent.reverse();\n        }\n\n        var result = intervalScaleNiceTicks(\n            extent, splitNumber, minInterval, maxInterval\n        );\n\n        this._intervalPrecision = result.intervalPrecision;\n        this._interval = result.interval;\n        this._niceExtent = result.niceTickExtent;\n    },\n\n    /**\n     * Nice extent.\n     * @param {Object} opt\n     * @param {number} [opt.splitNumber = 5] Given approx tick number\n     * @param {boolean} [opt.fixMin=false]\n     * @param {boolean} [opt.fixMax=false]\n     * @param {boolean} [opt.minInterval]\n     * @param {boolean} [opt.maxInterval]\n     */\n    niceExtent: function (opt) {\n        var extent = this._extent;\n        // If extent start and end are same, expand them\n        if (extent[0] === extent[1]) {\n            if (extent[0] !== 0) {\n                // Expand extent\n                var expandSize = extent[0];\n                // In the fowllowing case\n                //      Axis has been fixed max 100\n                //      Plus data are all 100 and axis extent are [100, 100].\n                // Extend to the both side will cause expanded max is larger than fixed max.\n                // So only expand to the smaller side.\n                if (!opt.fixMax) {\n                    extent[1] += expandSize / 2;\n                    extent[0] -= expandSize / 2;\n                }\n                else {\n                    extent[0] -= expandSize / 2;\n                }\n            }\n            else {\n                extent[1] = 1;\n            }\n        }\n        var span = extent[1] - extent[0];\n        // If there are no data and extent are [Infinity, -Infinity]\n        if (!isFinite(span)) {\n            extent[0] = 0;\n            extent[1] = 1;\n        }\n\n        this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);\n\n        // var extent = this._extent;\n        var interval = this._interval;\n\n        if (!opt.fixMin) {\n            extent[0] = roundNumber(Math.floor(extent[0] / interval) * interval);\n        }\n        if (!opt.fixMax) {\n            extent[1] = roundNumber(Math.ceil(extent[1] / interval) * interval);\n        }\n    }\n});\n\n/**\n * @return {module:echarts/scale/Time}\n */\nIntervalScale.create = function () {\n    return new IntervalScale();\n};\n\n// [About UTC and local time zone]:\n// In most cases, `number.parseDate` will treat input data string as local time\n// (except time zone is specified in time string). And `format.formateTime` returns\n// local time by default. option.useUTC is false by default. This design have\n// concidered these common case:\n// (1) Time that is persistent in server is in UTC, but it is needed to be diplayed\n// in local time by default.\n// (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n// as its original time, without any time difference.\n\nvar intervalScaleProto = IntervalScale.prototype;\n\nvar mathCeil = Math.ceil;\nvar mathFloor = Math.floor;\nvar ONE_SECOND = 1000;\nvar ONE_MINUTE = ONE_SECOND * 60;\nvar ONE_HOUR = ONE_MINUTE * 60;\nvar ONE_DAY = ONE_HOUR * 24;\n\n// FIXME \nvar bisect = function (a, x, lo, hi) {\n    while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (a[mid][1] < x) {\n            lo = mid + 1;\n        }\n        else {\n            hi  = mid;\n        }\n    }\n    return lo;\n};\n\n/**\n * @alias module:echarts/coord/scale/Time\n * @constructor\n */\nvar TimeScale = IntervalScale.extend({\n    type: 'time',\n\n    /**\n     * @override\n     */\n    getLabel: function (val) {\n        var stepLvl = this._stepLvl;\n\n        var date = new Date(val);\n\n        return formatTime(stepLvl[0], date, this.getSetting('useUTC'));\n    },\n\n    /**\n     * @override\n     */\n    niceExtent: function (opt) {\n        var extent = this._extent;\n        // If extent start and end are same, expand them\n        if (extent[0] === extent[1]) {\n            // Expand extent\n            extent[0] -= ONE_DAY;\n            extent[1] += ONE_DAY;\n        }\n        // If there are no data and extent are [Infinity, -Infinity]\n        if (extent[1] === -Infinity && extent[0] === Infinity) {\n            var d = new Date();\n            extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n            extent[0] = extent[1] - ONE_DAY;\n        }\n\n        this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);\n\n        // var extent = this._extent;\n        var interval = this._interval;\n\n        if (!opt.fixMin) {\n            extent[0] = round(mathFloor(extent[0] / interval) * interval);\n        }\n        if (!opt.fixMax) {\n            extent[1] = round(mathCeil(extent[1] / interval) * interval);\n        }\n    },\n\n    /**\n     * @override\n     */\n    niceTicks: function (approxTickNum, minInterval, maxInterval) {\n        approxTickNum = approxTickNum || 10;\n\n        var extent = this._extent;\n        var span = extent[1] - extent[0];\n        var approxInterval = span / approxTickNum;\n\n        if (minInterval != null && approxInterval < minInterval) {\n            approxInterval = minInterval;\n        }\n        if (maxInterval != null && approxInterval > maxInterval) {\n            approxInterval = maxInterval;\n        }\n\n        var scaleLevelsLen = scaleLevels.length;\n        var idx = bisect(scaleLevels, approxInterval, 0, scaleLevelsLen);\n\n        var level = scaleLevels[Math.min(idx, scaleLevelsLen - 1)];\n        var interval = level[1];\n        // Same with interval scale if span is much larger than 1 year\n        if (level[0] === 'year') {\n            var yearSpan = span / interval;\n\n            // From \"Nice Numbers for Graph Labels\" of Graphic Gems\n            // var niceYearSpan = numberUtil.nice(yearSpan, false);\n            var yearStep = nice(yearSpan / approxTickNum, true);\n\n            interval *= yearStep;\n        }\n\n        var timezoneOffset = this.getSetting('useUTC')\n            ? 0 : (new Date(+extent[0] || +extent[1])).getTimezoneOffset() * 60 * 1000;\n        var niceExtent = [\n            Math.round(mathCeil((extent[0] - timezoneOffset) / interval) * interval + timezoneOffset),\n            Math.round(mathFloor((extent[1] - timezoneOffset) / interval) * interval + timezoneOffset)\n        ];\n\n        fixExtent(niceExtent, extent);\n\n        this._stepLvl = level;\n        // Interval will be used in getTicks\n        this._interval = interval;\n        this._niceExtent = niceExtent;\n    },\n\n    parse: function (val) {\n        // val might be float.\n        return +parseDate(val);\n    }\n});\n\neach$1(['contain', 'normalize'], function (methodName) {\n    TimeScale.prototype[methodName] = function (val) {\n        return intervalScaleProto[methodName].call(this, this.parse(val));\n    };\n});\n\n// Steps from d3\nvar scaleLevels = [\n    // Format              interval\n    ['hh:mm:ss', ONE_SECOND],          // 1s\n    ['hh:mm:ss', ONE_SECOND * 5],      // 5s\n    ['hh:mm:ss', ONE_SECOND * 10],     // 10s\n    ['hh:mm:ss', ONE_SECOND * 15],     // 15s\n    ['hh:mm:ss', ONE_SECOND * 30],     // 30s\n    ['hh:mm\\nMM-dd', ONE_MINUTE],      // 1m\n    ['hh:mm\\nMM-dd', ONE_MINUTE * 5],  // 5m\n    ['hh:mm\\nMM-dd', ONE_MINUTE * 10], // 10m\n    ['hh:mm\\nMM-dd', ONE_MINUTE * 15], // 15m\n    ['hh:mm\\nMM-dd', ONE_MINUTE * 30], // 30m\n    ['hh:mm\\nMM-dd', ONE_HOUR],        // 1h\n    ['hh:mm\\nMM-dd', ONE_HOUR * 2],    // 2h\n    ['hh:mm\\nMM-dd', ONE_HOUR * 6],    // 6h\n    ['hh:mm\\nMM-dd', ONE_HOUR * 12],   // 12h\n    ['MM-dd\\nyyyy', ONE_DAY],          // 1d\n    ['MM-dd\\nyyyy', ONE_DAY * 2],      // 2d\n    ['MM-dd\\nyyyy', ONE_DAY * 3],      // 3d\n    ['MM-dd\\nyyyy', ONE_DAY * 4],      // 4d\n    ['MM-dd\\nyyyy', ONE_DAY * 5],      // 5d\n    ['MM-dd\\nyyyy', ONE_DAY * 6],      // 6d\n    ['week', ONE_DAY * 7],             // 7d\n    ['MM-dd\\nyyyy', ONE_DAY * 10],     // 10d\n    ['week', ONE_DAY * 14],            // 2w\n    ['week', ONE_DAY * 21],            // 3w\n    ['month', ONE_DAY * 31],           // 1M\n    ['week', ONE_DAY * 42],            // 6w\n    ['month', ONE_DAY * 62],           // 2M\n    ['week', ONE_DAY * 42],            // 10w\n    ['quarter', ONE_DAY * 380 / 4],    // 3M\n    ['month', ONE_DAY * 31 * 4],       // 4M\n    ['month', ONE_DAY * 31 * 5],       // 5M\n    ['half-year', ONE_DAY * 380 / 2],  // 6M\n    ['month', ONE_DAY * 31 * 8],       // 8M\n    ['month', ONE_DAY * 31 * 10],      // 10M\n    ['year', ONE_DAY * 380]            // 1Y\n];\n\n/**\n * @param {module:echarts/model/Model}\n * @return {module:echarts/scale/Time}\n */\nTimeScale.create = function (model) {\n    return new TimeScale({useUTC: model.ecModel.get('useUTC')});\n};\n\n/**\n * Log scale\n * @module echarts/scale/Log\n */\n\n// Use some method of IntervalScale\nvar scaleProto$1 = Scale.prototype;\nvar intervalScaleProto$1 = IntervalScale.prototype;\n\nvar getPrecisionSafe$1 = getPrecisionSafe;\nvar roundingErrorFix = round;\n\nvar mathFloor$1 = Math.floor;\nvar mathCeil$1 = Math.ceil;\nvar mathPow$1 = Math.pow;\n\nvar mathLog = Math.log;\n\nvar LogScale = Scale.extend({\n\n    type: 'log',\n\n    base: 10,\n\n    $constructor: function () {\n        Scale.apply(this, arguments);\n        this._originalScale = new IntervalScale();\n    },\n\n    /**\n     * @return {Array.<number>}\n     */\n    getTicks: function () {\n        var originalScale = this._originalScale;\n        var extent = this._extent;\n        var originalExtent = originalScale.getExtent();\n\n        return map(intervalScaleProto$1.getTicks.call(this), function (val) {\n            var powVal = round(mathPow$1(this.base, val));\n\n            // Fix #4158\n            powVal = (val === extent[0] && originalScale.__fixMin)\n                ? fixRoundingError(powVal, originalExtent[0])\n                : powVal;\n            powVal = (val === extent[1] && originalScale.__fixMax)\n                ? fixRoundingError(powVal, originalExtent[1])\n                : powVal;\n\n            return powVal;\n        }, this);\n    },\n\n    /**\n     * @param {number} val\n     * @return {string}\n     */\n    getLabel: intervalScaleProto$1.getLabel,\n\n    /**\n     * @param  {number} val\n     * @return {number}\n     */\n    scale: function (val) {\n        val = scaleProto$1.scale.call(this, val);\n        return mathPow$1(this.base, val);\n    },\n\n    /**\n     * @param {number} start\n     * @param {number} end\n     */\n    setExtent: function (start, end) {\n        var base = this.base;\n        start = mathLog(start) / mathLog(base);\n        end = mathLog(end) / mathLog(base);\n        intervalScaleProto$1.setExtent.call(this, start, end);\n    },\n\n    /**\n     * @return {number} end\n     */\n    getExtent: function () {\n        var base = this.base;\n        var extent = scaleProto$1.getExtent.call(this);\n        extent[0] = mathPow$1(base, extent[0]);\n        extent[1] = mathPow$1(base, extent[1]);\n\n        // Fix #4158\n        var originalScale = this._originalScale;\n        var originalExtent = originalScale.getExtent();\n        originalScale.__fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n        originalScale.__fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n\n        return extent;\n    },\n\n    /**\n     * @param  {Array.<number>} extent\n     */\n    unionExtent: function (extent) {\n        this._originalScale.unionExtent(extent);\n\n        var base = this.base;\n        extent[0] = mathLog(extent[0]) / mathLog(base);\n        extent[1] = mathLog(extent[1]) / mathLog(base);\n        scaleProto$1.unionExtent.call(this, extent);\n    },\n\n    /**\n     * @override\n     */\n    unionExtentFromData: function (data, dim) {\n        this.unionExtent(data.getDataExtent(dim, true, function (val) {\n            return val > 0;\n        }));\n    },\n\n    /**\n     * Update interval and extent of intervals for nice ticks\n     * @param  {number} [approxTickNum = 10] Given approx tick number\n     */\n    niceTicks: function (approxTickNum) {\n        approxTickNum = approxTickNum || 10;\n        var extent = this._extent;\n        var span = extent[1] - extent[0];\n        if (span === Infinity || span <= 0) {\n            return;\n        }\n\n        var interval = quantity(span);\n        var err = approxTickNum / span * interval;\n\n        // Filter ticks to get closer to the desired count.\n        if (err <= 0.5) {\n            interval *= 10;\n        }\n\n        // Interval should be integer\n        while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n            interval *= 10;\n        }\n\n        var niceExtent = [\n            round(mathCeil$1(extent[0] / interval) * interval),\n            round(mathFloor$1(extent[1] / interval) * interval)\n        ];\n\n        this._interval = interval;\n        this._niceExtent = niceExtent;\n    },\n\n    /**\n     * Nice extent.\n     * @override\n     */\n    niceExtent: function (opt) {\n        intervalScaleProto$1.niceExtent.call(this, opt);\n\n        var originalScale = this._originalScale;\n        originalScale.__fixMin = opt.fixMin;\n        originalScale.__fixMax = opt.fixMax;\n    }\n\n});\n\neach$1(['contain', 'normalize'], function (methodName) {\n    LogScale.prototype[methodName] = function (val) {\n        val = mathLog(val) / mathLog(this.base);\n        return scaleProto$1[methodName].call(this, val);\n    };\n});\n\nLogScale.create = function () {\n    return new LogScale();\n};\n\nfunction fixRoundingError(val, originalVal) {\n    return roundingErrorFix(val, getPrecisionSafe$1(originalVal));\n}\n\n/**\n * Get axis scale extent before niced.\n * Item of returned array can only be number (including Infinity and NaN).\n */\nfunction getScaleExtent(scale, model) {\n    var scaleType = scale.type;\n\n    var min = model.getMin();\n    var max = model.getMax();\n    var fixMin = min != null;\n    var fixMax = max != null;\n    var originalExtent = scale.getExtent();\n\n    var axisDataLen;\n    var boundaryGap;\n    var span;\n    if (scaleType === 'ordinal') {\n        axisDataLen = (model.get('data') || []).length;\n    }\n    else {\n        boundaryGap = model.get('boundaryGap');\n        if (!isArray(boundaryGap)) {\n            boundaryGap = [boundaryGap || 0, boundaryGap || 0];\n        }\n        if (typeof boundaryGap[0] === 'boolean') {\n            if (__DEV__) {\n                console.warn('Boolean type for boundaryGap is only '\n                    + 'allowed for ordinal axis. Please use string in '\n                    + 'percentage instead, e.g., \"20%\". Currently, '\n                    + 'boundaryGap is set to be 0.');\n            }\n            boundaryGap = [0, 0];\n        }\n        boundaryGap[0] = parsePercent$1(boundaryGap[0], 1);\n        boundaryGap[1] = parsePercent$1(boundaryGap[1], 1);\n        span = (originalExtent[1] - originalExtent[0])\n            || Math.abs(originalExtent[0]);\n    }\n\n    // Notice: When min/max is not set (that is, when there are null/undefined,\n    // which is the most common case), these cases should be ensured:\n    // (1) For 'ordinal', show all axis.data.\n    // (2) For others:\n    //      + `boundaryGap` is applied (if min/max set, boundaryGap is\n    //      disabled).\n    //      + If `needCrossZero`, min/max should be zero, otherwise, min/max should\n    //      be the result that originalExtent enlarged by boundaryGap.\n    // (3) If no data, it should be ensured that `scale.setBlank` is set.\n\n    // FIXME\n    // (1) When min/max is 'dataMin' or 'dataMax', should boundaryGap be able to used?\n    // (2) When `needCrossZero` and all data is positive/negative, should it be ensured\n    // that the results processed by boundaryGap are positive/negative?\n\n    if (min == null) {\n        min = scaleType === 'ordinal'\n            ? (axisDataLen ? 0 : NaN)\n            : originalExtent[0] - boundaryGap[0] * span;\n    }\n    if (max == null) {\n        max = scaleType === 'ordinal'\n            ? (axisDataLen ? axisDataLen - 1 : NaN)\n            : originalExtent[1] + boundaryGap[1] * span;\n    }\n\n    if (min === 'dataMin') {\n        min = originalExtent[0];\n    }\n    else if (typeof min === 'function') {\n        min = min({\n            min: originalExtent[0],\n            max: originalExtent[1]\n        });\n    }\n\n    if (max === 'dataMax') {\n        max = originalExtent[1];\n    }\n    else if (typeof max === 'function') {\n        max = max({\n            min: originalExtent[0],\n            max: originalExtent[1]\n        });\n    }\n\n    (min == null || !isFinite(min)) && (min = NaN);\n    (max == null || !isFinite(max)) && (max = NaN);\n\n    scale.setBlank(eqNaN(min) || eqNaN(max));\n\n    // Evaluate if axis needs cross zero\n    if (model.getNeedCrossZero()) {\n        // Axis is over zero and min is not set\n        if (min > 0 && max > 0 && !fixMin) {\n            min = 0;\n        }\n        // Axis is under zero and max is not set\n        if (min < 0 && max < 0 && !fixMax) {\n            max = 0;\n        }\n    }\n\n    return [min, max];\n}\n\nfunction niceScaleExtent(scale, model) {\n    var extent = getScaleExtent(scale, model);\n    var fixMin = model.getMin() != null;\n    var fixMax = model.getMax() != null;\n    var splitNumber = model.get('splitNumber');\n\n    if (scale.type === 'log') {\n        scale.base = model.get('logBase');\n    }\n\n    var scaleType = scale.type;\n    scale.setExtent(extent[0], extent[1]);\n    scale.niceExtent({\n        splitNumber: splitNumber,\n        fixMin: fixMin,\n        fixMax: fixMax,\n        minInterval: (scaleType === 'interval' || scaleType === 'time')\n            ? model.get('minInterval') : null,\n        maxInterval: (scaleType === 'interval' || scaleType === 'time')\n            ? model.get('maxInterval') : null\n    });\n\n    // If some one specified the min, max. And the default calculated interval\n    // is not good enough. He can specify the interval. It is often appeared\n    // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n    // to be 60.\n    // FIXME\n    var interval = model.get('interval');\n    if (interval != null) {\n        scale.setInterval && scale.setInterval(interval);\n    }\n}\n\n/**\n * @param {module:echarts/model/Model} model\n * @param {string} [axisType] Default retrieve from model.type\n * @return {module:echarts/scale/*}\n */\nfunction createScaleByModel(model, axisType) {\n    axisType = axisType || model.get('type');\n    if (axisType) {\n        switch (axisType) {\n            // Buildin scale\n            case 'category':\n                return new OrdinalScale(\n                    model.getCategories(), [Infinity, -Infinity]\n                );\n            case 'value':\n                return new IntervalScale();\n            // Extended scale, like time and log\n            default:\n                return (Scale.getClass(axisType) || IntervalScale).create(model);\n        }\n    }\n}\n\n/**\n * Check if the axis corss 0\n */\nfunction ifAxisCrossZero(axis) {\n    var dataExtent = axis.scale.getExtent();\n    var min = dataExtent[0];\n    var max = dataExtent[1];\n    return !((min > 0 && max > 0) || (min < 0 && max < 0));\n}\n\n/**\n * @param {Array.<number>} tickCoords In axis self coordinate.\n * @param {Array.<string>} labels\n * @param {string} font\n * @param {number} axisRotate 0: towards right horizontally, clock-wise is negative.\n * @param {number} [labelRotate=0] 0: towards right horizontally, clock-wise is negative.\n * @return {number}\n */\nfunction getAxisLabelInterval(tickCoords, labels, font, axisRotate, labelRotate) {\n    var textSpaceTakenRect;\n    var autoLabelInterval = 0;\n    var accumulatedLabelInterval = 0;\n    var rotation = (axisRotate - labelRotate) / 180 * Math.PI;\n\n    var step = 1;\n    if (labels.length > 40) {\n        // Simple optimization for large amount of labels\n        step = Math.floor(labels.length / 40);\n    }\n\n    for (var i = 0; i < tickCoords.length; i += step) {\n        var tickCoord = tickCoords[i];\n\n        // Not precise, do not consider align and vertical align\n        // and each distance from axis line yet.\n        var rect = getBoundingRect(\n            labels[i], font, 'center', 'top'\n        );\n        rect.x += tickCoord * Math.cos(rotation);\n        rect.y += tickCoord * Math.sin(rotation);\n\n        // Magic number\n        rect.width *= 1.3;\n        rect.height *= 1.3;\n\n        if (!textSpaceTakenRect) {\n            textSpaceTakenRect = rect.clone();\n        }\n        // There is no space for current label;\n        else if (textSpaceTakenRect.intersect(rect)) {\n            accumulatedLabelInterval++;\n            autoLabelInterval = Math.max(autoLabelInterval, accumulatedLabelInterval);\n        }\n        else {\n            textSpaceTakenRect.union(rect);\n            // Reset\n            accumulatedLabelInterval = 0;\n        }\n    }\n    if (autoLabelInterval === 0 && step > 1) {\n        return step;\n    }\n    return (autoLabelInterval + 1) * step - 1;\n}\n\n/**\n * @param {Object} axis\n * @param {Function} labelFormatter\n * @return {Array.<string>}\n */\nfunction getFormattedLabels(axis, labelFormatter) {\n    var scale = axis.scale;\n    var labels = scale.getTicksLabels();\n    var ticks = scale.getTicks();\n    if (typeof labelFormatter === 'string') {\n        labelFormatter = (function (tpl) {\n            return function (val) {\n                return tpl.replace('{value}', val != null ? val : '');\n            };\n        })(labelFormatter);\n        // Consider empty array\n        return map(labels, labelFormatter);\n    }\n    else if (typeof labelFormatter === 'function') {\n        return map(ticks, function (tick, idx) {\n            return labelFormatter(\n                getAxisRawValue(axis, tick),\n                idx\n            );\n        }, this);\n    }\n    else {\n        return labels;\n    }\n}\n\nfunction getAxisRawValue(axis, value) {\n    // In category axis with data zoom, tick is not the original\n    // index of axis.data. So tick should not be exposed to user\n    // in category axis.\n    return axis.type === 'category' ? axis.scale.getLabel(value) : value;\n}\n\nfunction getName(obj) {\n    if (isObject(obj) && obj.value != null) {\n        return obj.value;\n    }\n    else {\n        return obj + '';\n    }\n}\n\nvar axisModelCommonMixin = {\n\n    /**\n     * Format labels\n     * @return {Array.<string>}\n     */\n    getFormattedLabels: function () {\n        return getFormattedLabels(\n            this.axis,\n            this.get('axisLabel.formatter')\n        );\n    },\n\n    /**\n     * Get categories\n     */\n    getCategories: function () {\n        return this.get('type') === 'category'\n            && map(this.get('data'), getName);\n    },\n\n    /**\n     * @param {boolean} origin\n     * @return {number|string} min value or 'dataMin' or null/undefined (means auto) or NaN\n     */\n    getMin: function (origin) {\n        var option = this.option;\n        var min = (!origin && option.rangeStart != null)\n            ? option.rangeStart : option.min;\n\n        if (this.axis\n            && min != null\n            && min !== 'dataMin'\n            && typeof min !== 'function'\n            && !eqNaN(min)\n        ) {\n            min = this.axis.scale.parse(min);\n        }\n        return min;\n    },\n\n    /**\n     * @param {boolean} origin\n     * @return {number|string} max value or 'dataMax' or null/undefined (means auto) or NaN\n     */\n    getMax: function (origin) {\n        var option = this.option;\n        var max = (!origin && option.rangeEnd != null)\n            ? option.rangeEnd : option.max;\n\n        if (this.axis\n            && max != null\n            && max !== 'dataMax'\n            && typeof max !== 'function'\n            && !eqNaN(max)\n        ) {\n            max = this.axis.scale.parse(max);\n        }\n        return max;\n    },\n\n    /**\n     * @return {boolean}\n     */\n    getNeedCrossZero: function () {\n        var option = this.option;\n        return (option.rangeStart != null || option.rangeEnd != null)\n            ? false : !option.scale;\n    },\n\n    /**\n     * Should be implemented by each axis model if necessary.\n     * @return {module:echarts/model/Component} coordinate system model\n     */\n    getCoordSysModel: noop,\n\n    /**\n     * @param {number} rangeStart Can only be finite number or null/undefined or NaN.\n     * @param {number} rangeEnd Can only be finite number or null/undefined or NaN.\n     */\n    setRange: function (rangeStart, rangeEnd) {\n        this.option.rangeStart = rangeStart;\n        this.option.rangeEnd = rangeEnd;\n    },\n\n    /**\n     * Reset range\n     */\n    resetRange: function () {\n        // rangeStart and rangeEnd is readonly.\n        this.option.rangeStart = this.option.rangeEnd = null;\n    }\n};\n\n// Symbol factory\n\n/**\n * Triangle shape\n * @inner\n */\nvar Triangle = extendShape({\n    type: 'triangle',\n    shape: {\n        cx: 0,\n        cy: 0,\n        width: 0,\n        height: 0\n    },\n    buildPath: function (path, shape) {\n        var cx = shape.cx;\n        var cy = shape.cy;\n        var width = shape.width / 2;\n        var height = shape.height / 2;\n        path.moveTo(cx, cy - height);\n        path.lineTo(cx + width, cy + height);\n        path.lineTo(cx - width, cy + height);\n        path.closePath();\n    }\n});\n\n/**\n * Diamond shape\n * @inner\n */\nvar Diamond = extendShape({\n    type: 'diamond',\n    shape: {\n        cx: 0,\n        cy: 0,\n        width: 0,\n        height: 0\n    },\n    buildPath: function (path, shape) {\n        var cx = shape.cx;\n        var cy = shape.cy;\n        var width = shape.width / 2;\n        var height = shape.height / 2;\n        path.moveTo(cx, cy - height);\n        path.lineTo(cx + width, cy);\n        path.lineTo(cx, cy + height);\n        path.lineTo(cx - width, cy);\n        path.closePath();\n    }\n});\n\n/**\n * Pin shape\n * @inner\n */\nvar Pin = extendShape({\n    type: 'pin',\n    shape: {\n        // x, y on the cusp\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n    },\n\n    buildPath: function (path, shape) {\n        var x = shape.x;\n        var y = shape.y;\n        var w = shape.width / 5 * 3;\n        // Height must be larger than width\n        var h = Math.max(w, shape.height);\n        var r = w / 2;\n\n        // Dist on y with tangent point and circle center\n        var dy = r * r / (h - r);\n        var cy = y - h + r + dy;\n        var angle = Math.asin(dy / r);\n        // Dist on x with tangent point and circle center\n        var dx = Math.cos(angle) * r;\n\n        var tanX = Math.sin(angle);\n        var tanY = Math.cos(angle);\n\n        var cpLen = r * 0.6;\n        var cpLen2 = r * 0.7;\n\n        path.moveTo(x - dx, cy + dy);\n\n        path.arc(\n            x, cy, r,\n            Math.PI - angle,\n            Math.PI * 2 + angle\n        );\n        path.bezierCurveTo(\n            x + dx - tanX * cpLen, cy + dy + tanY * cpLen,\n            x, y - cpLen2,\n            x, y\n        );\n        path.bezierCurveTo(\n            x, y - cpLen2,\n            x - dx + tanX * cpLen, cy + dy + tanY * cpLen,\n            x - dx, cy + dy\n        );\n        path.closePath();\n    }\n});\n\n/**\n * Arrow shape\n * @inner\n */\nvar Arrow = extendShape({\n\n    type: 'arrow',\n\n    shape: {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n    },\n\n    buildPath: function (ctx, shape) {\n        var height = shape.height;\n        var width = shape.width;\n        var x = shape.x;\n        var y = shape.y;\n        var dx = width / 3 * 2;\n        ctx.moveTo(x, y);\n        ctx.lineTo(x + dx, y + height);\n        ctx.lineTo(x, y + height / 4 * 3);\n        ctx.lineTo(x - dx, y + height);\n        ctx.lineTo(x, y);\n        ctx.closePath();\n    }\n});\n\n/**\n * Map of path contructors\n * @type {Object.<string, module:zrender/graphic/Path>}\n */\nvar symbolCtors = {\n\n    line: Line,\n\n    rect: Rect,\n\n    roundRect: Rect,\n\n    square: Rect,\n\n    circle: Circle,\n\n    diamond: Diamond,\n\n    pin: Pin,\n\n    arrow: Arrow,\n\n    triangle: Triangle\n};\n\nvar symbolShapeMakers = {\n\n    line: function (x, y, w, h, shape) {\n        // FIXME\n        shape.x1 = x;\n        shape.y1 = y + h / 2;\n        shape.x2 = x + w;\n        shape.y2 = y + h / 2;\n    },\n\n    rect: function (x, y, w, h, shape) {\n        shape.x = x;\n        shape.y = y;\n        shape.width = w;\n        shape.height = h;\n    },\n\n    roundRect: function (x, y, w, h, shape) {\n        shape.x = x;\n        shape.y = y;\n        shape.width = w;\n        shape.height = h;\n        shape.r = Math.min(w, h) / 4;\n    },\n\n    square: function (x, y, w, h, shape) {\n        var size = Math.min(w, h);\n        shape.x = x;\n        shape.y = y;\n        shape.width = size;\n        shape.height = size;\n    },\n\n    circle: function (x, y, w, h, shape) {\n        // Put circle in the center of square\n        shape.cx = x + w / 2;\n        shape.cy = y + h / 2;\n        shape.r = Math.min(w, h) / 2;\n    },\n\n    diamond: function (x, y, w, h, shape) {\n        shape.cx = x + w / 2;\n        shape.cy = y + h / 2;\n        shape.width = w;\n        shape.height = h;\n    },\n\n    pin: function (x, y, w, h, shape) {\n        shape.x = x + w / 2;\n        shape.y = y + h / 2;\n        shape.width = w;\n        shape.height = h;\n    },\n\n    arrow: function (x, y, w, h, shape) {\n        shape.x = x + w / 2;\n        shape.y = y + h / 2;\n        shape.width = w;\n        shape.height = h;\n    },\n\n    triangle: function (x, y, w, h, shape) {\n        shape.cx = x + w / 2;\n        shape.cy = y + h / 2;\n        shape.width = w;\n        shape.height = h;\n    }\n};\n\nvar symbolBuildProxies = {};\neach$1(symbolCtors, function (Ctor, name) {\n    symbolBuildProxies[name] = new Ctor();\n});\n\nvar SymbolClz = extendShape({\n\n    type: 'symbol',\n\n    shape: {\n        symbolType: '',\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n    },\n\n    beforeBrush: function () {\n        var style = this.style;\n        var shape = this.shape;\n        // FIXME\n        if (shape.symbolType === 'pin' && style.textPosition === 'inside') {\n            style.textPosition = ['50%', '40%'];\n            style.textAlign = 'center';\n            style.textVerticalAlign = 'middle';\n        }\n    },\n\n    buildPath: function (ctx, shape, inBundle) {\n        var symbolType = shape.symbolType;\n        var proxySymbol = symbolBuildProxies[symbolType];\n        if (shape.symbolType !== 'none') {\n            if (!proxySymbol) {\n                // Default rect\n                symbolType = 'rect';\n                proxySymbol = symbolBuildProxies[symbolType];\n            }\n            symbolShapeMakers[symbolType](\n                shape.x, shape.y, shape.width, shape.height, proxySymbol.shape\n            );\n            proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n        }\n    }\n});\n\n// Provide setColor helper method to avoid determine if set the fill or stroke outside\nfunction symbolPathSetColor(color, innerColor) {\n    if (this.type !== 'image') {\n        var symbolStyle = this.style;\n        var symbolShape = this.shape;\n        if (symbolShape && symbolShape.symbolType === 'line') {\n            symbolStyle.stroke = color;\n        }\n        else if (this.__isEmptyBrush) {\n            symbolStyle.stroke = color;\n            symbolStyle.fill = innerColor || '#fff';\n        }\n        else {\n            // FIXME  onlyStroke ?\n            symbolStyle.fill && (symbolStyle.fill = color);\n            symbolStyle.stroke && (symbolStyle.stroke = color);\n        }\n        this.dirty(false);\n    }\n}\n\n/**\n * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n * @param {string} symbolType\n * @param {number} x\n * @param {number} y\n * @param {number} w\n * @param {number} h\n * @param {string} color\n * @param {boolean} [keepAspect=false] whether to keep the ratio of w/h,\n *                            for path and image only.\n */\nfunction createSymbol(symbolType, x, y, w, h, color, keepAspect) {\n    // TODO Support image object, DynamicImage.\n\n    var isEmpty = symbolType.indexOf('empty') === 0;\n    if (isEmpty) {\n        symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n    }\n    var symbolPath;\n\n    if (symbolType.indexOf('image://') === 0) {\n        symbolPath = makeImage(\n            symbolType.slice(8),\n            new BoundingRect(x, y, w, h),\n            keepAspect ? 'center' : 'cover'\n        );\n    }\n    else if (symbolType.indexOf('path://') === 0) {\n        symbolPath = makePath(\n            symbolType.slice(7),\n            {},\n            new BoundingRect(x, y, w, h),\n            keepAspect ? 'center' : 'cover'\n        );\n    }\n    else {\n        symbolPath = new SymbolClz({\n            shape: {\n                symbolType: symbolType,\n                x: x,\n                y: y,\n                width: w,\n                height: h\n            }\n        });\n    }\n\n    symbolPath.__isEmptyBrush = isEmpty;\n\n    symbolPath.setColor = symbolPathSetColor;\n\n    symbolPath.setColor(color);\n\n    return symbolPath;\n}\n\n/**\n * Create a muti dimension List structure from seriesModel.\n * @param  {module:echarts/model/Model} seriesModel\n * @return {module:echarts/data/List} list\n */\nfunction createList(seriesModel) {\n    var data = seriesModel.get('data');\n    return createListFromArray(data, seriesModel, seriesModel.ecModel);\n}\n\n/**\n * Create scale\n * @param {Array.<number>} dataExtent\n * @param {Object|module:echarts/Model} option\n */\nfunction createScale(dataExtent, option) {\n    var axisModel = option;\n    if (!(option instanceof Model)) {\n        axisModel = new Model(option);\n        mixin(axisModel, axisModelCommonMixin);\n    }\n\n    var scale = createScaleByModel(axisModel);\n    scale.setExtent(dataExtent[0], dataExtent[1]);\n\n    niceScaleExtent(scale, axisModel);\n    return scale;\n}\n\n/**\n * Mixin common methods to axis model,\n *\n * Inlcude methods\n * `getFormattedLabels() => Array.<string>`\n * `getCategories() => Array.<string>`\n * `getMin(origin: boolean) => number`\n * `getMax(origin: boolean) => number`\n * `getNeedCrossZero() => boolean`\n * `setRange(start: number, end: number)`\n * `resetRange()`\n */\nfunction mixinAxisModelCommonMethods(Model$$1) {\n    mixin(Model$$1, axisModelCommonMixin);\n}\n\nvar helper = (Object.freeze || Object)({\n\tcreateList: createList,\n\tcreateScale: createScale,\n\tmixinAxisModelCommonMethods: mixinAxisModelCommonMethods,\n\tcompleteDimensions: completeDimensions,\n\tcreateSymbol: createSymbol\n});\n\nvar linearMap$1 = linearMap;\n\nfunction fixExtentWithBands(extent, nTick) {\n    var size = extent[1] - extent[0];\n    var len = nTick;\n    var margin = size / len / 2;\n    extent[0] += margin;\n    extent[1] -= margin;\n}\n\nvar normalizedExtent = [0, 1];\n/**\n * @name module:echarts/coord/CartesianAxis\n * @constructor\n */\nvar Axis = function (dim, scale, extent) {\n\n    /**\n     * Axis dimension. Such as 'x', 'y', 'z', 'angle', 'radius'\n     * @type {string}\n     */\n    this.dim = dim;\n\n    /**\n     * Axis scale\n     * @type {module:echarts/coord/scale/*}\n     */\n    this.scale = scale;\n\n    /**\n     * @type {Array.<number>}\n     * @private\n     */\n    this._extent = extent || [0, 0];\n\n    /**\n     * @type {boolean}\n     */\n    this.inverse = false;\n\n    /**\n     * Usually true when axis has a ordinal scale\n     * @type {boolean}\n     */\n    this.onBand = false;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this._labelInterval;\n};\n\nAxis.prototype = {\n\n    constructor: Axis,\n\n    /**\n     * If axis extent contain given coord\n     * @param {number} coord\n     * @return {boolean}\n     */\n    contain: function (coord) {\n        var extent = this._extent;\n        var min = Math.min(extent[0], extent[1]);\n        var max = Math.max(extent[0], extent[1]);\n        return coord >= min && coord <= max;\n    },\n\n    /**\n     * If axis extent contain given data\n     * @param {number} data\n     * @return {boolean}\n     */\n    containData: function (data) {\n        return this.contain(this.dataToCoord(data));\n    },\n\n    /**\n     * Get coord extent.\n     * @return {Array.<number>}\n     */\n    getExtent: function () {\n        return this._extent.slice();\n    },\n\n    /**\n     * Get precision used for formatting\n     * @param {Array.<number>} [dataExtent]\n     * @return {number}\n     */\n    getPixelPrecision: function (dataExtent) {\n        return getPixelPrecision(\n            dataExtent || this.scale.getExtent(),\n            this._extent\n        );\n    },\n\n    /**\n     * Set coord extent\n     * @param {number} start\n     * @param {number} end\n     */\n    setExtent: function (start, end) {\n        var extent = this._extent;\n        extent[0] = start;\n        extent[1] = end;\n    },\n\n    /**\n     * Convert data to coord. Data is the rank if it has a ordinal scale\n     * @param {number} data\n     * @param  {boolean} clamp\n     * @return {number}\n     */\n    dataToCoord: function (data, clamp) {\n        var extent = this._extent;\n        var scale = this.scale;\n        data = scale.normalize(data);\n\n        if (this.onBand && scale.type === 'ordinal') {\n            extent = extent.slice();\n            fixExtentWithBands(extent, scale.count());\n        }\n\n        return linearMap$1(data, normalizedExtent, extent, clamp);\n    },\n\n    /**\n     * Convert coord to data. Data is the rank if it has a ordinal scale\n     * @param {number} coord\n     * @param  {boolean} clamp\n     * @return {number}\n     */\n    coordToData: function (coord, clamp) {\n        var extent = this._extent;\n        var scale = this.scale;\n\n        if (this.onBand && scale.type === 'ordinal') {\n            extent = extent.slice();\n            fixExtentWithBands(extent, scale.count());\n        }\n\n        var t = linearMap$1(coord, extent, normalizedExtent, clamp);\n\n        return this.scale.scale(t);\n    },\n\n    /**\n     * Convert pixel point to data in axis\n     * @param {Array.<number>} point\n     * @param  {boolean} clamp\n     * @return {number} data\n     */\n    pointToData: function (point, clamp) {\n        // Should be implemented in derived class if necessary.\n    },\n\n    /**\n     * @return {Array.<number>}\n     */\n    getTicksCoords: function (alignWithLabel) {\n        if (this.onBand && !alignWithLabel) {\n            var bands = this.getBands();\n            var coords = [];\n            for (var i = 0; i < bands.length; i++) {\n                coords.push(bands[i][0]);\n            }\n            if (bands[i - 1]) {\n                coords.push(bands[i - 1][1]);\n            }\n            return coords;\n        }\n        else {\n            return map(this.scale.getTicks(), this.dataToCoord, this);\n        }\n    },\n\n    /**\n     * Coords of labels are on the ticks or on the middle of bands\n     * @return {Array.<number>}\n     */\n    getLabelsCoords: function () {\n        return map(this.scale.getTicks(), this.dataToCoord, this);\n    },\n\n    /**\n     * Get bands.\n     *\n     * If axis has labels [1, 2, 3, 4]. Bands on the axis are\n     * |---1---|---2---|---3---|---4---|.\n     *\n     * @return {Array}\n     */\n        // FIXME Situation when labels is on ticks\n    getBands: function () {\n        var extent = this.getExtent();\n        var bands = [];\n        var len = this.scale.count();\n        var start = extent[0];\n        var end = extent[1];\n        var span = end - start;\n\n        for (var i = 0; i < len; i++) {\n            bands.push([\n                span * i / len + start,\n                span * (i + 1) / len + start\n            ]);\n        }\n        return bands;\n    },\n\n    /**\n     * Get width of band\n     * @return {number}\n     */\n    getBandWidth: function () {\n        var axisExtent = this._extent;\n        var dataExtent = this.scale.getExtent();\n\n        var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0);\n        // Fix #2728, avoid NaN when only one data.\n        len === 0 && (len = 1);\n\n        var size = Math.abs(axisExtent[1] - axisExtent[0]);\n\n        return Math.abs(size) / len;\n    },\n\n    /**\n     * @abstract\n     * @return {boolean} Is horizontal\n     */\n    isHorizontal: null,\n\n    /**\n     * @abstract\n     * @return {number} Get axis rotate, by degree.\n     */\n    getRotate: null,\n\n    /**\n     * Get interval of the axis label.\n     * To get precise result, at least one of `getRotate` and `isHorizontal`\n     * should be implemented.\n     * @return {number}\n     */\n    getLabelInterval: function () {\n        var labelInterval = this._labelInterval;\n        if (!labelInterval) {\n            var axisModel = this.model;\n            var labelModel = axisModel.getModel('axisLabel');\n            labelInterval = labelModel.get('interval');\n\n            if (this.type === 'category'\n                && (labelInterval == null || labelInterval === 'auto')\n            ) {\n                labelInterval = getAxisLabelInterval(\n                    map(this.scale.getTicks(), this.dataToCoord, this),\n                    axisModel.getFormattedLabels(),\n                    labelModel.getFont(),\n                    this.getRotate\n                        ? this.getRotate()\n                        : (this.isHorizontal && !this.isHorizontal())\n                        ? 90\n                        : 0,\n                    labelModel.get('rotate')\n                );\n            }\n\n            this._labelInterval = labelInterval;\n        }\n        return labelInterval;\n    }\n\n};\n\nvar EPSILON$3 = 1e-8;\n\nfunction isAroundEqual$1(a, b) {\n    return Math.abs(a - b) < EPSILON$3;\n}\n\nfunction contain$1(points, x, y) {\n    var w = 0;\n    var p = points[0];\n\n    if (!p) {\n        return false;\n    }\n\n    for (var i = 1; i < points.length; i++) {\n        var p2 = points[i];\n        w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n        p = p2;\n    }\n\n    // Close polygon\n    var p0 = points[0];\n    if (!isAroundEqual$1(p[0], p0[0]) || !isAroundEqual$1(p[1], p0[1])) {\n        w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n    }\n\n    return w !== 0;\n}\n\n/**\n * @module echarts/coord/geo/Region\n */\n\n/**\n * @param {string} name\n * @param {Array} geometries\n * @param {Array.<number>} cp\n */\nfunction Region(name, geometries, cp) {\n\n    /**\n     * @type {string}\n     * @readOnly\n     */\n    this.name = name;\n\n    /**\n     * @type {Array.<Array>}\n     * @readOnly\n     */\n    this.geometries = geometries;\n\n    if (!cp) {\n        var rect = this.getBoundingRect();\n        cp = [\n            rect.x + rect.width / 2,\n            rect.y + rect.height / 2\n        ];\n    }\n    else {\n        cp = [cp[0], cp[1]];\n    }\n    /**\n     * @type {Array.<number>}\n     */\n    this.center = cp;\n}\n\nRegion.prototype = {\n\n    constructor: Region,\n\n    properties: null,\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function () {\n        var rect = this._rect;\n        if (rect) {\n            return rect;\n        }\n\n        var MAX_NUMBER = Number.MAX_VALUE;\n        var min$$1 = [MAX_NUMBER, MAX_NUMBER];\n        var max$$1 = [-MAX_NUMBER, -MAX_NUMBER];\n        var min2 = [];\n        var max2 = [];\n        var geometries = this.geometries;\n        for (var i = 0; i < geometries.length; i++) {\n            // Only support polygon\n            if (geometries[i].type !== 'polygon') {\n                continue;\n            }\n            // Doesn't consider hole\n            var exterior = geometries[i].exterior;\n            fromPoints(exterior, min2, max2);\n            min(min$$1, min$$1, min2);\n            max(max$$1, max$$1, max2);\n        }\n        // No data\n        if (i === 0) {\n            min$$1[0] = min$$1[1] = max$$1[0] = max$$1[1] = 0;\n        }\n\n        return (this._rect = new BoundingRect(\n            min$$1[0], min$$1[1], max$$1[0] - min$$1[0], max$$1[1] - min$$1[1]\n        ));\n    },\n\n    /**\n     * @param {<Array.<number>} coord\n     * @return {boolean}\n     */\n    contain: function (coord) {\n        var rect = this.getBoundingRect();\n        var geometries = this.geometries;\n        if (!rect.contain(coord[0], coord[1])) {\n            return false;\n        }\n        loopGeo: for (var i = 0, len$$1 = geometries.length; i < len$$1; i++) {\n            // Only support polygon.\n            if (geometries[i].type !== 'polygon') {\n                continue;\n            }\n            var exterior = geometries[i].exterior;\n            var interiors = geometries[i].interiors;\n            if (contain$1(exterior, coord[0], coord[1])) {\n                // Not in the region if point is in the hole.\n                for (var k = 0; k < (interiors ? interiors.length : 0); k++) {\n                    if (contain$1(interiors[k])) {\n                        continue loopGeo;\n                    }\n                }\n                return true;\n            }\n        }\n        return false;\n    },\n\n    transformTo: function (x, y, width, height) {\n        var rect = this.getBoundingRect();\n        var aspect = rect.width / rect.height;\n        if (!width) {\n            width = aspect * height;\n        }\n        else if (!height) {\n            height = width / aspect ;\n        }\n        var target = new BoundingRect(x, y, width, height);\n        var transform = rect.calculateTransform(target);\n        var geometries = this.geometries;\n        for (var i = 0; i < geometries.length; i++) {\n            // Only support polygon.\n            if (geometries[i].type !== 'polygon') {\n                continue;\n            }\n            var exterior = geometries[i].exterior;\n            var interiors = geometries[i].interiors;\n            for (var p = 0; p < exterior.length; p++) {\n                applyTransform(exterior[p], exterior[p], transform);\n            }\n            for (var h = 0; h < (interiors ? interiors.length : 0); h++) {\n                for (var p = 0; p < interiors[h].length; p++) {\n                    applyTransform(interiors[h][p], interiors[h][p], transform);\n                }\n            }\n        }\n        rect = this._rect;\n        rect.copy(target);\n        // Update center\n        this.center = [\n            rect.x + rect.width / 2,\n            rect.y + rect.height / 2\n        ];\n    }\n};\n\n/**\n * Parse and decode geo json\n * @module echarts/coord/geo/parseGeoJson\n */\n\nfunction decode(json) {\n    if (!json.UTF8Encoding) {\n        return json;\n    }\n    var encodeScale = json.UTF8Scale;\n    if (encodeScale == null) {\n        encodeScale = 1024;\n    }\n\n    var features = json.features;\n\n    for (var f = 0; f < features.length; f++) {\n        var feature = features[f];\n        var geometry = feature.geometry;\n        var coordinates = geometry.coordinates;\n        var encodeOffsets = geometry.encodeOffsets;\n\n        for (var c = 0; c < coordinates.length; c++) {\n            var coordinate = coordinates[c];\n\n            if (geometry.type === 'Polygon') {\n                coordinates[c] = decodePolygon(\n                    coordinate,\n                    encodeOffsets[c],\n                    encodeScale\n                );\n            }\n            else if (geometry.type === 'MultiPolygon') {\n                for (var c2 = 0; c2 < coordinate.length; c2++) {\n                    var polygon = coordinate[c2];\n                    coordinate[c2] = decodePolygon(\n                        polygon,\n                        encodeOffsets[c][c2],\n                        encodeScale\n                    );\n                }\n            }\n        }\n    }\n    // Has been decoded\n    json.UTF8Encoding = false;\n    return json;\n}\n\nfunction decodePolygon(coordinate, encodeOffsets, encodeScale) {\n    var result = [];\n    var prevX = encodeOffsets[0];\n    var prevY = encodeOffsets[1];\n\n    for (var i = 0; i < coordinate.length; i += 2) {\n        var x = coordinate.charCodeAt(i) - 64;\n        var y = coordinate.charCodeAt(i + 1) - 64;\n        // ZigZag decoding\n        x = (x >> 1) ^ (-(x & 1));\n        y = (y >> 1) ^ (-(y & 1));\n        // Delta deocding\n        x += prevX;\n        y += prevY;\n\n        prevX = x;\n        prevY = y;\n        // Dequantize\n        result.push([x / encodeScale, y / encodeScale]);\n    }\n\n    return result;\n}\n\n/**\n * @alias module:echarts/coord/geo/parseGeoJson\n * @param {Object} geoJson\n * @return {module:zrender/container/Group}\n */\nvar parseGeoJson = function (geoJson) {\n\n    decode(geoJson);\n\n    return map(filter(geoJson.features, function (featureObj) {\n        // Output of mapshaper may have geometry null\n        return featureObj.geometry\n            && featureObj.properties\n            && featureObj.geometry.coordinates.length > 0;\n    }), function (featureObj) {\n        var properties = featureObj.properties;\n        var geo = featureObj.geometry;\n\n        var coordinates = geo.coordinates;\n\n        var geometries = [];\n        if (geo.type === 'Polygon') {\n            geometries.push({\n                type: 'polygon',\n                // According to the GeoJSON specification.\n                // First must be exterior, and the rest are all interior(holes).\n                exterior: coordinates[0],\n                interiors: coordinates.slice(1)\n            });\n        }\n        if (geo.type === 'MultiPolygon') {\n            each$1(coordinates, function (item) {\n                if (item[0]) {\n                    geometries.push({\n                        type: 'polygon',\n                        exterior: item[0],\n                        interiors: item.slice(1)\n                    });\n                }\n            });\n        }\n\n        var region = new Region(\n            properties.name,\n            geometries,\n            properties.cp\n        );\n        region.properties = properties;\n        return region;\n    });\n};\n\n/**\n * Do not mount those modules on 'src/echarts' for better tree shaking.\n */\n\nvar ecUtil = {};\neach$1([\n        'map', 'each', 'filter', 'indexOf', 'inherits', 'reduce', 'filter',\n        'bind', 'curry', 'isArray', 'isString', 'isObject', 'isFunction',\n        'extend', 'defaults', 'clone', 'merge'\n    ],\n    function (name) {\n        ecUtil[name] = zrUtil[name];\n    }\n);\n\nSeriesModel.extend({\n\n    type: 'series.line',\n\n    dependencies: ['grid', 'polar'],\n\n    getInitialData: function (option, ecModel) {\n        if (__DEV__) {\n            var coordSys = option.coordinateSystem;\n            if (coordSys !== 'polar' && coordSys !== 'cartesian2d') {\n                throw new Error('Line not support coordinateSystem besides cartesian and polar');\n            }\n        }\n        return createListFromArray(option.data, this, ecModel);\n    },\n\n    defaultOption: {\n        zlevel: 0,                  // \n        z: 2,                       // \n        coordinateSystem: 'cartesian2d',\n        legendHoverLink: true,\n\n        hoverAnimation: true,\n        // stack: null\n        // xAxisIndex: 0,\n        // yAxisIndex: 0,\n\n        // polarIndex: 0,\n\n        // If clip the overflow value\n        clipOverflow: true,\n        // cursor: null,\n\n        label: {\n            normal: {\n                position: 'top'\n            }\n        },\n        // itemStyle: {\n        //     normal: {},\n        //     emphasis: {}\n        // },\n        lineStyle: {\n            normal: {\n                width: 2,\n                type: 'solid'\n            }\n        },\n        // areaStyle: {},\n        // false, 'start', 'end', 'middle'\n        step: false,\n\n        // Disabled if step is true\n        smooth: false,\n        smoothMonotone: null,\n        // \n        symbol: 'emptyCircle',\n        // \n        symbolSize: 4,\n        // \n        symbolRotate: null,\n\n        //  symbol,  tooltip hover \n        showSymbol: true,\n        // \n        showAllSymbol: false,\n\n        // \n        connectNulls: false,\n\n        // 'average', 'max', 'min', 'sum'\n        sampling: 'none',\n\n        animationEasing: 'linear',\n\n        // Disable progressive\n        progressive: 0,\n        hoverLayerThreshold: Infinity\n    }\n});\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\nfunction findLabelValueDim(data) {\n    var valueDim;\n    var labelDims = otherDimToDataDim(data, 'label');\n\n    if (labelDims.length) {\n        valueDim = labelDims[0];\n    }\n    else {\n        // Get last value dim\n        var dimensions = data.dimensions.slice();\n        var dataType;\n        while (dimensions.length && (\n            valueDim = dimensions.pop(),\n            dataType = data.getDimensionInfo(valueDim).type,\n            dataType === 'ordinal' || dataType === 'time'\n        )) {} // jshint ignore:line\n    }\n\n    return valueDim;\n}\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\nfunction getSymbolSize(data, idx) {\n    var symbolSize = data.getItemVisual(idx, 'symbolSize');\n    return symbolSize instanceof Array\n        ? symbolSize.slice()\n        : [+symbolSize, +symbolSize];\n}\n\nfunction getScale(symbolSize) {\n    return [symbolSize[0] / 2, symbolSize[1] / 2];\n}\n\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/Symbol}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\nfunction SymbolClz$1(data, idx, seriesScope) {\n    Group.call(this);\n\n    this.updateData(data, idx, seriesScope);\n}\n\nvar symbolProto = SymbolClz$1.prototype;\n\nfunction driftSymbol(dx, dy) {\n    this.parent.drift(dx, dy);\n}\n\nsymbolProto._createSymbol = function (symbolType, data, idx, symbolSize) {\n    // Remove paths created before\n    this.removeAll();\n\n    var color = data.getItemVisual(idx, 'color');\n\n    // var symbolPath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4150.\n    var symbolPath = createSymbol(\n        symbolType, -1, -1, 2, 2, color\n    );\n\n    symbolPath.attr({\n        z2: 100,\n        culling: true,\n        scale: getScale(symbolSize)\n    });\n    // Rewrite drift method\n    symbolPath.drift = driftSymbol;\n\n    this._symbolType = symbolType;\n\n    this.add(symbolPath);\n};\n\n/**\n * Stop animation\n * @param {boolean} toLastFrame\n */\nsymbolProto.stopSymbolAnimation = function (toLastFrame) {\n    this.childAt(0).stopAnimation(toLastFrame);\n};\n\n/**\n * FIXME:\n * Caution: This method breaks the encapsulation of this module,\n * but it indeed brings convenience. So do not use the method\n * unless you detailedly know all the implements of `Symbol`,\n * especially animation.\n *\n * Get symbol path element.\n */\nsymbolProto.getSymbolPath = function () {\n    return this.childAt(0);\n};\n\n/**\n * Get scale(aka, current symbol size).\n * Including the change caused by animation\n */\nsymbolProto.getScale = function () {\n    return this.childAt(0).scale;\n};\n\n/**\n * Highlight symbol\n */\nsymbolProto.highlight = function () {\n    this.childAt(0).trigger('emphasis');\n};\n\n/**\n * Downplay symbol\n */\nsymbolProto.downplay = function () {\n    this.childAt(0).trigger('normal');\n};\n\n/**\n * @param {number} zlevel\n * @param {number} z\n */\nsymbolProto.setZ = function (zlevel, z) {\n    var symbolPath = this.childAt(0);\n    symbolPath.zlevel = zlevel;\n    symbolPath.z = z;\n};\n\nsymbolProto.setDraggable = function (draggable) {\n    var symbolPath = this.childAt(0);\n    symbolPath.draggable = draggable;\n    symbolPath.cursor = draggable ? 'move' : 'pointer';\n};\n\n/**\n * Update symbol properties\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Object} [seriesScope]\n * @param {Object} [seriesScope.itemStyle]\n * @param {Object} [seriesScope.hoverItemStyle]\n * @param {Object} [seriesScope.symbolRotate]\n * @param {Object} [seriesScope.symbolOffset]\n * @param {module:echarts/model/Model} [seriesScope.labelModel]\n * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n * @param {boolean} [seriesScope.hoverAnimation]\n * @param {Object} [seriesScope.cursorStyle]\n * @param {module:echarts/model/Model} [seriesScope.itemModel]\n * @param {string} [seriesScope.symbolInnerColor]\n * @param {Object} [seriesScope.fadeIn=false]\n */\nsymbolProto.updateData = function (data, idx, seriesScope) {\n    this.silent = false;\n\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n    var seriesModel = data.hostModel;\n    var symbolSize = getSymbolSize(data, idx);\n    var isInit = symbolType !== this._symbolType;\n\n    if (isInit) {\n        this._createSymbol(symbolType, data, idx, symbolSize);\n    }\n    else {\n        var symbolPath = this.childAt(0);\n        symbolPath.silent = false;\n        updateProps(symbolPath, {\n            scale: getScale(symbolSize)\n        }, seriesModel, idx);\n    }\n\n    this._updateCommon(data, idx, symbolSize, seriesScope);\n\n    if (isInit) {\n        var symbolPath = this.childAt(0);\n        var fadeIn = seriesScope && seriesScope.fadeIn;\n\n        var target = {scale: symbolPath.scale.slice()};\n        fadeIn && (target.style = {opacity: symbolPath.style.opacity});\n\n        symbolPath.scale = [0, 0];\n        fadeIn && (symbolPath.style.opacity = 0);\n\n        initProps(symbolPath, target, seriesModel, idx);\n    }\n\n    this._seriesModel = seriesModel;\n};\n\n// Update common properties\nvar normalStyleAccessPath = ['itemStyle', 'normal'];\nvar emphasisStyleAccessPath = ['itemStyle', 'emphasis'];\nvar normalLabelAccessPath = ['label', 'normal'];\nvar emphasisLabelAccessPath = ['label', 'emphasis'];\n\n/**\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Array.<number>} symbolSize\n * @param {Object} [seriesScope]\n */\nsymbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var color = data.getItemVisual(idx, 'color');\n\n    // Reset style\n    if (symbolPath.type !== 'image') {\n        symbolPath.useStyle({\n            strokeNoScale: true\n        });\n    }\n\n    var itemStyle = seriesScope && seriesScope.itemStyle;\n    var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n    var symbolRotate = seriesScope && seriesScope.symbolRotate;\n    var symbolOffset = seriesScope && seriesScope.symbolOffset;\n    var labelModel = seriesScope && seriesScope.labelModel;\n    var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n    var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n    var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n    if (!seriesScope || data.hasItemOption) {\n        var itemModel = (seriesScope && seriesScope.itemModel)\n            ? seriesScope.itemModel : data.getItemModel(idx);\n\n        // Color must be excluded.\n        // Because symbol provide setColor individually to set fill and stroke\n        itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n        hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n\n        symbolRotate = itemModel.getShallow('symbolRotate');\n        symbolOffset = itemModel.getShallow('symbolOffset');\n\n        labelModel = itemModel.getModel(normalLabelAccessPath);\n        hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n        hoverAnimation = itemModel.getShallow('hoverAnimation');\n        cursorStyle = itemModel.getShallow('cursor');\n    }\n    else {\n        hoverItemStyle = extend({}, hoverItemStyle);\n    }\n\n    var elStyle = symbolPath.style;\n\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n    if (symbolOffset) {\n        symbolPath.attr('position', [\n            parsePercent$1(symbolOffset[0], symbolSize[0]),\n            parsePercent$1(symbolOffset[1], symbolSize[1])\n        ]);\n    }\n\n    cursorStyle && symbolPath.attr('cursor', cursorStyle);\n\n    // PENDING setColor before setStyle!!!\n    symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n\n    symbolPath.setStyle(itemStyle);\n\n    var opacity = data.getItemVisual(idx, 'opacity');\n    if (opacity != null) {\n        elStyle.opacity = opacity;\n    }\n\n    var useNameLabel = seriesScope && seriesScope.useNameLabel;\n    var valueDim = !useNameLabel && findLabelValueDim(data);\n\n    if (useNameLabel || valueDim != null) {\n        setLabelStyle(\n            elStyle, hoverItemStyle, labelModel, hoverLabelModel,\n            {\n                labelFetcher: seriesModel,\n                labelDataIndex: idx,\n                defaultText: useNameLabel ? data.getName(idx) : data.get(valueDim, idx),\n                isRectText: true,\n                autoColor: color\n            }\n        );\n    }\n\n    symbolPath.off('mouseover')\n        .off('mouseout')\n        .off('emphasis')\n        .off('normal');\n\n    symbolPath.hoverStyle = hoverItemStyle;\n\n    // FIXME\n    // Do not use symbol.trigger('emphasis'), but use symbol.highlight() instead.\n    setHoverStyle(symbolPath);\n\n    var scale = getScale(symbolSize);\n\n    if (hoverAnimation && seriesModel.isAnimationEnabled()) {\n        var onEmphasis = function() {\n            var ratio = scale[1] / scale[0];\n            this.animateTo({\n                scale: [\n                    Math.max(scale[0] * 1.1, scale[0] + 3),\n                    Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)\n                ]\n            }, 400, 'elasticOut');\n        };\n        var onNormal = function() {\n            this.animateTo({\n                scale: scale\n            }, 400, 'elasticOut');\n        };\n        symbolPath.on('mouseover', onEmphasis)\n            .on('mouseout', onNormal)\n            .on('emphasis', onEmphasis)\n            .on('normal', onNormal);\n    }\n};\n\n/**\n * @param {Function} cb\n * @param {Object} [opt]\n * @param {Object} [opt.keepLabel=true]\n */\nsymbolProto.fadeOut = function (cb, opt) {\n    var symbolPath = this.childAt(0);\n    // Avoid mistaken hover when fading out\n    this.silent = symbolPath.silent = true;\n    // Not show text when animating\n    !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n\n    updateProps(\n        symbolPath,\n        {\n            style: {opacity: 0},\n            scale: [0, 0]\n        },\n        this._seriesModel,\n        this.dataIndex,\n        cb\n    );\n};\n\ninherits(SymbolClz$1, Group);\n\n/**\n * @module echarts/chart/helper/SymbolDraw\n */\n\n/**\n * @constructor\n * @alias module:echarts/chart/helper/SymbolDraw\n * @param {module:zrender/graphic/Group} [symbolCtor]\n */\nfunction SymbolDraw(symbolCtor) {\n    this.group = new Group();\n\n    this._symbolCtor = symbolCtor || SymbolClz$1;\n}\n\nvar symbolDrawProto = SymbolDraw.prototype;\n\nfunction symbolNeedsDraw(data, idx, isIgnore) {\n    var point = data.getItemLayout(idx);\n    // Is an object\n    // if (point && point.hasOwnProperty('point')) {\n    //     point = point.point;\n    // }\n    return point && !isNaN(point[0]) && !isNaN(point[1]) && !(isIgnore && isIgnore(idx))\n                && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Array.<boolean>} [isIgnore]\n */\nsymbolDrawProto.updateData = function (data, isIgnore) {\n    var group = this.group;\n    var seriesModel = data.hostModel;\n    var oldData = this._data;\n\n    var SymbolCtor = this._symbolCtor;\n\n    var seriesScope = {\n        itemStyle: seriesModel.getModel('itemStyle.normal').getItemStyle(['color']),\n        hoverItemStyle: seriesModel.getModel('itemStyle.emphasis').getItemStyle(),\n        symbolRotate: seriesModel.get('symbolRotate'),\n        symbolOffset: seriesModel.get('symbolOffset'),\n        hoverAnimation: seriesModel.get('hoverAnimation'),\n\n        labelModel: seriesModel.getModel('label.normal'),\n        hoverLabelModel: seriesModel.getModel('label.emphasis'),\n        cursorStyle: seriesModel.get('cursor')\n    };\n\n    data.diff(oldData)\n        .add(function (newIdx) {\n            var point = data.getItemLayout(newIdx);\n            if (symbolNeedsDraw(data, newIdx, isIgnore)) {\n                var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n                symbolEl.attr('position', point);\n                data.setItemGraphicEl(newIdx, symbolEl);\n                group.add(symbolEl);\n            }\n        })\n        .update(function (newIdx, oldIdx) {\n            var symbolEl = oldData.getItemGraphicEl(oldIdx);\n            var point = data.getItemLayout(newIdx);\n            if (!symbolNeedsDraw(data, newIdx, isIgnore)) {\n                group.remove(symbolEl);\n                return;\n            }\n            if (!symbolEl) {\n                symbolEl = new SymbolCtor(data, newIdx);\n                symbolEl.attr('position', point);\n            }\n            else {\n                symbolEl.updateData(data, newIdx, seriesScope);\n                updateProps(symbolEl, {\n                    position: point\n                }, seriesModel);\n            }\n\n            // Add back\n            group.add(symbolEl);\n\n            data.setItemGraphicEl(newIdx, symbolEl);\n        })\n        .remove(function (oldIdx) {\n            var el = oldData.getItemGraphicEl(oldIdx);\n            el && el.fadeOut(function () {\n                group.remove(el);\n            });\n        })\n        .execute();\n\n    this._data = data;\n};\n\nsymbolDrawProto.updateLayout = function () {\n    var data = this._data;\n    if (data) {\n        // Not use animation\n        data.eachItemGraphicEl(function (el, idx) {\n            var point = data.getItemLayout(idx);\n            el.attr('position', point);\n        });\n    }\n};\n\nsymbolDrawProto.remove = function (enableAnimation) {\n    var group = this.group;\n    var data = this._data;\n    if (data) {\n        if (enableAnimation) {\n            data.eachItemGraphicEl(function (el) {\n                el.fadeOut(function () {\n                    group.remove(el);\n                });\n            });\n        }\n        else {\n            group.removeAll();\n        }\n    }\n};\n\n// var arrayDiff = require('zrender/src/core/arrayDiff');\n// 'zrender/src/core/arrayDiff' has been used before, but it did\n// not do well in performance when roam with fixed dataZoom window.\n\nfunction sign$1(val) {\n    return val >= 0 ? 1 : -1;\n}\n\nfunction getStackedOnPoint(coordSys, data, idx) {\n    var baseAxis = coordSys.getBaseAxis();\n    var valueAxis = coordSys.getOtherAxis(baseAxis);\n    var valueStart = baseAxis.onZero\n        ? 0 : valueAxis.scale.getExtent()[0];\n\n    var valueDim = valueAxis.dim;\n    var baseDataOffset = valueDim === 'x' || valueDim === 'radius' ? 1 : 0;\n\n    var stackedOnSameSign;\n    var stackedOn = data.stackedOn;\n    var val = data.get(valueDim, idx);\n    // Find first stacked value with same sign\n    while (stackedOn &&\n        sign$1(stackedOn.get(valueDim, idx)) === sign$1(val)\n    ) {\n        stackedOnSameSign = stackedOn;\n        break;\n    }\n    var stackedData = [];\n    stackedData[baseDataOffset] = data.get(baseAxis.dim, idx);\n    stackedData[1 - baseDataOffset] = stackedOnSameSign\n        ? stackedOnSameSign.get(valueDim, idx, true) : valueStart;\n\n    return coordSys.dataToPoint(stackedData);\n}\n\n// function convertToIntId(newIdList, oldIdList) {\n//     // Generate int id instead of string id.\n//     // Compare string maybe slow in score function of arrDiff\n\n//     // Assume id in idList are all unique\n//     var idIndicesMap = {};\n//     var idx = 0;\n//     for (var i = 0; i < newIdList.length; i++) {\n//         idIndicesMap[newIdList[i]] = idx;\n//         newIdList[i] = idx++;\n//     }\n//     for (var i = 0; i < oldIdList.length; i++) {\n//         var oldId = oldIdList[i];\n//         // Same with newIdList\n//         if (idIndicesMap[oldId]) {\n//             oldIdList[i] = idIndicesMap[oldId];\n//         }\n//         else {\n//             oldIdList[i] = idx++;\n//         }\n//     }\n// }\n\nfunction diffData(oldData, newData) {\n    var diffResult = [];\n\n    newData.diff(oldData)\n        .add(function (idx) {\n            diffResult.push({cmd: '+', idx: idx});\n        })\n        .update(function (newIdx, oldIdx) {\n            diffResult.push({cmd: '=', idx: oldIdx, idx1: newIdx});\n        })\n        .remove(function (idx) {\n            diffResult.push({cmd: '-', idx: idx});\n        })\n        .execute();\n\n    return diffResult;\n}\n\nvar lineAnimationDiff = function (\n    oldData, newData,\n    oldStackedOnPoints, newStackedOnPoints,\n    oldCoordSys, newCoordSys\n) {\n    var diff = diffData(oldData, newData);\n\n    // var newIdList = newData.mapArray(newData.getId);\n    // var oldIdList = oldData.mapArray(oldData.getId);\n\n    // convertToIntId(newIdList, oldIdList);\n\n    // // FIXME One data ?\n    // diff = arrayDiff(oldIdList, newIdList);\n\n    var currPoints = [];\n    var nextPoints = [];\n    // Points for stacking base line\n    var currStackedPoints = [];\n    var nextStackedPoints = [];\n\n    var status = [];\n    var sortedIndices = [];\n    var rawIndices = [];\n    var dims = newCoordSys.dimensions;\n    for (var i = 0; i < diff.length; i++) {\n        var diffItem = diff[i];\n        var pointAdded = true;\n\n        // FIXME, animation is not so perfect when dataZoom window moves fast\n        // Which is in case remvoing or add more than one data in the tail or head\n        switch (diffItem.cmd) {\n            case '=':\n                var currentPt = oldData.getItemLayout(diffItem.idx);\n                var nextPt = newData.getItemLayout(diffItem.idx1);\n                // If previous data is NaN, use next point directly\n                if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n                    currentPt = nextPt.slice();\n                }\n                currPoints.push(currentPt);\n                nextPoints.push(nextPt);\n\n                currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n                nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n\n                rawIndices.push(newData.getRawIndex(diffItem.idx1));\n                break;\n            case '+':\n                var idx = diffItem.idx;\n                currPoints.push(\n                    oldCoordSys.dataToPoint([\n                        newData.get(dims[0], idx, true), newData.get(dims[1], idx, true)\n                    ])\n                );\n\n                nextPoints.push(newData.getItemLayout(idx).slice());\n\n                currStackedPoints.push(\n                    getStackedOnPoint(oldCoordSys, newData, idx)\n                );\n                nextStackedPoints.push(newStackedOnPoints[idx]);\n\n                rawIndices.push(newData.getRawIndex(idx));\n                break;\n            case '-':\n                var idx = diffItem.idx;\n                var rawIndex = oldData.getRawIndex(idx);\n                // Data is replaced. In the case of dynamic data queue\n                // FIXME FIXME FIXME\n                if (rawIndex !== idx) {\n                    currPoints.push(oldData.getItemLayout(idx));\n                    nextPoints.push(newCoordSys.dataToPoint([\n                        oldData.get(dims[0], idx, true), oldData.get(dims[1], idx, true)\n                    ]));\n\n                    currStackedPoints.push(oldStackedOnPoints[idx]);\n                    nextStackedPoints.push(\n                        getStackedOnPoint(\n                            newCoordSys, oldData, idx\n                        )\n                    );\n\n                    rawIndices.push(rawIndex);\n                }\n                else {\n                    pointAdded = false;\n                }\n        }\n\n        // Original indices\n        if (pointAdded) {\n            status.push(diffItem);\n            sortedIndices.push(sortedIndices.length);\n        }\n    }\n\n    // Diff result may be crossed if all items are changed\n    // Sort by data index\n    sortedIndices.sort(function (a, b) {\n        return rawIndices[a] - rawIndices[b];\n    });\n\n    var sortedCurrPoints = [];\n    var sortedNextPoints = [];\n\n    var sortedCurrStackedPoints = [];\n    var sortedNextStackedPoints = [];\n\n    var sortedStatus = [];\n    for (var i = 0; i < sortedIndices.length; i++) {\n        var idx = sortedIndices[i];\n        sortedCurrPoints[i] = currPoints[idx];\n        sortedNextPoints[i] = nextPoints[idx];\n\n        sortedCurrStackedPoints[i] = currStackedPoints[idx];\n        sortedNextStackedPoints[i] = nextStackedPoints[idx];\n\n        sortedStatus[i] = status[idx];\n    }\n\n    return {\n        current: sortedCurrPoints,\n        next: sortedNextPoints,\n\n        stackedOnCurrent: sortedCurrStackedPoints,\n        stackedOnNext: sortedNextStackedPoints,\n\n        status: sortedStatus\n    };\n};\n\n// Poly path support NaN point\n\nvar vec2Min = min;\nvar vec2Max = max;\n\nvar scaleAndAdd$1 = scaleAndAdd;\nvar v2Copy = copy;\n\n// Temporary variable\nvar v = [];\nvar cp0 = [];\nvar cp1 = [];\n\nfunction isPointNull(p) {\n    return isNaN(p[0]) || isNaN(p[1]);\n}\n\nfunction drawSegment(\n    ctx, points, start, segLen, allLen,\n    dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls\n) {\n    var prevIdx = 0;\n    var idx = start;\n    for (var k = 0; k < segLen; k++) {\n        var p = points[idx];\n        if (idx >= allLen || idx < 0) {\n            break;\n        }\n        if (isPointNull(p)) {\n            if (connectNulls) {\n                idx += dir;\n                continue;\n            }\n            break;\n        }\n\n        if (idx === start) {\n            ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n            v2Copy(cp0, p);\n        }\n        else {\n            if (smooth > 0) {\n                var nextIdx = idx + dir;\n                var nextP = points[nextIdx];\n                if (connectNulls) {\n                    // Find next point not null\n                    while (nextP && isPointNull(points[nextIdx])) {\n                        nextIdx += dir;\n                        nextP = points[nextIdx];\n                    }\n                }\n\n                var ratioNextSeg = 0.5;\n                var prevP = points[prevIdx];\n                var nextP = points[nextIdx];\n                // Last point\n                if (!nextP || isPointNull(nextP)) {\n                    v2Copy(cp1, p);\n                }\n                else {\n                    // If next data is null in not connect case\n                    if (isPointNull(nextP) && !connectNulls) {\n                        nextP = p;\n                    }\n\n                    sub(v, nextP, prevP);\n\n                    var lenPrevSeg;\n                    var lenNextSeg;\n                    if (smoothMonotone === 'x' || smoothMonotone === 'y') {\n                        var dim = smoothMonotone === 'x' ? 0 : 1;\n                        lenPrevSeg = Math.abs(p[dim] - prevP[dim]);\n                        lenNextSeg = Math.abs(p[dim] - nextP[dim]);\n                    }\n                    else {\n                        lenPrevSeg = dist(p, prevP);\n                        lenNextSeg = dist(p, nextP);\n                    }\n\n                    // Use ratio of seg length\n                    ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n\n                    scaleAndAdd$1(cp1, p, v, -smooth * (1 - ratioNextSeg));\n                }\n                // Smooth constraint\n                vec2Min(cp0, cp0, smoothMax);\n                vec2Max(cp0, cp0, smoothMin);\n                vec2Min(cp1, cp1, smoothMax);\n                vec2Max(cp1, cp1, smoothMin);\n\n                ctx.bezierCurveTo(\n                    cp0[0], cp0[1],\n                    cp1[0], cp1[1],\n                    p[0], p[1]\n                );\n                // cp0 of next segment\n                scaleAndAdd$1(cp0, p, v, smooth * ratioNextSeg);\n            }\n            else {\n                ctx.lineTo(p[0], p[1]);\n            }\n        }\n\n        prevIdx = idx;\n        idx += dir;\n    }\n\n    return k;\n}\n\nfunction getBoundingBox(points, smoothConstraint) {\n    var ptMin = [Infinity, Infinity];\n    var ptMax = [-Infinity, -Infinity];\n    if (smoothConstraint) {\n        for (var i = 0; i < points.length; i++) {\n            var pt = points[i];\n            if (pt[0] < ptMin[0]) { ptMin[0] = pt[0]; }\n            if (pt[1] < ptMin[1]) { ptMin[1] = pt[1]; }\n            if (pt[0] > ptMax[0]) { ptMax[0] = pt[0]; }\n            if (pt[1] > ptMax[1]) { ptMax[1] = pt[1]; }\n        }\n    }\n    return {\n        min: smoothConstraint ? ptMin : ptMax,\n        max: smoothConstraint ? ptMax : ptMin\n    };\n}\n\nvar Polyline$1 = Path.extend({\n\n    type: 'ec-polyline',\n\n    shape: {\n        points: [],\n\n        smooth: 0,\n\n        smoothConstraint: true,\n\n        smoothMonotone: null,\n\n        connectNulls: false\n    },\n\n    style: {\n        fill: null,\n\n        stroke: '#000'\n    },\n\n    brush: fixClipWithShadow(Path.prototype.brush),\n\n    buildPath: function (ctx, shape) {\n        var points = shape.points;\n\n        var i = 0;\n        var len$$1 = points.length;\n\n        var result = getBoundingBox(points, shape.smoothConstraint);\n\n        if (shape.connectNulls) {\n            // Must remove first and last null values avoid draw error in polygon\n            for (; len$$1 > 0; len$$1--) {\n                if (!isPointNull(points[len$$1 - 1])) {\n                    break;\n                }\n            }\n            for (; i < len$$1; i++) {\n                if (!isPointNull(points[i])) {\n                    break;\n                }\n            }\n        }\n        while (i < len$$1) {\n            i += drawSegment(\n                ctx, points, i, len$$1, len$$1,\n                1, result.min, result.max, shape.smooth,\n                shape.smoothMonotone, shape.connectNulls\n            ) + 1;\n        }\n    }\n});\n\nvar Polygon$1 = Path.extend({\n\n    type: 'ec-polygon',\n\n    shape: {\n        points: [],\n\n        // Offset between stacked base points and points\n        stackedOnPoints: [],\n\n        smooth: 0,\n\n        stackedOnSmooth: 0,\n\n        smoothConstraint: true,\n\n        smoothMonotone: null,\n\n        connectNulls: false\n    },\n\n    brush: fixClipWithShadow(Path.prototype.brush),\n\n    buildPath: function (ctx, shape) {\n        var points = shape.points;\n        var stackedOnPoints = shape.stackedOnPoints;\n\n        var i = 0;\n        var len$$1 = points.length;\n        var smoothMonotone = shape.smoothMonotone;\n        var bbox = getBoundingBox(points, shape.smoothConstraint);\n        var stackedOnBBox = getBoundingBox(stackedOnPoints, shape.smoothConstraint);\n\n        if (shape.connectNulls) {\n            // Must remove first and last null values avoid draw error in polygon\n            for (; len$$1 > 0; len$$1--) {\n                if (!isPointNull(points[len$$1 - 1])) {\n                    break;\n                }\n            }\n            for (; i < len$$1; i++) {\n                if (!isPointNull(points[i])) {\n                    break;\n                }\n            }\n        }\n        while (i < len$$1) {\n            var k = drawSegment(\n                ctx, points, i, len$$1, len$$1,\n                1, bbox.min, bbox.max, shape.smooth,\n                smoothMonotone, shape.connectNulls\n            );\n            drawSegment(\n                ctx, stackedOnPoints, i + k - 1, k, len$$1,\n                -1, stackedOnBBox.min, stackedOnBBox.max, shape.stackedOnSmooth,\n                smoothMonotone, shape.connectNulls\n            );\n            i += k + 1;\n\n            ctx.closePath();\n        }\n    }\n});\n\n// FIXME step not support polar\n\nfunction isPointsSame(points1, points2) {\n    if (points1.length !== points2.length) {\n        return;\n    }\n    for (var i = 0; i < points1.length; i++) {\n        var p1 = points1[i];\n        var p2 = points2[i];\n        if (p1[0] !== p2[0] || p1[1] !== p2[1]) {\n            return;\n        }\n    }\n    return true;\n}\n\nfunction getSmooth(smooth) {\n    return typeof (smooth) === 'number' ? smooth : (smooth ? 0.3 : 0);\n}\n\nfunction getAxisExtentWithGap(axis) {\n    var extent = axis.getGlobalExtent();\n    if (axis.onBand) {\n        // Remove extra 1px to avoid line miter in clipped edge\n        var halfBandWidth = axis.getBandWidth() / 2 - 1;\n        var dir = extent[1] > extent[0] ? 1 : -1;\n        extent[0] += dir * halfBandWidth;\n        extent[1] -= dir * halfBandWidth;\n    }\n    return extent;\n}\n\nfunction sign(val) {\n    return val >= 0 ? 1 : -1;\n}\n\n/**\n * @param {module:echarts/coord/cartesian/Cartesian2D|module:echarts/coord/polar/Polar} coordSys\n * @param {module:echarts/data/List} data\n * @param {Array.<Array.<number>>} points\n * @private\n */\nfunction getStackedOnPoints(coordSys, data) {\n    var baseAxis = coordSys.getBaseAxis();\n    var valueAxis = coordSys.getOtherAxis(baseAxis);\n\n    var valueStart = 0;\n    if (!baseAxis.onZero) {\n        var extent = valueAxis.scale.getExtent();\n        if (extent[0] > 0) {\n            // Both positive\n            valueStart = extent[0];\n        }\n        else if (extent[1] < 0) {\n            // Both negative\n            valueStart = extent[1];\n        }\n        // If is one positive, and one negative, onZero shall be true\n    }\n\n    var valueDim = valueAxis.dim;\n\n    var baseDataOffset = valueDim === 'x' || valueDim === 'radius' ? 1 : 0;\n\n    return data.mapArray([valueDim], function (val, idx) {\n        var stackedOnSameSign;\n        var stackedOn = data.stackedOn;\n        // Find first stacked value with same sign\n        while (stackedOn &&\n            sign(stackedOn.get(valueDim, idx)) === sign(val)\n        ) {\n            stackedOnSameSign = stackedOn;\n            break;\n        }\n        var stackedData = [];\n        stackedData[baseDataOffset] = data.get(baseAxis.dim, idx);\n        stackedData[1 - baseDataOffset] = stackedOnSameSign\n            ? stackedOnSameSign.get(valueDim, idx, true) : valueStart;\n\n        return coordSys.dataToPoint(stackedData);\n    }, true);\n}\n\nfunction createGridClipShape(cartesian, hasAnimation, seriesModel) {\n    var xExtent = getAxisExtentWithGap(cartesian.getAxis('x'));\n    var yExtent = getAxisExtentWithGap(cartesian.getAxis('y'));\n    var isHorizontal = cartesian.getBaseAxis().isHorizontal();\n\n    var x = Math.min(xExtent[0], xExtent[1]);\n    var y = Math.min(yExtent[0], yExtent[1]);\n    var width = Math.max(xExtent[0], xExtent[1]) - x;\n    var height = Math.max(yExtent[0], yExtent[1]) - y;\n    var lineWidth = seriesModel.get('lineStyle.normal.width') || 2;\n    // Expand clip shape to avoid clipping when line value exceeds axis\n    var expandSize = seriesModel.get('clipOverflow') ? lineWidth / 2 : Math.max(width, height);\n    if (isHorizontal) {\n        y -= expandSize;\n        height += expandSize * 2;\n    }\n    else {\n        x -= expandSize;\n        width += expandSize * 2;\n    }\n\n    var clipPath = new Rect({\n        shape: {\n            x: x,\n            y: y,\n            width: width,\n            height: height\n        }\n    });\n\n    if (hasAnimation) {\n        clipPath.shape[isHorizontal ? 'width' : 'height'] = 0;\n        initProps(clipPath, {\n            shape: {\n                width: width,\n                height: height\n            }\n        }, seriesModel);\n    }\n\n    return clipPath;\n}\n\nfunction createPolarClipShape(polar, hasAnimation, seriesModel) {\n    var angleAxis = polar.getAngleAxis();\n    var radiusAxis = polar.getRadiusAxis();\n\n    var radiusExtent = radiusAxis.getExtent();\n    var angleExtent = angleAxis.getExtent();\n\n    var RADIAN = Math.PI / 180;\n\n    var clipPath = new Sector({\n        shape: {\n            cx: polar.cx,\n            cy: polar.cy,\n            r0: radiusExtent[0],\n            r: radiusExtent[1],\n            startAngle: -angleExtent[0] * RADIAN,\n            endAngle: -angleExtent[1] * RADIAN,\n            clockwise: angleAxis.inverse\n        }\n    });\n\n    if (hasAnimation) {\n        clipPath.shape.endAngle = -angleExtent[0] * RADIAN;\n        initProps(clipPath, {\n            shape: {\n                endAngle: -angleExtent[1] * RADIAN\n            }\n        }, seriesModel);\n    }\n\n    return clipPath;\n}\n\nfunction createClipShape(coordSys, hasAnimation, seriesModel) {\n    return coordSys.type === 'polar'\n        ? createPolarClipShape(coordSys, hasAnimation, seriesModel)\n        : createGridClipShape(coordSys, hasAnimation, seriesModel);\n}\n\nfunction turnPointsIntoStep(points, coordSys, stepTurnAt) {\n    var baseAxis = coordSys.getBaseAxis();\n    var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n\n    var stepPoints = [];\n    for (var i = 0; i < points.length - 1; i++) {\n        var nextPt = points[i + 1];\n        var pt = points[i];\n        stepPoints.push(pt);\n\n        var stepPt = [];\n        switch (stepTurnAt) {\n            case 'end':\n                stepPt[baseIndex] = nextPt[baseIndex];\n                stepPt[1 - baseIndex] = pt[1 - baseIndex];\n                // default is start\n                stepPoints.push(stepPt);\n                break;\n            case 'middle':\n                // default is start\n                var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n                var stepPt2 = [];\n                stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n                stepPt[1 - baseIndex] = pt[1 - baseIndex];\n                stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n                stepPoints.push(stepPt);\n                stepPoints.push(stepPt2);\n                break;\n            default:\n                stepPt[baseIndex] = pt[baseIndex];\n                stepPt[1 - baseIndex] = nextPt[1 - baseIndex];\n                // default is start\n                stepPoints.push(stepPt);\n        }\n    }\n    // Last points\n    points[i] && stepPoints.push(points[i]);\n    return stepPoints;\n}\n\nfunction getVisualGradient(data, coordSys) {\n    var visualMetaList = data.getVisual('visualMeta');\n    if (!visualMetaList || !visualMetaList.length || !data.count()) {\n        // When data.count() is 0, gradient range can not be calculated.\n        return;\n    }\n\n    var visualMeta;\n    for (var i = visualMetaList.length - 1; i >= 0; i--) {\n        // Can only be x or y\n        if (visualMetaList[i].dimension < 2) {\n            visualMeta = visualMetaList[i];\n            break;\n        }\n    }\n    if (!visualMeta || coordSys.type !== 'cartesian2d') {\n        if (__DEV__) {\n            console.warn('Visual map on line style only support x or y dimension.');\n        }\n        return;\n    }\n\n    // If the area to be rendered is bigger than area defined by LinearGradient,\n    // the canvas spec prescribes that the color of the first stop and the last\n    // stop should be used. But if two stops are added at offset 0, in effect\n    // browsers use the color of the second stop to render area outside\n    // LinearGradient. So we can only infinitesimally extend area defined in\n    // LinearGradient to render `outerColors`.\n\n    var dimension = visualMeta.dimension;\n    var dimName = data.dimensions[dimension];\n    var axis = coordSys.getAxis(dimName);\n\n    // dataToCoor mapping may not be linear, but must be monotonic.\n    var colorStops = map(visualMeta.stops, function (stop) {\n        return {\n            coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n            color: stop.color\n        };\n    });\n    var stopLen = colorStops.length;\n    var outerColors = visualMeta.outerColors.slice();\n\n    if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n        colorStops.reverse();\n        outerColors.reverse();\n    }\n\n    var tinyExtent = 10; // Arbitrary value: 10px\n    var minCoord = colorStops[0].coord - tinyExtent;\n    var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n    var coordSpan = maxCoord - minCoord;\n\n    if (coordSpan < 1e-3) {\n        return 'transparent';\n    }\n\n    each$1(colorStops, function (stop) {\n        stop.offset = (stop.coord - minCoord) / coordSpan;\n    });\n    colorStops.push({\n        offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n        color: outerColors[1] || 'transparent'\n    });\n    colorStops.unshift({ // notice colorStops.length have been changed.\n        offset: stopLen ? colorStops[0].offset : 0.5,\n        color: outerColors[0] || 'transparent'\n    });\n\n    // zrUtil.each(colorStops, function (colorStop) {\n    //     // Make sure each offset has rounded px to avoid not sharp edge\n    //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n    // });\n\n    var gradient = new LinearGradient(0, 0, 0, 0, colorStops, true);\n    gradient[dimName] = minCoord;\n    gradient[dimName + '2'] = maxCoord;\n\n    return gradient;\n}\n\nChart.extend({\n\n    type: 'line',\n\n    init: function () {\n        var lineGroup = new Group();\n\n        var symbolDraw = new SymbolDraw();\n        this.group.add(symbolDraw.group);\n\n        this._symbolDraw = symbolDraw;\n        this._lineGroup = lineGroup;\n    },\n\n    render: function (seriesModel, ecModel, api) {\n        var coordSys = seriesModel.coordinateSystem;\n        var group = this.group;\n        var data = seriesModel.getData();\n        var lineStyleModel = seriesModel.getModel('lineStyle.normal');\n        var areaStyleModel = seriesModel.getModel('areaStyle.normal');\n\n        var points = data.mapArray(data.getItemLayout, true);\n\n        var isCoordSysPolar = coordSys.type === 'polar';\n        var prevCoordSys = this._coordSys;\n\n        var symbolDraw = this._symbolDraw;\n        var polyline = this._polyline;\n        var polygon = this._polygon;\n\n        var lineGroup = this._lineGroup;\n\n        var hasAnimation = seriesModel.get('animation');\n\n        var isAreaChart = !areaStyleModel.isEmpty();\n        var stackedOnPoints = getStackedOnPoints(coordSys, data);\n\n        var showSymbol = seriesModel.get('showSymbol');\n\n        var isSymbolIgnore = showSymbol && !isCoordSysPolar && !seriesModel.get('showAllSymbol')\n            && this._getSymbolIgnoreFunc(data, coordSys);\n\n        // Remove temporary symbols\n        var oldData = this._data;\n        oldData && oldData.eachItemGraphicEl(function (el, idx) {\n            if (el.__temp) {\n                group.remove(el);\n                oldData.setItemGraphicEl(idx, null);\n            }\n        });\n\n        // Remove previous created symbols if showSymbol changed to false\n        if (!showSymbol) {\n            symbolDraw.remove();\n        }\n\n        group.add(lineGroup);\n\n        // FIXME step not support polar\n        var step = !isCoordSysPolar && seriesModel.get('step');\n        // Initialization animation or coordinate system changed\n        if (\n            !(polyline && prevCoordSys.type === coordSys.type && step === this._step)\n        ) {\n            showSymbol && symbolDraw.updateData(data, isSymbolIgnore);\n\n            if (step) {\n                // TODO If stacked series is not step\n                points = turnPointsIntoStep(points, coordSys, step);\n                stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n            }\n\n            polyline = this._newPolyline(points, coordSys, hasAnimation);\n            if (isAreaChart) {\n                polygon = this._newPolygon(\n                    points, stackedOnPoints,\n                    coordSys, hasAnimation\n                );\n            }\n            lineGroup.setClipPath(createClipShape(coordSys, true, seriesModel));\n        }\n        else {\n            if (isAreaChart && !polygon) {\n                // If areaStyle is added\n                polygon = this._newPolygon(\n                    points, stackedOnPoints,\n                    coordSys, hasAnimation\n                );\n            }\n            else if (polygon && !isAreaChart) {\n                // If areaStyle is removed\n                lineGroup.remove(polygon);\n                polygon = this._polygon = null;\n            }\n\n            // Update clipPath\n            lineGroup.setClipPath(createClipShape(coordSys, false, seriesModel));\n\n            // Always update, or it is wrong in the case turning on legend\n            // because points are not changed\n            showSymbol && symbolDraw.updateData(data, isSymbolIgnore);\n\n            // Stop symbol animation and sync with line points\n            // FIXME performance?\n            data.eachItemGraphicEl(function (el) {\n                el.stopAnimation(true);\n            });\n\n            // In the case data zoom triggerred refreshing frequently\n            // Data may not change if line has a category axis. So it should animate nothing\n            if (!isPointsSame(this._stackedOnPoints, stackedOnPoints)\n                || !isPointsSame(this._points, points)\n            ) {\n                if (hasAnimation) {\n                    this._updateAnimation(\n                        data, stackedOnPoints, coordSys, api, step\n                    );\n                }\n                else {\n                    // Not do it in update with animation\n                    if (step) {\n                        // TODO If stacked series is not step\n                        points = turnPointsIntoStep(points, coordSys, step);\n                        stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n                    }\n\n                    polyline.setShape({\n                        points: points\n                    });\n                    polygon && polygon.setShape({\n                        points: points,\n                        stackedOnPoints: stackedOnPoints\n                    });\n                }\n            }\n        }\n\n        var visualColor = getVisualGradient(data, coordSys) || data.getVisual('color');\n\n        polyline.useStyle(defaults(\n            // Use color in lineStyle first\n            lineStyleModel.getLineStyle(),\n            {\n                fill: 'none',\n                stroke: visualColor,\n                lineJoin: 'bevel'\n            }\n        ));\n\n        var smooth = seriesModel.get('smooth');\n        smooth = getSmooth(seriesModel.get('smooth'));\n        polyline.setShape({\n            smooth: smooth,\n            smoothMonotone: seriesModel.get('smoothMonotone'),\n            connectNulls: seriesModel.get('connectNulls')\n        });\n\n        if (polygon) {\n            var stackedOn = data.stackedOn;\n            var stackedOnSmooth = 0;\n\n            polygon.useStyle(defaults(\n                areaStyleModel.getAreaStyle(),\n                {\n                    fill: visualColor,\n                    opacity: 0.7,\n                    lineJoin: 'bevel'\n                }\n            ));\n\n            if (stackedOn) {\n                var stackedOnSeries = stackedOn.hostModel;\n                stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n            }\n\n            polygon.setShape({\n                smooth: smooth,\n                stackedOnSmooth: stackedOnSmooth,\n                smoothMonotone: seriesModel.get('smoothMonotone'),\n                connectNulls: seriesModel.get('connectNulls')\n            });\n        }\n\n        this._data = data;\n        // Save the coordinate system for transition animation when data changed\n        this._coordSys = coordSys;\n        this._stackedOnPoints = stackedOnPoints;\n        this._points = points;\n        this._step = step;\n    },\n\n    dispose: function () {},\n\n    highlight: function (seriesModel, ecModel, api, payload) {\n        var data = seriesModel.getData();\n        var dataIndex = queryDataIndex(data, payload);\n\n        if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n            var symbol = data.getItemGraphicEl(dataIndex);\n            if (!symbol) {\n                // Create a temporary symbol if it is not exists\n                var pt = data.getItemLayout(dataIndex);\n                if (!pt) {\n                    // Null data\n                    return;\n                }\n                symbol = new SymbolClz$1(data, dataIndex);\n                symbol.position = pt;\n                symbol.setZ(\n                    seriesModel.get('zlevel'),\n                    seriesModel.get('z')\n                );\n                symbol.ignore = isNaN(pt[0]) || isNaN(pt[1]);\n                symbol.__temp = true;\n                data.setItemGraphicEl(dataIndex, symbol);\n\n                // Stop scale animation\n                symbol.stopSymbolAnimation(true);\n\n                this.group.add(symbol);\n            }\n            symbol.highlight();\n        }\n        else {\n            // Highlight whole series\n            Chart.prototype.highlight.call(\n                this, seriesModel, ecModel, api, payload\n            );\n        }\n    },\n\n    downplay: function (seriesModel, ecModel, api, payload) {\n        var data = seriesModel.getData();\n        var dataIndex = queryDataIndex(data, payload);\n        if (dataIndex != null && dataIndex >= 0) {\n            var symbol = data.getItemGraphicEl(dataIndex);\n            if (symbol) {\n                if (symbol.__temp) {\n                    data.setItemGraphicEl(dataIndex, null);\n                    this.group.remove(symbol);\n                }\n                else {\n                    symbol.downplay();\n                }\n            }\n        }\n        else {\n            // FIXME\n            // can not downplay completely.\n            // Downplay whole series\n            Chart.prototype.downplay.call(\n                this, seriesModel, ecModel, api, payload\n            );\n        }\n    },\n\n    /**\n     * @param {module:zrender/container/Group} group\n     * @param {Array.<Array.<number>>} points\n     * @private\n     */\n    _newPolyline: function (points) {\n        var polyline = this._polyline;\n        // Remove previous created polyline\n        if (polyline) {\n            this._lineGroup.remove(polyline);\n        }\n\n        polyline = new Polyline$1({\n            shape: {\n                points: points\n            },\n            silent: true,\n            z2: 10\n        });\n\n        this._lineGroup.add(polyline);\n\n        this._polyline = polyline;\n\n        return polyline;\n    },\n\n    /**\n     * @param {module:zrender/container/Group} group\n     * @param {Array.<Array.<number>>} stackedOnPoints\n     * @param {Array.<Array.<number>>} points\n     * @private\n     */\n    _newPolygon: function (points, stackedOnPoints) {\n        var polygon = this._polygon;\n        // Remove previous created polygon\n        if (polygon) {\n            this._lineGroup.remove(polygon);\n        }\n\n        polygon = new Polygon$1({\n            shape: {\n                points: points,\n                stackedOnPoints: stackedOnPoints\n            },\n            silent: true\n        });\n\n        this._lineGroup.add(polygon);\n\n        this._polygon = polygon;\n        return polygon;\n    },\n    /**\n     * @private\n     */\n    _getSymbolIgnoreFunc: function (data, coordSys) {\n        var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n        // `getLabelInterval` is provided by echarts/component/axis\n        if (categoryAxis && categoryAxis.isLabelIgnored) {\n            return bind(categoryAxis.isLabelIgnored, categoryAxis);\n        }\n    },\n\n    /**\n     * @private\n     */\n    // FIXME Two value axis\n    _updateAnimation: function (data, stackedOnPoints, coordSys, api, step) {\n        var polyline = this._polyline;\n        var polygon = this._polygon;\n        var seriesModel = data.hostModel;\n\n        var diff = lineAnimationDiff(\n            this._data, data,\n            this._stackedOnPoints, stackedOnPoints,\n            this._coordSys, coordSys\n        );\n\n        var current = diff.current;\n        var stackedOnCurrent = diff.stackedOnCurrent;\n        var next = diff.next;\n        var stackedOnNext = diff.stackedOnNext;\n        if (step) {\n            // TODO If stacked series is not step\n            current = turnPointsIntoStep(diff.current, coordSys, step);\n            stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n            next = turnPointsIntoStep(diff.next, coordSys, step);\n            stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n        }\n        // `diff.current` is subset of `current` (which should be ensured by\n        // turnPointsIntoStep), so points in `__points` can be updated when\n        // points in `current` are update during animation.\n        polyline.shape.__points = diff.current;\n        polyline.shape.points = current;\n\n        updateProps(polyline, {\n            shape: {\n                points: next\n            }\n        }, seriesModel);\n\n        if (polygon) {\n            polygon.setShape({\n                points: current,\n                stackedOnPoints: stackedOnCurrent\n            });\n            updateProps(polygon, {\n                shape: {\n                    points: next,\n                    stackedOnPoints: stackedOnNext\n                }\n            }, seriesModel);\n        }\n\n        var updatedDataInfo = [];\n        var diffStatus = diff.status;\n\n        for (var i = 0; i < diffStatus.length; i++) {\n            var cmd = diffStatus[i].cmd;\n            if (cmd === '=') {\n                var el = data.getItemGraphicEl(diffStatus[i].idx1);\n                if (el) {\n                    updatedDataInfo.push({\n                        el: el,\n                        ptIdx: i    // Index of points\n                    });\n                }\n            }\n        }\n\n        if (polyline.animators && polyline.animators.length) {\n            polyline.animators[0].during(function () {\n                for (var i = 0; i < updatedDataInfo.length; i++) {\n                    var el = updatedDataInfo[i].el;\n                    el.attr('position', polyline.shape.__points[updatedDataInfo[i].ptIdx]);\n                }\n            });\n        }\n    },\n\n    remove: function (ecModel) {\n        var group = this.group;\n        var oldData = this._data;\n        this._lineGroup.removeAll();\n        this._symbolDraw.remove(true);\n        // Remove temporary created elements when highlighting\n        oldData && oldData.eachItemGraphicEl(function (el, idx) {\n            if (el.__temp) {\n                group.remove(el);\n                oldData.setItemGraphicEl(idx, null);\n            }\n        });\n\n        this._polyline =\n        this._polygon =\n        this._coordSys =\n        this._points =\n        this._stackedOnPoints =\n        this._data = null;\n    }\n});\n\nvar visualSymbol = function (seriesType, defaultSymbolType, legendSymbol, ecModel, api) {\n\n    // Encoding visual for all series include which is filtered for legend drawing\n    ecModel.eachRawSeriesByType(seriesType, function (seriesModel) {\n        var data = seriesModel.getData();\n\n        var symbolType = seriesModel.get('symbol') || defaultSymbolType;\n        var symbolSize = seriesModel.get('symbolSize');\n\n        data.setVisual({\n            legendSymbol: legendSymbol || symbolType,\n            symbol: symbolType,\n            symbolSize: symbolSize\n        });\n\n        // Only visible series has each data be visual encoded\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n            if (typeof symbolSize === 'function') {\n                data.each(function (idx) {\n                    var rawValue = seriesModel.getRawValue(idx);\n                    // FIXME\n                    var params = seriesModel.getDataParams(idx);\n                    data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n                });\n            }\n            data.each(function (idx) {\n                var itemModel = data.getItemModel(idx);\n                var itemSymbolType = itemModel.getShallow('symbol', true);\n                var itemSymbolSize = itemModel.getShallow('symbolSize', true);\n                // If has item symbol\n                if (itemSymbolType != null) {\n                    data.setItemVisual(idx, 'symbol', itemSymbolType);\n                }\n                if (itemSymbolSize != null) {\n                    // PENDING Transform symbolSize ?\n                    data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n                }\n            });\n        }\n    });\n};\n\nvar layoutPoints = function (seriesType, ecModel) {\n    ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n        var data = seriesModel.getData();\n        var coordSys = seriesModel.coordinateSystem;\n\n        if (!coordSys) {\n            return;\n        }\n\n        var dims = [];\n        var coordDims = coordSys.dimensions;\n        for (var i = 0; i < coordDims.length; i++) {\n            dims.push(seriesModel.coordDimToDataDim(coordSys.dimensions[i])[0]);\n        }\n\n        if (dims.length === 1) {\n            data.each(dims[0], function (x, idx) {\n                // Also {Array.<number>}, not undefined to avoid if...else... statement\n                data.setItemLayout(idx, isNaN(x) ? [NaN, NaN] : coordSys.dataToPoint(x));\n            });\n        }\n        else if (dims.length === 2) {\n            data.each(dims, function (x, y, idx) {\n                // Also {Array.<number>}, not undefined to avoid if...else... statement\n                data.setItemLayout(\n                    idx, (isNaN(x) || isNaN(y)) ? [NaN, NaN] : coordSys.dataToPoint([x, y])\n                );\n            }, true);\n        }\n    });\n};\n\nvar samplers = {\n    average: function (frame) {\n        var sum = 0;\n        var count = 0;\n        for (var i = 0; i < frame.length; i++) {\n            if (!isNaN(frame[i])) {\n                sum += frame[i];\n                count++;\n            }\n        }\n        // Return NaN if count is 0\n        return count === 0 ? NaN : sum / count;\n    },\n    sum: function (frame) {\n        var sum = 0;\n        for (var i = 0; i < frame.length; i++) {\n            // Ignore NaN\n            sum += frame[i] || 0;\n        }\n        return sum;\n    },\n    max: function (frame) {\n        var max = -Infinity;\n        for (var i = 0; i < frame.length; i++) {\n            frame[i] > max && (max = frame[i]);\n        }\n        return max;\n    },\n    min: function (frame) {\n        var min = Infinity;\n        for (var i = 0; i < frame.length; i++) {\n            frame[i] < min && (min = frame[i]);\n        }\n        return min;\n    },\n    // TODO\n    // Median\n    nearest: function (frame) {\n        return frame[0];\n    }\n};\n\nvar indexSampler = function (frame, value) {\n    return Math.round(frame.length / 2);\n};\n\nvar dataSample = function (seriesType, ecModel, api) {\n    ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n        var data = seriesModel.getData();\n        var sampling = seriesModel.get('sampling');\n        var coordSys = seriesModel.coordinateSystem;\n        // Only cartesian2d support down sampling\n        if (coordSys.type === 'cartesian2d' && sampling) {\n            var baseAxis = coordSys.getBaseAxis();\n            var valueAxis = coordSys.getOtherAxis(baseAxis);\n            var extent = baseAxis.getExtent();\n            // Coordinste system has been resized\n            var size = extent[1] - extent[0];\n            var rate = Math.round(data.count() / size);\n            if (rate > 1) {\n                var sampler;\n                if (typeof sampling === 'string') {\n                    sampler = samplers[sampling];\n                }\n                else if (typeof sampling === 'function') {\n                    sampler = sampling;\n                }\n                if (sampler) {\n                    data = data.downSample(\n                        valueAxis.dim, 1 / rate, sampler, indexSampler\n                    );\n                    seriesModel.setData(data);\n                }\n            }\n        }\n    }, this);\n};\n\n/**\n * Cartesian coordinate system\n * @module  echarts/coord/Cartesian\n *\n */\n\nfunction dimAxisMapper(dim) {\n    return this._axes[dim];\n}\n\n/**\n * @alias module:echarts/coord/Cartesian\n * @constructor\n */\nvar Cartesian = function (name) {\n    this._axes = {};\n\n    this._dimList = [];\n\n    /**\n     * @type {string}\n     */\n    this.name = name || '';\n};\n\nCartesian.prototype = {\n\n    constructor: Cartesian,\n\n    type: 'cartesian',\n\n    /**\n     * Get axis\n     * @param  {number|string} dim\n     * @return {module:echarts/coord/Cartesian~Axis}\n     */\n    getAxis: function (dim) {\n        return this._axes[dim];\n    },\n\n    /**\n     * Get axes list\n     * @return {Array.<module:echarts/coord/Cartesian~Axis>}\n     */\n    getAxes: function () {\n        return map(this._dimList, dimAxisMapper, this);\n    },\n\n    /**\n     * Get axes list by given scale type\n     */\n    getAxesByScale: function (scaleType) {\n        scaleType = scaleType.toLowerCase();\n        return filter(\n            this.getAxes(),\n            function (axis) {\n                return axis.scale.type === scaleType;\n            }\n        );\n    },\n\n    /**\n     * Add axis\n     * @param {module:echarts/coord/Cartesian.Axis}\n     */\n    addAxis: function (axis) {\n        var dim = axis.dim;\n\n        this._axes[dim] = axis;\n\n        this._dimList.push(dim);\n    },\n\n    /**\n     * Convert data to coord in nd space\n     * @param {Array.<number>|Object.<string, number>} val\n     * @return {Array.<number>|Object.<string, number>}\n     */\n    dataToCoord: function (val) {\n        return this._dataCoordConvert(val, 'dataToCoord');\n    },\n\n    /**\n     * Convert coord in nd space to data\n     * @param  {Array.<number>|Object.<string, number>} val\n     * @return {Array.<number>|Object.<string, number>}\n     */\n    coordToData: function (val) {\n        return this._dataCoordConvert(val, 'coordToData');\n    },\n\n    _dataCoordConvert: function (input, method) {\n        var dimList = this._dimList;\n\n        var output = input instanceof Array ? [] : {};\n\n        for (var i = 0; i < dimList.length; i++) {\n            var dim = dimList[i];\n            var axis = this._axes[dim];\n\n            output[dim] = axis[method](input[dim]);\n        }\n\n        return output;\n    }\n};\n\nfunction Cartesian2D(name) {\n\n    Cartesian.call(this, name);\n}\n\nCartesian2D.prototype = {\n\n    constructor: Cartesian2D,\n\n    type: 'cartesian2d',\n\n    /**\n     * @type {Array.<string>}\n     * @readOnly\n     */\n    dimensions: ['x', 'y'],\n\n    /**\n     * Base axis will be used on stacking.\n     *\n     * @return {module:echarts/coord/cartesian/Axis2D}\n     */\n    getBaseAxis: function () {\n        return this.getAxesByScale('ordinal')[0]\n            || this.getAxesByScale('time')[0]\n            || this.getAxis('x');\n    },\n\n    /**\n     * If contain point\n     * @param {Array.<number>} point\n     * @return {boolean}\n     */\n    containPoint: function (point) {\n        var axisX = this.getAxis('x');\n        var axisY = this.getAxis('y');\n        return axisX.contain(axisX.toLocalCoord(point[0]))\n            && axisY.contain(axisY.toLocalCoord(point[1]));\n    },\n\n    /**\n     * If contain data\n     * @param {Array.<number>} data\n     * @return {boolean}\n     */\n    containData: function (data) {\n        return this.getAxis('x').containData(data[0])\n            && this.getAxis('y').containData(data[1]);\n    },\n\n    /**\n     * @param {Array.<number>} data\n     * @param {boolean} [clamp=false]\n     * @return {Array.<number>}\n     */\n    dataToPoint: function (data, clamp) {\n        var xAxis = this.getAxis('x');\n        var yAxis = this.getAxis('y');\n        return [\n            xAxis.toGlobalCoord(xAxis.dataToCoord(data[0], clamp)),\n            yAxis.toGlobalCoord(yAxis.dataToCoord(data[1], clamp))\n        ];\n    },\n\n    /**\n     * @param {Array.<number>} point\n     * @param {boolean} [clamp=false]\n     * @return {Array.<number>}\n     */\n    pointToData: function (point, clamp) {\n        var xAxis = this.getAxis('x');\n        var yAxis = this.getAxis('y');\n        return [\n            xAxis.coordToData(xAxis.toLocalCoord(point[0]), clamp),\n            yAxis.coordToData(yAxis.toLocalCoord(point[1]), clamp)\n        ];\n    },\n\n    /**\n     * Get other axis\n     * @param {module:echarts/coord/cartesian/Axis2D} axis\n     */\n    getOtherAxis: function (axis) {\n        return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n    }\n\n};\n\ninherits(Cartesian2D, Cartesian);\n\n/**\n * Extend axis 2d\n * @constructor module:echarts/coord/cartesian/Axis2D\n * @extends {module:echarts/coord/cartesian/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar Axis2D = function (dim, scale, coordExtent, axisType, position) {\n    Axis.call(this, dim, scale, coordExtent);\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n    this.type = axisType || 'value';\n\n    /**\n     * Axis position\n     *  - 'top'\n     *  - 'bottom'\n     *  - 'left'\n     *  - 'right'\n     */\n    this.position = position || 'bottom';\n};\n\nAxis2D.prototype = {\n\n    constructor: Axis2D,\n\n    /**\n     * Index of axis, can be used as key\n     */\n    index: 0,\n    /**\n     * If axis is on the zero position of the other axis\n     * @type {boolean}\n     */\n    onZero: false,\n\n    /**\n     * Axis model\n     * @param {module:echarts/coord/cartesian/AxisModel}\n     */\n    model: null,\n\n    isHorizontal: function () {\n        var position = this.position;\n        return position === 'top' || position === 'bottom';\n    },\n\n    /**\n     * Each item cooresponds to this.getExtent(), which\n     * means globalExtent[0] may greater than globalExtent[1],\n     * unless `asc` is input.\n     *\n     * @param {boolean} [asc]\n     * @return {Array.<number>}\n     */\n    getGlobalExtent: function (asc) {\n        var ret = this.getExtent();\n        ret[0] = this.toGlobalCoord(ret[0]);\n        ret[1] = this.toGlobalCoord(ret[1]);\n        asc && ret[0] > ret[1] && ret.reverse();\n        return ret;\n    },\n\n    getOtherAxis: function () {\n        this.grid.getOtherAxis();\n    },\n\n    /**\n     * If label is ignored.\n     * Automatically used when axis is category and label can not be all shown\n     * @param  {number}  idx\n     * @return {boolean}\n     */\n    isLabelIgnored: function (idx) {\n        if (this.type === 'category') {\n            var labelInterval = this.getLabelInterval();\n            return ((typeof labelInterval === 'function')\n                && !labelInterval(idx, this.scale.getLabel(idx)))\n                || idx % (labelInterval + 1);\n        }\n    },\n\n    /**\n     * @override\n     */\n    pointToData: function (point, clamp) {\n        return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n    },\n\n    /**\n     * Transform global coord to local coord,\n     * i.e. var localCoord = axis.toLocalCoord(80);\n     * designate by module:echarts/coord/cartesian/Grid.\n     * @type {Function}\n     */\n    toLocalCoord: null,\n\n    /**\n     * Transform global coord to local coord,\n     * i.e. var globalCoord = axis.toLocalCoord(40);\n     * designate by module:echarts/coord/cartesian/Grid.\n     * @type {Function}\n     */\n    toGlobalCoord: null\n\n};\n\ninherits(Axis2D, Axis);\n\nvar defaultOption = {\n    show: true,\n    zlevel: 0,                  // \n    z: 0,                       // \n    // \n    inverse: false,\n\n    // \n    name: '',\n    // 'start' | 'middle' | 'end'\n    nameLocation: 'end',\n    // degree\n    nameRotate: null, // Adapt to axis rotate, when nameLocation is 'middle'.\n    nameTruncate: {\n        maxWidth: null,\n        ellipsis: '...',\n        placeholder: '.'\n    },\n    // \n    nameTextStyle: {},\n    // \n    nameGap: 15,\n\n    silent: false, // Default false to support tooltip.\n    triggerEvent: false, // Default false to avoid legacy user event listener fail.\n\n    tooltip: {\n        show: false\n    },\n\n    axisPointer: {},\n\n    // \n    axisLine: {\n        // show\n        show: true,\n        onZero: true,\n        onZeroAxisIndex: null,\n        // lineStyle\n        lineStyle: {\n            color: '#333',\n            width: 1,\n            type: 'solid'\n        },\n        // \n        symbol: ['none', 'none'],\n        symbolSize: [10, 15]\n    },\n    // \n    axisTick: {\n        // show\n        show: true,\n        // grid\n        inside: false,\n        // length\n        length: 5,\n        // lineStyle\n        lineStyle: {\n            width: 1\n        }\n    },\n    // axis.axisLabel\n    axisLabel: {\n        show: true,\n        // grid\n        inside: false,\n        rotate: 0,\n        showMinLabel: null, // true | false | null (auto)\n        showMaxLabel: null, // true | false | null (auto)\n        margin: 8,\n        // formatter: null,\n        // TEXTSTYLE\n        fontSize: 12\n    },\n    // \n    splitLine: {\n        // show\n        show: true,\n        // lineStylelineStyle\n        lineStyle: {\n            color: ['#ccc'],\n            width: 1,\n            type: 'solid'\n        }\n    },\n    // \n    splitArea: {\n        // show\n        show: false,\n        // areaStyleareaStyle\n        areaStyle: {\n            color: ['rgba(250,250,250,0.3)','rgba(200,200,200,0.3)']\n        }\n    }\n};\n\nvar axisDefault = {};\n\naxisDefault.categoryAxis = merge({\n    // \n    boundaryGap: true,\n    // splitArea: {\n        // show: false\n    // },\n    splitLine: {\n        show: false\n    },\n    // \n    axisTick: {\n        // If tick is align with label when boundaryGap is true\n        alignWithLabel: false,\n        interval: 'auto'\n    },\n    // axis.axisLabel\n    axisLabel: {\n        interval: 'auto'\n    }\n}, defaultOption);\n\naxisDefault.valueAxis = merge({\n    // \n    boundaryGap: [0, 0],\n    // ,  'dataMin' \n    // min: null,\n    //  'dataMax' \n    // max: null,\n    // Readonly prop, specifies start value of the range when using data zoom.\n    // rangeStart: null\n    // Readonly prop, specifies end value of the range when using data zoom.\n    // rangeEnd: null\n    // 0_min_max\n    // scale: false,\n    // 5\n    splitNumber: 5\n    // Minimum interval\n    // minInterval: null\n    // maxInterval: null\n}, defaultOption);\n\n// FIXME\naxisDefault.timeAxis = defaults({\n    scale: true,\n    min: 'dataMin',\n    max: 'dataMax'\n}, axisDefault.valueAxis);\n\naxisDefault.logAxis = defaults({\n    scale: true,\n    logBase: 10\n}, axisDefault.valueAxis);\n\n// FIXME axisType is fixed ?\nvar AXIS_TYPES = ['value', 'category', 'time', 'log'];\n\n/**\n * Generate sub axis model class\n * @param {string} axisName 'x' 'y' 'radius' 'angle' 'parallel'\n * @param {module:echarts/model/Component} BaseAxisModelClass\n * @param {Function} axisTypeDefaulter\n * @param {Object} [extraDefaultOption]\n */\nvar axisModelCreator = function (axisName, BaseAxisModelClass, axisTypeDefaulter, extraDefaultOption) {\n\n    each$1(AXIS_TYPES, function (axisType) {\n\n        BaseAxisModelClass.extend({\n\n            type: axisName + 'Axis.' + axisType,\n\n            mergeDefaultAndTheme: function (option, ecModel) {\n                var layoutMode = this.layoutMode;\n                var inputPositionParams = layoutMode\n                    ? getLayoutParams(option) : {};\n\n                var themeModel = ecModel.getTheme();\n                merge(option, themeModel.get(axisType + 'Axis'));\n                merge(option, this.getDefaultOption());\n\n                option.type = axisTypeDefaulter(axisName, option);\n\n                if (layoutMode) {\n                    mergeLayoutParam(option, inputPositionParams, layoutMode);\n                }\n            },\n\n            defaultOption: mergeAll(\n                [\n                    {},\n                    axisDefault[axisType + 'Axis'],\n                    extraDefaultOption\n                ],\n                true\n            )\n        });\n    });\n\n    ComponentModel.registerSubTypeDefaulter(\n        axisName + 'Axis',\n        curry(axisTypeDefaulter, axisName)\n    );\n};\n\nvar AxisModel = ComponentModel.extend({\n\n    type: 'cartesian2dAxis',\n\n    /**\n     * @type {module:echarts/coord/cartesian/Axis2D}\n     */\n    axis: null,\n\n    /**\n     * @override\n     */\n    init: function () {\n        AxisModel.superApply(this, 'init', arguments);\n        this.resetRange();\n    },\n\n    /**\n     * @override\n     */\n    mergeOption: function () {\n        AxisModel.superApply(this, 'mergeOption', arguments);\n        this.resetRange();\n    },\n\n    /**\n     * @override\n     */\n    restoreData: function () {\n        AxisModel.superApply(this, 'restoreData', arguments);\n        this.resetRange();\n    },\n\n    /**\n     * @override\n     * @return {module:echarts/model/Component}\n     */\n    getCoordSysModel: function () {\n        return this.ecModel.queryComponents({\n            mainType: 'grid',\n            index: this.option.gridIndex,\n            id: this.option.gridId\n        })[0];\n    }\n\n});\n\nfunction getAxisType(axisDim, option) {\n    // Default axis with data is category axis\n    return option.type || (option.data ? 'category' : 'value');\n}\n\nmerge(AxisModel.prototype, axisModelCommonMixin);\n\nvar extraOption = {\n    // gridIndex: 0,\n    // gridId: '',\n\n    // Offset is for multiple axis on the same position\n    offset: 0\n};\n\naxisModelCreator('x', AxisModel, getAxisType, extraOption);\naxisModelCreator('y', AxisModel, getAxisType, extraOption);\n\n// Grid \n//  Cartesian2D \n\nComponentModel.extend({\n\n    type: 'grid',\n\n    dependencies: ['xAxis', 'yAxis'],\n\n    layoutMode: 'box',\n\n    /**\n     * @type {module:echarts/coord/cartesian/Grid}\n     */\n    coordinateSystem: null,\n\n    defaultOption: {\n        show: false,\n        zlevel: 0,\n        z: 0,\n        left: '10%',\n        top: 60,\n        right: '10%',\n        bottom: 60,\n        // If grid size contain label\n        containLabel: false,\n        // width: {totalWidth} - left - right,\n        // height: {totalHeight} - top - bottom,\n        backgroundColor: 'rgba(0,0,0,0)',\n        borderWidth: 1,\n        borderColor: '#ccc'\n    }\n});\n\n/**\n * Grid is a region which contains at most 4 cartesian systems\n *\n * TODO Default cartesian\n */\n\n// Depends on GridModel, AxisModel, which performs preprocess.\nvar each$8 = each$1;\nvar ifAxisCrossZero$1 = ifAxisCrossZero;\nvar niceScaleExtent$1 = niceScaleExtent;\n\n/**\n * Check if the axis is used in the specified grid\n * @inner\n */\nfunction isAxisUsedInTheGrid(axisModel, gridModel, ecModel) {\n    return axisModel.getCoordSysModel() === gridModel;\n}\n\nfunction rotateTextRect(textRect, rotate) {\n  var rotateRadians = rotate * Math.PI / 180;\n  var boundingBox = textRect.plain();\n  var beforeWidth = boundingBox.width;\n  var beforeHeight = boundingBox.height;\n  var afterWidth = beforeWidth * Math.cos(rotateRadians) + beforeHeight * Math.sin(rotateRadians);\n  var afterHeight = beforeWidth * Math.sin(rotateRadians) + beforeHeight * Math.cos(rotateRadians);\n  var rotatedRect = new BoundingRect(boundingBox.x, boundingBox.y, afterWidth, afterHeight);\n\n  return rotatedRect;\n}\n\nfunction getLabelUnionRect(axis) {\n    var axisModel = axis.model;\n    var labels = axisModel.getFormattedLabels();\n    var axisLabelModel = axisModel.getModel('axisLabel');\n    var rect;\n    var step = 1;\n    var labelCount = labels.length;\n    if (labelCount > 40) {\n        // Simple optimization for large amount of labels\n        step = Math.ceil(labelCount / 40);\n    }\n    for (var i = 0; i < labelCount; i += step) {\n        if (!axis.isLabelIgnored(i)) {\n            var unrotatedSingleRect = axisLabelModel.getTextRect(labels[i]);\n            var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n\n            rect ? rect.union(singleRect) : (rect = singleRect);\n        }\n    }\n    return rect;\n}\n\nfunction Grid(gridModel, ecModel, api) {\n    /**\n     * @type {Object.<string, module:echarts/coord/cartesian/Cartesian2D>}\n     * @private\n     */\n    this._coordsMap = {};\n\n    /**\n     * @type {Array.<module:echarts/coord/cartesian/Cartesian>}\n     * @private\n     */\n    this._coordsList = [];\n\n    /**\n     * @type {Object.<string, module:echarts/coord/cartesian/Axis2D>}\n     * @private\n     */\n    this._axesMap = {};\n\n    /**\n     * @type {Array.<module:echarts/coord/cartesian/Axis2D>}\n     * @private\n     */\n    this._axesList = [];\n\n    this._initCartesian(gridModel, ecModel, api);\n\n    this.model = gridModel;\n}\n\nvar gridProto = Grid.prototype;\n\ngridProto.type = 'grid';\n\ngridProto.axisPointerEnabled = true;\n\ngridProto.getRect = function () {\n    return this._rect;\n};\n\ngridProto.update = function (ecModel, api) {\n\n    var axesMap = this._axesMap;\n\n    this._updateScale(ecModel, this.model);\n\n    each$8(axesMap.x, function (xAxis) {\n        niceScaleExtent$1(xAxis.scale, xAxis.model);\n    });\n    each$8(axesMap.y, function (yAxis) {\n        niceScaleExtent$1(yAxis.scale, yAxis.model);\n    });\n    each$8(axesMap.x, function (xAxis) {\n        fixAxisOnZero(axesMap, 'y', xAxis);\n    });\n    each$8(axesMap.y, function (yAxis) {\n        fixAxisOnZero(axesMap, 'x', yAxis);\n    });\n\n    // Resize again if containLabel is enabled\n    // FIXME It may cause getting wrong grid size in data processing stage\n    this.resize(this.model, api);\n};\n\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis) {\n    // onZero can not be enabled in these two situations:\n    // 1. When any other axis is a category axis.\n    // 2. When no axis is cross 0 point.\n    var axes = axesMap[otherAxisDim];\n\n    if (!axis.onZero) {\n        return;\n    }\n\n    var onZeroAxisIndex = axis.onZeroAxisIndex;\n\n    // If target axis is specified.\n    if (onZeroAxisIndex != null) {\n        var otherAxis = axes[onZeroAxisIndex];\n        if (otherAxis && canNotOnZeroToAxis(otherAxis)) {\n            axis.onZero = false;\n        }\n        return;\n    }\n\n    for (var idx in axes) {\n        if (axes.hasOwnProperty(idx)) {\n            var otherAxis = axes[idx];\n            if (otherAxis && !canNotOnZeroToAxis(otherAxis)) {\n                onZeroAxisIndex = +idx;\n                break;\n            }\n        }\n    }\n\n    if (onZeroAxisIndex == null) {\n        axis.onZero = false;\n    }\n    axis.onZeroAxisIndex = onZeroAxisIndex;\n}\n\nfunction canNotOnZeroToAxis(axis) {\n    return axis.type === 'category' || axis.type === 'time' || !ifAxisCrossZero$1(axis);\n}\n\n/**\n * Resize the grid\n * @param {module:echarts/coord/cartesian/GridModel} gridModel\n * @param {module:echarts/ExtensionAPI} api\n */\ngridProto.resize = function (gridModel, api, ignoreContainLabel) {\n\n    var gridRect = getLayoutRect(\n        gridModel.getBoxLayoutParams(), {\n            width: api.getWidth(),\n            height: api.getHeight()\n        });\n\n    this._rect = gridRect;\n\n    var axesList = this._axesList;\n\n    adjustAxes();\n\n    // Minus label size\n    if (!ignoreContainLabel && gridModel.get('containLabel')) {\n        each$8(axesList, function (axis) {\n            if (!axis.model.get('axisLabel.inside')) {\n                var labelUnionRect = getLabelUnionRect(axis);\n                if (labelUnionRect) {\n                    var dim = axis.isHorizontal() ? 'height' : 'width';\n                    var margin = axis.model.get('axisLabel.margin');\n                    gridRect[dim] -= labelUnionRect[dim] + margin;\n                    if (axis.position === 'top') {\n                        gridRect.y += labelUnionRect.height + margin;\n                    }\n                    else if (axis.position === 'left')  {\n                        gridRect.x += labelUnionRect.width + margin;\n                    }\n                }\n            }\n        });\n\n        adjustAxes();\n    }\n\n    function adjustAxes() {\n        each$8(axesList, function (axis) {\n            var isHorizontal = axis.isHorizontal();\n            var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n            var idx = axis.inverse ? 1 : 0;\n            axis.setExtent(extent[idx], extent[1 - idx]);\n            updateAxisTransfrom(axis, isHorizontal ? gridRect.x : gridRect.y);\n        });\n    }\n};\n\n/**\n * @param {string} axisType\n * @param {number} [axisIndex]\n */\ngridProto.getAxis = function (axisType, axisIndex) {\n    var axesMapOnDim = this._axesMap[axisType];\n    if (axesMapOnDim != null) {\n        if (axisIndex == null) {\n            // Find first axis\n            for (var name in axesMapOnDim) {\n                if (axesMapOnDim.hasOwnProperty(name)) {\n                    return axesMapOnDim[name];\n                }\n            }\n        }\n        return axesMapOnDim[axisIndex];\n    }\n};\n\n/**\n * @return {Array.<module:echarts/coord/Axis>}\n */\ngridProto.getAxes = function () {\n    return this._axesList.slice();\n};\n\n/**\n * Usage:\n *      grid.getCartesian(xAxisIndex, yAxisIndex);\n *      grid.getCartesian(xAxisIndex);\n *      grid.getCartesian(null, yAxisIndex);\n *      grid.getCartesian({xAxisIndex: ..., yAxisIndex: ...});\n *\n * @param {number|Object} [xAxisIndex]\n * @param {number} [yAxisIndex]\n */\ngridProto.getCartesian = function (xAxisIndex, yAxisIndex) {\n    if (xAxisIndex != null && yAxisIndex != null) {\n        var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n        return this._coordsMap[key];\n    }\n\n    if (isObject(xAxisIndex)) {\n        yAxisIndex = xAxisIndex.yAxisIndex;\n        xAxisIndex = xAxisIndex.xAxisIndex;\n    }\n    // When only xAxisIndex or yAxisIndex given, find its first cartesian.\n    for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n        if (coordList[i].getAxis('x').index === xAxisIndex\n            || coordList[i].getAxis('y').index === yAxisIndex\n        ) {\n            return coordList[i];\n        }\n    }\n};\n\ngridProto.getCartesians = function () {\n    return this._coordsList.slice();\n};\n\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\ngridProto.convertToPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(ecModel, finder);\n\n    return target.cartesian\n        ? target.cartesian.dataToPoint(value)\n        : target.axis\n        ? target.axis.toGlobalCoord(target.axis.dataToCoord(value))\n        : null;\n};\n\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\ngridProto.convertFromPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(ecModel, finder);\n\n    return target.cartesian\n        ? target.cartesian.pointToData(value)\n        : target.axis\n        ? target.axis.coordToData(target.axis.toLocalCoord(value))\n        : null;\n};\n\n/**\n * @inner\n */\ngridProto._findConvertTarget = function (ecModel, finder) {\n    var seriesModel = finder.seriesModel;\n    var xAxisModel = finder.xAxisModel\n        || (seriesModel && seriesModel.getReferringComponents('xAxis')[0]);\n    var yAxisModel = finder.yAxisModel\n        || (seriesModel && seriesModel.getReferringComponents('yAxis')[0]);\n    var gridModel = finder.gridModel;\n    var coordsList = this._coordsList;\n    var cartesian;\n    var axis;\n\n    if (seriesModel) {\n        cartesian = seriesModel.coordinateSystem;\n        indexOf(coordsList, cartesian) < 0 && (cartesian = null);\n    }\n    else if (xAxisModel && yAxisModel) {\n        cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    }\n    else if (xAxisModel) {\n        axis = this.getAxis('x', xAxisModel.componentIndex);\n    }\n    else if (yAxisModel) {\n        axis = this.getAxis('y', yAxisModel.componentIndex);\n    }\n    // Lowest priority.\n    else if (gridModel) {\n        var grid = gridModel.coordinateSystem;\n        if (grid === this) {\n            cartesian = this._coordsList[0];\n        }\n    }\n\n    return {cartesian: cartesian, axis: axis};\n};\n\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\ngridProto.containPoint = function (point) {\n    var coord = this._coordsList[0];\n    if (coord) {\n        return coord.containPoint(point);\n    }\n};\n\n/**\n * Initialize cartesian coordinate systems\n * @private\n */\ngridProto._initCartesian = function (gridModel, ecModel, api) {\n    var axisPositionUsed = {\n        left: false,\n        right: false,\n        top: false,\n        bottom: false\n    };\n\n    var axesMap = {\n        x: {},\n        y: {}\n    };\n    var axesCount = {\n        x: 0,\n        y: 0\n    };\n\n    /// Create axis\n    ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n    ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n\n    if (!axesCount.x || !axesCount.y) {\n        // Roll back when there no either x or y axis\n        this._axesMap = {};\n        this._axesList = [];\n        return;\n    }\n\n    this._axesMap = axesMap;\n\n    /// Create cartesian2d\n    each$8(axesMap.x, function (xAxis, xAxisIndex) {\n        each$8(axesMap.y, function (yAxis, yAxisIndex) {\n            var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n            var cartesian = new Cartesian2D(key);\n\n            cartesian.grid = this;\n            cartesian.model = gridModel;\n\n            this._coordsMap[key] = cartesian;\n            this._coordsList.push(cartesian);\n\n            cartesian.addAxis(xAxis);\n            cartesian.addAxis(yAxis);\n        }, this);\n    }, this);\n\n    function createAxisCreator(axisType) {\n        return function (axisModel, idx) {\n            if (!isAxisUsedInTheGrid(axisModel, gridModel, ecModel)) {\n                return;\n            }\n\n            var axisPosition = axisModel.get('position');\n            if (axisType === 'x') {\n                // Fix position\n                if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n                    // Default bottom of X\n                    axisPosition = 'bottom';\n                    if (axisPositionUsed[axisPosition]) {\n                        axisPosition = axisPosition === 'top' ? 'bottom' : 'top';\n                    }\n                }\n            }\n            else {\n                // Fix position\n                if (axisPosition !== 'left' && axisPosition !== 'right') {\n                    // Default left of Y\n                    axisPosition = 'left';\n                    if (axisPositionUsed[axisPosition]) {\n                        axisPosition = axisPosition === 'left' ? 'right' : 'left';\n                    }\n                }\n            }\n            axisPositionUsed[axisPosition] = true;\n\n            var axis = new Axis2D(\n                axisType, createScaleByModel(axisModel),\n                [0, 0],\n                axisModel.get('type'),\n                axisPosition\n            );\n\n            var isCategory = axis.type === 'category';\n            axis.onBand = isCategory && axisModel.get('boundaryGap');\n            axis.inverse = axisModel.get('inverse');\n\n            axis.onZero = axisModel.get('axisLine.onZero');\n            axis.onZeroAxisIndex = axisModel.get('axisLine.onZeroAxisIndex');\n\n            // Inject axis into axisModel\n            axisModel.axis = axis;\n\n            // Inject axisModel into axis\n            axis.model = axisModel;\n\n            // Inject grid info axis\n            axis.grid = this;\n\n            // Index of axis, can be used as key\n            axis.index = idx;\n\n            this._axesList.push(axis);\n\n            axesMap[axisType][idx] = axis;\n            axesCount[axisType]++;\n        };\n    }\n};\n\n/**\n * Update cartesian properties from series\n * @param  {module:echarts/model/Option} option\n * @private\n */\ngridProto._updateScale = function (ecModel, gridModel) {\n    // Reset scale\n    each$1(this._axesList, function (axis) {\n        axis.scale.setExtent(Infinity, -Infinity);\n    });\n    ecModel.eachSeries(function (seriesModel) {\n        if (isCartesian2D(seriesModel)) {\n            var axesModels = findAxesModels(seriesModel, ecModel);\n            var xAxisModel = axesModels[0];\n            var yAxisModel = axesModels[1];\n\n            if (!isAxisUsedInTheGrid(xAxisModel, gridModel, ecModel)\n                || !isAxisUsedInTheGrid(yAxisModel, gridModel, ecModel)\n                ) {\n                return;\n            }\n\n            var cartesian = this.getCartesian(\n                xAxisModel.componentIndex, yAxisModel.componentIndex\n            );\n            var data = seriesModel.getData();\n            var xAxis = cartesian.getAxis('x');\n            var yAxis = cartesian.getAxis('y');\n\n            if (data.type === 'list') {\n                unionExtent(data, xAxis, seriesModel);\n                unionExtent(data, yAxis, seriesModel);\n            }\n        }\n    }, this);\n\n    function unionExtent(data, axis, seriesModel) {\n        each$8(seriesModel.coordDimToDataDim(axis.dim), function (dim) {\n            axis.scale.unionExtentFromData(data, dim);\n        });\n    }\n};\n\n/**\n * @param {string} [dim] 'x' or 'y' or 'auto' or null/undefined\n * @return {Object} {baseAxes: [], otherAxes: []}\n */\ngridProto.getTooltipAxes = function (dim) {\n    var baseAxes = [];\n    var otherAxes = [];\n\n    each$8(this.getCartesians(), function (cartesian) {\n        var baseAxis = (dim != null && dim !== 'auto')\n            ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n        var otherAxis = cartesian.getOtherAxis(baseAxis);\n        indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n        indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n    });\n\n    return {baseAxes: baseAxes, otherAxes: otherAxes};\n};\n\n/**\n * @inner\n */\nfunction updateAxisTransfrom(axis, coordBase) {\n    var axisExtent = axis.getExtent();\n    var axisExtentSum = axisExtent[0] + axisExtent[1];\n\n    // Fast transform\n    axis.toGlobalCoord = axis.dim === 'x'\n        ? function (coord) {\n            return coord + coordBase;\n        }\n        : function (coord) {\n            return axisExtentSum - coord + coordBase;\n        };\n    axis.toLocalCoord = axis.dim === 'x'\n        ? function (coord) {\n            return coord - coordBase;\n        }\n        : function (coord) {\n            return axisExtentSum - coord + coordBase;\n        };\n}\n\nvar axesTypes = ['xAxis', 'yAxis'];\n/**\n * @inner\n */\nfunction findAxesModels(seriesModel, ecModel) {\n    return map(axesTypes, function (axisType) {\n        var axisModel = seriesModel.getReferringComponents(axisType)[0];\n\n        if (__DEV__) {\n            if (!axisModel) {\n                throw new Error(axisType + ' \"' + retrieve(\n                    seriesModel.get(axisType + 'Index'),\n                    seriesModel.get(axisType + 'Id'),\n                    0\n                ) + '\" not found');\n            }\n        }\n        return axisModel;\n    });\n}\n\n/**\n * @inner\n */\nfunction isCartesian2D(seriesModel) {\n    return seriesModel.get('coordinateSystem') === 'cartesian2d';\n}\n\nGrid.create = function (ecModel, api) {\n    var grids = [];\n    ecModel.eachComponent('grid', function (gridModel, idx) {\n        var grid = new Grid(gridModel, ecModel, api);\n        grid.name = 'grid_' + idx;\n        // dataSampling requires axis extent, so resize\n        // should be performed in create stage.\n        grid.resize(gridModel, api, true);\n\n        gridModel.coordinateSystem = grid;\n\n        grids.push(grid);\n    });\n\n    // Inject the coordinateSystems into seriesModel\n    ecModel.eachSeries(function (seriesModel) {\n        if (!isCartesian2D(seriesModel)) {\n            return;\n        }\n\n        var axesModels = findAxesModels(seriesModel, ecModel);\n        var xAxisModel = axesModels[0];\n        var yAxisModel = axesModels[1];\n\n        var gridModel = xAxisModel.getCoordSysModel();\n\n        if (__DEV__) {\n            if (!gridModel) {\n                throw new Error(\n                    'Grid \"' + retrieve(\n                        xAxisModel.get('gridIndex'),\n                        xAxisModel.get('gridId'),\n                        0\n                    ) + '\" not found'\n                );\n            }\n            if (xAxisModel.getCoordSysModel() !== yAxisModel.getCoordSysModel()) {\n                throw new Error('xAxis and yAxis must use the same grid');\n            }\n        }\n\n        var grid = gridModel.coordinateSystem;\n\n        seriesModel.coordinateSystem = grid.getCartesian(\n            xAxisModel.componentIndex, yAxisModel.componentIndex\n        );\n    });\n\n    return grids;\n};\n\n// For deciding which dimensions to use when creating list data\nGrid.dimensions = Grid.prototype.dimensions = Cartesian2D.prototype.dimensions;\n\nCoordinateSystemManager.register('cartesian2d', Grid);\n\nvar PI$2 = Math.PI;\n\nfunction makeAxisEventDataBase(axisModel) {\n    var eventData = {\n        componentType: axisModel.mainType\n    };\n    eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\n    return eventData;\n}\n\n/**\n * A final axis is translated and rotated from a \"standard axis\".\n * So opt.position and opt.rotation is required.\n *\n * A standard axis is and axis from [0, 0] to [0, axisExtent[1]],\n * for example: (0, 0) ------------> (0, 50)\n *\n * nameDirection or tickDirection or labelDirection is 1 means tick\n * or label is below the standard axis, whereas is -1 means above\n * the standard axis. labelOffset means offset between label and axis,\n * which is useful when 'onZero', where axisLabel is in the grid and\n * label in outside grid.\n *\n * Tips: like always,\n * positive rotation represents anticlockwise, and negative rotation\n * represents clockwise.\n * The direction of position coordinate is the same as the direction\n * of screen coordinate.\n *\n * Do not need to consider axis 'inverse', which is auto processed by\n * axis extent.\n *\n * @param {module:zrender/container/Group} group\n * @param {Object} axisModel\n * @param {Object} opt Standard axis parameters.\n * @param {Array.<number>} opt.position [x, y]\n * @param {number} opt.rotation by radian\n * @param {number} [opt.nameDirection=1] 1 or -1 Used when nameLocation is 'middle' or 'center'.\n * @param {number} [opt.tickDirection=1] 1 or -1\n * @param {number} [opt.labelDirection=1] 1 or -1\n * @param {number} [opt.labelOffset=0] Usefull when onZero.\n * @param {string} [opt.axisLabelShow] default get from axisModel.\n * @param {string} [opt.axisName] default get from axisModel.\n * @param {number} [opt.axisNameAvailableWidth]\n * @param {number} [opt.labelRotate] by degree, default get from axisModel.\n * @param {number} [opt.labelInterval] Default label interval when label\n *                                     interval from model is null or 'auto'.\n * @param {number} [opt.strokeContainThreshold] Default label interval when label\n * @param {number} [opt.nameTruncateMaxWidth]\n */\nvar AxisBuilder = function (axisModel, opt) {\n\n    /**\n     * @readOnly\n     */\n    this.opt = opt;\n\n    /**\n     * @readOnly\n     */\n    this.axisModel = axisModel;\n\n    // Default value\n    defaults(\n        opt,\n        {\n            labelOffset: 0,\n            nameDirection: 1,\n            tickDirection: 1,\n            labelDirection: 1,\n            silent: true\n        }\n    );\n\n    /**\n     * @readOnly\n     */\n    this.group = new Group();\n\n    // FIXME Not use a seperate text group?\n    var dumbGroup = new Group({\n        position: opt.position.slice(),\n        rotation: opt.rotation\n    });\n\n    // this.group.add(dumbGroup);\n    // this._dumbGroup = dumbGroup;\n\n    dumbGroup.updateTransform();\n    this._transform = dumbGroup.transform;\n\n    this._dumbGroup = dumbGroup;\n};\n\nAxisBuilder.prototype = {\n\n    constructor: AxisBuilder,\n\n    hasBuilder: function (name) {\n        return !!builders[name];\n    },\n\n    add: function (name) {\n        builders[name].call(this);\n    },\n\n    getGroup: function () {\n        return this.group;\n    }\n\n};\n\nvar builders = {\n\n    /**\n     * @private\n     */\n    axisLine: function () {\n        var opt = this.opt;\n        var axisModel = this.axisModel;\n\n        if (!axisModel.get('axisLine.show')) {\n            return;\n        }\n\n        var extent = this.axisModel.axis.getExtent();\n\n        var matrix = this._transform;\n        var pt1 = [extent[0], 0];\n        var pt2 = [extent[1], 0];\n        if (matrix) {\n            applyTransform(pt1, pt1, matrix);\n            applyTransform(pt2, pt2, matrix);\n        }\n\n        var lineStyle = extend(\n            {\n                lineCap: 'round'\n            },\n            axisModel.getModel('axisLine.lineStyle').getLineStyle()\n        );\n\n        this.group.add(new Line(subPixelOptimizeLine({\n            // Id for animation\n            anid: 'line',\n\n            shape: {\n                x1: pt1[0],\n                y1: pt1[1],\n                x2: pt2[0],\n                y2: pt2[1]\n            },\n            style: lineStyle,\n            strokeContainThreshold: opt.strokeContainThreshold || 5,\n            silent: true,\n            z2: 1\n        })));\n\n        var arrows = axisModel.get('axisLine.symbol');\n        var arrowSize = axisModel.get('axisLine.symbolSize');\n\n        if (arrows != null) {\n            if (typeof arrows === 'string') {\n                // Use the same arrow for start and end point\n                arrows = [arrows, arrows];\n            }\n            if (typeof arrowSize === 'string'\n                || typeof arrowSize === 'number'\n            ) {\n                // Use the same size for width and height\n                arrowSize = [arrowSize, arrowSize];\n            }\n\n            var symbolWidth = arrowSize[0];\n            var symbolHeight = arrowSize[1];\n\n            each$1([\n                [opt.rotation + Math.PI / 2, pt1],\n                [opt.rotation - Math.PI / 2, pt2]\n            ], function (item, index) {\n                if (arrows[index] !== 'none' && arrows[index] != null) {\n                    var symbol = createSymbol(\n                        arrows[index],\n                        -symbolWidth / 2,\n                        -symbolHeight / 2,\n                        symbolWidth,\n                        symbolHeight,\n                        lineStyle.stroke,\n                        true\n                    );\n                    symbol.attr({\n                        rotation: item[0],\n                        position: item[1],\n                        silent: true\n                    });\n                    this.group.add(symbol);\n                }\n            }, this);\n        }\n    },\n\n    /**\n     * @private\n     */\n    axisTickLabel: function () {\n        var axisModel = this.axisModel;\n        var opt = this.opt;\n\n        var tickEls = buildAxisTick(this, axisModel, opt);\n        var labelEls = buildAxisLabel(this, axisModel, opt);\n\n        fixMinMaxLabelShow(axisModel, labelEls, tickEls);\n    },\n\n    /**\n     * @private\n     */\n    axisName: function () {\n        var opt = this.opt;\n        var axisModel = this.axisModel;\n        var name = retrieve(opt.axisName, axisModel.get('name'));\n\n        if (!name) {\n            return;\n        }\n\n        var nameLocation = axisModel.get('nameLocation');\n        var nameDirection = opt.nameDirection;\n        var textStyleModel = axisModel.getModel('nameTextStyle');\n        var gap = axisModel.get('nameGap') || 0;\n\n        var extent = this.axisModel.axis.getExtent();\n        var gapSignal = extent[0] > extent[1] ? -1 : 1;\n        var pos = [\n            nameLocation === 'start'\n                ? extent[0] - gapSignal * gap\n                : nameLocation === 'end'\n                ? extent[1] + gapSignal * gap\n                : (extent[0] + extent[1]) / 2, // 'middle'\n            // Reuse labelOffset.\n            isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0\n        ];\n\n        var labelLayout;\n\n        var nameRotation = axisModel.get('nameRotate');\n        if (nameRotation != null) {\n            nameRotation = nameRotation * PI$2 / 180; // To radian.\n        }\n\n        var axisNameAvailableWidth;\n\n        if (isNameLocationCenter(nameLocation)) {\n            labelLayout = innerTextLayout(\n                opt.rotation,\n                nameRotation != null ? nameRotation : opt.rotation, // Adapt to axis.\n                nameDirection\n            );\n        }\n        else {\n            labelLayout = endTextLayout(\n                opt, nameLocation, nameRotation || 0, extent\n            );\n\n            axisNameAvailableWidth = opt.axisNameAvailableWidth;\n            if (axisNameAvailableWidth != null) {\n                axisNameAvailableWidth = Math.abs(\n                    axisNameAvailableWidth / Math.sin(labelLayout.rotation)\n                );\n                !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\n            }\n        }\n\n        var textFont = textStyleModel.getFont();\n\n        var truncateOpt = axisModel.get('nameTruncate', true) || {};\n        var ellipsis = truncateOpt.ellipsis;\n        var maxWidth = retrieve(\n            opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth\n        );\n        // FIXME\n        // truncate rich text? (consider performance)\n        var truncatedText = (ellipsis != null && maxWidth != null)\n            ? truncateText$1(\n                name, maxWidth, textFont, ellipsis,\n                {minChar: 2, placeholder: truncateOpt.placeholder}\n            )\n            : name;\n\n        var tooltipOpt = axisModel.get('tooltip', true);\n\n        var mainType = axisModel.mainType;\n        var formatterParams = {\n            componentType: mainType,\n            name: name,\n            $vars: ['name']\n        };\n        formatterParams[mainType + 'Index'] = axisModel.componentIndex;\n\n        var textEl = new Text({\n            // Id for animation\n            anid: 'name',\n\n            __fullText: name,\n            __truncatedText: truncatedText,\n\n            position: pos,\n            rotation: labelLayout.rotation,\n            silent: isSilent(axisModel),\n            z2: 1,\n            tooltip: (tooltipOpt && tooltipOpt.show)\n                ? extend({\n                    content: name,\n                    formatter: function () {\n                        return name;\n                    },\n                    formatterParams: formatterParams\n                }, tooltipOpt)\n                : null\n        });\n\n        setTextStyle(textEl.style, textStyleModel, {\n            text: truncatedText,\n            textFont: textFont,\n            textFill: textStyleModel.getTextColor()\n                || axisModel.get('axisLine.lineStyle.color'),\n            textAlign: labelLayout.textAlign,\n            textVerticalAlign: labelLayout.textVerticalAlign\n        });\n\n        if (axisModel.get('triggerEvent')) {\n            textEl.eventData = makeAxisEventDataBase(axisModel);\n            textEl.eventData.targetType = 'axisName';\n            textEl.eventData.name = name;\n        }\n\n        // FIXME\n        this._dumbGroup.add(textEl);\n        textEl.updateTransform();\n\n        this.group.add(textEl);\n\n        textEl.decomposeTransform();\n    }\n\n};\n\n/**\n * @public\n * @static\n * @param {Object} opt\n * @param {number} axisRotation in radian\n * @param {number} textRotation in radian\n * @param {number} direction\n * @return {Object} {\n *  rotation, // according to axis\n *  textAlign,\n *  textVerticalAlign\n * }\n */\nvar innerTextLayout = AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\n    var rotationDiff = remRadian(textRotation - axisRotation);\n    var textAlign;\n    var textVerticalAlign;\n\n    if (isRadianAroundZero(rotationDiff)) { // Label is parallel with axis line.\n        textVerticalAlign = direction > 0 ? 'top' : 'bottom';\n        textAlign = 'center';\n    }\n    else if (isRadianAroundZero(rotationDiff - PI$2)) { // Label is inverse parallel with axis line.\n        textVerticalAlign = direction > 0 ? 'bottom' : 'top';\n        textAlign = 'center';\n    }\n    else {\n        textVerticalAlign = 'middle';\n\n        if (rotationDiff > 0 && rotationDiff < PI$2) {\n            textAlign = direction > 0 ? 'right' : 'left';\n        }\n        else {\n            textAlign = direction > 0 ? 'left' : 'right';\n        }\n    }\n\n    return {\n        rotation: rotationDiff,\n        textAlign: textAlign,\n        textVerticalAlign: textVerticalAlign\n    };\n};\n\nfunction endTextLayout(opt, textPosition, textRotate, extent) {\n    var rotationDiff = remRadian(textRotate - opt.rotation);\n    var textAlign;\n    var textVerticalAlign;\n    var inverse = extent[0] > extent[1];\n    var onLeft = (textPosition === 'start' && !inverse)\n        || (textPosition !== 'start' && inverse);\n\n    if (isRadianAroundZero(rotationDiff - PI$2 / 2)) {\n        textVerticalAlign = onLeft ? 'bottom' : 'top';\n        textAlign = 'center';\n    }\n    else if (isRadianAroundZero(rotationDiff - PI$2 * 1.5)) {\n        textVerticalAlign = onLeft ? 'top' : 'bottom';\n        textAlign = 'center';\n    }\n    else {\n        textVerticalAlign = 'middle';\n        if (rotationDiff < PI$2 * 1.5 && rotationDiff > PI$2 / 2) {\n            textAlign = onLeft ? 'left' : 'right';\n        }\n        else {\n            textAlign = onLeft ? 'right' : 'left';\n        }\n    }\n\n    return {\n        rotation: rotationDiff,\n        textAlign: textAlign,\n        textVerticalAlign: textVerticalAlign\n    };\n}\n\nfunction isSilent(axisModel) {\n    var tooltipOpt = axisModel.get('tooltip');\n    return axisModel.get('silent')\n        // Consider mouse cursor, add these restrictions.\n        || !(\n            axisModel.get('triggerEvent') || (tooltipOpt && tooltipOpt.show)\n        );\n}\n\nfunction fixMinMaxLabelShow(axisModel, labelEls, tickEls) {\n    // If min or max are user set, we need to check\n    // If the tick on min(max) are overlap on their neighbour tick\n    // If they are overlapped, we need to hide the min(max) tick label\n    var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n    var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n\n    // FIXME\n    // Have not consider onBand yet, where tick els is more than label els.\n\n    labelEls = labelEls || [];\n    tickEls = tickEls || [];\n\n    var firstLabel = labelEls[0];\n    var nextLabel = labelEls[1];\n    var lastLabel = labelEls[labelEls.length - 1];\n    var prevLabel = labelEls[labelEls.length - 2];\n\n    var firstTick = tickEls[0];\n    var nextTick = tickEls[1];\n    var lastTick = tickEls[tickEls.length - 1];\n    var prevTick = tickEls[tickEls.length - 2];\n\n    if (showMinLabel === false) {\n        ignoreEl(firstLabel);\n        ignoreEl(firstTick);\n    }\n    else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {\n        if (showMinLabel) {\n            ignoreEl(nextLabel);\n            ignoreEl(nextTick);\n        }\n        else {\n            ignoreEl(firstLabel);\n            ignoreEl(firstTick);\n        }\n    }\n\n    if (showMaxLabel === false) {\n        ignoreEl(lastLabel);\n        ignoreEl(lastTick);\n    }\n    else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {\n        if (showMaxLabel) {\n            ignoreEl(prevLabel);\n            ignoreEl(prevTick);\n        }\n        else {\n            ignoreEl(lastLabel);\n            ignoreEl(lastTick);\n        }\n    }\n}\n\nfunction ignoreEl(el) {\n    el && (el.ignore = true);\n}\n\nfunction isTwoLabelOverlapped(current, next, labelLayout) {\n    // current and next has the same rotation.\n    var firstRect = current && current.getBoundingRect().clone();\n    var nextRect = next && next.getBoundingRect().clone();\n\n    if (!firstRect || !nextRect) {\n        return;\n    }\n\n    // When checking intersect of two rotated labels, we use mRotationBack\n    // to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.\n    var mRotationBack = identity([]);\n    rotate(mRotationBack, mRotationBack, -current.rotation);\n\n    firstRect.applyTransform(mul$1([], mRotationBack, current.getLocalTransform()));\n    nextRect.applyTransform(mul$1([], mRotationBack, next.getLocalTransform()));\n\n    return firstRect.intersect(nextRect);\n}\n\nfunction isNameLocationCenter(nameLocation) {\n    return nameLocation === 'middle' || nameLocation === 'center';\n}\n\n/**\n * @static\n */\nvar ifIgnoreOnTick$1 = AxisBuilder.ifIgnoreOnTick = function (\n    axis,\n    i,\n    interval,\n    ticksCnt,\n    showMinLabel,\n    showMaxLabel\n) {\n    if (i === 0 && showMinLabel || i === ticksCnt - 1 && showMaxLabel) {\n        return false;\n    }\n\n    // FIXME\n    // Have not consider label overlap (if label is too long) yet.\n\n    var rawTick;\n    var scale$$1 = axis.scale;\n    return scale$$1.type === 'ordinal'\n        && (\n            typeof interval === 'function'\n                ? (\n                    rawTick = scale$$1.getTicks()[i],\n                    !interval(rawTick, scale$$1.getLabel(rawTick))\n                )\n                : i % (interval + 1)\n        );\n};\n\n/**\n * @static\n */\nvar getInterval$1 = AxisBuilder.getInterval = function (model, labelInterval) {\n    var interval = model.get('interval');\n    if (interval == null || interval == 'auto') {\n        interval = labelInterval;\n    }\n    return interval;\n};\n\nfunction buildAxisTick(axisBuilder, axisModel, opt) {\n    var axis = axisModel.axis;\n\n    if (!axisModel.get('axisTick.show') || axis.scale.isBlank()) {\n        return;\n    }\n\n    var tickModel = axisModel.getModel('axisTick');\n\n    var lineStyleModel = tickModel.getModel('lineStyle');\n    var tickLen = tickModel.get('length');\n\n    var tickInterval = getInterval$1(tickModel, opt.labelInterval);\n    var ticksCoords = axis.getTicksCoords(tickModel.get('alignWithLabel'));\n    // FIXME\n    // Corresponds to ticksCoords ?\n    var ticks = axis.scale.getTicks();\n\n    var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n    var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n\n    var pt1 = [];\n    var pt2 = [];\n    var matrix = axisBuilder._transform;\n\n    var tickEls = [];\n\n    var ticksCnt = ticksCoords.length;\n    for (var i = 0; i < ticksCnt; i++) {\n        // Only ordinal scale support tick interval\n        if (ifIgnoreOnTick$1(\n            axis, i, tickInterval, ticksCnt,\n            showMinLabel, showMaxLabel\n        )) {\n            continue;\n        }\n\n        var tickCoord = ticksCoords[i];\n\n        pt1[0] = tickCoord;\n        pt1[1] = 0;\n        pt2[0] = tickCoord;\n        pt2[1] = opt.tickDirection * tickLen;\n\n        if (matrix) {\n            applyTransform(pt1, pt1, matrix);\n            applyTransform(pt2, pt2, matrix);\n        }\n        // Tick line, Not use group transform to have better line draw\n        var tickEl = new Line(subPixelOptimizeLine({\n            // Id for animation\n            anid: 'tick_' + ticks[i],\n\n            shape: {\n                x1: pt1[0],\n                y1: pt1[1],\n                x2: pt2[0],\n                y2: pt2[1]\n            },\n            style: defaults(\n                lineStyleModel.getLineStyle(),\n                {\n                    stroke: axisModel.get('axisLine.lineStyle.color')\n                }\n            ),\n            z2: 2,\n            silent: true\n        }));\n        axisBuilder.group.add(tickEl);\n        tickEls.push(tickEl);\n    }\n\n    return tickEls;\n}\n\nfunction buildAxisLabel(axisBuilder, axisModel, opt) {\n    var axis = axisModel.axis;\n    var show = retrieve(opt.axisLabelShow, axisModel.get('axisLabel.show'));\n\n    if (!show || axis.scale.isBlank()) {\n        return;\n    }\n\n    var labelModel = axisModel.getModel('axisLabel');\n    var labelMargin = labelModel.get('margin');\n    var ticks = axis.scale.getTicks();\n    var labels = axisModel.getFormattedLabels();\n\n    // Special label rotate.\n    var labelRotation = (\n        retrieve(opt.labelRotate, labelModel.get('rotate')) || 0\n    ) * PI$2 / 180;\n\n    var labelLayout = innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);\n    var categoryData = axisModel.get('data');\n\n    var labelEls = [];\n    var silent = isSilent(axisModel);\n    var triggerEvent = axisModel.get('triggerEvent');\n\n    var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n    var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n\n    each$1(ticks, function (tickVal, index) {\n        if (ifIgnoreOnTick$1(\n            axis, index, opt.labelInterval, ticks.length,\n            showMinLabel, showMaxLabel\n        )) {\n                return;\n        }\n\n        var itemLabelModel = labelModel;\n        if (categoryData && categoryData[tickVal] && categoryData[tickVal].textStyle) {\n            itemLabelModel = new Model(\n                categoryData[tickVal].textStyle, labelModel, axisModel.ecModel\n            );\n        }\n\n        var textColor = itemLabelModel.getTextColor()\n            || axisModel.get('axisLine.lineStyle.color');\n\n        var tickCoord = axis.dataToCoord(tickVal);\n        var pos = [\n            tickCoord,\n            opt.labelOffset + opt.labelDirection * labelMargin\n        ];\n        var labelStr = axis.scale.getLabel(tickVal);\n\n        var textEl = new Text({\n            // Id for animation\n            anid: 'label_' + tickVal,\n            position: pos,\n            rotation: labelLayout.rotation,\n            silent: silent,\n            z2: 10\n        });\n\n        setTextStyle(textEl.style, itemLabelModel, {\n            text: labels[index],\n            textAlign: itemLabelModel.getShallow('align', true)\n                || labelLayout.textAlign,\n            textVerticalAlign: itemLabelModel.getShallow('verticalAlign', true)\n                || itemLabelModel.getShallow('baseline', true)\n                || labelLayout.textVerticalAlign,\n            textFill: typeof textColor === 'function'\n                ? textColor(\n                    // (1) In category axis with data zoom, tick is not the original\n                    // index of axis.data. So tick should not be exposed to user\n                    // in category axis.\n                    // (2) Compatible with previous version, which always returns labelStr.\n                    // But in interval scale labelStr is like '223,445', which maked\n                    // user repalce ','. So we modify it to return original val but remain\n                    // it as 'string' to avoid error in replacing.\n                    axis.type === 'category' ? labelStr : axis.type === 'value' ? tickVal + '' : tickVal,\n                    index\n                )\n                : textColor\n        });\n\n        // Pack data for mouse event\n        if (triggerEvent) {\n            textEl.eventData = makeAxisEventDataBase(axisModel);\n            textEl.eventData.targetType = 'axisLabel';\n            textEl.eventData.value = labelStr;\n        }\n\n        // FIXME\n        axisBuilder._dumbGroup.add(textEl);\n        textEl.updateTransform();\n\n        labelEls.push(textEl);\n        axisBuilder.group.add(textEl);\n\n        textEl.decomposeTransform();\n\n    });\n\n    return labelEls;\n}\n\nvar each$9 = each$1;\nvar curry$1 = curry;\n\n// Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n// allAxesInfo should be updated when setOption performed.\nfunction collect(ecModel, api) {\n    var result = {\n        /**\n         * key: makeKey(axis.model)\n         * value: {\n         *      axis,\n         *      coordSys,\n         *      axisPointerModel,\n         *      triggerTooltip,\n         *      involveSeries,\n         *      snap,\n         *      seriesModels,\n         *      seriesDataCount\n         * }\n         */\n        axesInfo: {},\n        seriesInvolved: false,\n        /**\n         * key: makeKey(coordSys.model)\n         * value: Object: key makeKey(axis.model), value: axisInfo\n         */\n        coordSysAxesInfo: {},\n        coordSysMap: {}\n    };\n\n    collectAxesInfo(result, ecModel, api);\n\n    // Check seriesInvolved for performance, in case too many series in some chart.\n    result.seriesInvolved && collectSeriesInfo(result, ecModel);\n\n    return result;\n}\n\nfunction collectAxesInfo(result, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var globalAxisPointerModel = ecModel.getComponent('axisPointer');\n    // links can only be set on global.\n    var linksOption = globalAxisPointerModel.get('link', true) || [];\n    var linkGroups = [];\n\n    // Collect axes info.\n    each$9(api.getCoordinateSystems(), function (coordSys) {\n        // Some coordinate system do not support axes, like geo.\n        if (!coordSys.axisPointerEnabled) {\n            return;\n        }\n\n        var coordSysKey = makeKey(coordSys.model);\n        var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\n        result.coordSysMap[coordSysKey] = coordSys;\n\n        // Set tooltip (like 'cross') is a convienent way to show axisPointer\n        // for user. So we enable seting tooltip on coordSys model.\n        var coordSysModel = coordSys.model;\n        var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\n\n        each$9(coordSys.getAxes(), curry$1(saveTooltipAxisInfo, false, null));\n\n        // If axis tooltip used, choose tooltip axis for each coordSys.\n        // Notice this case: coordSys is `grid` but not `cartesian2D` here.\n        if (coordSys.getTooltipAxes\n            && globalTooltipModel\n            // If tooltip.showContent is set as false, tooltip will not\n            // show but axisPointer will show as normal.\n            && baseTooltipModel.get('show')\n        ) {\n            // Compatible with previous logic. But series.tooltip.trigger: 'axis'\n            // or series.data[n].tooltip.trigger: 'axis' are not support any more.\n            var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\n            var cross = baseTooltipModel.get('axisPointer.type') === 'cross';\n            var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get('axisPointer.axis'));\n            if (triggerAxis || cross) {\n                each$9(tooltipAxes.baseAxes, curry$1(\n                    saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis\n                ));\n            }\n            if (cross) {\n                each$9(tooltipAxes.otherAxes, curry$1(saveTooltipAxisInfo, 'cross', false));\n            }\n        }\n\n        // fromTooltip: true | false | 'cross'\n        // triggerTooltip: true | false | null\n        function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\n            var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\n\n            var axisPointerShow = axisPointerModel.get('show');\n            if (!axisPointerShow || (\n                axisPointerShow === 'auto'\n                && !fromTooltip\n                && !isHandleTrigger(axisPointerModel)\n            )) {\n                return;\n            }\n\n            if (triggerTooltip == null) {\n                triggerTooltip = axisPointerModel.get('triggerTooltip');\n            }\n\n            axisPointerModel = fromTooltip\n                ? makeAxisPointerModel(\n                    axis, baseTooltipModel, globalAxisPointerModel, ecModel,\n                    fromTooltip, triggerTooltip\n                )\n                : axisPointerModel;\n\n            var snap = axisPointerModel.get('snap');\n            var key = makeKey(axis.model);\n            var involveSeries = triggerTooltip || snap || axis.type === 'category';\n\n            // If result.axesInfo[key] exist, override it (tooltip has higher priority).\n            var axisInfo = result.axesInfo[key] = {\n                key: key,\n                axis: axis,\n                coordSys: coordSys,\n                axisPointerModel: axisPointerModel,\n                triggerTooltip: triggerTooltip,\n                involveSeries: involveSeries,\n                snap: snap,\n                useHandle: isHandleTrigger(axisPointerModel),\n                seriesModels: []\n            };\n            axesInfoInCoordSys[key] = axisInfo;\n            result.seriesInvolved |= involveSeries;\n\n            var groupIndex = getLinkGroupIndex(linksOption, axis);\n            if (groupIndex != null) {\n                var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {axesInfo: {}});\n                linkGroup.axesInfo[key] = axisInfo;\n                linkGroup.mapper = linksOption[groupIndex].mapper;\n                axisInfo.linkGroup = linkGroup;\n            }\n        }\n    });\n}\n\nfunction makeAxisPointerModel(\n    axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip\n) {\n    var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\n    var volatileOption = {};\n\n    each$9(\n        [\n            'type', 'snap', 'lineStyle', 'shadowStyle', 'label',\n            'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'\n        ],\n        function (field) {\n            volatileOption[field] = clone(tooltipAxisPointerModel.get(field));\n        }\n    );\n\n    // category axis do not auto snap, otherwise some tick that do not\n    // has value can not be hovered. value/time/log axis default snap if\n    // triggered from tooltip and trigger tooltip.\n    volatileOption.snap = axis.type !== 'category' && !!triggerTooltip;\n\n    // Compatibel with previous behavior, tooltip axis do not show label by default.\n    // Only these properties can be overrided from tooltip to axisPointer.\n    if (tooltipAxisPointerModel.get('type') === 'cross') {\n        volatileOption.type = 'line';\n    }\n    var labelOption = volatileOption.label || (volatileOption.label = {});\n    // Follow the convention, do not show label when triggered by tooltip by default.\n    labelOption.show == null && (labelOption.show = false);\n\n    if (fromTooltip === 'cross') {\n        // When 'cross', both axes show labels.\n        labelOption.show = true;\n        // If triggerTooltip, this is a base axis, which should better not use cross style\n        // (cross style is dashed by default)\n        if (!triggerTooltip) {\n            var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\n            crossStyle && defaults(labelOption, crossStyle.textStyle);\n        }\n    }\n\n    return axis.model.getModel(\n        'axisPointer',\n        new Model(volatileOption, globalAxisPointerModel, ecModel)\n    );\n}\n\nfunction collectSeriesInfo(result, ecModel) {\n    // Prepare data for axis trigger\n    ecModel.eachSeries(function (seriesModel) {\n\n        // Notice this case: this coordSys is `cartesian2D` but not `grid`.\n        var coordSys = seriesModel.coordinateSystem;\n        var seriesTooltipTrigger = seriesModel.get('tooltip.trigger', true);\n        var seriesTooltipShow = seriesModel.get('tooltip.show', true);\n        if (!coordSys\n            || seriesTooltipTrigger === 'none'\n            || seriesTooltipTrigger === false\n            || seriesTooltipTrigger === 'item'\n            || seriesTooltipShow === false\n            || seriesModel.get('axisPointer.show', true) === false\n        ) {\n            return;\n        }\n\n        each$9(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\n            var axis = axisInfo.axis;\n            if (coordSys.getAxis(axis.dim) === axis) {\n                axisInfo.seriesModels.push(seriesModel);\n                axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\n                axisInfo.seriesDataCount += seriesModel.getData().count();\n            }\n        });\n\n    }, this);\n}\n\n/**\n * For example:\n * {\n *     axisPointer: {\n *         links: [{\n *             xAxisIndex: [2, 4],\n *             yAxisIndex: 'all'\n *         }, {\n *             xAxisId: ['a5', 'a7'],\n *             xAxisName: 'xxx'\n *         }]\n *     }\n * }\n */\nfunction getLinkGroupIndex(linksOption, axis) {\n    var axisModel = axis.model;\n    var dim = axis.dim;\n    for (var i = 0; i < linksOption.length; i++) {\n        var linkOption = linksOption[i] || {};\n        if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id)\n            || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex)\n            || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)\n        ) {\n            return i;\n        }\n    }\n}\n\nfunction checkPropInLink(linkPropValue, axisPropValue) {\n    return linkPropValue === 'all'\n        || (isArray(linkPropValue) && indexOf(linkPropValue, axisPropValue) >= 0)\n        || linkPropValue === axisPropValue;\n}\n\nfunction fixValue(axisModel) {\n    var axisInfo = getAxisInfo(axisModel);\n    if (!axisInfo) {\n        return;\n    }\n\n    var axisPointerModel = axisInfo.axisPointerModel;\n    var scale = axisInfo.axis.scale;\n    var option = axisPointerModel.option;\n    var status = axisPointerModel.get('status');\n    var value = axisPointerModel.get('value');\n\n    // Parse init value for category and time axis.\n    if (value != null) {\n        value = scale.parse(value);\n    }\n\n    var useHandle = isHandleTrigger(axisPointerModel);\n    // If `handle` used, `axisPointer` will always be displayed, so value\n    // and status should be initialized.\n    if (status == null) {\n        option.status = useHandle ? 'show' : 'hide';\n    }\n\n    var extent = scale.getExtent().slice();\n    extent[0] > extent[1] && extent.reverse();\n\n    if (// Pick a value on axis when initializing.\n        value == null\n        // If both `handle` and `dataZoom` are used, value may be out of axis extent,\n        // where we should re-pick a value to keep `handle` displaying normally.\n        || value > extent[1]\n    ) {\n        // Make handle displayed on the end of the axis when init, which looks better.\n        value = extent[1];\n    }\n    if (value < extent[0]) {\n        value = extent[0];\n    }\n\n    option.value = value;\n\n    if (useHandle) {\n        option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\n    }\n}\n\nfunction getAxisInfo(axisModel) {\n    var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\n    return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\n}\n\nfunction getAxisPointerModel(axisModel) {\n    var axisInfo = getAxisInfo(axisModel);\n    return axisInfo && axisInfo.axisPointerModel;\n}\n\nfunction isHandleTrigger(axisPointerModel) {\n    return !!axisPointerModel.get('handle.show');\n}\n\n/**\n * @param {module:echarts/model/Model} model\n * @return {string} unique key\n */\nfunction makeKey(model) {\n    return model.type + '||' + model.id;\n}\n\n/**\n * Base class of AxisView.\n */\nvar AxisView = extendComponentView({\n\n    type: 'axis',\n\n    /**\n     * @private\n     */\n    _axisPointer: null,\n\n    /**\n     * @protected\n     * @type {string}\n     */\n    axisPointerClass: null,\n\n    /**\n     * @override\n     */\n    render: function (axisModel, ecModel, api, payload) {\n        // FIXME\n        // This process should proformed after coordinate systems updated\n        // (axis scale updated), and should be performed each time update.\n        // So put it here temporarily, although it is not appropriate to\n        // put a model-writing procedure in `view`.\n        this.axisPointerClass && fixValue(axisModel);\n\n        AxisView.superApply(this, 'render', arguments);\n\n        updateAxisPointer(this, axisModel, ecModel, api, payload, true);\n    },\n\n    /**\n     * Action handler.\n     * @public\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/model/Global} ecModel\n     * @param {module:echarts/ExtensionAPI} api\n     * @param {Object} payload\n     */\n    updateAxisPointer: function (axisModel, ecModel, api, payload, force) {\n        updateAxisPointer(this, axisModel, ecModel, api, payload, false);\n    },\n\n    /**\n     * @override\n     */\n    remove: function (ecModel, api) {\n        var axisPointer = this._axisPointer;\n        axisPointer && axisPointer.remove(api);\n        AxisView.superApply(this, 'remove', arguments);\n    },\n\n    /**\n     * @override\n     */\n    dispose: function (ecModel, api) {\n        disposeAxisPointer(this, api);\n        AxisView.superApply(this, 'dispose', arguments);\n    }\n\n});\n\nfunction updateAxisPointer(axisView, axisModel, ecModel, api, payload, forceRender) {\n    var Clazz = AxisView.getAxisPointerClass(axisView.axisPointerClass);\n    if (!Clazz) {\n        return;\n    }\n    var axisPointerModel = getAxisPointerModel(axisModel);\n    axisPointerModel\n        ? (axisView._axisPointer || (axisView._axisPointer = new Clazz()))\n            .render(axisModel, axisPointerModel, api, forceRender)\n        : disposeAxisPointer(axisView, api);\n}\n\nfunction disposeAxisPointer(axisView, ecModel, api) {\n    var axisPointer = axisView._axisPointer;\n    axisPointer && axisPointer.dispose(ecModel, api);\n    axisView._axisPointer = null;\n}\n\nvar axisPointerClazz = [];\n\nAxisView.registerAxisPointerClass = function (type, clazz) {\n    if (__DEV__) {\n        if (axisPointerClazz[type]) {\n            throw new Error('axisPointer ' + type + ' exists');\n        }\n    }\n    axisPointerClazz[type] = clazz;\n};\n\nAxisView.getAxisPointerClass = function (type) {\n    return type && axisPointerClazz[type];\n};\n\n/**\n * @param {Object} opt {labelInside}\n * @return {Object} {\n *  position, rotation, labelDirection, labelOffset,\n *  tickDirection, labelRotate, labelInterval, z2\n * }\n */\nfunction layout(gridModel, axisModel, opt) {\n    opt = opt || {};\n    var grid = gridModel.coordinateSystem;\n    var axis = axisModel.axis;\n    var layout = {};\n\n    var rawAxisPosition = axis.position;\n    var axisPosition = axis.onZero ? 'onZero' : rawAxisPosition;\n    var axisDim = axis.dim;\n\n    var rect = grid.getRect();\n    var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n    var idx = {left: 0, right: 1, top: 0, bottom: 1, onZero: 2};\n    var axisOffset = axisModel.get('offset') || 0;\n\n    var posBound = axisDim === 'x'\n        ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset]\n        : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n\n    if (axis.onZero) {\n        var otherAxis = grid.getAxis(axisDim === 'x' ? 'y' : 'x', axis.onZeroAxisIndex);\n        var onZeroCoord = otherAxis.toGlobalCoord(otherAxis.dataToCoord(0));\n        posBound[idx['onZero']] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n    }\n\n    // Axis position\n    layout.position = [\n        axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0],\n        axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]\n    ];\n\n    // Axis rotation\n    layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1);\n\n    // Tick and label direction, x y is axisDim\n    var dirMap = {top: -1, bottom: 1, left: -1, right: 1};\n\n    layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n    layout.labelOffset = axis.onZero ? posBound[idx[rawAxisPosition]] - posBound[idx['onZero']] : 0;\n\n    if (axisModel.get('axisTick.inside')) {\n        layout.tickDirection = -layout.tickDirection;\n    }\n    if (retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n        layout.labelDirection = -layout.labelDirection;\n    }\n\n    // Special label rotation\n    var labelRotate = axisModel.get('axisLabel.rotate');\n    layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate;\n\n    // label interval when auto mode.\n    layout.labelInterval = axis.getLabelInterval();\n\n    // Over splitLine and splitArea\n    layout.z2 = 1;\n\n    return layout;\n}\n\nvar ifIgnoreOnTick = AxisBuilder.ifIgnoreOnTick;\nvar getInterval = AxisBuilder.getInterval;\n\nvar axisBuilderAttrs = [\n    'axisLine', 'axisTickLabel', 'axisName'\n];\nvar selfBuilderAttrs = [\n    'splitArea', 'splitLine'\n];\n\n// function getAlignWithLabel(model, axisModel) {\n//     var alignWithLabel = model.get('alignWithLabel');\n//     if (alignWithLabel === 'auto') {\n//         alignWithLabel = axisModel.get('axisTick.alignWithLabel');\n//     }\n//     return alignWithLabel;\n// }\n\nvar CartesianAxisView = AxisView.extend({\n\n    type: 'cartesianAxis',\n\n    axisPointerClass: 'CartesianAxisPointer',\n\n    /**\n     * @override\n     */\n    render: function (axisModel, ecModel, api, payload) {\n\n        this.group.removeAll();\n\n        var oldAxisGroup = this._axisGroup;\n        this._axisGroup = new Group();\n\n        this.group.add(this._axisGroup);\n\n        if (!axisModel.get('show')) {\n            return;\n        }\n\n        var gridModel = axisModel.getCoordSysModel();\n\n        var layout$$1 = layout(gridModel, axisModel);\n\n        var axisBuilder = new AxisBuilder(axisModel, layout$$1);\n\n        each$1(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n\n        this._axisGroup.add(axisBuilder.getGroup());\n\n        each$1(selfBuilderAttrs, function (name) {\n            if (axisModel.get(name + '.show')) {\n                this['_' + name](axisModel, gridModel, layout$$1.labelInterval);\n            }\n        }, this);\n\n        groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n\n        CartesianAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n    },\n\n    /**\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/coord/cartesian/GridModel} gridModel\n     * @param {number|Function} labelInterval\n     * @private\n     */\n    _splitLine: function (axisModel, gridModel, labelInterval) {\n        var axis = axisModel.axis;\n\n        if (axis.scale.isBlank()) {\n            return;\n        }\n\n        var splitLineModel = axisModel.getModel('splitLine');\n        var lineStyleModel = splitLineModel.getModel('lineStyle');\n        var lineColors = lineStyleModel.get('color');\n\n        var lineInterval = getInterval(splitLineModel, labelInterval);\n\n        lineColors = isArray(lineColors) ? lineColors : [lineColors];\n\n        var gridRect = gridModel.coordinateSystem.getRect();\n        var isHorizontal = axis.isHorizontal();\n\n        var lineCount = 0;\n\n        var ticksCoords = axis.getTicksCoords(\n            // splitLineModel.get('alignWithLabel')\n        );\n        var ticks = axis.scale.getTicks();\n\n        var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n        var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n\n        var p1 = [];\n        var p2 = [];\n        // Simple optimization\n        // Batching the lines if color are the same\n        var lineStyle = lineStyleModel.getLineStyle();\n        for (var i = 0; i < ticksCoords.length; i++) {\n            if (ifIgnoreOnTick(\n                axis, i, lineInterval, ticksCoords.length,\n                showMinLabel, showMaxLabel\n            )) {\n                continue;\n            }\n\n            var tickCoord = axis.toGlobalCoord(ticksCoords[i]);\n\n            if (isHorizontal) {\n                p1[0] = tickCoord;\n                p1[1] = gridRect.y;\n                p2[0] = tickCoord;\n                p2[1] = gridRect.y + gridRect.height;\n            }\n            else {\n                p1[0] = gridRect.x;\n                p1[1] = tickCoord;\n                p2[0] = gridRect.x + gridRect.width;\n                p2[1] = tickCoord;\n            }\n\n            var colorIndex = (lineCount++) % lineColors.length;\n            this._axisGroup.add(new Line(subPixelOptimizeLine({\n                anid: 'line_' + ticks[i],\n\n                shape: {\n                    x1: p1[0],\n                    y1: p1[1],\n                    x2: p2[0],\n                    y2: p2[1]\n                },\n                style: defaults({\n                    stroke: lineColors[colorIndex]\n                }, lineStyle),\n                silent: true\n            })));\n        }\n    },\n\n    /**\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/coord/cartesian/GridModel} gridModel\n     * @param {number|Function} labelInterval\n     * @private\n     */\n    _splitArea: function (axisModel, gridModel, labelInterval) {\n        var axis = axisModel.axis;\n\n        if (axis.scale.isBlank()) {\n            return;\n        }\n\n        var splitAreaModel = axisModel.getModel('splitArea');\n        var areaStyleModel = splitAreaModel.getModel('areaStyle');\n        var areaColors = areaStyleModel.get('color');\n\n        var gridRect = gridModel.coordinateSystem.getRect();\n\n        var ticksCoords = axis.getTicksCoords(\n            // splitAreaModel.get('alignWithLabel')\n        );\n        var ticks = axis.scale.getTicks();\n\n        var prevX = axis.toGlobalCoord(ticksCoords[0]);\n        var prevY = axis.toGlobalCoord(ticksCoords[0]);\n\n        var count = 0;\n\n        var areaInterval = getInterval(splitAreaModel, labelInterval);\n\n        var areaStyle = areaStyleModel.getAreaStyle();\n        areaColors = isArray(areaColors) ? areaColors : [areaColors];\n\n        var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n        var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n\n        for (var i = 1; i < ticksCoords.length; i++) {\n            if (ifIgnoreOnTick(\n                axis, i, areaInterval, ticksCoords.length,\n                showMinLabel, showMaxLabel\n            )) {\n                continue;\n            }\n\n            var tickCoord = axis.toGlobalCoord(ticksCoords[i]);\n\n            var x;\n            var y;\n            var width;\n            var height;\n            if (axis.isHorizontal()) {\n                x = prevX;\n                y = gridRect.y;\n                width = tickCoord - x;\n                height = gridRect.height;\n            }\n            else {\n                x = gridRect.x;\n                y = prevY;\n                width = gridRect.width;\n                height = tickCoord - y;\n            }\n\n            var colorIndex = (count++) % areaColors.length;\n            this._axisGroup.add(new Rect({\n                anid: 'area_' + ticks[i],\n\n                shape: {\n                    x: x,\n                    y: y,\n                    width: width,\n                    height: height\n                },\n                style: defaults({\n                    fill: areaColors[colorIndex]\n                }, areaStyle),\n                silent: true\n            }));\n\n            prevX = x + width;\n            prevY = y + height;\n        }\n    }\n});\n\nCartesianAxisView.extend({\n    type: 'xAxis'\n});\nCartesianAxisView.extend({\n    type: 'yAxis'\n});\n\n// Grid view\nextendComponentView({\n\n    type: 'grid',\n\n    render: function (gridModel, ecModel) {\n        this.group.removeAll();\n        if (gridModel.get('show')) {\n            this.group.add(new Rect({\n                shape: gridModel.coordinateSystem.getRect(),\n                style: defaults({\n                    fill: gridModel.get('backgroundColor')\n                }, gridModel.getItemStyle()),\n                silent: true,\n                z2: -1\n            }));\n        }\n    }\n\n});\n\nregisterPreprocessor(function (option) {\n    // Only create grid when need\n    if (option.xAxis && option.yAxis && !option.grid) {\n        option.grid = {};\n    }\n});\n\n// In case developer forget to include grid component\nregisterVisual(curry(\n    visualSymbol, 'line', 'circle', 'line'\n));\nregisterLayout(curry(\n    layoutPoints, 'line'\n));\n\n// Down sample after filter\nregisterProcessor(PRIORITY.PROCESSOR.STATISTIC, curry(\n    dataSample, 'line'\n));\n\nvar STACK_PREFIX = '__ec_stack_';\n\nfunction getSeriesStackId(seriesModel) {\n    return seriesModel.get('stack') || STACK_PREFIX + seriesModel.seriesIndex;\n}\n\nfunction getAxisKey(axis) {\n    return axis.dim + axis.index;\n}\n\n/**\n * @param {Object} opt\n * @param {module:echarts/coord/Axis} opt.axis Only support category axis currently.\n * @param {number} opt.count Positive interger.\n * @param {number} [opt.barWidth]\n * @param {number} [opt.barMaxWidth]\n * @param {number} [opt.barGap]\n * @param {number} [opt.barCategoryGap]\n * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.\n */\nfunction getLayoutOnAxis(opt, api) {\n    var params = [];\n    var baseAxis = opt.axis;\n    var axisKey = 'axis0';\n\n    if (baseAxis.type !== 'category') {\n        return;\n    }\n    var bandWidth = baseAxis.getBandWidth();\n\n    for (var i = 0; i < opt.count || 0; i++) {\n        params.push(defaults({\n            bandWidth: bandWidth,\n            axisKey: axisKey,\n            stackId: STACK_PREFIX + i\n        }, opt));\n    }\n    var widthAndOffsets = doCalBarWidthAndOffset(params, api);\n\n    var result = [];\n    for (var i = 0; i < opt.count; i++) {\n        var item = widthAndOffsets[axisKey][STACK_PREFIX + i];\n        item.offsetCenter = item.offset + item.width / 2;\n        result.push(item);\n    }\n\n    return result;\n}\n\nfunction calBarWidthAndOffset(barSeries, api) {\n    var seriesInfoList = map(barSeries, function (seriesModel) {\n        var data = seriesModel.getData();\n        var cartesian = seriesModel.coordinateSystem;\n        var baseAxis = cartesian.getBaseAxis();\n        var axisExtent = baseAxis.getExtent();\n        var bandWidth = baseAxis.type === 'category'\n            ? baseAxis.getBandWidth()\n            : (Math.abs(axisExtent[1] - axisExtent[0]) / data.count());\n\n        var barWidth = parsePercent$1(\n            seriesModel.get('barWidth'), bandWidth\n        );\n        var barMaxWidth = parsePercent$1(\n            seriesModel.get('barMaxWidth'), bandWidth\n        );\n        var barGap = seriesModel.get('barGap');\n        var barCategoryGap = seriesModel.get('barCategoryGap');\n\n        return {\n            bandWidth: bandWidth,\n            barWidth: barWidth,\n            barMaxWidth: barMaxWidth,\n            barGap: barGap,\n            barCategoryGap: barCategoryGap,\n            axisKey: getAxisKey(baseAxis),\n            stackId: getSeriesStackId(seriesModel)\n        };\n    });\n\n    return doCalBarWidthAndOffset(seriesInfoList, api);\n}\n\nfunction doCalBarWidthAndOffset(seriesInfoList, api) {\n    // Columns info on each category axis. Key is cartesian name\n    var columnsMap = {};\n\n    each$1(seriesInfoList, function (seriesInfo, idx) {\n        var axisKey = seriesInfo.axisKey;\n        var bandWidth = seriesInfo.bandWidth;\n        var columnsOnAxis = columnsMap[axisKey] || {\n            bandWidth: bandWidth,\n            remainedWidth: bandWidth,\n            autoWidthCount: 0,\n            categoryGap: '20%',\n            gap: '30%',\n            stacks: {}\n        };\n        var stacks = columnsOnAxis.stacks;\n        columnsMap[axisKey] = columnsOnAxis;\n\n        var stackId = seriesInfo.stackId;\n\n        if (!stacks[stackId]) {\n            columnsOnAxis.autoWidthCount++;\n        }\n        stacks[stackId] = stacks[stackId] || {\n            width: 0,\n            maxWidth: 0\n        };\n\n        // Caution: In a single coordinate system, these barGrid attributes\n        // will be shared by series. Consider that they have default values,\n        // only the attributes set on the last series will work.\n        // Do not change this fact unless there will be a break change.\n\n        // TODO\n        var barWidth = seriesInfo.barWidth;\n        if (barWidth && !stacks[stackId].width) {\n            // See #6312, do not restrict width.\n            stacks[stackId].width = barWidth;\n            barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n            columnsOnAxis.remainedWidth -= barWidth;\n        }\n\n        var barMaxWidth = seriesInfo.barMaxWidth;\n        barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n        var barGap = seriesInfo.barGap;\n        (barGap != null) && (columnsOnAxis.gap = barGap);\n        var barCategoryGap = seriesInfo.barCategoryGap;\n        (barCategoryGap != null) && (columnsOnAxis.categoryGap = barCategoryGap);\n    });\n\n    var result = {};\n\n    each$1(columnsMap, function (columnsOnAxis, coordSysName) {\n\n        result[coordSysName] = {};\n\n        var stacks = columnsOnAxis.stacks;\n        var bandWidth = columnsOnAxis.bandWidth;\n        var categoryGap = parsePercent$1(columnsOnAxis.categoryGap, bandWidth);\n        var barGapPercent = parsePercent$1(columnsOnAxis.gap, 1);\n\n        var remainedWidth = columnsOnAxis.remainedWidth;\n        var autoWidthCount = columnsOnAxis.autoWidthCount;\n        var autoWidth = (remainedWidth - categoryGap)\n            / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n        autoWidth = Math.max(autoWidth, 0);\n\n        // Find if any auto calculated bar exceeded maxBarWidth\n        each$1(stacks, function (column, stack) {\n            var maxWidth = column.maxWidth;\n            if (maxWidth && maxWidth < autoWidth) {\n                maxWidth = Math.min(maxWidth, remainedWidth);\n                if (column.width) {\n                    maxWidth = Math.min(maxWidth, column.width);\n                }\n                remainedWidth -= maxWidth;\n                column.width = maxWidth;\n                autoWidthCount--;\n            }\n        });\n\n        // Recalculate width again\n        autoWidth = (remainedWidth - categoryGap)\n            / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n        autoWidth = Math.max(autoWidth, 0);\n\n        var widthSum = 0;\n        var lastColumn;\n        each$1(stacks, function (column, idx) {\n            if (!column.width) {\n                column.width = autoWidth;\n            }\n            lastColumn = column;\n            widthSum += column.width * (1 + barGapPercent);\n        });\n        if (lastColumn) {\n            widthSum -= lastColumn.width * barGapPercent;\n        }\n\n        var offset = -widthSum / 2;\n        each$1(stacks, function (column, stackId) {\n            result[coordSysName][stackId] = result[coordSysName][stackId] || {\n                offset: offset,\n                width: column.width\n            };\n\n            offset += column.width * (1 + barGapPercent);\n        });\n    });\n\n    return result;\n}\n\n/**\n * @param {string} seriesType\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction barLayoutGrid(seriesType, ecModel, api) {\n\n    var barWidthAndOffset = calBarWidthAndOffset(\n        filter(\n            ecModel.getSeriesByType(seriesType),\n            function (seriesModel) {\n                return !ecModel.isSeriesFiltered(seriesModel)\n                    && seriesModel.coordinateSystem\n                    && seriesModel.coordinateSystem.type === 'cartesian2d';\n            }\n        )\n    );\n\n    var lastStackCoords = {};\n    var lastStackCoordsOrigin = {};\n\n    ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n\n        // Check series coordinate, do layout for cartesian2d only\n        if (seriesModel.coordinateSystem.type !== 'cartesian2d') {\n            return;\n        }\n\n        var data = seriesModel.getData();\n        var cartesian = seriesModel.coordinateSystem;\n        var baseAxis = cartesian.getBaseAxis();\n\n        var stackId = getSeriesStackId(seriesModel);\n        var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n        var columnOffset = columnLayoutInfo.offset;\n        var columnWidth = columnLayoutInfo.width;\n        var valueAxis = cartesian.getOtherAxis(baseAxis);\n\n        var barMinHeight = seriesModel.get('barMinHeight') || 0;\n\n        var valueAxisStart = baseAxis.onZero\n            ? valueAxis.toGlobalCoord(valueAxis.dataToCoord(0))\n            : valueAxis.getGlobalExtent()[0];\n\n        var coordDims = [\n            seriesModel.coordDimToDataDim('x')[0],\n            seriesModel.coordDimToDataDim('y')[0]\n        ];\n        var coords = data.mapArray(coordDims, function (x, y) {\n            return cartesian.dataToPoint([x, y]);\n        }, true);\n\n        lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n        lastStackCoordsOrigin[stackId] = lastStackCoordsOrigin[stackId] || []; // Fix #4243\n\n        data.setLayout({\n            offset: columnOffset,\n            size: columnWidth\n        });\n\n        data.each(seriesModel.coordDimToDataDim(valueAxis.dim)[0], function (value, idx) {\n            if (isNaN(value)) {\n                return;\n            }\n\n            if (!lastStackCoords[stackId][idx]) {\n                lastStackCoords[stackId][idx] = {\n                    p: valueAxisStart, // Positive stack\n                    n: valueAxisStart  // Negative stack\n                };\n                lastStackCoordsOrigin[stackId][idx] = {\n                    p: valueAxisStart, // Positive stack\n                    n: valueAxisStart  // Negative stack\n                };\n            }\n            var sign = value >= 0 ? 'p' : 'n';\n            var coord = coords[idx];\n            var lastCoord = lastStackCoords[stackId][idx][sign];\n            var lastCoordOrigin = lastStackCoordsOrigin[stackId][idx][sign];\n            var x;\n            var y;\n            var width;\n            var height;\n\n            if (valueAxis.isHorizontal()) {\n                x = lastCoord;\n                y = coord[1] + columnOffset;\n                width = coord[0] - lastCoordOrigin;\n                height = columnWidth;\n\n                lastStackCoordsOrigin[stackId][idx][sign] += width;\n                if (Math.abs(width) < barMinHeight) {\n                    width = (width < 0 ? -1 : 1) * barMinHeight;\n                }\n                lastStackCoords[stackId][idx][sign] += width;\n            }\n            else {\n                x = coord[0] + columnOffset;\n                y = lastCoord;\n                width = columnWidth;\n                height = coord[1] - lastCoordOrigin;\n\n                lastStackCoordsOrigin[stackId][idx][sign] += height;\n                if (Math.abs(height) < barMinHeight) {\n                    // Include zero to has a positive bar\n                    height = (height <= 0 ? -1 : 1) * barMinHeight;\n                }\n                lastStackCoords[stackId][idx][sign] += height;\n            }\n\n            data.setItemLayout(idx, {\n                x: x,\n                y: y,\n                width: width,\n                height: height\n            });\n        }, true);\n\n    }, this);\n}\n\nbarLayoutGrid.getLayoutOnAxis = getLayoutOnAxis;\n\nvar BaseBarSeries = SeriesModel.extend({\n\n    type: 'series.__base_bar__',\n\n    getInitialData: function (option, ecModel) {\n        return createListFromArray(option.data, this, ecModel);\n    },\n\n    getMarkerPosition: function (value) {\n        var coordSys = this.coordinateSystem;\n        if (coordSys) {\n            // PENDING if clamp ?\n            var pt = coordSys.dataToPoint(value, true);\n            var data = this.getData();\n            var offset = data.getLayout('offset');\n            var size = data.getLayout('size');\n            var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n            pt[offsetIndex] += offset + size / 2;\n            return pt;\n        }\n        return [NaN, NaN];\n    },\n\n    defaultOption: {\n        zlevel: 0,                  // \n        z: 2,                       // \n        coordinateSystem: 'cartesian2d',\n        legendHoverLink: true,\n        // stack: null\n\n        // Cartesian coordinate system\n        // xAxisIndex: 0,\n        // yAxisIndex: 0,\n\n        // 0\n        barMinHeight: 0,\n        // 0\n        barMinAngle: 0,\n        // cursor: null,\n\n        // barMaxWidth: null,\n        // \n        // barWidth: null,\n        // 30%\n        // barGap: '30%',\n        // 20%\n        // barCategoryGap: '20%',\n        // label: {\n        //     normal: {\n        //         show: false\n        //     }\n        // },\n        itemStyle: {\n            // normal: {\n                // color: ''\n            // },\n            // emphasis: {}\n        }\n    }\n});\n\nBaseBarSeries.extend({\n\n    type: 'series.bar',\n\n    dependencies: ['grid', 'polar'],\n\n    brushSelector: 'rect'\n});\n\nfunction setLabel(\n    normalStyle, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside\n) {\n    var labelModel = itemModel.getModel('label.normal');\n    var hoverLabelModel = itemModel.getModel('label.emphasis');\n\n    setLabelStyle(\n        normalStyle, hoverStyle, labelModel, hoverLabelModel,\n        {\n            labelFetcher: seriesModel,\n            labelDataIndex: dataIndex,\n            defaultText: seriesModel.getRawValue(dataIndex),\n            isRectText: true,\n            autoColor: color\n        }\n    );\n\n    fixPosition(normalStyle);\n    fixPosition(hoverStyle);\n}\n\nfunction fixPosition(style, labelPositionOutside) {\n    if (style.textPosition === 'outside') {\n        style.textPosition = labelPositionOutside;\n    }\n}\n\nvar getBarItemStyle = makeStyleMapper(\n    [\n        ['fill', 'color'],\n        ['stroke', 'borderColor'],\n        ['lineWidth', 'borderWidth'],\n        // Compatitable with 2\n        ['stroke', 'barBorderColor'],\n        ['lineWidth', 'barBorderWidth'],\n        ['opacity'],\n        ['shadowBlur'],\n        ['shadowOffsetX'],\n        ['shadowOffsetY'],\n        ['shadowColor']\n    ]\n);\n\nvar barItemStyle = {\n    getBarItemStyle: function (excludes) {\n        var style = getBarItemStyle(this, excludes);\n        if (this.getBorderLineDash) {\n            var lineDash = this.getBorderLineDash();\n            lineDash && (style.lineDash = lineDash);\n        }\n        return style;\n    }\n};\n\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'normal', 'barBorderWidth'];\n\n// FIXME\n// Just for compatible with ec2.\nextend(Model.prototype, barItemStyle);\n\nextendChartView({\n\n    type: 'bar',\n\n    render: function (seriesModel, ecModel, api) {\n        var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n        if (coordinateSystemType === 'cartesian2d'\n            || coordinateSystemType === 'polar'\n        ) {\n            this._render(seriesModel, ecModel, api);\n        }\n        else if (__DEV__) {\n            console.warn('Only cartesian2d and polar supported for bar.');\n        }\n\n        return this.group;\n    },\n\n    dispose: noop,\n\n    _render: function (seriesModel, ecModel, api) {\n        var group = this.group;\n        var data = seriesModel.getData();\n        var oldData = this._data;\n\n        var coord = seriesModel.coordinateSystem;\n        var baseAxis = coord.getBaseAxis();\n        var isHorizontalOrRadial;\n\n        if (coord.type === 'cartesian2d') {\n            isHorizontalOrRadial = baseAxis.isHorizontal();\n        }\n        else if (coord.type === 'polar') {\n            isHorizontalOrRadial = baseAxis.dim === 'angle';\n        }\n\n        var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n\n        data.diff(oldData)\n            .add(function (dataIndex) {\n                if (!data.hasValue(dataIndex)) {\n                    return;\n                }\n\n                var itemModel = data.getItemModel(dataIndex);\n                var layout = getLayout[coord.type](data, dataIndex, itemModel);\n                var el = elementCreator[coord.type](\n                    data, dataIndex, itemModel, layout, isHorizontalOrRadial, animationModel\n                );\n                data.setItemGraphicEl(dataIndex, el);\n                group.add(el);\n\n                updateStyle(\n                    el, data, dataIndex, itemModel, layout,\n                    seriesModel, isHorizontalOrRadial, coord.type === 'polar'\n                );\n            })\n            .update(function (newIndex, oldIndex) {\n                var el = oldData.getItemGraphicEl(oldIndex);\n\n                if (!data.hasValue(newIndex)) {\n                    group.remove(el);\n                    return;\n                }\n\n                var itemModel = data.getItemModel(newIndex);\n                var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n                if (el) {\n                    updateProps(el, {shape: layout}, animationModel, newIndex);\n                }\n                else {\n                    el = elementCreator[coord.type](\n                        data, newIndex, itemModel, layout, isHorizontalOrRadial, animationModel, true\n                    );\n                }\n\n                data.setItemGraphicEl(newIndex, el);\n                // Add back\n                group.add(el);\n\n                updateStyle(\n                    el, data, newIndex, itemModel, layout,\n                    seriesModel, isHorizontalOrRadial, coord.type === 'polar'\n                );\n            })\n            .remove(function (dataIndex) {\n                var el = oldData.getItemGraphicEl(dataIndex);\n                if (coord.type === 'cartesian2d') {\n                    el && removeRect(dataIndex, animationModel, el);\n                }\n                else {\n                    el && removeSector(dataIndex, animationModel, el);\n                }\n            })\n            .execute();\n\n        this._data = data;\n    },\n\n    remove: function (ecModel, api) {\n        var group = this.group;\n        var data = this._data;\n        if (ecModel.get('animation')) {\n            if (data) {\n                data.eachItemGraphicEl(function (el) {\n                    if (el.type === 'sector') {\n                        removeSector(el.dataIndex, ecModel, el);\n                    }\n                    else {\n                        removeRect(el.dataIndex, ecModel, el);\n                    }\n                });\n            }\n        }\n        else {\n            group.removeAll();\n        }\n    }\n});\n\nvar elementCreator = {\n\n    cartesian2d: function (\n        data, dataIndex, itemModel, layout, isHorizontal,\n        animationModel, isUpdate\n    ) {\n        var rect = new Rect({shape: extend({}, layout)});\n\n        // Animation\n        if (animationModel) {\n            var rectShape = rect.shape;\n            var animateProperty = isHorizontal ? 'height' : 'width';\n            var animateTarget = {};\n            rectShape[animateProperty] = 0;\n            animateTarget[animateProperty] = layout[animateProperty];\n            graphic[isUpdate ? 'updateProps' : 'initProps'](rect, {\n                shape: animateTarget\n            }, animationModel, dataIndex);\n        }\n\n        return rect;\n    },\n\n    polar: function (\n        data, dataIndex, itemModel, layout, isRadial,\n        animationModel, isUpdate\n    ) {\n        var sector = new Sector({shape: extend({}, layout)});\n\n        // Animation\n        if (animationModel) {\n            var sectorShape = sector.shape;\n            var animateProperty = isRadial ? 'r' : 'endAngle';\n            var animateTarget = {};\n            sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n            animateTarget[animateProperty] = layout[animateProperty];\n            graphic[isUpdate ? 'updateProps' : 'initProps'](sector, {\n                shape: animateTarget\n            }, animationModel, dataIndex);\n        }\n\n        return sector;\n    }\n};\n\nfunction removeRect(dataIndex, animationModel, el) {\n    // Not show text when animating\n    el.style.text = null;\n    updateProps(el, {\n        shape: {\n            width: 0\n        }\n    }, animationModel, dataIndex, function () {\n        el.parent && el.parent.remove(el);\n    });\n}\n\nfunction removeSector(dataIndex, animationModel, el) {\n    // Not show text when animating\n    el.style.text = null;\n    updateProps(el, {\n        shape: {\n            r: el.shape.r0\n        }\n    }, animationModel, dataIndex, function () {\n        el.parent && el.parent.remove(el);\n    });\n}\n\nvar getLayout = {\n    cartesian2d: function (data, dataIndex, itemModel) {\n        var layout = data.getItemLayout(dataIndex);\n        var fixedLineWidth = getLineWidth(itemModel, layout);\n\n        // fix layout with lineWidth\n        var signX = layout.width > 0 ? 1 : -1;\n        var signY = layout.height > 0 ? 1 : -1;\n        return {\n            x: layout.x + signX * fixedLineWidth / 2,\n            y: layout.y + signY * fixedLineWidth / 2,\n            width: layout.width - signX * fixedLineWidth,\n            height: layout.height - signY * fixedLineWidth\n        };\n    },\n\n    polar: function (data, dataIndex, itemModel) {\n        var layout = data.getItemLayout(dataIndex);\n        return {\n            cx: layout.cx,\n            cy: layout.cy,\n            r0: layout.r0,\n            r: layout.r,\n            startAngle: layout.startAngle,\n            endAngle: layout.endAngle\n        };\n    }\n};\n\nfunction updateStyle(\n    el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar\n) {\n    var color = data.getItemVisual(dataIndex, 'color');\n    var opacity = data.getItemVisual(dataIndex, 'opacity');\n    var itemStyleModel = itemModel.getModel('itemStyle.normal');\n    var hoverStyle = itemModel.getModel('itemStyle.emphasis').getBarItemStyle();\n\n    if (!isPolar) {\n        el.setShape('r', itemStyleModel.get('barBorderRadius') || 0);\n    }\n\n    el.useStyle(defaults(\n        {\n            fill: color,\n            opacity: opacity\n        },\n        itemStyleModel.getBarItemStyle()\n    ));\n\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && el.attr('cursor', cursorStyle);\n\n    var labelPositionOutside = isHorizontal\n        ? (layout.height > 0 ? 'bottom' : 'top')\n        : (layout.width > 0 ? 'left' : 'right');\n\n    if (!isPolar) {\n        setLabel(\n            el.style, hoverStyle, itemModel, color,\n            seriesModel, dataIndex, labelPositionOutside\n        );\n    }\n\n    setHoverStyle(el, hoverStyle);\n}\n\n// In case width or height are too small.\nfunction getLineWidth(itemModel, rawLayout) {\n    var lineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0;\n    return Math.min(lineWidth, Math.abs(rawLayout.width), Math.abs(rawLayout.height));\n}\n\n// In case developer forget to include grid component\nregisterLayout(curry(barLayoutGrid, 'bar'));\n\n// Visual coding for legend\nregisterVisual(function (ecModel) {\n    ecModel.eachSeriesByType('bar', function (seriesModel) {\n        var data = seriesModel.getData();\n        data.setVisual('legendSymbol', 'roundRect');\n    });\n});\n\n/**\n * Data selectable mixin for chart series.\n * To eanble data select, option of series must have `selectedMode`.\n * And each data item will use `selected` to toggle itself selected status\n */\n\nvar selectableMixin = {\n\n    updateSelectedMap: function (targetList) {\n        this._targetList = targetList.slice();\n        this._selectTargetMap = reduce(targetList || [], function (targetMap, target) {\n            targetMap.set(target.name, target);\n            return targetMap;\n        }, createHashMap());\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    // PENGING If selectedMode is null ?\n    select: function (name, id) {\n        var target = id != null\n            ? this._targetList[id]\n            : this._selectTargetMap.get(name);\n        var selectedMode = this.get('selectedMode');\n        if (selectedMode === 'single') {\n            this._selectTargetMap.each(function (target) {\n                target.selected = false;\n            });\n        }\n        target && (target.selected = true);\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    unSelect: function (name, id) {\n        var target = id != null\n            ? this._targetList[id]\n            : this._selectTargetMap.get(name);\n        // var selectedMode = this.get('selectedMode');\n        // selectedMode !== 'single' && target && (target.selected = false);\n        target && (target.selected = false);\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    toggleSelected: function (name, id) {\n        var target = id != null\n            ? this._targetList[id]\n            : this._selectTargetMap.get(name);\n        if (target != null) {\n            this[target.selected ? 'unSelect' : 'select'](name, id);\n            return target.selected;\n        }\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    isSelected: function (name, id) {\n        var target = id != null\n            ? this._targetList[id]\n            : this._selectTargetMap.get(name);\n        return target && target.selected;\n    }\n};\n\nvar PieSeries = extendSeriesModel({\n\n    type: 'series.pie',\n\n    // Overwrite\n    init: function (option) {\n        PieSeries.superApply(this, 'init', arguments);\n\n        // Enable legend selection for each data item\n        // Use a function instead of direct access because data reference may changed\n        this.legendDataProvider = function () {\n            return this.getRawData();\n        };\n\n        this.updateSelectedMap(option.data);\n\n        this._defaultLabelLine(option);\n    },\n\n    // Overwrite\n    mergeOption: function (newOption) {\n        PieSeries.superCall(this, 'mergeOption', newOption);\n        this.updateSelectedMap(this.option.data);\n    },\n\n    getInitialData: function (option, ecModel) {\n        var dimensions = completeDimensions(['value'], option.data);\n        var list = new List(dimensions, this);\n        list.initData(option.data);\n        return list;\n    },\n\n    // Overwrite\n    getDataParams: function (dataIndex) {\n        var data = this.getData();\n        var params = PieSeries.superCall(this, 'getDataParams', dataIndex);\n        // FIXME toFixed?\n\n        var valueList = [];\n        data.each('value', function (value) {\n            valueList.push(value);\n        });\n\n        params.percent = getPercentWithPrecision(\n            valueList,\n            dataIndex,\n            data.hostModel.get('percentPrecision')\n        );\n\n        params.$vars.push('percent');\n        return params;\n    },\n\n    _defaultLabelLine: function (option) {\n        // Extend labelLine emphasis\n        defaultEmphasis(option.labelLine, ['show']);\n\n        var labelLineNormalOpt = option.labelLine.normal;\n        var labelLineEmphasisOpt = option.labelLine.emphasis;\n        // Not show label line if `label.normal.show = false`\n        labelLineNormalOpt.show = labelLineNormalOpt.show\n            && option.label.normal.show;\n        labelLineEmphasisOpt.show = labelLineEmphasisOpt.show\n            && option.label.emphasis.show;\n    },\n\n    defaultOption: {\n        zlevel: 0,\n        z: 2,\n        legendHoverLink: true,\n\n        hoverAnimation: true,\n        // \n        center: ['50%', '50%'],\n        radius: [0, '75%'],\n        // \n        clockwise: true,\n        startAngle: 90,\n        // 0\n        minAngle: 0,\n        // \n        selectedOffset: 10,\n        // \n        hoverOffset: 10,\n\n        // If use strategy to avoid label overlapping\n        avoidLabelOverlap: true,\n        // singlemultiple\n        // selectedMode: false,\n        // 'radius' | 'area'\n        // roseType: null,\n\n        percentPrecision: 2,\n\n        // If still show when all data zero.\n        stillShowZeroSum: true,\n\n        // cursor: null,\n\n        label: {\n            normal: {\n                // If rotate around circle\n                rotate: false,\n                show: true,\n                // 'outer', 'inside', 'center'\n                position: 'outer'\n                // formatter: Tooltip.formatter\n                // TEXTSTYLE\n                // distance: positioninnerlabel()\n            },\n            emphasis: {}\n        },\n        // Enabled when label.normal.position is 'outer'\n        labelLine: {\n            normal: {\n                show: true,\n                // \n                length: 15,\n                // \n                length2: 15,\n                smooth: false,\n                lineStyle: {\n                    // color: ,\n                    width: 1,\n                    type: 'solid'\n                }\n            }\n        },\n        itemStyle: {\n            normal: {\n                borderWidth: 1\n            },\n            emphasis: {}\n        },\n\n        // Animation type canbe expansion, scale\n        animationType: 'expansion',\n\n        animationEasing: 'cubicOut',\n\n        data: []\n    }\n});\n\nmixin(PieSeries, selectableMixin);\n\n/**\n * @param {module:echarts/model/Series} seriesModel\n * @param {boolean} hasAnimation\n * @inner\n */\nfunction updateDataSelected(uid, seriesModel, hasAnimation, api) {\n    var data = seriesModel.getData();\n    var dataIndex = this.dataIndex;\n    var name = data.getName(dataIndex);\n    var selectedOffset = seriesModel.get('selectedOffset');\n\n    api.dispatchAction({\n        type: 'pieToggleSelect',\n        from: uid,\n        name: name,\n        seriesId: seriesModel.id\n    });\n\n    data.each(function (idx) {\n        toggleItemSelected(\n            data.getItemGraphicEl(idx),\n            data.getItemLayout(idx),\n            seriesModel.isSelected(data.getName(idx)),\n            selectedOffset,\n            hasAnimation\n        );\n    });\n}\n\n/**\n * @param {module:zrender/graphic/Sector} el\n * @param {Object} layout\n * @param {boolean} isSelected\n * @param {number} selectedOffset\n * @param {boolean} hasAnimation\n * @inner\n */\nfunction toggleItemSelected(el, layout, isSelected, selectedOffset, hasAnimation) {\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n\n    var offset = isSelected ? selectedOffset : 0;\n    var position = [dx * offset, dy * offset];\n\n    hasAnimation\n        // animateTo will stop revious animation like update transition\n        ? el.animate()\n            .when(200, {\n                position: position\n            })\n            .start('bounceOut')\n        : el.attr('position', position);\n}\n\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\nfunction PiePiece(data, idx) {\n\n    Group.call(this);\n\n    var sector = new Sector({\n        z2: 2\n    });\n    var polyline = new Polyline();\n    var text = new Text();\n    this.add(sector);\n    this.add(polyline);\n    this.add(text);\n\n    this.updateData(data, idx, true);\n\n    // Hover to change label and labelLine\n    function onEmphasis() {\n        polyline.ignore = polyline.hoverIgnore;\n        text.ignore = text.hoverIgnore;\n    }\n    function onNormal() {\n        polyline.ignore = polyline.normalIgnore;\n        text.ignore = text.normalIgnore;\n    }\n    this.on('emphasis', onEmphasis)\n        .on('normal', onNormal)\n        .on('mouseover', onEmphasis)\n        .on('mouseout', onNormal);\n}\n\nvar piePieceProto = PiePiece.prototype;\n\npiePieceProto.updateData = function (data, idx, firstCreate) {\n\n    var sector = this.childAt(0);\n\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var sectorShape = extend({}, layout);\n    sectorShape.label = null;\n\n    if (firstCreate) {\n        sector.setShape(sectorShape);\n\n        var animationType = seriesModel.getShallow('animationType');\n        if (animationType === 'scale') {\n            sector.shape.r = layout.r0;\n            initProps(sector, {\n                shape: {\n                    r: layout.r\n                }\n            }, seriesModel, idx);\n        }\n        // Expansion\n        else {\n            sector.shape.endAngle = layout.startAngle;\n            updateProps(sector, {\n                shape: {\n                    endAngle: layout.endAngle\n                }\n            }, seriesModel, idx);\n        }\n\n    }\n    else {\n        updateProps(sector, {\n            shape: sectorShape\n        }, seriesModel, idx);\n    }\n\n    // Update common style\n    var itemStyleModel = itemModel.getModel('itemStyle');\n    var visualColor = data.getItemVisual(idx, 'color');\n\n    sector.useStyle(\n        defaults(\n            {\n                lineJoin: 'bevel',\n                fill: visualColor\n            },\n            itemStyleModel.getModel('normal').getItemStyle()\n        )\n    );\n    sector.hoverStyle = itemStyleModel.getModel('emphasis').getItemStyle();\n\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle);\n\n    // Toggle selected\n    toggleItemSelected(\n        this,\n        data.getItemLayout(idx),\n        itemModel.get('selected'),\n        seriesModel.get('selectedOffset'),\n        seriesModel.get('animation')\n    );\n\n    function onEmphasis() {\n        // Sector may has animation of updating data. Force to move to the last frame\n        // Or it may stopped on the wrong shape\n        sector.stopAnimation(true);\n        sector.animateTo({\n            shape: {\n                r: layout.r + seriesModel.get('hoverOffset')\n            }\n        }, 300, 'elasticOut');\n    }\n    function onNormal() {\n        sector.stopAnimation(true);\n        sector.animateTo({\n            shape: {\n                r: layout.r\n            }\n        }, 300, 'elasticOut');\n    }\n    sector.off('mouseover').off('mouseout').off('emphasis').off('normal');\n    if (itemModel.get('hoverAnimation') && seriesModel.isAnimationEnabled()) {\n        sector\n            .on('mouseover', onEmphasis)\n            .on('mouseout', onNormal)\n            .on('emphasis', onEmphasis)\n            .on('normal', onNormal);\n    }\n\n    this._updateLabel(data, idx);\n\n    setHoverStyle(this);\n};\n\npiePieceProto._updateLabel = function (data, idx) {\n\n    var labelLine = this.childAt(1);\n    var labelText = this.childAt(2);\n\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var labelLayout = layout.label;\n    var visualColor = data.getItemVisual(idx, 'color');\n\n    updateProps(labelLine, {\n        shape: {\n            points: labelLayout.linePoints || [\n                [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y]\n            ]\n        }\n    }, seriesModel, idx);\n\n    updateProps(labelText, {\n        style: {\n            x: labelLayout.x,\n            y: labelLayout.y\n        }\n    }, seriesModel, idx);\n    labelText.attr({\n        rotation: labelLayout.rotation,\n        origin: [labelLayout.x, labelLayout.y],\n        z2: 10\n    });\n\n    var labelModel = itemModel.getModel('label.normal');\n    var labelHoverModel = itemModel.getModel('label.emphasis');\n    var labelLineModel = itemModel.getModel('labelLine.normal');\n    var labelLineHoverModel = itemModel.getModel('labelLine.emphasis');\n    var visualColor = data.getItemVisual(idx, 'color');\n\n    setLabelStyle(\n        labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel,\n        {\n            labelFetcher: data.hostModel,\n            labelDataIndex: idx,\n            defaultText: data.getName(idx),\n            autoColor: visualColor,\n            useInsideStyle: !!labelLayout.inside\n        },\n        {\n            textAlign: labelLayout.textAlign,\n            textVerticalAlign: labelLayout.verticalAlign,\n            opacity: data.getItemVisual(idx, 'opacity')\n        }\n    );\n\n    labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n    labelText.hoverIgnore = !labelHoverModel.get('show');\n\n    labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n    labelLine.hoverIgnore = !labelLineHoverModel.get('show');\n\n    // Default use item visual color\n    labelLine.setStyle({\n        stroke: visualColor,\n        opacity: data.getItemVisual(idx, 'opacity')\n    });\n    labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n\n    labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n\n    var smooth = labelLineModel.get('smooth');\n    if (smooth && smooth === true) {\n        smooth = 0.4;\n    }\n    labelLine.setShape({\n        smooth: smooth\n    });\n};\n\ninherits(PiePiece, Group);\n\n\n// Pie view\nvar PieView = Chart.extend({\n\n    type: 'pie',\n\n    init: function () {\n        var sectorGroup = new Group();\n        this._sectorGroup = sectorGroup;\n    },\n\n    render: function (seriesModel, ecModel, api, payload) {\n        if (payload && (payload.from === this.uid)) {\n            return;\n        }\n\n        var data = seriesModel.getData();\n        var oldData = this._data;\n        var group = this.group;\n\n        var hasAnimation = ecModel.get('animation');\n        var isFirstRender = !oldData;\n        var animationType = seriesModel.get('animationType');\n\n        var onSectorClick = curry(\n            updateDataSelected, this.uid, seriesModel, hasAnimation, api\n        );\n\n        var selectedMode = seriesModel.get('selectedMode');\n\n        data.diff(oldData)\n            .add(function (idx) {\n                var piePiece = new PiePiece(data, idx);\n                // Default expansion animation\n                if (isFirstRender && animationType !== 'scale') {\n                    piePiece.eachChild(function (child) {\n                        child.stopAnimation(true);\n                    });\n                }\n\n                selectedMode && piePiece.on('click', onSectorClick);\n\n                data.setItemGraphicEl(idx, piePiece);\n\n                group.add(piePiece);\n            })\n            .update(function (newIdx, oldIdx) {\n                var piePiece = oldData.getItemGraphicEl(oldIdx);\n\n                piePiece.updateData(data, newIdx);\n\n                piePiece.off('click');\n                selectedMode && piePiece.on('click', onSectorClick);\n                group.add(piePiece);\n                data.setItemGraphicEl(newIdx, piePiece);\n            })\n            .remove(function (idx) {\n                var piePiece = oldData.getItemGraphicEl(idx);\n                group.remove(piePiece);\n            })\n            .execute();\n\n        if (\n            hasAnimation && isFirstRender && data.count() > 0\n            // Default expansion animation\n            && animationType !== 'scale'\n        ) {\n            var shape = data.getItemLayout(0);\n            var r = Math.max(api.getWidth(), api.getHeight()) / 2;\n\n            var removeClipPath = bind(group.removeClipPath, group);\n            group.setClipPath(this._createClipPath(\n                shape.cx, shape.cy, r, shape.startAngle, shape.clockwise, removeClipPath, seriesModel\n            ));\n        }\n\n        this._data = data;\n    },\n\n    dispose: function () {},\n\n    _createClipPath: function (\n        cx, cy, r, startAngle, clockwise, cb, seriesModel\n    ) {\n        var clipPath = new Sector({\n            shape: {\n                cx: cx,\n                cy: cy,\n                r0: 0,\n                r: r,\n                startAngle: startAngle,\n                endAngle: startAngle,\n                clockwise: clockwise\n            }\n        });\n\n        initProps(clipPath, {\n            shape: {\n                endAngle: startAngle + (clockwise ? 1 : -1) * Math.PI * 2\n            }\n        }, seriesModel, cb);\n\n        return clipPath;\n    },\n\n    /**\n     * @implement\n     */\n    containPoint: function (point, seriesModel) {\n        var data = seriesModel.getData();\n        var itemLayout = data.getItemLayout(0);\n        if (itemLayout) {\n            var dx = point[0] - itemLayout.cx;\n            var dy = point[1] - itemLayout.cy;\n            var radius = Math.sqrt(dx * dx + dy * dy);\n            return radius <= itemLayout.r && radius >= itemLayout.r0;\n        }\n    }\n\n});\n\nvar createDataSelectAction = function (seriesType, actionInfos) {\n    each$1(actionInfos, function (actionInfo) {\n        actionInfo.update = 'updateView';\n        /**\n         * @payload\n         * @property {string} seriesName\n         * @property {string} name\n         */\n        registerAction(actionInfo, function (payload, ecModel) {\n            var selected = {};\n            ecModel.eachComponent(\n                {mainType: 'series', subType: seriesType, query: payload},\n                function (seriesModel) {\n                    if (seriesModel[actionInfo.method]) {\n                        seriesModel[actionInfo.method](\n                            payload.name,\n                            payload.dataIndex\n                        );\n                    }\n                    var data = seriesModel.getData();\n                    // Create selected map\n                    data.each(function (idx) {\n                        var name = data.getName(idx);\n                        selected[name] = seriesModel.isSelected(name)\n                            || false;\n                    });\n                }\n            );\n            return {\n                name: payload.name,\n                selected: selected\n            };\n        });\n    });\n};\n\n// Pick color from palette for each data item.\n// Applicable for charts that require applying color palette\n// in data level (like pie, funnel, chord).\n\nvar dataColor = function (seriesType, ecModel) {\n    // Pie and funnel may use diferrent scope\n    var paletteScope = {};\n    ecModel.eachRawSeriesByType(seriesType, function (seriesModel) {\n        var dataAll = seriesModel.getRawData();\n        var idxMap = {};\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n            var data = seriesModel.getData();\n            data.each(function (idx) {\n                var rawIdx = data.getRawIndex(idx);\n                idxMap[rawIdx] = idx;\n            });\n            dataAll.each(function (rawIdx) {\n                var filteredIdx = idxMap[rawIdx];\n\n                // If series.itemStyle.normal.color is a function. itemVisual may be encoded\n                var singleDataColor = filteredIdx != null\n                    && data.getItemVisual(filteredIdx, 'color', true);\n\n                if (!singleDataColor) {\n                    // FIXME Performance\n                    var itemModel = dataAll.getItemModel(rawIdx);\n                    var color = itemModel.get('itemStyle.normal.color')\n                        || seriesModel.getColorFromPalette(dataAll.getName(rawIdx), paletteScope);\n                    // Legend may use the visual info in data before processed\n                    dataAll.setItemVisual(rawIdx, 'color', color);\n\n                    // Data is not filtered\n                    if (filteredIdx != null) {\n                        data.setItemVisual(filteredIdx, 'color', color);\n                    }\n                }\n                else {\n                    // Set data all color for legend\n                    dataAll.setItemVisual(rawIdx, 'color', singleDataColor);\n                }\n            });\n        }\n    });\n};\n\n// FIXME emphasis label position is not same with normal label position\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight) {\n    list.sort(function (a, b) {\n        return a.y - b.y;\n    });\n\n    // \n    function shiftDown(start, end, delta, dir) {\n        for (var j = start; j < end; j++) {\n            list[j].y += delta;\n            if (j > start\n                && j + 1 < end\n                && list[j + 1].y > list[j].y + list[j].height\n            ) {\n                shiftUp(j, delta / 2);\n                return;\n            }\n        }\n\n        shiftUp(end - 1, delta / 2);\n    }\n\n    // \n    function shiftUp(end, delta) {\n        for (var j = end; j >= 0; j--) {\n            list[j].y -= delta;\n            if (j > 0\n                && list[j].y > list[j - 1].y + list[j - 1].height\n            ) {\n                break;\n            }\n        }\n    }\n\n    function changeX(list, isDownList, cx, cy, r, dir) {\n        var lastDeltaX = dir > 0\n            ? isDownList                // \n                ? Number.MAX_VALUE      // \n                : 0                     // \n            : isDownList                // \n                ? Number.MAX_VALUE      // \n                : 0;                    // \n\n        for (var i = 0, l = list.length; i < l; i++) {\n            // Not change x for center label\n            if (list[i].position === 'center') {\n                continue;\n            }\n            var deltaY = Math.abs(list[i].y - cy);\n            var length = list[i].len;\n            var length2 = list[i].len2;\n            var deltaX = (deltaY < r + length)\n                ? Math.sqrt(\n                        (r + length + length2) * (r + length + length2)\n                        - deltaY * deltaY\n                    )\n                : Math.abs(list[i].x - cx);\n            if (isDownList && deltaX >= lastDeltaX) {\n                // \n                deltaX = lastDeltaX - 10;\n            }\n            if (!isDownList && deltaX <= lastDeltaX) {\n                // \n                deltaX = lastDeltaX + 10;\n            }\n\n            list[i].x = cx + deltaX * dir;\n            lastDeltaX = deltaX;\n        }\n    }\n\n    var lastY = 0;\n    var delta;\n    var len = list.length;\n    var upList = [];\n    var downList = [];\n    for (var i = 0; i < len; i++) {\n        delta = list[i].y - lastY;\n        if (delta < 0) {\n            shiftDown(i, len, -delta, dir);\n        }\n        lastY = list[i].y + list[i].height;\n    }\n    if (viewHeight - lastY < 0) {\n        shiftUp(len - 1, lastY - viewHeight);\n    }\n    for (var i = 0; i < len; i++) {\n        if (list[i].y >= cy) {\n            downList.push(list[i]);\n        }\n        else {\n            upList.push(list[i]);\n        }\n    }\n    changeX(upList, false, cx, cy, r, dir);\n    changeX(downList, true, cx, cy, r, dir);\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight) {\n    var leftList = [];\n    var rightList = [];\n    for (var i = 0; i < labelLayoutList.length; i++) {\n        if (labelLayoutList[i].x < cx) {\n            leftList.push(labelLayoutList[i]);\n        }\n        else {\n            rightList.push(labelLayoutList[i]);\n        }\n    }\n\n    adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight);\n    adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight);\n\n    for (var i = 0; i < labelLayoutList.length; i++) {\n        var linePoints = labelLayoutList[i].linePoints;\n        if (linePoints) {\n            var dist = linePoints[1][0] - linePoints[2][0];\n            if (labelLayoutList[i].x < cx) {\n                linePoints[2][0] = labelLayoutList[i].x + 3;\n            }\n            else {\n                linePoints[2][0] = labelLayoutList[i].x - 3;\n            }\n            linePoints[1][1] = linePoints[2][1] = labelLayoutList[i].y;\n            linePoints[1][0] = linePoints[2][0] + dist;\n        }\n    }\n}\n\nvar labelLayout = function (seriesModel, r, viewWidth, viewHeight) {\n    var data = seriesModel.getData();\n    var labelLayoutList = [];\n    var cx;\n    var cy;\n    var hasLabelRotate = false;\n\n    data.each(function (idx) {\n        var layout = data.getItemLayout(idx);\n\n        var itemModel = data.getItemModel(idx);\n        var labelModel = itemModel.getModel('label.normal');\n        // Use position in normal or emphasis\n        var labelPosition = labelModel.get('position') || itemModel.get('label.emphasis.position');\n\n        var labelLineModel = itemModel.getModel('labelLine.normal');\n        var labelLineLen = labelLineModel.get('length');\n        var labelLineLen2 = labelLineModel.get('length2');\n\n        var midAngle = (layout.startAngle + layout.endAngle) / 2;\n        var dx = Math.cos(midAngle);\n        var dy = Math.sin(midAngle);\n\n        var textX;\n        var textY;\n        var linePoints;\n        var textAlign;\n\n        cx = layout.cx;\n        cy = layout.cy;\n\n        var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n        if (labelPosition === 'center') {\n            textX = layout.cx;\n            textY = layout.cy;\n            textAlign = 'center';\n        }\n        else {\n            var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n            var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n\n            textX = x1 + dx * 3;\n            textY = y1 + dy * 3;\n\n            if (!isLabelInside) {\n                // For roseType\n                var x2 = x1 + dx * (labelLineLen + r - layout.r);\n                var y2 = y1 + dy * (labelLineLen + r - layout.r);\n                var x3 = x2 + ((dx < 0 ? -1 : 1) * labelLineLen2);\n                var y3 = y2;\n\n                textX = x3 + (dx < 0 ? -5 : 5);\n                textY = y3;\n                linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n            }\n\n            textAlign = isLabelInside ? 'center' : (dx > 0 ? 'left' : 'right');\n        }\n        var font = labelModel.getFont();\n\n        var labelRotate = labelModel.get('rotate')\n            ? (dx < 0 ? -midAngle + Math.PI : -midAngle) : 0;\n        var text = seriesModel.getFormattedLabel(idx, 'normal')\n                    || data.getName(idx);\n        var textRect = getBoundingRect(\n            text, font, textAlign, 'top'\n        );\n        hasLabelRotate = !!labelRotate;\n        layout.label = {\n            x: textX,\n            y: textY,\n            position: labelPosition,\n            height: textRect.height,\n            len: labelLineLen,\n            len2: labelLineLen2,\n            linePoints: linePoints,\n            textAlign: textAlign,\n            verticalAlign: 'middle',\n            rotation: labelRotate,\n            inside: isLabelInside\n        };\n\n        // Not layout the inside label\n        if (!isLabelInside) {\n            labelLayoutList.push(layout.label);\n        }\n    });\n    if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n        avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight);\n    }\n};\n\nvar PI2$4 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nvar pieLayout = function (seriesType, ecModel, api, payload) {\n    ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n        var center = seriesModel.get('center');\n        var radius = seriesModel.get('radius');\n\n        if (!isArray(radius)) {\n            radius = [0, radius];\n        }\n        if (!isArray(center)) {\n            center = [center, center];\n        }\n\n        var width = api.getWidth();\n        var height = api.getHeight();\n        var size = Math.min(width, height);\n        var cx = parsePercent$1(center[0], width);\n        var cy = parsePercent$1(center[1], height);\n        var r0 = parsePercent$1(radius[0], size / 2);\n        var r = parsePercent$1(radius[1], size / 2);\n\n        var data = seriesModel.getData();\n\n        var startAngle = -seriesModel.get('startAngle') * RADIAN;\n\n        var minAngle = seriesModel.get('minAngle') * RADIAN;\n\n        var validDataCount = 0;\n        data.each('value', function (value) {\n            !isNaN(value) && validDataCount++;\n        });\n\n        var sum = data.getSum('value');\n        // Sum may be 0\n        var unitRadian = Math.PI / (sum || validDataCount) * 2;\n\n        var clockwise = seriesModel.get('clockwise');\n\n        var roseType = seriesModel.get('roseType');\n        var stillShowZeroSum = seriesModel.get('stillShowZeroSum');\n\n        // [0...max]\n        var extent = data.getDataExtent('value');\n        extent[0] = 0;\n\n        // In the case some sector angle is smaller than minAngle\n        var restAngle = PI2$4;\n        var valueSumLargerThanMinAngle = 0;\n\n        var currentAngle = startAngle;\n        var dir = clockwise ? 1 : -1;\n\n        data.each('value', function (value, idx) {\n            var angle;\n            if (isNaN(value)) {\n                data.setItemLayout(idx, {\n                    angle: NaN,\n                    startAngle: NaN,\n                    endAngle: NaN,\n                    clockwise: clockwise,\n                    cx: cx,\n                    cy: cy,\n                    r0: r0,\n                    r: roseType\n                        ? NaN\n                        : r\n                });\n                return;\n            }\n\n            // FIXME  2.0  roseType  area \n            if (roseType !== 'area') {\n                angle = (sum === 0 && stillShowZeroSum)\n                    ? unitRadian : (value * unitRadian);\n            }\n            else {\n                angle = PI2$4 / validDataCount;\n            }\n\n            if (angle < minAngle) {\n                angle = minAngle;\n                restAngle -= minAngle;\n            }\n            else {\n                valueSumLargerThanMinAngle += value;\n            }\n\n            var endAngle = currentAngle + dir * angle;\n            data.setItemLayout(idx, {\n                angle: angle,\n                startAngle: currentAngle,\n                endAngle: endAngle,\n                clockwise: clockwise,\n                cx: cx,\n                cy: cy,\n                r0: r0,\n                r: roseType\n                    ? linearMap(value, extent, [r0, r])\n                    : r\n            });\n\n            currentAngle = endAngle;\n        }, true);\n\n        // Some sector is constrained by minAngle\n        // Rest sectors needs recalculate angle\n        if (restAngle < PI2$4 && validDataCount) {\n            // Average the angle if rest angle is not enough after all angles is\n            // Constrained by minAngle\n            if (restAngle <= 1e-3) {\n                var angle = PI2$4 / validDataCount;\n                data.each('value', function (value, idx) {\n                    if (!isNaN(value)) {\n                        var layout = data.getItemLayout(idx);\n                        layout.angle = angle;\n                        layout.startAngle = startAngle + dir * idx * angle;\n                        layout.endAngle = startAngle + dir * (idx + 1) * angle;\n                    }\n                });\n            }\n            else {\n                unitRadian = restAngle / valueSumLargerThanMinAngle;\n                currentAngle = startAngle;\n                data.each('value', function (value, idx) {\n                    if (!isNaN(value)) {\n                        var layout = data.getItemLayout(idx);\n                        var angle = layout.angle === minAngle\n                            ? minAngle : value * unitRadian;\n                        layout.startAngle = currentAngle;\n                        layout.endAngle = currentAngle + dir * angle;\n                        currentAngle += dir * angle;\n                    }\n                });\n            }\n        }\n\n        labelLayout(seriesModel, r, width, height);\n    });\n};\n\nvar dataFilter = function (seriesType, ecModel) {\n    var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n    });\n    if (!legendModels || !legendModels.length) {\n        return;\n    }\n    ecModel.eachSeriesByType(seriesType, function (series) {\n        var data = series.getData();\n        data.filterSelf(function (idx) {\n            var name = data.getName(idx);\n            // If in any legend component the status is not selected.\n            for (var i = 0; i < legendModels.length; i++) {\n                if (!legendModels[i].isSelected(name)) {\n                    return false;\n                }\n            }\n            return true;\n        }, this);\n    }, this);\n};\n\ncreateDataSelectAction('pie', [{\n    type: 'pieToggleSelect',\n    event: 'pieselectchanged',\n    method: 'toggleSelected'\n}, {\n    type: 'pieSelect',\n    event: 'pieselected',\n    method: 'select'\n}, {\n    type: 'pieUnSelect',\n    event: 'pieunselected',\n    method: 'unSelect'\n}]);\n\nregisterVisual(curry(dataColor, 'pie'));\nregisterLayout(curry(pieLayout, 'pie'));\nregisterProcessor(curry(dataFilter, 'pie'));\n\nSeriesModel.extend({\n\n    type: 'series.scatter',\n\n    dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'],\n\n    getInitialData: function (option, ecModel) {\n        return createListFromArray(option.data, this, ecModel);\n    },\n\n    brushSelector: 'point',\n\n    defaultOption: {\n        coordinateSystem: 'cartesian2d',\n        zlevel: 0,\n        z: 2,\n        legendHoverLink: true,\n\n        hoverAnimation: true,\n        // Cartesian coordinate system\n        // xAxisIndex: 0,\n        // yAxisIndex: 0,\n\n        // Polar coordinate system\n        // polarIndex: 0,\n\n        // Geo coordinate system\n        // geoIndex: 0,\n\n        // symbol: null,        // \n        symbolSize: 10,          // symbolSize * 2\n        // symbolRotate: null,  // \n\n        large: false,\n        // Available when large is true\n        largeThreshold: 2000,\n        // cursor: null,\n\n        // label: {\n            // normal: {\n                // show: false\n                // distance: 5,\n                // formatter: Tooltip.formatter\n                // position: 'top''right'\n                //           'inside'|'left'|'right'|'top'|'bottom'\n                // TEXTSTYLE\n        //     }\n        // },\n        itemStyle: {\n            normal: {\n                opacity: 0.8\n                // color: \n            }\n        }\n    }\n\n});\n\n// TODO Batch by color\n\nvar LargeSymbolPath = extendShape({\n\n    shape: {\n        points: null,\n        sizes: null\n    },\n\n    symbolProxy: null,\n\n    buildPath: function (path, shape) {\n        var points = shape.points;\n        var sizes = shape.sizes;\n\n        var symbolProxy = this.symbolProxy;\n        var symbolProxyShape = symbolProxy.shape;\n        for (var i = 0; i < points.length; i++) {\n            var pt = points[i];\n\n            if (isNaN(pt[0]) || isNaN(pt[1])) {\n                continue;\n            }\n\n            var size = sizes[i];\n            if (size[0] < 4) {\n                // Optimize for small symbol\n                path.rect(\n                    pt[0] - size[0] / 2, pt[1] - size[1] / 2,\n                    size[0], size[1]\n                );\n            }\n            else {\n                symbolProxyShape.x = pt[0] - size[0] / 2;\n                symbolProxyShape.y = pt[1] - size[1] / 2;\n                symbolProxyShape.width = size[0];\n                symbolProxyShape.height = size[1];\n\n                symbolProxy.buildPath(path, symbolProxyShape, true);\n            }\n        }\n    },\n\n    findDataIndex: function (x, y) {\n        var shape = this.shape;\n        var points = shape.points;\n        var sizes = shape.sizes;\n\n        // Not consider transform\n        // Treat each element as a rect\n        // top down traverse\n        for (var i = points.length - 1; i >= 0; i--) {\n            var pt = points[i];\n            var size = sizes[i];\n            var x0 = pt[0] - size[0] / 2;\n            var y0 = pt[1] - size[1] / 2;\n            if (x >= x0 && y >= y0 && x <= x0 + size[0] && y <= y0 + size[1]) {\n                // i is dataIndex\n                return i;\n            }\n        }\n\n        return -1;\n    }\n});\n\nfunction LargeSymbolDraw() {\n    this.group = new Group();\n\n    this._symbolEl = new LargeSymbolPath({\n        // rectHover: true,\n        // cursor: 'default'\n    });\n}\n\nvar largeSymbolProto = LargeSymbolDraw.prototype;\n\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n */\nlargeSymbolProto.updateData = function (data) {\n    this.group.removeAll();\n\n    var symbolEl = this._symbolEl;\n\n    var seriesModel = data.hostModel;\n\n    symbolEl.setShape({\n        points: data.mapArray(data.getItemLayout),\n        sizes: data.mapArray(\n            function (idx) {\n                var size = data.getItemVisual(idx, 'symbolSize');\n                if (!(size instanceof Array)) {\n                    size = [size, size];\n                }\n                return size;\n            }\n        )\n    });\n\n    // Create symbolProxy to build path for each data\n    symbolEl.symbolProxy = createSymbol(\n        data.getVisual('symbol'), 0, 0, 0, 0\n    );\n    // Use symbolProxy setColor method\n    symbolEl.setColor = symbolEl.symbolProxy.setColor;\n\n    symbolEl.useStyle(\n        seriesModel.getModel('itemStyle.normal').getItemStyle(['color'])\n    );\n\n    var visualColor = data.getVisual('color');\n    if (visualColor) {\n        symbolEl.setColor(visualColor);\n    }\n\n    // Enable tooltip\n    // PENDING May have performance issue when path is extremely large\n    symbolEl.seriesIndex = seriesModel.seriesIndex;\n    symbolEl.on('mousemove', function (e) {\n        symbolEl.dataIndex = null;\n        var dataIndex = symbolEl.findDataIndex(e.offsetX, e.offsetY);\n        if (dataIndex >= 0) {\n            // Provide dataIndex for tooltip\n            symbolEl.dataIndex = dataIndex;\n        }\n    });\n\n    // Add back\n    this.group.add(symbolEl);\n};\n\nlargeSymbolProto.updateLayout = function (seriesModel) {\n    var data = seriesModel.getData();\n    this._symbolEl.setShape({\n        points: data.mapArray(data.getItemLayout)\n    });\n};\n\nlargeSymbolProto.remove = function () {\n    this.group.removeAll();\n};\n\nextendChartView({\n\n    type: 'scatter',\n\n    init: function () {\n        this._normalSymbolDraw = new SymbolDraw();\n        this._largeSymbolDraw = new LargeSymbolDraw();\n    },\n\n    render: function (seriesModel, ecModel, api) {\n        var data = seriesModel.getData();\n        var largeSymbolDraw = this._largeSymbolDraw;\n        var normalSymbolDraw = this._normalSymbolDraw;\n        var group = this.group;\n\n        var symbolDraw = seriesModel.get('large') && data.count() > seriesModel.get('largeThreshold')\n            ? largeSymbolDraw : normalSymbolDraw;\n\n        this._symbolDraw = symbolDraw;\n        symbolDraw.updateData(data);\n        group.add(symbolDraw.group);\n\n        group.remove(\n            symbolDraw === largeSymbolDraw\n            ? normalSymbolDraw.group : largeSymbolDraw.group\n        );\n    },\n\n    updateLayout: function (seriesModel) {\n        this._symbolDraw.updateLayout(seriesModel);\n    },\n\n    remove: function (ecModel, api) {\n        this._symbolDraw && this._symbolDraw.remove(api, true);\n    },\n\n    dispose: function () {}\n});\n\n// In case developer forget to include grid component\nregisterVisual(curry(visualSymbol, 'scatter', 'circle', null));\nregisterLayout(curry(layoutPoints, 'scatter'));\n\nfunction IndicatorAxis(dim, scale, radiusExtent) {\n    Axis.call(this, dim, scale, radiusExtent);\n\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n    this.type = 'value';\n\n    this.angle = 0;\n\n    /**\n     * Indicator name\n     * @type {string}\n     */\n    this.name = '';\n    /**\n     * @type {module:echarts/model/Model}\n     */\n    this.model;\n}\n\ninherits(IndicatorAxis, Axis);\n\n// TODO clockwise\n\nfunction Radar(radarModel, ecModel, api) {\n\n    this._model = radarModel;\n    /**\n     * Radar dimensions\n     * @type {Array.<string>}\n     */\n    this.dimensions = [];\n\n    this._indicatorAxes = map(radarModel.getIndicatorModels(), function (indicatorModel, idx) {\n        var dim = 'indicator_' + idx;\n        var indicatorAxis = new IndicatorAxis(dim, new IntervalScale());\n        indicatorAxis.name = indicatorModel.get('name');\n        // Inject model and axis\n        indicatorAxis.model = indicatorModel;\n        indicatorModel.axis = indicatorAxis;\n        this.dimensions.push(dim);\n        return indicatorAxis;\n    }, this);\n\n    this.resize(radarModel, api);\n\n    /**\n     * @type {number}\n     * @readOnly\n     */\n    this.cx;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n    this.cy;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n    this.r;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n    this.startAngle;\n}\n\nRadar.prototype.getIndicatorAxes = function () {\n    return this._indicatorAxes;\n};\n\nRadar.prototype.dataToPoint = function (value, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n\n    return this.coordToPoint(indicatorAxis.dataToCoord(value), indicatorIndex);\n};\n\nRadar.prototype.coordToPoint = function (coord, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    var angle = indicatorAxis.angle;\n    var x = this.cx + coord * Math.cos(angle);\n    var y = this.cy - coord * Math.sin(angle);\n    return [x, y];\n};\n\nRadar.prototype.pointToData = function (pt) {\n    var dx = pt[0] - this.cx;\n    var dy = pt[1] - this.cy;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n\n    var radian = Math.atan2(-dy, dx);\n\n    // Find the closest angle\n    // FIXME index can calculated directly\n    var minRadianDiff = Infinity;\n    var closestAxis;\n    var closestAxisIdx = -1;\n    for (var i = 0; i < this._indicatorAxes.length; i++) {\n        var indicatorAxis = this._indicatorAxes[i];\n        var diff = Math.abs(radian - indicatorAxis.angle);\n        if (diff < minRadianDiff) {\n            closestAxis = indicatorAxis;\n            closestAxisIdx = i;\n            minRadianDiff = diff;\n        }\n    }\n\n    return [closestAxisIdx, +(closestAxis && closestAxis.coodToData(radius))];\n};\n\nRadar.prototype.resize = function (radarModel, api) {\n    var center = radarModel.get('center');\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n    var viewSize = Math.min(viewWidth, viewHeight) / 2;\n    this.cx = parsePercent$1(center[0], viewWidth);\n    this.cy = parsePercent$1(center[1], viewHeight);\n\n    this.startAngle = radarModel.get('startAngle') * Math.PI / 180;\n\n    this.r = parsePercent$1(radarModel.get('radius'), viewSize);\n\n    each$1(this._indicatorAxes, function (indicatorAxis, idx) {\n        indicatorAxis.setExtent(0, this.r);\n        var angle = (this.startAngle + idx * Math.PI * 2 / this._indicatorAxes.length);\n        // Normalize to [-PI, PI]\n        angle = Math.atan2(Math.sin(angle), Math.cos(angle));\n        indicatorAxis.angle = angle;\n    }, this);\n};\n\nRadar.prototype.update = function (ecModel, api) {\n    var indicatorAxes = this._indicatorAxes;\n    var radarModel = this._model;\n    each$1(indicatorAxes, function (indicatorAxis) {\n        indicatorAxis.scale.setExtent(Infinity, -Infinity);\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries, idx) {\n        if (radarSeries.get('coordinateSystem') !== 'radar'\n            || ecModel.getComponent('radar', radarSeries.get('radarIndex')) !== radarModel\n        ) {\n            return;\n        }\n        var data = radarSeries.getData();\n        each$1(indicatorAxes, function (indicatorAxis) {\n            indicatorAxis.scale.unionExtentFromData(data, indicatorAxis.dim);\n        });\n    }, this);\n\n    var splitNumber = radarModel.get('splitNumber');\n\n    function increaseInterval(interval) {\n        var exp10 = Math.pow(10, Math.floor(Math.log(interval) / Math.LN10));\n        // Increase interval\n        var f = interval / exp10;\n        if (f === 2) {\n            f = 5;\n        }\n        else { // f is 2 or 5\n            f *= 2;\n        }\n        return f * exp10;\n    }\n    // Force all the axis fixing the maxSplitNumber.\n    each$1(indicatorAxes, function (indicatorAxis, idx) {\n        var rawExtent = getScaleExtent(indicatorAxis.scale, indicatorAxis.model);\n        niceScaleExtent(indicatorAxis.scale, indicatorAxis.model);\n\n        var axisModel = indicatorAxis.model;\n        var scale = indicatorAxis.scale;\n        var fixedMin = axisModel.getMin();\n        var fixedMax = axisModel.getMax();\n        var interval = scale.getInterval();\n\n        if (fixedMin != null && fixedMax != null) {\n            // User set min, max, divide to get new interval\n            scale.setExtent(+fixedMin, +fixedMax);\n            scale.setInterval(\n                (fixedMax - fixedMin) / splitNumber\n            );\n        }\n        else if (fixedMin != null) {\n            var max;\n            // User set min, expand extent on the other side\n            do {\n                max = fixedMin + interval * splitNumber;\n                scale.setExtent(+fixedMin, max);\n                // Interval must been set after extent\n                // FIXME\n                scale.setInterval(interval);\n\n                interval = increaseInterval(interval);\n            } while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1]));\n        }\n        else if (fixedMax != null) {\n            var min;\n            // User set min, expand extent on the other side\n            do {\n                min = fixedMax - interval * splitNumber;\n                scale.setExtent(min, +fixedMax);\n                scale.setInterval(interval);\n                interval = increaseInterval(interval);\n            } while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0]));\n        }\n        else {\n            var nicedSplitNumber = scale.getTicks().length - 1;\n            if (nicedSplitNumber > splitNumber) {\n                interval = increaseInterval(interval);\n            }\n            // PENDING\n            var center = Math.round((rawExtent[0] + rawExtent[1]) / 2 / interval) * interval;\n            var halfSplitNumber = Math.round(splitNumber / 2);\n            scale.setExtent(\n                round(center - halfSplitNumber * interval),\n                round(center + (splitNumber - halfSplitNumber) * interval)\n            );\n            scale.setInterval(interval);\n        }\n    });\n};\n\n/**\n * Radar dimensions is based on the data\n * @type {Array}\n */\nRadar.dimensions = [];\n\nRadar.create = function (ecModel, api) {\n    var radarList = [];\n    ecModel.eachComponent('radar', function (radarModel) {\n        var radar = new Radar(radarModel, ecModel, api);\n        radarList.push(radar);\n        radarModel.coordinateSystem = radar;\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries) {\n        if (radarSeries.get('coordinateSystem') === 'radar') {\n            // Inject coordinate system\n            radarSeries.coordinateSystem = radarList[radarSeries.get('radarIndex') || 0];\n        }\n    });\n    return radarList;\n};\n\nCoordinateSystemManager.register('radar', Radar);\n\nvar valueAxisDefault = axisDefault.valueAxis;\n\nfunction defaultsShow(opt, show) {\n    return defaults({\n        show: show\n    }, opt);\n}\n\nvar RadarModel = extendComponentModel({\n\n    type: 'radar',\n\n    optionUpdated: function () {\n        var boundaryGap = this.get('boundaryGap');\n        var splitNumber = this.get('splitNumber');\n        var scale = this.get('scale');\n        var axisLine = this.get('axisLine');\n        var axisTick = this.get('axisTick');\n        var axisLabel = this.get('axisLabel');\n        var nameTextStyle = this.get('name');\n        var showName = this.get('name.show');\n        var nameFormatter = this.get('name.formatter');\n        var nameGap = this.get('nameGap');\n        var triggerEvent = this.get('triggerEvent');\n\n        var indicatorModels = map(this.get('indicator') || [], function (indicatorOpt) {\n            // PENDING\n            if (indicatorOpt.max != null && indicatorOpt.max > 0 && !indicatorOpt.min) {\n                indicatorOpt.min = 0;\n            }\n            else if (indicatorOpt.min != null && indicatorOpt.min < 0 && !indicatorOpt.max) {\n                indicatorOpt.max = 0;\n            }\n            var iNameTextStyle = nameTextStyle;\n            if(indicatorOpt.color != null) {\n                iNameTextStyle = defaults({color: indicatorOpt.color}, nameTextStyle);\n            }\n            // Use same configuration\n            indicatorOpt = merge(clone(indicatorOpt), {\n                boundaryGap: boundaryGap,\n                splitNumber: splitNumber,\n                scale: scale,\n                axisLine: axisLine,\n                axisTick: axisTick,\n                axisLabel: axisLabel,\n                // Competitable with 2 and use text\n                name: indicatorOpt.text,\n                nameLocation: 'end',\n                nameGap: nameGap,\n                // min: 0,\n                nameTextStyle: iNameTextStyle,\n                triggerEvent: triggerEvent\n            }, false);\n            if (!showName) {\n                indicatorOpt.name = '';\n            }\n            if (typeof nameFormatter === 'string') {\n                var indName = indicatorOpt.name;\n                indicatorOpt.name = nameFormatter.replace('{value}', indName != null ? indName : '');\n            }\n            else if (typeof nameFormatter === 'function') {\n                indicatorOpt.name = nameFormatter(\n                    indicatorOpt.name, indicatorOpt\n                );\n            }\n            var model = extend(\n                new Model(indicatorOpt, null, this.ecModel),\n                axisModelCommonMixin\n            );\n\n            // For triggerEvent.\n            model.mainType = 'radar';\n            model.componentIndex = this.componentIndex;\n\n            return model;\n        }, this);\n\n        this.getIndicatorModels = function () {\n            return indicatorModels;\n        };\n    },\n\n    defaultOption: {\n\n        zlevel: 0,\n\n        z: 0,\n\n        center: ['50%', '50%'],\n\n        radius: '75%',\n\n        startAngle: 90,\n\n        name: {\n            show: true\n            // formatter: null\n            // textStyle: {}\n        },\n\n        boundaryGap: [0, 0],\n\n        splitNumber: 5,\n\n        nameGap: 15,\n\n        scale: false,\n\n        // Polygon or circle\n        shape: 'polygon',\n\n        axisLine: merge(\n            {\n                lineStyle: {\n                    color: '#bbb'\n                }\n            },\n            valueAxisDefault.axisLine\n        ),\n        axisLabel: defaultsShow(valueAxisDefault.axisLabel, false),\n        axisTick: defaultsShow(valueAxisDefault.axisTick, false),\n        splitLine: defaultsShow(valueAxisDefault.splitLine, true),\n        splitArea: defaultsShow(valueAxisDefault.splitArea, true),\n\n        // {text, min, max}\n        indicator: []\n    }\n});\n\nvar axisBuilderAttrs$1 = [\n    'axisLine', 'axisTickLabel', 'axisName'\n];\n\nextendComponentView({\n\n    type: 'radar',\n\n    render: function (radarModel, ecModel, api) {\n        var group = this.group;\n        group.removeAll();\n\n        this._buildAxes(radarModel);\n        this._buildSplitLineAndArea(radarModel);\n    },\n\n    _buildAxes: function (radarModel) {\n        var radar = radarModel.coordinateSystem;\n        var indicatorAxes = radar.getIndicatorAxes();\n        var axisBuilders = map(indicatorAxes, function (indicatorAxis) {\n            var axisBuilder = new AxisBuilder(indicatorAxis.model, {\n                position: [radar.cx, radar.cy],\n                rotation: indicatorAxis.angle,\n                labelDirection: -1,\n                tickDirection: -1,\n                nameDirection: 1\n            });\n            return axisBuilder;\n        });\n\n        each$1(axisBuilders, function (axisBuilder) {\n            each$1(axisBuilderAttrs$1, axisBuilder.add, axisBuilder);\n            this.group.add(axisBuilder.getGroup());\n        }, this);\n    },\n\n    _buildSplitLineAndArea: function (radarModel) {\n        var radar = radarModel.coordinateSystem;\n        var indicatorAxes = radar.getIndicatorAxes();\n        if (!indicatorAxes.length) {\n            return;\n        }\n        var shape = radarModel.get('shape');\n        var splitLineModel = radarModel.getModel('splitLine');\n        var splitAreaModel = radarModel.getModel('splitArea');\n        var lineStyleModel = splitLineModel.getModel('lineStyle');\n        var areaStyleModel = splitAreaModel.getModel('areaStyle');\n\n        var showSplitLine = splitLineModel.get('show');\n        var showSplitArea = splitAreaModel.get('show');\n        var splitLineColors = lineStyleModel.get('color');\n        var splitAreaColors = areaStyleModel.get('color');\n\n        splitLineColors = isArray(splitLineColors) ? splitLineColors : [splitLineColors];\n        splitAreaColors = isArray(splitAreaColors) ? splitAreaColors : [splitAreaColors];\n\n        var splitLines = [];\n        var splitAreas = [];\n\n        function getColorIndex(areaOrLine, areaOrLineColorList, idx) {\n            var colorIndex = idx % areaOrLineColorList.length;\n            areaOrLine[colorIndex] = areaOrLine[colorIndex] || [];\n            return colorIndex;\n        }\n\n        if (shape === 'circle') {\n            var ticksRadius = indicatorAxes[0].getTicksCoords();\n            var cx = radar.cx;\n            var cy = radar.cy;\n            for (var i = 0; i < ticksRadius.length; i++) {\n                if (showSplitLine) {\n                    var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n                    splitLines[colorIndex].push(new Circle({\n                        shape: {\n                            cx: cx,\n                            cy: cy,\n                            r: ticksRadius[i]\n                        }\n                    }));\n                }\n                if (showSplitArea && i < ticksRadius.length - 1) {\n                    var colorIndex = getColorIndex(splitAreas, splitAreaColors, i);\n                    splitAreas[colorIndex].push(new Ring({\n                        shape: {\n                            cx: cx,\n                            cy: cy,\n                            r0: ticksRadius[i],\n                            r: ticksRadius[i + 1]\n                        }\n                    }));\n                }\n            }\n        }\n        // Polyyon\n        else {\n            var realSplitNumber;\n            var axesTicksPoints = map(indicatorAxes, function (indicatorAxis, idx) {\n                var ticksCoords = indicatorAxis.getTicksCoords();\n                realSplitNumber = realSplitNumber == null\n                    ? ticksCoords.length - 1\n                    : Math.min(ticksCoords.length - 1, realSplitNumber);\n                return map(ticksCoords, function (tickCoord) {\n                    return radar.coordToPoint(tickCoord, idx);\n                });\n            });\n\n            var prevPoints = [];\n            for (var i = 0; i <= realSplitNumber; i++) {\n                var points = [];\n                for (var j = 0; j < indicatorAxes.length; j++) {\n                    points.push(axesTicksPoints[j][i]);\n                }\n                // Close\n                if (points[0]) {\n                    points.push(points[0].slice());\n                }\n                else {\n                    if (__DEV__) {\n                        console.error('Can\\'t draw value axis ' + i);\n                    }\n                }\n\n                if (showSplitLine) {\n                    var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n                    splitLines[colorIndex].push(new Polyline({\n                        shape: {\n                            points: points\n                        }\n                    }));\n                }\n                if (showSplitArea && prevPoints) {\n                    var colorIndex = getColorIndex(splitAreas, splitAreaColors, i - 1);\n                    splitAreas[colorIndex].push(new Polygon({\n                        shape: {\n                            points: points.concat(prevPoints)\n                        }\n                    }));\n                }\n                prevPoints = points.slice().reverse();\n            }\n        }\n\n        var lineStyle = lineStyleModel.getLineStyle();\n        var areaStyle = areaStyleModel.getAreaStyle();\n        // Add splitArea before splitLine\n        each$1(splitAreas, function (splitAreas, idx) {\n            this.group.add(mergePath(\n                splitAreas, {\n                    style: defaults({\n                        stroke: 'none',\n                        fill: splitAreaColors[idx % splitAreaColors.length]\n                    }, areaStyle),\n                    silent: true\n                }\n            ));\n        }, this);\n\n        each$1(splitLines, function (splitLines, idx) {\n            this.group.add(mergePath(\n                splitLines, {\n                    style: defaults({\n                        fill: 'none',\n                        stroke: splitLineColors[idx % splitLineColors.length]\n                    }, lineStyle),\n                    silent: true\n                }\n            ));\n        }, this);\n\n    }\n});\n\nvar RadarSeries = SeriesModel.extend({\n\n    type: 'series.radar',\n\n    dependencies: ['radar'],\n\n\n    // Overwrite\n    init: function (option) {\n        RadarSeries.superApply(this, 'init', arguments);\n\n        // Enable legend selection for each data item\n        // Use a function instead of direct access because data reference may changed\n        this.legendDataProvider = function () {\n            return this.getRawData();\n        };\n    },\n\n    getInitialData: function (option, ecModel) {\n        var data = option.data || [];\n        var dimensions = completeDimensions(\n            [], data, {extraPrefix: 'indicator_', extraFromZero: true}\n        );\n        var list = new List(dimensions, this);\n        list.initData(data);\n        return list;\n    },\n\n    formatTooltip: function (dataIndex) {\n        var value = this.getRawValue(dataIndex);\n        var coordSys = this.coordinateSystem;\n        var indicatorAxes = coordSys.getIndicatorAxes();\n        var name = this.getData().getName(dataIndex);\n        return encodeHTML(name === '' ? this.name : name) + '<br/>'\n            + map(indicatorAxes, function (axis, idx) {\n                return encodeHTML(axis.name + ' : ' + value[idx]);\n            }).join('<br />');\n    },\n\n    defaultOption: {\n        zlevel: 0,\n        z: 2,\n        coordinateSystem: 'radar',\n        legendHoverLink: true,\n        radarIndex: 0,\n        lineStyle: {\n            normal: {\n                width: 2,\n                type: 'solid'\n            }\n        },\n        label: {\n            normal: {\n                position: 'top'\n            }\n        },\n        // areaStyle: {\n        // },\n        // itemStyle: {}\n        symbol: 'emptyCircle',\n        symbolSize: 4\n        // symbolRotate: null\n    }\n});\n\nfunction normalizeSymbolSize(symbolSize) {\n    if (!isArray(symbolSize)) {\n        symbolSize = [+symbolSize, +symbolSize];\n    }\n    return symbolSize;\n}\n\nextendChartView({\n\n    type: 'radar',\n\n    render: function (seriesModel, ecModel, api) {\n        var polar = seriesModel.coordinateSystem;\n        var group = this.group;\n\n        var data = seriesModel.getData();\n        var oldData = this._data;\n\n        function createSymbol$$1(data, idx) {\n            var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n            var color = data.getItemVisual(idx, 'color');\n            if (symbolType === 'none') {\n                return;\n            }\n            var symbolSize = normalizeSymbolSize(\n                data.getItemVisual(idx, 'symbolSize')\n            );\n            var symbolPath = createSymbol(\n                symbolType, -1, -1, 2, 2, color\n            );\n            symbolPath.attr({\n                style: {\n                    strokeNoScale: true\n                },\n                z2: 100,\n                scale: [symbolSize[0] / 2, symbolSize[1] / 2]\n            });\n            return symbolPath;\n        }\n\n        function updateSymbols(oldPoints, newPoints, symbolGroup, data, idx, isInit) {\n            // Simply rerender all\n            symbolGroup.removeAll();\n            for (var i = 0; i < newPoints.length - 1; i++) {\n                var symbolPath = createSymbol$$1(data, idx);\n                if (symbolPath) {\n                    symbolPath.__dimIdx = i;\n                    if (oldPoints[i]) {\n                        symbolPath.attr('position', oldPoints[i]);\n                        graphic[isInit ? 'initProps' : 'updateProps'](\n                            symbolPath, {\n                                position: newPoints[i]\n                            }, seriesModel, idx\n                        );\n                    }\n                    else {\n                        symbolPath.attr('position', newPoints[i]);\n                    }\n                    symbolGroup.add(symbolPath);\n                }\n            }\n        }\n\n        function getInitialPoints(points) {\n            return map(points, function (pt) {\n                return [polar.cx, polar.cy];\n            });\n        }\n        data.diff(oldData)\n            .add(function (idx) {\n                var points = data.getItemLayout(idx);\n                if (!points) {\n                    return;\n                }\n                var polygon = new Polygon();\n                var polyline = new Polyline();\n                var target = {\n                    shape: {\n                        points: points\n                    }\n                };\n                polygon.shape.points = getInitialPoints(points);\n                polyline.shape.points = getInitialPoints(points);\n                initProps(polygon, target, seriesModel, idx);\n                initProps(polyline, target, seriesModel, idx);\n\n                var itemGroup = new Group();\n                var symbolGroup = new Group();\n                itemGroup.add(polyline);\n                itemGroup.add(polygon);\n                itemGroup.add(symbolGroup);\n\n                updateSymbols(\n                    polyline.shape.points, points, symbolGroup, data, idx, true\n                );\n\n                data.setItemGraphicEl(idx, itemGroup);\n            })\n            .update(function (newIdx, oldIdx) {\n                var itemGroup = oldData.getItemGraphicEl(oldIdx);\n                var polyline = itemGroup.childAt(0);\n                var polygon = itemGroup.childAt(1);\n                var symbolGroup = itemGroup.childAt(2);\n                var target = {\n                    shape: {\n                        points: data.getItemLayout(newIdx)\n                    }\n                };\n                if (!target.shape.points) {\n                    return;\n                }\n                updateSymbols(\n                    polyline.shape.points, target.shape.points, symbolGroup, data, newIdx, false\n                );\n\n                updateProps(polyline, target, seriesModel);\n                updateProps(polygon, target, seriesModel);\n\n                data.setItemGraphicEl(newIdx, itemGroup);\n            })\n            .remove(function (idx) {\n                group.remove(oldData.getItemGraphicEl(idx));\n            })\n            .execute();\n\n        data.eachItemGraphicEl(function (itemGroup, idx) {\n            var itemModel = data.getItemModel(idx);\n            var polyline = itemGroup.childAt(0);\n            var polygon = itemGroup.childAt(1);\n            var symbolGroup = itemGroup.childAt(2);\n            var color = data.getItemVisual(idx, 'color');\n\n            group.add(itemGroup);\n\n            polyline.useStyle(\n                defaults(\n                    itemModel.getModel('lineStyle.normal').getLineStyle(),\n                    {\n                        fill: 'none',\n                        stroke: color\n                    }\n                )\n            );\n            polyline.hoverStyle = itemModel.getModel('lineStyle.emphasis').getLineStyle();\n\n            var areaStyleModel = itemModel.getModel('areaStyle.normal');\n            var hoverAreaStyleModel = itemModel.getModel('areaStyle.emphasis');\n            var polygonIgnore = areaStyleModel.isEmpty() && areaStyleModel.parentModel.isEmpty();\n            var hoverPolygonIgnore = hoverAreaStyleModel.isEmpty() && hoverAreaStyleModel.parentModel.isEmpty();\n\n            hoverPolygonIgnore = hoverPolygonIgnore && polygonIgnore;\n            polygon.ignore = polygonIgnore;\n\n            polygon.useStyle(\n                defaults(\n                    areaStyleModel.getAreaStyle(),\n                    {\n                        fill: color,\n                        opacity: 0.7\n                    }\n                )\n            );\n            polygon.hoverStyle = hoverAreaStyleModel.getAreaStyle();\n\n            var itemStyle = itemModel.getModel('itemStyle.normal').getItemStyle(['color']);\n            var itemHoverStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n            var labelModel = itemModel.getModel('label.normal');\n            var labelHoverModel = itemModel.getModel('label.emphasis');\n            symbolGroup.eachChild(function (symbolPath) {\n                symbolPath.setStyle(itemStyle);\n                symbolPath.hoverStyle = clone(itemHoverStyle);\n\n                setLabelStyle(\n                    symbolPath.style, symbolPath.hoverStyle, labelModel, labelHoverModel,\n                    {\n                        labelFetcher: data.hostModel,\n                        labelDataIndex: idx,\n                        labelDimIndex: symbolPath.__dimIdx,\n                        defaultText: data.get(data.dimensions[symbolPath.__dimIdx], idx),\n                        autoColor: color,\n                        isRectText: true\n                    }\n                );\n            });\n\n            function onEmphasis() {\n                polygon.attr('ignore', hoverPolygonIgnore);\n            }\n\n            function onNormal() {\n                polygon.attr('ignore', polygonIgnore);\n            }\n\n            itemGroup.off('mouseover').off('mouseout').off('normal').off('emphasis');\n            itemGroup.on('emphasis', onEmphasis)\n                .on('mouseover', onEmphasis)\n                .on('normal', onNormal)\n                .on('mouseout', onNormal);\n\n            setHoverStyle(itemGroup);\n        });\n\n        this._data = data;\n    },\n\n    remove: function () {\n        this.group.removeAll();\n        this._data = null;\n    },\n\n    dispose: function () {}\n});\n\nvar radarLayout = function (ecModel) {\n    ecModel.eachSeriesByType('radar', function (seriesModel) {\n        var data = seriesModel.getData();\n        var points = [];\n        var coordSys = seriesModel.coordinateSystem;\n        if (!coordSys) {\n            return;\n        }\n\n        function pointsConverter(val, idx) {\n            points[idx] = points[idx] || [];\n            points[idx][i] = coordSys.dataToPoint(val, i);\n        }\n        for (var i = 0; i < coordSys.getIndicatorAxes().length; i++) {\n            var dim = data.dimensions[i];\n            data.each(dim, pointsConverter);\n        }\n\n        data.each(function (idx) {\n            // Close polygon\n            points[idx][0] && points[idx].push(points[idx][0].slice());\n            data.setItemLayout(idx, points[idx]);\n        });\n    });\n};\n\n// Backward compat for radar chart in 2\nvar backwardCompat$1 = function (option) {\n    var polarOptArr = option.polar;\n    if (polarOptArr) {\n        if (!isArray(polarOptArr)) {\n            polarOptArr = [polarOptArr];\n        }\n        var polarNotRadar = [];\n        each$1(polarOptArr, function (polarOpt, idx) {\n            if (polarOpt.indicator) {\n                if (polarOpt.type && !polarOpt.shape) {\n                    polarOpt.shape = polarOpt.type;\n                }\n                option.radar = option.radar || [];\n                if (!isArray(option.radar)) {\n                    option.radar = [option.radar];\n                }\n                option.radar.push(polarOpt);\n            }\n            else {\n                polarNotRadar.push(polarOpt);\n            }\n        });\n        option.polar = polarNotRadar;\n    }\n    each$1(option.series, function (seriesOpt) {\n        if (seriesOpt && seriesOpt.type === 'radar' && seriesOpt.polarIndex) {\n            seriesOpt.radarIndex = seriesOpt.polarIndex;\n        }\n    });\n};\n\n// Must use radar component\nregisterVisual(curry(dataColor, 'radar'));\nregisterVisual(curry(visualSymbol, 'radar', 'circle', null));\nregisterLayout(radarLayout);\nregisterProcessor(curry(dataFilter, 'radar'));\nregisterPreprocessor(backwardCompat$1);\n\n/**\n * Simple view coordinate system\n * Mapping given x, y to transformd view x, y\n */\n\nvar v2ApplyTransform$1 = applyTransform;\n\n// Dummy transform node\nfunction TransformDummy() {\n    Transformable.call(this);\n}\nmixin(TransformDummy, Transformable);\n\nfunction View(name) {\n    /**\n     * @type {string}\n     */\n    this.name = name;\n\n    /**\n     * @type {Object}\n     */\n    this.zoomLimit;\n\n    Transformable.call(this);\n\n    this._roamTransform = new TransformDummy();\n\n    this._viewTransform = new TransformDummy();\n\n    this._center;\n    this._zoom;\n}\n\nView.prototype = {\n\n    constructor: View,\n\n    type: 'view',\n\n    /**\n     * @param {Array.<string>}\n     * @readOnly\n     */\n    dimensions: ['x', 'y'],\n\n    /**\n     * Set bounding rect\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     */\n\n    // PENDING to getRect\n    setBoundingRect: function (x, y, width, height) {\n        this._rect = new BoundingRect(x, y, width, height);\n        return this._rect;\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    // PENDING to getRect\n    getBoundingRect: function () {\n        return this._rect;\n    },\n\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     */\n    setViewRect: function (x, y, width, height) {\n        this.transformTo(x, y, width, height);\n        this._viewRect = new BoundingRect(x, y, width, height);\n    },\n\n    /**\n     * Transformed to particular position and size\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     */\n    transformTo: function (x, y, width, height) {\n        var rect = this.getBoundingRect();\n        var viewTransform = this._viewTransform;\n\n        viewTransform.transform = rect.calculateTransform(\n            new BoundingRect(x, y, width, height)\n        );\n\n        viewTransform.decomposeTransform();\n\n        this._updateTransform();\n    },\n\n    /**\n     * Set center of view\n     * @param {Array.<number>} [centerCoord]\n     */\n    setCenter: function (centerCoord) {\n        if (!centerCoord) {\n            return;\n        }\n        this._center = centerCoord;\n\n        this._updateCenterAndZoom();\n    },\n\n    /**\n     * @param {number} zoom\n     */\n    setZoom: function (zoom) {\n        zoom = zoom || 1;\n\n        var zoomLimit = this.zoomLimit;\n        if (zoomLimit) {\n            if (zoomLimit.max != null) {\n                zoom = Math.min(zoomLimit.max, zoom);\n            }\n            if (zoomLimit.min != null) {\n                zoom = Math.max(zoomLimit.min, zoom);\n            }\n        }\n        this._zoom = zoom;\n\n        this._updateCenterAndZoom();\n    },\n\n    /**\n     * Get default center without roam\n     */\n    getDefaultCenter: function () {\n        // Rect before any transform\n        var rawRect = this.getBoundingRect();\n        var cx = rawRect.x + rawRect.width / 2;\n        var cy = rawRect.y + rawRect.height / 2;\n\n        return [cx, cy];\n    },\n\n    getCenter: function () {\n        return this._center || this.getDefaultCenter();\n    },\n\n    getZoom: function () {\n        return this._zoom || 1;\n    },\n\n    /**\n     * @return {Array.<number}\n     */\n    getRoamTransform: function () {\n        return this._roamTransform;\n    },\n\n    _updateCenterAndZoom: function () {\n        // Must update after view transform updated\n        var viewTransformMatrix = this._viewTransform.getLocalTransform();\n        var roamTransform = this._roamTransform;\n        var defaultCenter = this.getDefaultCenter();\n        var center = this.getCenter();\n        var zoom = this.getZoom();\n\n        center = applyTransform([], center, viewTransformMatrix);\n        defaultCenter = applyTransform([], defaultCenter, viewTransformMatrix);\n\n        roamTransform.origin = center;\n        roamTransform.position = [\n            defaultCenter[0] - center[0],\n            defaultCenter[1] - center[1]\n        ];\n        roamTransform.scale = [zoom, zoom];\n\n        this._updateTransform();\n    },\n\n    /**\n     * Update transform from roam and mapLocation\n     * @private\n     */\n    _updateTransform: function () {\n        var roamTransform = this._roamTransform;\n        var viewTransform = this._viewTransform;\n\n        viewTransform.parent = roamTransform;\n        roamTransform.updateTransform();\n        viewTransform.updateTransform();\n\n        viewTransform.transform\n            && copy$1(this.transform || (this.transform = []), viewTransform.transform);\n\n        if (this.transform) {\n            this.invTransform = this.invTransform || [];\n            invert(this.invTransform, this.transform);\n        }\n        else {\n            this.invTransform = null;\n        }\n        this.decomposeTransform();\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getViewRect: function () {\n        return this._viewRect;\n    },\n\n    /**\n     * Get view rect after roam transform\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getViewRectAfterRoam: function () {\n        var rect = this.getBoundingRect().clone();\n        rect.applyTransform(this.transform);\n        return rect;\n    },\n\n    /**\n     * Convert a single (lon, lat) data item to (x, y) point.\n     * @param {Array.<number>} data\n     * @return {Array.<number>}\n     */\n    dataToPoint: function (data) {\n        var transform = this.transform;\n        return transform\n            ? v2ApplyTransform$1([], data, transform)\n            : [data[0], data[1]];\n    },\n\n    /**\n     * Convert a (x, y) point to (lon, lat) data\n     * @param {Array.<number>} point\n     * @return {Array.<number>}\n     */\n    pointToData: function (point) {\n        var invTransform = this.invTransform;\n        return invTransform\n            ? v2ApplyTransform$1([], point, invTransform)\n            : [point[0], point[1]];\n    },\n\n    /**\n     * @implements\n     * see {module:echarts/CoodinateSystem}\n     */\n    convertToPixel: curry(doConvert$1, 'dataToPoint'),\n\n    /**\n     * @implements\n     * see {module:echarts/CoodinateSystem}\n     */\n    convertFromPixel: curry(doConvert$1, 'pointToData'),\n\n    /**\n     * @implements\n     * see {module:echarts/CoodinateSystem}\n     */\n    containPoint: function (point) {\n        return this.getViewRectAfterRoam().contain(point[0], point[1]);\n    }\n\n    /**\n     * @return {number}\n     */\n    // getScalarScale: function () {\n    //     // Use determinant square root of transform to mutiply scalar\n    //     var m = this.transform;\n    //     var det = Math.sqrt(Math.abs(m[0] * m[3] - m[2] * m[1]));\n    //     return det;\n    // }\n};\n\nmixin(View, Transformable);\n\nfunction doConvert$1(methodName, ecModel, finder, value) {\n    var seriesModel = finder.seriesModel;\n    var coordSys = seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\n    return coordSys === this ? coordSys[methodName](value) : null;\n}\n\n// Fix for \n\nvar geoCoord = [126, 25];\n\nvar points$1 = [\n    [[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],\n        [56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],\n    [[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],\n    [[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],\n    [[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],\n    [[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],\n    [[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],\n    [[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],\n    [[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],\n    [[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],\n    [[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],\n    [[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],\n    [[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],\n        [1,92.4],[1,3.5],[0,3.5]]\n];\n\nfor (var i$1 = 0; i$1 < points$1.length; i$1++) {\n    for (var k = 0; k < points$1[i$1].length; k++) {\n        points$1[i$1][k][0] /= 10.5;\n        points$1[i$1][k][1] /= -10.5 / 0.75;\n\n        points$1[i$1][k][0] += geoCoord[0];\n        points$1[i$1][k][1] += geoCoord[1];\n    }\n}\n\nvar fixNanhai = function (geo) {\n    if (geo.map === 'china') {\n        geo.regions.push(new Region(\n            '',\n            map(points$1, function (exterior) {\n                return {\n                    type: 'polygon',\n                    exterior: exterior\n                };\n            }), geoCoord\n        ));\n    }\n};\n\nvar coordsOffsetMap = {\n    '' : [32, 80],\n    // \n    '': [0, -10],\n    '': [10, 5],\n    '': [-10, 10],\n    //'': [-10, 0],\n    '': [5, 5]\n};\n\nvar fixTextCoord = function (geo) {\n    each$1(geo.regions, function (region) {\n        var coordFix = coordsOffsetMap[region.name];\n        if (coordFix) {\n            var cp = region.center;\n            cp[0] += coordFix[0] / 10.5;\n            cp[1] += -coordFix[1] / (10.5 / 0.75);\n        }\n    });\n};\n\nvar geoCoordMap = {\n    'Russia': [100, 60],\n    'United States': [-99, 38],\n    'United States of America': [-99, 38]\n};\n\nvar fixGeoCoord = function (geo) {\n    each$1(geo.regions, function (region) {\n        var geoCoord = geoCoordMap[region.name];\n        if (geoCoord) {\n            var cp = region.center;\n            cp[0] = geoCoord[0];\n            cp[1] = geoCoord[1];\n        }\n    });\n};\n\n// Fix for \n\n// var Region = require('../Region');\n// var zrUtil = require('zrender/src/core/util');\n\n// var geoCoord = [126, 25];\n\nvar points$2 = [\n    [\n        [123.45165252685547, 25.73527164402261],\n        [123.49731445312499, 25.73527164402261],\n        [123.49731445312499, 25.750734064600884],\n        [123.45165252685547, 25.750734064600884],\n        [123.45165252685547, 25.73527164402261]\n    ]\n];\n\nvar fixDiaoyuIsland = function (geo) {\n    if (geo.map === 'china') {\n        for (var i = 0, len = geo.regions.length; i < len; ++i) {\n            if (geo.regions[i].name === '') {\n                geo.regions[i].geometries.push({\n                    type: 'polygon',\n                    exterior: points$2[0]\n                });\n            }\n        }\n    }\n};\n\n// Geo fix functions\nvar geoFixFuncs = [\n    fixNanhai,\n    fixTextCoord,\n    fixGeoCoord,\n    fixDiaoyuIsland\n];\n\n/**\n * [Geo description]\n * @param {string} name Geo name\n * @param {string} map Map type\n * @param {Object} geoJson\n * @param {Object} [specialAreas]\n *        Specify the positioned areas by left, top, width, height\n * @param {Object.<string, string>} [nameMap]\n *        Specify name alias\n */\nfunction Geo(name, map$$1, geoJson, specialAreas, nameMap) {\n\n    View.call(this, name);\n\n    /**\n     * Map type\n     * @type {string}\n     */\n    this.map = map$$1;\n\n    this._nameCoordMap = createHashMap();\n\n    this.loadGeoJson(geoJson, specialAreas, nameMap);\n}\n\nGeo.prototype = {\n\n    constructor: Geo,\n\n    type: 'geo',\n\n    /**\n     * @param {Array.<string>}\n     * @readOnly\n     */\n    dimensions: ['lng', 'lat'],\n\n    /**\n     * If contain given lng,lat coord\n     * @param {Array.<number>}\n     * @readOnly\n     */\n    containCoord: function (coord) {\n        var regions = this.regions;\n        for (var i = 0; i < regions.length; i++) {\n            if (regions[i].contain(coord)) {\n                return true;\n            }\n        }\n        return false;\n    },\n    /**\n     * @param {Object} geoJson\n     * @param {Object} [specialAreas]\n     *        Specify the positioned areas by left, top, width, height\n     * @param {Object.<string, string>} [nameMap]\n     *        Specify name alias\n     */\n    loadGeoJson: function (geoJson, specialAreas, nameMap) {\n        // https://jsperf.com/try-catch-performance-overhead\n        try {\n            this.regions = geoJson ? parseGeoJson(geoJson) : [];\n        }\n        catch (e) {\n            throw 'Invalid geoJson format\\n' + e.message;\n        }\n        specialAreas = specialAreas || {};\n        nameMap = nameMap || {};\n        var regions = this.regions;\n        var regionsMap = createHashMap();\n        for (var i = 0; i < regions.length; i++) {\n            var regionName = regions[i].name;\n            // Try use the alias in nameMap\n            regionName = nameMap.hasOwnProperty(regionName) ? nameMap[regionName] : regionName;\n            regions[i].name = regionName;\n\n            regionsMap.set(regionName, regions[i]);\n            // Add geoJson\n            this.addGeoCoord(regionName, regions[i].center);\n\n            // Some area like Alaska in USA map needs to be tansformed\n            // to look better\n            var specialArea = specialAreas[regionName];\n            if (specialArea) {\n                regions[i].transformTo(\n                    specialArea.left, specialArea.top, specialArea.width, specialArea.height\n                );\n            }\n        }\n\n        this._regionsMap = regionsMap;\n\n        this._rect = null;\n\n        each$1(geoFixFuncs, function (fixFunc) {\n            fixFunc(this);\n        }, this);\n    },\n\n    // Overwrite\n    transformTo: function (x, y, width, height) {\n        var rect = this.getBoundingRect();\n\n        rect = rect.clone();\n        // Longitute is inverted\n        rect.y = -rect.y - rect.height;\n\n        var viewTransform = this._viewTransform;\n\n        viewTransform.transform = rect.calculateTransform(\n            new BoundingRect(x, y, width, height)\n        );\n\n        viewTransform.decomposeTransform();\n\n        var scale = viewTransform.scale;\n        scale[1] = -scale[1];\n\n        viewTransform.updateTransform();\n\n        this._updateTransform();\n    },\n\n    /**\n     * @param {string} name\n     * @return {module:echarts/coord/geo/Region}\n     */\n    getRegion: function (name) {\n        return this._regionsMap.get(name);\n    },\n\n    getRegionByCoord: function (coord) {\n        var regions = this.regions;\n        for (var i = 0; i < regions.length; i++) {\n            if (regions[i].contain(coord)) {\n                return regions[i];\n            }\n        }\n    },\n\n    /**\n     * Add geoCoord for indexing by name\n     * @param {string} name\n     * @param {Array.<number>} geoCoord\n     */\n    addGeoCoord: function (name, geoCoord) {\n        this._nameCoordMap.set(name, geoCoord);\n    },\n\n    /**\n     * Get geoCoord by name\n     * @param {string} name\n     * @return {Array.<number>}\n     */\n    getGeoCoord: function (name) {\n        return this._nameCoordMap.get(name);\n    },\n\n    // Overwrite\n    getBoundingRect: function () {\n        if (this._rect) {\n            return this._rect;\n        }\n        var rect;\n\n        var regions = this.regions;\n        for (var i = 0; i < regions.length; i++) {\n            var regionRect = regions[i].getBoundingRect();\n            rect = rect || regionRect.clone();\n            rect.union(regionRect);\n        }\n        // FIXME Always return new ?\n        return (this._rect = rect || new BoundingRect(0, 0, 0, 0));\n    },\n\n    /**\n     * @param {string|Array.<number>} data\n     * @return {Array.<number>}\n     */\n    dataToPoint: function (data) {\n        if (typeof data === 'string') {\n            // Map area name to geoCoord\n            data = this.getGeoCoord(data);\n        }\n        if (data) {\n            return View.prototype.dataToPoint.call(this, data);\n        }\n    },\n\n    /**\n     * @inheritDoc\n     */\n    convertToPixel: curry(doConvert, 'dataToPoint'),\n\n    /**\n     * @inheritDoc\n     */\n    convertFromPixel: curry(doConvert, 'pointToData')\n\n};\n\nmixin(Geo, View);\n\nfunction doConvert(methodName, ecModel, finder, value) {\n    var geoModel = finder.geoModel;\n    var seriesModel = finder.seriesModel;\n\n    var coordSys = geoModel\n        ? geoModel.coordinateSystem\n        : seriesModel\n        ? (\n            seriesModel.coordinateSystem // For map.\n            || (seriesModel.getReferringComponents('geo')[0] || {}).coordinateSystem\n        )\n        : null;\n\n    return coordSys === this ? coordSys[methodName](value) : null;\n}\n\n/**\n * Resize method bound to the geo\n * @param {module:echarts/coord/geo/GeoModel|module:echarts/chart/map/MapModel} geoModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction resizeGeo(geoModel, api) {\n\n    var boundingCoords = geoModel.get('boundingCoords');\n    if (boundingCoords != null) {\n        var leftTop = boundingCoords[0];\n        var rightBottom = boundingCoords[1];\n        if (isNaN(leftTop[0]) || isNaN(leftTop[1]) || isNaN(rightBottom[0]) || isNaN(rightBottom[1])) {\n            if (__DEV__) {\n                console.error('Invalid boundingCoords');\n            }\n        }\n        else {\n            this.setBoundingRect(leftTop[0], leftTop[1], rightBottom[0] - leftTop[0], rightBottom[1] - leftTop[1]);\n        }\n    }\n\n    var rect = this.getBoundingRect();\n\n    var boxLayoutOption;\n\n    var center = geoModel.get('layoutCenter');\n    var size = geoModel.get('layoutSize');\n\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n\n    var aspectScale = geoModel.get('aspectScale') || 0.75;\n    var aspect = rect.width / rect.height * aspectScale;\n\n    var useCenterAndSize = false;\n\n    if (center && size) {\n        center = [\n            parsePercent$1(center[0], viewWidth),\n            parsePercent$1(center[1], viewHeight)\n        ];\n        size = parsePercent$1(size, Math.min(viewWidth, viewHeight));\n\n        if (!isNaN(center[0]) && !isNaN(center[1]) && !isNaN(size)) {\n            useCenterAndSize = true;\n        }\n        else {\n            if (__DEV__) {\n                console.warn('Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.');\n            }\n        }\n    }\n\n    var viewRect;\n    if (useCenterAndSize) {\n        var viewRect = {};\n        if (aspect > 1) {\n            // Width is same with size\n            viewRect.width = size;\n            viewRect.height = size / aspect;\n        }\n        else {\n            viewRect.height = size;\n            viewRect.width = size * aspect;\n        }\n        viewRect.y = center[1] - viewRect.height / 2;\n        viewRect.x = center[0] - viewRect.width / 2;\n    }\n    else {\n        // Use left/top/width/height\n        boxLayoutOption = geoModel.getBoxLayoutParams();\n\n        // 0.75 rate\n        boxLayoutOption.aspect = aspect;\n\n        viewRect = getLayoutRect(boxLayoutOption, {\n            width: viewWidth,\n            height: viewHeight\n        });\n    }\n\n    this.setViewRect(viewRect.x, viewRect.y, viewRect.width, viewRect.height);\n\n    this.setCenter(geoModel.get('center'));\n    this.setZoom(geoModel.get('zoom'));\n}\n\n/**\n * @param {module:echarts/coord/Geo} geo\n * @param {module:echarts/model/Model} model\n * @inner\n */\nfunction setGeoCoords(geo, model) {\n    each$1(model.get('geoCoord'), function (geoCoord, name) {\n        geo.addGeoCoord(name, geoCoord);\n    });\n}\n\nif (__DEV__) {\n    var mapNotExistsError = function (name) {\n        console.error('Map ' + name + ' not exists. You can download map file on http://echarts.baidu.com/download-map.html');\n    };\n}\n\nvar geoCreator = {\n\n    // For deciding which dimensions to use when creating list data\n    dimensions: Geo.prototype.dimensions,\n\n    create: function (ecModel, api) {\n        var geoList = [];\n\n        // FIXME Create each time may be slow\n        ecModel.eachComponent('geo', function (geoModel, idx) {\n            var name = geoModel.get('map');\n            var mapData = getMap(name);\n            if (__DEV__) {\n                if (!mapData) {\n                    mapNotExistsError(name);\n                }\n            }\n            var geo = new Geo(\n                name + idx, name,\n                mapData && mapData.geoJson, mapData && mapData.specialAreas,\n                geoModel.get('nameMap')\n            );\n            geo.zoomLimit = geoModel.get('scaleLimit');\n            geoList.push(geo);\n\n            setGeoCoords(geo, geoModel);\n\n            geoModel.coordinateSystem = geo;\n            geo.model = geoModel;\n\n            // Inject resize method\n            geo.resize = resizeGeo;\n\n            geo.resize(geoModel, api);\n        });\n\n        ecModel.eachSeries(function (seriesModel) {\n            var coordSys = seriesModel.get('coordinateSystem');\n            if (coordSys === 'geo') {\n                var geoIndex = seriesModel.get('geoIndex') || 0;\n                seriesModel.coordinateSystem = geoList[geoIndex];\n            }\n        });\n\n        // If has map series\n        var mapModelGroupBySeries = {};\n\n        ecModel.eachSeriesByType('map', function (seriesModel) {\n            if (!seriesModel.getHostGeoModel()) {\n                var mapType = seriesModel.getMapType();\n                mapModelGroupBySeries[mapType] = mapModelGroupBySeries[mapType] || [];\n                mapModelGroupBySeries[mapType].push(seriesModel);\n            }\n        });\n\n        each$1(mapModelGroupBySeries, function (mapSeries, mapType) {\n            var mapData = getMap(mapType);\n            if (__DEV__) {\n                if (!mapData) {\n                    mapNotExistsError(mapSeries[0].get('map'));\n                }\n            }\n\n            var nameMapList = map(mapSeries, function (singleMapSeries) {\n                return singleMapSeries.get('nameMap');\n            });\n            var geo = new Geo(\n                mapType, mapType,\n                mapData && mapData.geoJson, mapData && mapData.specialAreas,\n                mergeAll(nameMapList)\n            );\n            geo.zoomLimit = retrieve.apply(null, map(mapSeries, function (singleMapSeries) {\n                return singleMapSeries.get('scaleLimit');\n            }));\n            geoList.push(geo);\n\n            // Inject resize method\n            geo.resize = resizeGeo;\n\n            geo.resize(mapSeries[0], api);\n\n            each$1(mapSeries, function (singleMapSeries) {\n                singleMapSeries.coordinateSystem = geo;\n\n                setGeoCoords(geo, singleMapSeries);\n            });\n        });\n\n        return geoList;\n    },\n\n    /**\n     * Fill given regions array\n     * @param  {Array.<Object>} originRegionArr\n     * @param  {string} mapName\n     * @param  {Object} [nameMap]\n     * @return {Array}\n     */\n    getFilledRegions: function (originRegionArr, mapName, nameMap) {\n        // Not use the original\n        var regionsArr = (originRegionArr || []).slice();\n        nameMap = nameMap || {};\n\n        var map$$1 = getMap(mapName);\n        var geoJson = map$$1 && map$$1.geoJson;\n        if (!geoJson) {\n            if (__DEV__) {\n                mapNotExistsError(mapName);\n            }\n            return originRegionArr;\n        }\n\n        var dataNameMap = createHashMap();\n        var features = geoJson.features;\n        for (var i = 0; i < regionsArr.length; i++) {\n            dataNameMap.set(regionsArr[i].name, regionsArr[i]);\n        }\n\n        for (var i = 0; i < features.length; i++) {\n            var name = features[i].properties.name;\n            if (!dataNameMap.get(name)) {\n                if (nameMap.hasOwnProperty(name)) {\n                    name = nameMap[name];\n                }\n                regionsArr.push({\n                    name: name\n                });\n            }\n        }\n        return regionsArr;\n    }\n};\n\nregisterCoordinateSystem('geo', geoCreator);\n\nvar MapSeries = SeriesModel.extend({\n\n    type: 'series.map',\n\n    dependencies: ['geo'],\n\n    layoutMode: 'box',\n\n    /**\n     * Only first map series of same mapType will drawMap\n     * @type {boolean}\n     */\n    needsDrawMap: false,\n\n    /**\n     * Group of all map series with same mapType\n     * @type {boolean}\n     */\n    seriesGroup: [],\n\n    init: function (option) {\n\n        this._fillOption(option, this.getMapType());\n        // this.option = option;\n\n        MapSeries.superApply(this, 'init', arguments);\n\n        this.updateSelectedMap(option.data);\n    },\n\n    getInitialData: function (option) {\n        var dimensions = completeDimensions(['value'], option.data || []);\n\n        var list = new List(dimensions, this);\n\n        list.initData(option.data);\n\n        return list;\n    },\n\n    mergeOption: function (newOption) {\n        this._fillOption(newOption, this.getMapType());\n\n        MapSeries.superApply(this, 'mergeOption', arguments);\n\n        this.updateSelectedMap(this.option.data);\n    },\n\n    /**\n     * If no host geo model, return null, which means using a\n     * inner exclusive geo model.\n     */\n    getHostGeoModel: function () {\n        var geoIndex = this.option.geoIndex;\n        return geoIndex != null\n            ? this.dependentModels.geo[geoIndex]\n            : null;\n    },\n\n    getMapType: function () {\n        return (this.getHostGeoModel() || this).option.map;\n    },\n\n    _fillOption: function (option, mapName) {\n        // Shallow clone\n        // option = zrUtil.extend({}, option);\n\n        option.data = geoCreator.getFilledRegions(option.data, mapName, option.nameMap);\n\n        // return option;\n    },\n\n    getRawValue: function (dataIndex) {\n        // Use value stored in data instead because it is calculated from multiple series\n        // FIXME Provide all value of multiple series ?\n        return this.getData().get('value', dataIndex);\n    },\n\n    /**\n     * Get model of region\n     * @param  {string} name\n     * @return {module:echarts/model/Model}\n     */\n    getRegionModel: function (regionName) {\n        var data = this.getData();\n        return data.getItemModel(data.indexOfName(regionName));\n    },\n\n    /**\n     * Map tooltip formatter\n     *\n     * @param {number} dataIndex\n     */\n    formatTooltip: function (dataIndex) {\n        // FIXME orignalData and data is a bit confusing\n        var data = this.getData();\n        var formattedValue = addCommas(this.getRawValue(dataIndex));\n        var name = data.getName(dataIndex);\n\n        var seriesGroup = this.seriesGroup;\n        var seriesNames = [];\n        for (var i = 0; i < seriesGroup.length; i++) {\n            var otherIndex = seriesGroup[i].originalData.indexOfName(name);\n            if (!isNaN(seriesGroup[i].originalData.get('value', otherIndex))) {\n                seriesNames.push(\n                    encodeHTML(seriesGroup[i].name)\n                );\n            }\n        }\n\n        return seriesNames.join(', ') + '<br />'\n            + encodeHTML(name + ' : ' + formattedValue);\n    },\n\n    /**\n     * @implement\n     */\n    getTooltipPosition: function (dataIndex) {\n        if (dataIndex != null) {\n            var name = this.getData().getName(dataIndex);\n            var geo = this.coordinateSystem;\n            var region = geo.getRegion(name);\n\n            return region && geo.dataToPoint(region.center);\n        }\n    },\n\n    setZoom: function (zoom) {\n        this.option.zoom = zoom;\n    },\n\n    setCenter: function (center) {\n        this.option.center = center;\n    },\n\n    defaultOption: {\n        // \n        zlevel: 0,\n        // \n        z: 2,\n\n        coordinateSystem: 'geo',\n\n        // map should be explicitly specified since ec3.\n        map: '',\n\n        // If `geoIndex` is not specified, a exclusive geo will be\n        // created. Otherwise use the specified geo component, and\n        // `map` and `mapType` are ignored.\n        // geoIndex: 0,\n\n        // 'center' | 'left' | 'right' | 'x%' | {number}\n        left: 'center',\n        // 'center' | 'top' | 'bottom' | 'x%' | {number}\n        top: 'center',\n        // right\n        // bottom\n        // width:\n        // height\n\n        // Aspect is width / height. Inited to be geoJson bbox aspect\n        // This parameter is used for scale this aspect\n        aspectScale: 0.75,\n\n        ///// Layout with center and size\n        // If you wan't to put map in a fixed size box with right aspect ratio\n        // This two properties may more conveninet\n        // layoutCenter: [50%, 50%]\n        // layoutSize: 100\n\n\n        // \n        // 'sum' | 'average' | 'max' | 'min'\n        // mapValueCalculation: 'sum',\n        // \n        // mapValuePrecision: 0,\n\n\n        // \n        showLegendSymbol: true,\n        // singlemultiple\n        // selectedMode: false,\n        dataRangeHoverLink: true,\n        // \n        // roam: false,\n\n        // Define left-top, right-bottom coords to control view\n        // For example, [ [180, 90], [-180, -90] ],\n        // higher priority than center and zoom\n        boundingCoords: null,\n\n        // Default on center of map\n        center: null,\n\n        zoom: 1,\n\n        scaleLimit: null,\n\n        label: {\n            normal: {\n                show: false,\n                color: '#000'\n            },\n            emphasis: {\n                show: true,\n                color: 'rgb(100,0,0)'\n            }\n        },\n        // scaleLimit: null,\n        itemStyle: {\n            normal: {\n                // color: ,\n                borderWidth: 0.5,\n                borderColor: '#444',\n                areaColor: '#eee'\n            },\n            // \n            emphasis: {\n                areaColor: 'rgba(255,215,0,0.8)'\n            }\n        }\n    }\n\n});\n\nmixin(MapSeries, selectableMixin);\n\nvar ATTR = '\\0_ec_interaction_mutex';\n\nfunction take(zr, resourceKey, userKey) {\n    var store = getStore(zr);\n    store[resourceKey] = userKey;\n}\n\nfunction release(zr, resourceKey, userKey) {\n    var store = getStore(zr);\n    var uKey = store[resourceKey];\n\n    if (uKey === userKey) {\n        store[resourceKey] = null;\n    }\n}\n\nfunction isTaken(zr, resourceKey) {\n    return !!getStore(zr)[resourceKey];\n}\n\nfunction getStore(zr) {\n    return zr[ATTR] || (zr[ATTR] = {});\n}\n\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\nregisterAction(\n    {type: 'takeGlobalCursor', event: 'globalCursorTaken', update: 'update'},\n    function () {}\n);\n\n/**\n * @alias module:echarts/component/helper/RoamController\n * @constructor\n * @mixin {module:zrender/mixin/Eventful}\n *\n * @param {module:zrender/zrender~ZRender} zr\n */\nfunction RoamController(zr) {\n\n    /**\n     * @type {Function}\n     */\n    this.pointerChecker;\n\n    /**\n     * @type {module:zrender}\n     */\n    this._zr = zr;\n\n    /**\n     * @type {Object}\n     */\n    this._opt = {};\n\n    // Avoid two roamController bind the same handler\n    var bind$$1 = bind;\n    var mousedownHandler = bind$$1(mousedown, this);\n    var mousemoveHandler = bind$$1(mousemove, this);\n    var mouseupHandler = bind$$1(mouseup, this);\n    var mousewheelHandler = bind$$1(mousewheel, this);\n    var pinchHandler = bind$$1(pinch, this);\n\n    Eventful.call(this);\n\n    /**\n     * @param {Function} pointerChecker\n     *                   input: x, y\n     *                   output: boolean\n     */\n    this.setPointerChecker = function (pointerChecker) {\n        this.pointerChecker = pointerChecker;\n    };\n\n    /**\n     * Notice: only enable needed types. For example, if 'zoom'\n     * is not needed, 'zoom' should not be enabled, otherwise\n     * default mousewheel behaviour (scroll page) will be disabled.\n     *\n     * @param  {boolean|string} [controlType=true] Specify the control type,\n     *                          which can be null/undefined or true/false\n     *                          or 'pan/move' or 'zoom'/'scale'\n     * @param {Object} [opt]\n     * @param {Object} [opt.zoomOnMouseWheel=true]\n     * @param {Object} [opt.moveOnMouseMove=true]\n     * @param {Object} [opt.preventDefaultMouseMove=true] When pan.\n     */\n    this.enable = function (controlType, opt) {\n\n        // Disable previous first\n        this.disable();\n\n        this._opt = defaults(clone(opt) || {}, {\n            zoomOnMouseWheel: true,\n            moveOnMouseMove: true,\n            preventDefaultMouseMove: true\n        });\n\n        if (controlType == null) {\n            controlType = true;\n        }\n\n        if (controlType === true || (controlType === 'move' || controlType === 'pan')) {\n            zr.on('mousedown', mousedownHandler);\n            zr.on('mousemove', mousemoveHandler);\n            zr.on('mouseup', mouseupHandler);\n        }\n        if (controlType === true || (controlType === 'scale' || controlType === 'zoom')) {\n            zr.on('mousewheel', mousewheelHandler);\n            zr.on('pinch', pinchHandler);\n        }\n    };\n\n    this.disable = function () {\n        zr.off('mousedown', mousedownHandler);\n        zr.off('mousemove', mousemoveHandler);\n        zr.off('mouseup', mouseupHandler);\n        zr.off('mousewheel', mousewheelHandler);\n        zr.off('pinch', pinchHandler);\n    };\n\n    this.dispose = this.disable;\n\n    this.isDragging = function () {\n        return this._dragging;\n    };\n\n    this.isPinching = function () {\n        return this._pinching;\n    };\n}\n\nmixin(RoamController, Eventful);\n\n\nfunction mousedown(e) {\n    if (notLeftMouse(e)\n        || (e.target && e.target.draggable)\n    ) {\n        return;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY;\n\n    // Only check on mosedown, but not mousemove.\n    // Mouse can be out of target when mouse moving.\n    if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n        this._x = x;\n        this._y = y;\n        this._dragging = true;\n    }\n}\n\nfunction mousemove(e) {\n    if (notLeftMouse(e)\n        || !checkKeyBinding(this, 'moveOnMouseMove', e)\n        || !this._dragging\n        || e.gestureEvent === 'pinch'\n        || isTaken(this._zr, 'globalPan')\n    ) {\n        return;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY;\n\n    var oldX = this._x;\n    var oldY = this._y;\n\n    var dx = x - oldX;\n    var dy = y - oldY;\n\n    this._x = x;\n    this._y = y;\n\n    this._opt.preventDefaultMouseMove && stop(e.event);\n\n    this.trigger('pan', dx, dy, oldX, oldY, x, y);\n}\n\nfunction mouseup(e) {\n    if (!notLeftMouse(e)) {\n        this._dragging = false;\n    }\n}\n\nfunction mousewheel(e) {\n    // wheelDelta maybe -0 in chrome mac.\n    if (!checkKeyBinding(this, 'zoomOnMouseWheel', e) || e.wheelDelta === 0) {\n        return;\n    }\n\n    // Convenience:\n    // Mac and VM Windows on Mac: scroll up: zoom out.\n    // Windows: scroll up: zoom in.\n    var zoomDelta = e.wheelDelta > 0 ? 1.1 : 1 / 1.1;\n    zoom.call(this, e, zoomDelta, e.offsetX, e.offsetY);\n}\n\nfunction pinch(e) {\n    if (isTaken(this._zr, 'globalPan')) {\n        return;\n    }\n    var zoomDelta = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n    zoom.call(this, e, zoomDelta, e.pinchX, e.pinchY);\n}\n\nfunction zoom(e, zoomDelta, zoomX, zoomY) {\n    if (this.pointerChecker && this.pointerChecker(e, zoomX, zoomY)) {\n        // When mouse is out of roamController rect,\n        // default befavoius should not be be disabled, otherwise\n        // page sliding is disabled, contrary to expectation.\n        stop(e.event);\n\n        this.trigger('zoom', zoomDelta, zoomX, zoomY);\n    }\n}\n\nfunction checkKeyBinding(roamController, prop, e) {\n    var setting = roamController._opt[prop];\n    return setting\n        && (!isString(setting) || e.event[setting + 'Key']);\n}\n\n/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n */\nfunction updateViewOnPan(controllerHost, dx, dy) {\n    var target = controllerHost.target;\n    var pos = target.position;\n    pos[0] += dx;\n    pos[1] += dy;\n    target.dirty();\n}\n\n/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n * @param {number} controllerHost.zoom\n * @param {number} controllerHost.zoomLimit like: {min: 1, max: 2}\n */\nfunction updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n    var target = controllerHost.target;\n    var zoomLimit = controllerHost.zoomLimit;\n    var pos = target.position;\n    var scale = target.scale;\n\n    var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n    newZoom *= zoomDelta;\n    if (zoomLimit) {\n        var zoomMin = zoomLimit.min || 0;\n        var zoomMax = zoomLimit.max || Infinity;\n        newZoom = Math.max(\n            Math.min(zoomMax, newZoom),\n            zoomMin\n        );\n    }\n    var zoomScale = newZoom / controllerHost.zoom;\n    controllerHost.zoom = newZoom;\n    // Keep the mouse center when scaling\n    pos[0] -= (zoomX - pos[0]) * (zoomScale - 1);\n    pos[1] -= (zoomY - pos[1]) * (zoomScale - 1);\n    scale[0] *= zoomScale;\n    scale[1] *= zoomScale;\n\n    target.dirty();\n}\n\nvar IRRELEVANT_EXCLUDES = {'axisPointer': 1, 'tooltip': 1, 'brush': 1};\n\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\nfunction onIrrelevantElement(e, api, targetCoordSysModel) {\n    var model = api.getComponentByElement(e.topTarget);\n    // If model is axisModel, it works only if it is injected with coordinateSystem.\n    var coordSys = model && model.coordinateSystem;\n    return model\n        && model !== targetCoordSysModel\n        && !IRRELEVANT_EXCLUDES[model.mainType]\n        && (coordSys && coordSys.model !== targetCoordSysModel);\n}\n\nfunction getFixedItemStyle(model, scale) {\n    var itemStyle = model.getItemStyle();\n    var areaColor = model.get('areaColor');\n\n    // If user want the color not to be changed when hover,\n    // they should both set areaColor and color to be null.\n    if (areaColor != null) {\n        itemStyle.fill = areaColor;\n    }\n\n    return itemStyle;\n}\n\nfunction updateMapSelectHandler(mapDraw, mapOrGeoModel, group, api, fromView) {\n    group.off('click');\n    group.off('mousedown');\n\n    if (mapOrGeoModel.get('selectedMode')) {\n\n        group.on('mousedown', function () {\n            mapDraw._mouseDownFlag = true;\n        });\n\n        group.on('click', function (e) {\n            if (!mapDraw._mouseDownFlag) {\n                return;\n            }\n            mapDraw._mouseDownFlag = false;\n\n            var el = e.target;\n            while (!el.__regions) {\n                el = el.parent;\n            }\n            if (!el) {\n                return;\n            }\n\n            var action = {\n                type: (mapOrGeoModel.mainType === 'geo' ? 'geo' : 'map') + 'ToggleSelect',\n                batch: map(el.__regions, function (region) {\n                    return {\n                        name: region.name,\n                        from: fromView.uid\n                    };\n                })\n            };\n            action[mapOrGeoModel.mainType + 'Id'] = mapOrGeoModel.id;\n\n            api.dispatchAction(action);\n\n            updateMapSelected(mapOrGeoModel, group);\n        });\n    }\n}\n\nfunction updateMapSelected(mapOrGeoModel, group) {\n    // FIXME\n    group.eachChild(function (otherRegionEl) {\n        each$1(otherRegionEl.__regions, function (region) {\n            otherRegionEl.trigger(mapOrGeoModel.isSelected(region.name) ? 'emphasis' : 'normal');\n        });\n    });\n}\n\n/**\n * @alias module:echarts/component/helper/MapDraw\n * @param {module:echarts/ExtensionAPI} api\n * @param {boolean} updateGroup\n */\nfunction MapDraw(api, updateGroup) {\n\n    var group = new Group();\n\n    /**\n     * @type {module:echarts/component/helper/RoamController}\n     * @private\n     */\n    this._controller = new RoamController(api.getZr());\n\n    /**\n     * @type {Object} {target, zoom, zoomLimit}\n     * @private\n     */\n    this._controllerHost = {target: updateGroup ? group : null};\n\n    /**\n     * @type {module:zrender/container/Group}\n     * @readOnly\n     */\n    this.group = group;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this._updateGroup = updateGroup;\n\n    /**\n     * This flag is used to make sure that only one among\n     * `pan`, `zoom`, `click` can occurs, otherwise 'selected'\n     * action may be triggered when `pan`, which is unexpected.\n     * @type {booelan}\n     */\n    this._mouseDownFlag;\n}\n\nMapDraw.prototype = {\n\n    constructor: MapDraw,\n\n    draw: function (mapOrGeoModel, ecModel, api, fromView, payload) {\n\n        var isGeo = mapOrGeoModel.mainType === 'geo';\n\n        // Map series has data. GEO model that controlled by map series\n        // will be assigned with map data. Other GEO model has no data.\n        var data = mapOrGeoModel.getData && mapOrGeoModel.getData();\n        isGeo && ecModel.eachComponent({mainType: 'series', subType: 'map'}, function (mapSeries) {\n            if (!data && mapSeries.getHostGeoModel() === mapOrGeoModel) {\n                data = mapSeries.getData();\n            }\n        });\n\n        var geo = mapOrGeoModel.coordinateSystem;\n\n        var group = this.group;\n\n        var scale = geo.scale;\n        var groupNewProp = {\n            position: geo.position,\n            scale: scale\n        };\n\n        // No animation when first draw or in action\n        if (!group.childAt(0) || payload) {\n            group.attr(groupNewProp);\n        }\n        else {\n            updateProps(group, groupNewProp, mapOrGeoModel);\n        }\n\n        group.removeAll();\n\n        var itemStyleAccessPath = ['itemStyle', 'normal'];\n        var hoverItemStyleAccessPath = ['itemStyle', 'emphasis'];\n        var labelAccessPath = ['label', 'normal'];\n        var hoverLabelAccessPath = ['label', 'emphasis'];\n        var nameMap = createHashMap();\n\n        each$1(geo.regions, function (region) {\n\n            // Consider in GeoJson properties.name may be duplicated, for example,\n            // there is multiple region named \"United Kindom\" or \"France\" (so many\n            // colonies). And it is not appropriate to merge them in geo, which\n            // will make them share the same label and bring trouble in label\n            // location calculation.\n            var regionGroup = nameMap.get(region.name)\n                || nameMap.set(region.name, new Group());\n\n            var compoundPath = new CompoundPath({\n                shape: {\n                    paths: []\n                }\n            });\n            regionGroup.add(compoundPath);\n\n            var regionModel = mapOrGeoModel.getRegionModel(region.name) || mapOrGeoModel;\n\n            var itemStyleModel = regionModel.getModel(itemStyleAccessPath);\n            var hoverItemStyleModel = regionModel.getModel(hoverItemStyleAccessPath);\n            var itemStyle = getFixedItemStyle(itemStyleModel, scale);\n            var hoverItemStyle = getFixedItemStyle(hoverItemStyleModel, scale);\n\n            var labelModel = regionModel.getModel(labelAccessPath);\n            var hoverLabelModel = regionModel.getModel(hoverLabelAccessPath);\n\n            var dataIdx;\n            // Use the itemStyle in data if has data\n            if (data) {\n                dataIdx = data.indexOfName(region.name);\n                // Only visual color of each item will be used. It can be encoded by dataRange\n                // But visual color of series is used in symbol drawing\n                //\n                // Visual color for each series is for the symbol draw\n                var visualColor = data.getItemVisual(dataIdx, 'color', true);\n                if (visualColor) {\n                    itemStyle.fill = visualColor;\n                }\n            }\n\n            each$1(region.geometries, function (geometry) {\n                if (geometry.type !== 'polygon') {\n                    return;\n                }\n                compoundPath.shape.paths.push(new Polygon({\n                    shape: {\n                        points: geometry.exterior\n                    }\n                }));\n\n                for (var i = 0; i < (geometry.interiors ? geometry.interiors.length : 0); i++) {\n                    compoundPath.shape.paths.push(new Polygon({\n                        shape: {\n                            points: geometry.interiors[i]\n                        }\n                    }));\n                }\n            });\n\n            compoundPath.setStyle(itemStyle);\n            compoundPath.style.strokeNoScale = true;\n            compoundPath.culling = true;\n            // Label\n            var showLabel = labelModel.get('show');\n            var hoverShowLabel = hoverLabelModel.get('show');\n\n            var isDataNaN = data && isNaN(data.get('value', dataIdx));\n            var itemLayout = data && data.getItemLayout(dataIdx);\n            // In the following cases label will be drawn\n            // 1. In map series and data value is NaN\n            // 2. In geo component\n            // 4. Region has no series legendSymbol, which will be add a showLabel flag in mapSymbolLayout\n            if (\n                (isGeo || isDataNaN && (showLabel || hoverShowLabel))\n                || (itemLayout && itemLayout.showLabel)\n                ) {\n                var query = !isGeo ? dataIdx : region.name;\n                var labelFetcher;\n\n                // Consider dataIdx not found.\n                if (!data || dataIdx >= 0) {\n                    labelFetcher = mapOrGeoModel;\n                }\n\n                var textEl = new Text({\n                    position: region.center.slice(),\n                    scale: [1 / scale[0], 1 / scale[1]],\n                    z2: 10,\n                    silent: true\n                });\n\n                setLabelStyle(\n                    textEl.style, textEl.hoverStyle = {}, labelModel, hoverLabelModel,\n                    {\n                        labelFetcher: labelFetcher,\n                        labelDataIndex: query,\n                        defaultText: region.name,\n                        useInsideStyle: false\n                    },\n                    {\n                        textAlign: 'center',\n                        textVerticalAlign: 'middle'\n                    }\n                );\n\n                regionGroup.add(textEl);\n            }\n\n            // setItemGraphicEl, setHoverStyle after all polygons and labels\n            // are added to the rigionGroup\n            if (data) {\n                data.setItemGraphicEl(dataIdx, regionGroup);\n            }\n            else {\n                var regionModel = mapOrGeoModel.getRegionModel(region.name);\n                // Package custom mouse event for geo component\n                compoundPath.eventData = {\n                    componentType: 'geo',\n                    geoIndex: mapOrGeoModel.componentIndex,\n                    name: region.name,\n                    region: (regionModel && regionModel.option) || {}\n                };\n            }\n\n            var groupRegions = regionGroup.__regions || (regionGroup.__regions = []);\n            groupRegions.push(region);\n\n            setHoverStyle(\n                regionGroup,\n                hoverItemStyle,\n                {hoverSilentOnTouch: !!mapOrGeoModel.get('selectedMode')}\n            );\n\n            group.add(regionGroup);\n        });\n\n        this._updateController(mapOrGeoModel, ecModel, api);\n\n        updateMapSelectHandler(this, mapOrGeoModel, group, api, fromView);\n\n        updateMapSelected(mapOrGeoModel, group);\n    },\n\n    remove: function () {\n        this.group.removeAll();\n        this._controller.dispose();\n        this._controllerHost = {};\n    },\n\n    _updateController: function (mapOrGeoModel, ecModel, api) {\n        var geo = mapOrGeoModel.coordinateSystem;\n        var controller = this._controller;\n        var controllerHost = this._controllerHost;\n\n        controllerHost.zoomLimit = mapOrGeoModel.get('scaleLimit');\n        controllerHost.zoom = geo.getZoom();\n\n        // roamType is will be set default true if it is null\n        controller.enable(mapOrGeoModel.get('roam') || false);\n        var mainType = mapOrGeoModel.mainType;\n\n        function makeActionBase() {\n            var action = {\n                type: 'geoRoam',\n                componentType: mainType\n            };\n            action[mainType + 'Id'] = mapOrGeoModel.id;\n            return action;\n        }\n\n        controller.off('pan').on('pan', function (dx, dy) {\n            this._mouseDownFlag = false;\n\n            updateViewOnPan(controllerHost, dx, dy);\n\n            api.dispatchAction(extend(makeActionBase(), {\n                dx: dx,\n                dy: dy\n            }));\n        }, this);\n\n        controller.off('zoom').on('zoom', function (zoom, mouseX, mouseY) {\n            this._mouseDownFlag = false;\n\n            updateViewOnZoom(controllerHost, zoom, mouseX, mouseY);\n\n            api.dispatchAction(extend(makeActionBase(), {\n                zoom: zoom,\n                originX: mouseX,\n                originY: mouseY\n            }));\n\n            if (this._updateGroup) {\n                var group = this.group;\n                var scale = group.scale;\n                group.traverse(function (el) {\n                    if (el.type === 'text') {\n                        el.attr('scale', [1 / scale[0], 1 / scale[1]]);\n                    }\n                });\n            }\n        }, this);\n\n        controller.setPointerChecker(function (e, x, y) {\n            return geo.getViewRectAfterRoam().contain(x, y)\n                && !onIrrelevantElement(e, api, mapOrGeoModel);\n        });\n    }\n};\n\nextendChartView({\n\n    type: 'map',\n\n    render: function (mapModel, ecModel, api, payload) {\n        // Not render if it is an toggleSelect action from self\n        if (payload && payload.type === 'mapToggleSelect'\n            && payload.from === this.uid\n        ) {\n            return;\n        }\n\n        var group = this.group;\n        group.removeAll();\n\n        if (mapModel.getHostGeoModel()) {\n            return;\n        }\n\n        // Not update map if it is an roam action from self\n        if (!(payload && payload.type === 'geoRoam'\n                && payload.componentType === 'series'\n                && payload.seriesId === mapModel.id\n            )\n        ) {\n            if (mapModel.needsDrawMap) {\n                var mapDraw = this._mapDraw || new MapDraw(api, true);\n                group.add(mapDraw.group);\n\n                mapDraw.draw(mapModel, ecModel, api, this, payload);\n\n                this._mapDraw = mapDraw;\n            }\n            else {\n                // Remove drawed map\n                this._mapDraw && this._mapDraw.remove();\n                this._mapDraw = null;\n            }\n        }\n        else {\n            var mapDraw = this._mapDraw;\n            mapDraw && group.add(mapDraw.group);\n        }\n\n        mapModel.get('showLegendSymbol') && ecModel.getComponent('legend')\n            && this._renderSymbols(mapModel, ecModel, api);\n    },\n\n    remove: function () {\n        this._mapDraw && this._mapDraw.remove();\n        this._mapDraw = null;\n        this.group.removeAll();\n    },\n\n    dispose: function () {\n        this._mapDraw && this._mapDraw.remove();\n        this._mapDraw = null;\n    },\n\n    _renderSymbols: function (mapModel, ecModel, api) {\n        var originalData = mapModel.originalData;\n        var group = this.group;\n\n        originalData.each('value', function (value, idx) {\n            if (isNaN(value)) {\n                return;\n            }\n\n            var layout = originalData.getItemLayout(idx);\n\n            if (!layout || !layout.point) {\n                // Not exists in map\n                return;\n            }\n\n            var point = layout.point;\n            var offset = layout.offset;\n\n            var circle = new Circle({\n                style: {\n                    // Because the special of map draw.\n                    // Which needs statistic of multiple series and draw on one map.\n                    // And each series also need a symbol with legend color\n                    //\n                    // Layout and visual are put one the different data\n                    fill: mapModel.getData().getVisual('color')\n                },\n                shape: {\n                    cx: point[0] + offset * 9,\n                    cy: point[1],\n                    r: 3\n                },\n                silent: true,\n                // Do not overlap the first series, on which labels are displayed.\n                z2: !offset ? 10 : 8\n            });\n\n            // First data on the same region\n            if (!offset) {\n                var fullData = mapModel.mainSeries.getData();\n                var name = originalData.getName(idx);\n\n                var fullIndex = fullData.indexOfName(name);\n\n                var itemModel = originalData.getItemModel(idx);\n                var labelModel = itemModel.getModel('label.normal');\n                var hoverLabelModel = itemModel.getModel('label.emphasis');\n\n                var polygonGroups = fullData.getItemGraphicEl(fullIndex);\n\n                var normalText = retrieve2(\n                    mapModel.getFormattedLabel(idx, 'normal'),\n                    name\n                );\n                var emphasisText = retrieve2(\n                    mapModel.getFormattedLabel(idx, 'emphasis'),\n                    normalText\n                );\n\n                var onEmphasis = function () {\n                    var hoverStyle = setTextStyle({}, hoverLabelModel, {\n                        text: hoverLabelModel.get('show') ? emphasisText : null\n                    }, {isRectText: true, useInsideStyle: false}, true);\n                    circle.style.extendFrom(hoverStyle);\n                    // Make label upper than others if overlaps.\n                    circle.__mapOriginalZ2 = circle.z2;\n                    circle.z2 += 1;\n                };\n\n                var onNormal = function () {\n                    setTextStyle(circle.style, labelModel, {\n                        text: labelModel.get('show') ? normalText : null,\n                        textPosition: labelModel.getShallow('position') || 'bottom'\n                    }, {isRectText: true, useInsideStyle: false});\n\n                    if (circle.__mapOriginalZ2 != null) {\n                        circle.z2 = circle.__mapOriginalZ2;\n                        circle.__mapOriginalZ2 = null;\n                    }\n                };\n\n                polygonGroups.on('mouseover', onEmphasis)\n                    .on('mouseout', onNormal)\n                    .on('emphasis', onEmphasis)\n                    .on('normal', onNormal);\n\n                onNormal();\n            }\n\n            group.add(circle);\n        });\n    }\n});\n\n/**\n * @param {module:echarts/coord/View} view\n * @param {Object} payload\n * @param {Object} [zoomLimit]\n */\nfunction updateCenterAndZoom(\n    view, payload, zoomLimit\n) {\n    var previousZoom = view.getZoom();\n    var center = view.getCenter();\n    var zoom = payload.zoom;\n\n    var point = view.dataToPoint(center);\n\n    if (payload.dx != null && payload.dy != null) {\n        point[0] -= payload.dx;\n        point[1] -= payload.dy;\n\n        var center = view.pointToData(point);\n        view.setCenter(center);\n    }\n    if (zoom != null) {\n        if (zoomLimit) {\n            var zoomMin = zoomLimit.min || 0;\n            var zoomMax = zoomLimit.max || Infinity;\n            zoom = Math.max(\n                Math.min(previousZoom * zoom, zoomMax),\n                zoomMin\n            ) / previousZoom;\n        }\n\n        // Zoom on given point(originX, originY)\n        view.scale[0] *= zoom;\n        view.scale[1] *= zoom;\n        var position = view.position;\n        var fixX = (payload.originX - position[0]) * (zoom - 1);\n        var fixY = (payload.originY - position[1]) * (zoom - 1);\n\n        position[0] -= fixX;\n        position[1] -= fixY;\n\n        view.updateTransform();\n        // Get the new center\n        var center = view.pointToData(point);\n        view.setCenter(center);\n        view.setZoom(zoom * previousZoom);\n    }\n\n    return {\n        center: view.getCenter(),\n        zoom: view.getZoom()\n    };\n}\n\n/**\n * @payload\n * @property {string} [componentType=series]\n * @property {number} [dx]\n * @property {number} [dy]\n * @property {number} [zoom]\n * @property {number} [originX]\n * @property {number} [originY]\n */\nregisterAction({\n    type: 'geoRoam',\n    event: 'geoRoam',\n    update: 'updateLayout'\n}, function (payload, ecModel) {\n    var componentType = payload.componentType || 'series';\n\n    ecModel.eachComponent(\n        { mainType: componentType, query: payload },\n        function (componentModel) {\n            var geo = componentModel.coordinateSystem;\n            if (geo.type !== 'geo') {\n                return;\n            }\n\n            var res = updateCenterAndZoom(\n                geo, payload, componentModel.get('scaleLimit')\n            );\n\n            componentModel.setCenter\n                && componentModel.setCenter(res.center);\n\n            componentModel.setZoom\n                && componentModel.setZoom(res.zoom);\n\n            // All map series with same `map` use the same geo coordinate system\n            // So the center and zoom must be in sync. Include the series not selected by legend\n            if (componentType === 'series') {\n                each$1(componentModel.seriesGroup, function (seriesModel) {\n                    seriesModel.setCenter(res.center);\n                    seriesModel.setZoom(res.zoom);\n                });\n            }\n        }\n    );\n});\n\nvar mapSymbolLayout = function (ecModel) {\n\n    var processedMapType = {};\n\n    ecModel.eachSeriesByType('map', function (mapSeries) {\n        var mapType = mapSeries.getMapType();\n        if (mapSeries.getHostGeoModel() || processedMapType[mapType]) {\n            return;\n        }\n\n        var mapSymbolOffsets = {};\n\n        each$1(mapSeries.seriesGroup, function (subMapSeries) {\n            var geo = subMapSeries.coordinateSystem;\n            var data = subMapSeries.originalData;\n            if (subMapSeries.get('showLegendSymbol') && ecModel.getComponent('legend')) {\n                data.each('value', function (value, idx) {\n                    var name = data.getName(idx);\n                    var region = geo.getRegion(name);\n\n                    // If input series.data is [11, 22, '-'/null/undefined, 44],\n                    // it will be filled with NaN: [11, 22, NaN, 44] and NaN will\n                    // not be drawn. So here must validate if value is NaN.\n                    if (!region || isNaN(value)) {\n                        return;\n                    }\n\n                    var offset = mapSymbolOffsets[name] || 0;\n\n                    var point = geo.dataToPoint(region.center);\n\n                    mapSymbolOffsets[name] = offset + 1;\n\n                    data.setItemLayout(idx, {\n                        point: point,\n                        offset: offset\n                    });\n                });\n            }\n        });\n\n        // Show label of those region not has legendSymbol(which is offset 0)\n        var data = mapSeries.getData();\n        data.each(function (idx) {\n            var name = data.getName(idx);\n            var layout = data.getItemLayout(idx) || {};\n            layout.showLabel = !mapSymbolOffsets[name];\n            data.setItemLayout(idx, layout);\n        });\n\n        processedMapType[mapType] = true;\n    });\n};\n\nvar mapVisual = function (ecModel) {\n    ecModel.eachSeriesByType('map', function (seriesModel) {\n        var colorList = seriesModel.get('color');\n        var itemStyleModel = seriesModel.getModel('itemStyle.normal');\n\n        var areaColor = itemStyleModel.get('areaColor');\n        var color = itemStyleModel.get('color')\n            || colorList[seriesModel.seriesIndex % colorList.length];\n\n        seriesModel.getData().setVisual({\n            'areaColor': areaColor,\n            'color': color\n        });\n    });\n};\n\n// FIXME \n/**\n * @param {Array.<module:echarts/data/List>} datas\n * @param {string} statisticType 'average' 'sum'\n * @inner\n */\nfunction dataStatistics(datas, statisticType) {\n    var dataNameMap = {};\n    var dims = ['value'];\n\n    each$1(datas, function (data) {\n        data.each(dims, function (value, idx) {\n            // Add prefix to avoid conflict with Object.prototype.\n            var mapKey = 'ec-' + data.getName(idx);\n            dataNameMap[mapKey] = dataNameMap[mapKey] || [];\n            if (!isNaN(value)) {\n                dataNameMap[mapKey].push(value);\n            }\n        });\n    });\n\n    return datas[0].map(dims, function (value, idx) {\n        var mapKey = 'ec-' + datas[0].getName(idx);\n        var sum = 0;\n        var min = Infinity;\n        var max = -Infinity;\n        var len = dataNameMap[mapKey].length;\n        for (var i = 0; i < len; i++) {\n            min = Math.min(min, dataNameMap[mapKey][i]);\n            max = Math.max(max, dataNameMap[mapKey][i]);\n            sum += dataNameMap[mapKey][i];\n        }\n        var result;\n        if (statisticType === 'min') {\n            result = min;\n        }\n        else if (statisticType === 'max') {\n            result = max;\n        }\n        else if (statisticType === 'average') {\n            result = sum / len;\n        }\n        else {\n            result = sum;\n        }\n        return len === 0 ? NaN : result;\n    });\n}\n\nvar mapDataStatistic = function (ecModel) {\n    var seriesGroups = {};\n    ecModel.eachSeriesByType('map', function (seriesModel) {\n        var hostGeoModel = seriesModel.getHostGeoModel();\n        var key = hostGeoModel ? 'o' + hostGeoModel.id : 'i' + seriesModel.getMapType();\n        (seriesGroups[key] = seriesGroups[key] || []).push(seriesModel);\n    });\n\n    each$1(seriesGroups, function (seriesList, key) {\n        var data = dataStatistics(\n            map(seriesList, function (seriesModel) {\n                return seriesModel.getData();\n            }),\n            seriesList[0].get('mapValueCalculation')\n        );\n\n        for (var i = 0; i < seriesList.length; i++) {\n            seriesList[i].originalData = seriesList[i].getData();\n        }\n\n        // FIXME Put where?\n        for (var i = 0; i < seriesList.length; i++) {\n            seriesList[i].seriesGroup = seriesList;\n            seriesList[i].needsDrawMap = i === 0 && !seriesList[i].getHostGeoModel();\n\n            seriesList[i].setData(data.cloneShallow());\n            seriesList[i].mainSeries = seriesList[0];\n        }\n    });\n};\n\nvar backwardCompat$2 = function (option) {\n    // Save geoCoord\n    var mapSeries = [];\n    each$1(option.series, function (seriesOpt) {\n        if (seriesOpt && seriesOpt.type === 'map') {\n            mapSeries.push(seriesOpt);\n            seriesOpt.map = seriesOpt.map || seriesOpt.mapType;\n            // Put x, y, width, height, x2, y2 in the top level\n            defaults(seriesOpt, seriesOpt.mapLocation);\n        }\n    });\n};\n\nregisterLayout(mapSymbolLayout);\nregisterVisual(mapVisual);\nregisterProcessor(PRIORITY.PROCESSOR.STATISTIC, mapDataStatistic);\nregisterPreprocessor(backwardCompat$2);\n\ncreateDataSelectAction('map', [{\n    type: 'mapToggleSelect',\n    event: 'mapselectchanged',\n    method: 'toggleSelected'\n}, {\n    type: 'mapSelect',\n    event: 'mapselected',\n    method: 'select'\n}, {\n    type: 'mapUnSelect',\n    event: 'mapunselected',\n    method: 'unSelect'\n}]);\n\n/**\n * Link lists and struct (graph or tree)\n */\n\nvar each$10 = each$1;\n\nvar DATAS = '\\0__link_datas';\nvar MAIN_DATA = '\\0__link_mainData';\n\n// Caution:\n// In most case, either list or its shallow clones (see list.cloneShallow)\n// is active in echarts process. So considering heap memory consumption,\n// we do not clone tree or graph, but share them among list and its shallow clones.\n// But in some rare case, we have to keep old list (like do animation in chart). So\n// please take care that both the old list and the new list share the same tree/graph.\n\n/**\n * @param {Object} opt\n * @param {module:echarts/data/List} opt.mainData\n * @param {Object} [opt.struct] For example, instance of Graph or Tree.\n * @param {string} [opt.structAttr] designation: list[structAttr] = struct;\n * @param {Object} [opt.datas] {dataType: data},\n *                 like: {node: nodeList, edge: edgeList}.\n *                 Should contain mainData.\n * @param {Object} [opt.datasAttr] {dataType: attr},\n *                 designation: struct[datasAttr[dataType]] = list;\n */\nfunction linkList(opt) {\n    var mainData = opt.mainData;\n    var datas = opt.datas;\n\n    if (!datas) {\n        datas = {main: mainData};\n        opt.datasAttr = {main: 'data'};\n    }\n    opt.datas = opt.mainData = null;\n\n    linkAll(mainData, datas, opt);\n\n    // Porxy data original methods.\n    each$10(datas, function (data) {\n        each$10(mainData.TRANSFERABLE_METHODS, function (methodName) {\n            data.wrapMethod(methodName, curry(transferInjection, opt));\n        });\n\n    });\n\n    // Beyond transfer, additional features should be added to `cloneShallow`.\n    mainData.wrapMethod('cloneShallow', curry(cloneShallowInjection, opt));\n\n    // Only mainData trigger change, because struct.update may trigger\n    // another changable methods, which may bring about dead lock.\n    each$10(mainData.CHANGABLE_METHODS, function (methodName) {\n        mainData.wrapMethod(methodName, curry(changeInjection, opt));\n    });\n\n    // Make sure datas contains mainData.\n    assert(datas[mainData.dataType] === mainData);\n}\n\nfunction transferInjection(opt, res) {\n    if (isMainData(this)) {\n        // Transfer datas to new main data.\n        var datas = extend({}, this[DATAS]);\n        datas[this.dataType] = res;\n        linkAll(res, datas, opt);\n    }\n    else {\n        // Modify the reference in main data to point newData.\n        linkSingle(res, this.dataType, this[MAIN_DATA], opt);\n    }\n    return res;\n}\n\nfunction changeInjection(opt, res) {\n    opt.struct && opt.struct.update(this);\n    return res;\n}\n\nfunction cloneShallowInjection(opt, res) {\n    // cloneShallow, which brings about some fragilities, may be inappropriate\n    // to be exposed as an API. So for implementation simplicity we can make\n    // the restriction that cloneShallow of not-mainData should not be invoked\n    // outside, but only be invoked here.\n    each$10(res[DATAS], function (data, dataType) {\n        data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n    });\n    return res;\n}\n\n/**\n * Supplement method to List.\n *\n * @public\n * @param {string} [dataType] If not specified, return mainData.\n * @return {module:echarts/data/List}\n */\nfunction getLinkedData(dataType) {\n    var mainData = this[MAIN_DATA];\n    return (dataType == null || mainData == null)\n        ? mainData\n        : mainData[DATAS][dataType];\n}\n\nfunction isMainData(data) {\n    return data[MAIN_DATA] === data;\n}\n\nfunction linkAll(mainData, datas, opt) {\n    mainData[DATAS] = {};\n    each$10(datas, function (data, dataType) {\n        linkSingle(data, dataType, mainData, opt);\n    });\n}\n\nfunction linkSingle(data, dataType, mainData, opt) {\n    mainData[DATAS][dataType] = data;\n    data[MAIN_DATA] = mainData;\n    data.dataType = dataType;\n\n    if (opt.struct) {\n        data[opt.structAttr] = opt.struct;\n        opt.struct[opt.datasAttr[dataType]] = data;\n    }\n\n    // Supplement method.\n    data.getLinkedData = getLinkedData;\n}\n\n/**\n * Tree data structure\n *\n * @module echarts/data/Tree\n */\n\n/**\n * @constructor module:echarts/data/Tree~TreeNode\n * @param {string} name\n * @param {module:echarts/data/Tree} hostTree\n */\nvar TreeNode = function (name, hostTree) {\n    /**\n     * @type {string}\n     */\n    this.name = name || '';\n\n    /**\n     * Depth of node\n     *\n     * @type {number}\n     * @readOnly\n     */\n    this.depth = 0;\n\n    /**\n     * Height of the subtree rooted at this node.\n     * @type {number}\n     * @readOnly\n     */\n    this.height = 0;\n\n    /**\n     * @type {module:echarts/data/Tree~TreeNode}\n     * @readOnly\n     */\n    this.parentNode = null;\n\n    /**\n     * Reference to list item.\n     * Do not persistent dataIndex outside,\n     * besause it may be changed by list.\n     * If dataIndex -1,\n     * this node is logical deleted (filtered) in list.\n     *\n     * @type {Object}\n     * @readOnly\n     */\n    this.dataIndex = -1;\n\n    /**\n     * @type {Array.<module:echarts/data/Tree~TreeNode>}\n     * @readOnly\n     */\n    this.children = [];\n\n    /**\n     * @type {Array.<module:echarts/data/Tree~TreeNode>}\n     * @pubilc\n     */\n    this.viewChildren = [];\n\n    /**\n     * @type {moduel:echarts/data/Tree}\n     * @readOnly\n     */\n    this.hostTree = hostTree;\n};\n\nTreeNode.prototype = {\n\n    constructor: TreeNode,\n\n    /**\n     * The node is removed.\n     * @return {boolean} is removed.\n     */\n    isRemoved: function () {\n        return this.dataIndex < 0;\n    },\n\n    /**\n     * Travel this subtree (include this node).\n     * Usage:\n     *    node.eachNode(function () { ... }); // preorder\n     *    node.eachNode('preorder', function () { ... }); // preorder\n     *    node.eachNode('postorder', function () { ... }); // postorder\n     *    node.eachNode(\n     *        {order: 'postorder', attr: 'viewChildren'},\n     *        function () { ... }\n     *    ); // postorder\n     *\n     * @param {(Object|string)} options If string, means order.\n     * @param {string=} options.order 'preorder' or 'postorder'\n     * @param {string=} options.attr 'children' or 'viewChildren'\n     * @param {Function} cb If in preorder and return false,\n     *                      its subtree will not be visited.\n     * @param {Object} [context]\n     */\n    eachNode: function (options, cb, context) {\n        if (typeof options === 'function') {\n            context = cb;\n            cb = options;\n            options = null;\n        }\n\n        options = options || {};\n        if (isString(options)) {\n            options = {order: options};\n        }\n\n        var order = options.order || 'preorder';\n        var children = this[options.attr || 'children'];\n\n        var suppressVisitSub;\n        order === 'preorder' && (suppressVisitSub = cb.call(context, this));\n\n        for (var i = 0; !suppressVisitSub && i < children.length; i++) {\n            children[i].eachNode(options, cb, context);\n        }\n\n        order === 'postorder' && cb.call(context, this);\n    },\n\n    /**\n     * Update depth and height of this subtree.\n     *\n     * @param  {number} depth\n     */\n    updateDepthAndHeight: function (depth) {\n        var height = 0;\n        this.depth = depth;\n        for (var i = 0; i < this.children.length; i++) {\n            var child = this.children[i];\n            child.updateDepthAndHeight(depth + 1);\n            if (child.height > height) {\n                height = child.height;\n            }\n        }\n        this.height = height + 1;\n    },\n\n    /**\n     * @param  {string} id\n     * @return {module:echarts/data/Tree~TreeNode}\n     */\n    getNodeById: function (id) {\n        if (this.getId() === id) {\n            return this;\n        }\n        for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n            var res = children[i].getNodeById(id);\n            if (res) {\n                return res;\n            }\n        }\n    },\n\n    /**\n     * @param {module:echarts/data/Tree~TreeNode} node\n     * @return {boolean}\n     */\n    contains: function (node) {\n        if (node === this) {\n            return true;\n        }\n        for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n            var res = children[i].contains(node);\n            if (res) {\n                return res;\n            }\n        }\n    },\n\n    /**\n     * @param {boolean} includeSelf Default false.\n     * @return {Array.<module:echarts/data/Tree~TreeNode>} order: [root, child, grandchild, ...]\n     */\n    getAncestors: function (includeSelf) {\n        var ancestors = [];\n        var node = includeSelf ? this : this.parentNode;\n        while (node) {\n            ancestors.push(node);\n            node = node.parentNode;\n        }\n        ancestors.reverse();\n        return ancestors;\n    },\n\n    /**\n     * @param {string|Array=} [dimension='value'] Default 'value'. can be 0, 1, 2, 3\n     * @return {number} Value.\n     */\n    getValue: function (dimension) {\n        var data = this.hostTree.data;\n        return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n    },\n\n    /**\n     * @param {Object} layout\n     * @param {boolean=} [merge=false]\n     */\n    setLayout: function (layout, merge$$1) {\n        this.dataIndex >= 0\n            && this.hostTree.data.setItemLayout(this.dataIndex, layout, merge$$1);\n    },\n\n    /**\n     * @return {Object} layout\n     */\n    getLayout: function () {\n        return this.hostTree.data.getItemLayout(this.dataIndex);\n    },\n\n    /**\n     * @param {string} [path]\n     * @return {module:echarts/model/Model}\n     */\n    getModel: function (path) {\n        if (this.dataIndex < 0) {\n            return;\n        }\n        var hostTree = this.hostTree;\n        var itemModel = hostTree.data.getItemModel(this.dataIndex);\n        var levelModel = this.getLevelModel();\n        var leavesModel;\n        if (!levelModel && (this.children.length === 0 || (this.children.length !== 0 && this.isExpand === false))) {\n            leavesModel = this.getLeavesModel();\n        }\n        return itemModel.getModel(path, (levelModel || leavesModel || hostTree.hostModel).getModel(path));\n    },\n\n    /**\n     * @return {module:echarts/model/Model}\n     */\n    getLevelModel: function () {\n        return (this.hostTree.levelModels || [])[this.depth];\n    },\n\n    /**\n     * @return {module:echarts/model/Model}\n     */\n    getLeavesModel: function () {\n        return this.hostTree.leavesModel;\n    },\n\n    /**\n     * @example\n     *  setItemVisual('color', color);\n     *  setItemVisual({\n     *      'color': color\n     *  });\n     */\n    setVisual: function (key, value) {\n        this.dataIndex >= 0\n            && this.hostTree.data.setItemVisual(this.dataIndex, key, value);\n    },\n\n    /**\n     * Get item visual\n     */\n    getVisual: function (key, ignoreParent) {\n        return this.hostTree.data.getItemVisual(this.dataIndex, key, ignoreParent);\n    },\n\n    /**\n     * @public\n     * @return {number}\n     */\n    getRawIndex: function () {\n        return this.hostTree.data.getRawIndex(this.dataIndex);\n    },\n\n    /**\n     * @public\n     * @return {string}\n     */\n    getId: function () {\n        return this.hostTree.data.getId(this.dataIndex);\n    }\n};\n\n/**\n * @constructor\n * @alias module:echarts/data/Tree\n * @param {module:echarts/model/Model} hostModel\n * @param {Array.<Object>} levelOptions\n * @param {Object} leavesOption\n */\nfunction Tree(hostModel, levelOptions, leavesOption) {\n    /**\n     * @type {module:echarts/data/Tree~TreeNode}\n     * @readOnly\n     */\n    this.root;\n\n    /**\n     * @type {module:echarts/data/List}\n     * @readOnly\n     */\n    this.data;\n\n    /**\n     * Index of each item is the same as the raw index of coresponding list item.\n     * @private\n     * @type {Array.<module:echarts/data/Tree~TreeNode}\n     */\n    this._nodes = [];\n\n    /**\n     * @private\n     * @readOnly\n     * @type {module:echarts/model/Model}\n     */\n    this.hostModel = hostModel;\n\n    /**\n     * @private\n     * @readOnly\n     * @type {Array.<module:echarts/model/Model}\n     */\n    this.levelModels = map(levelOptions || [], function (levelDefine) {\n        return new Model(levelDefine, hostModel, hostModel.ecModel);\n    });\n\n    this.leavesModel = new Model(leavesOption || {}, hostModel, hostModel.ecModel);\n}\n\nTree.prototype = {\n\n    constructor: Tree,\n\n    type: 'tree',\n\n    /**\n     * Travel this subtree (include this node).\n     * Usage:\n     *    node.eachNode(function () { ... }); // preorder\n     *    node.eachNode('preorder', function () { ... }); // preorder\n     *    node.eachNode('postorder', function () { ... }); // postorder\n     *    node.eachNode(\n     *        {order: 'postorder', attr: 'viewChildren'},\n     *        function () { ... }\n     *    ); // postorder\n     *\n     * @param {(Object|string)} options If string, means order.\n     * @param {string=} options.order 'preorder' or 'postorder'\n     * @param {string=} options.attr 'children' or 'viewChildren'\n     * @param {Function} cb\n     * @param {Object}   [context]\n     */\n    eachNode: function(options, cb, context) {\n        this.root.eachNode(options, cb, context);\n    },\n\n    /**\n     * @param {number} dataIndex\n     * @return {module:echarts/data/Tree~TreeNode}\n     */\n    getNodeByDataIndex: function (dataIndex) {\n        var rawIndex = this.data.getRawIndex(dataIndex);\n        return this._nodes[rawIndex];\n    },\n\n    /**\n     * @param {string} name\n     * @return {module:echarts/data/Tree~TreeNode}\n     */\n    getNodeByName: function (name) {\n        return this.root.getNodeByName(name);\n    },\n\n    /**\n     * Update item available by list,\n     * when list has been performed options like 'filterSelf' or 'map'.\n     */\n    update: function () {\n        var data = this.data;\n        var nodes = this._nodes;\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            nodes[i].dataIndex = -1;\n        }\n\n        for (var i = 0, len = data.count(); i < len; i++) {\n            nodes[data.getRawIndex(i)].dataIndex = i;\n        }\n    },\n\n    /**\n     * Clear all layouts\n     */\n    clearLayouts: function () {\n        this.data.clearItemLayouts();\n    }\n};\n\n/**\n * data node format:\n * {\n *     name: ...\n *     value: ...\n *     children: [\n *         {\n *             name: ...\n *             value: ...\n *             children: ...\n *         },\n *         ...\n *     ]\n * }\n *\n * @static\n * @param {Object} dataRoot Root node.\n * @param {module:echarts/model/Model} hostModel\n * @param {Object} treeOptions\n * @param {Array.<Object>} treeOptions.levels\n * @param {Array.<Object>} treeOptions.leaves\n * @return module:echarts/data/Tree\n */\nTree.createTree = function (dataRoot, hostModel, treeOptions) {\n\n    var tree = new Tree(hostModel, treeOptions.levels, treeOptions.leaves);\n    var listData = [];\n    var dimMax = 1;\n\n    buildHierarchy(dataRoot);\n\n    function buildHierarchy(dataNode, parentNode) {\n        var value = dataNode.value;\n        dimMax = Math.max(dimMax, isArray(value) ? value.length : 1);\n\n        listData.push(dataNode);\n\n        var node = new TreeNode(dataNode.name, tree);\n        parentNode\n            ? addChild(node, parentNode)\n            : (tree.root = node);\n\n        tree._nodes.push(node);\n\n        var children = dataNode.children;\n        if (children) {\n            for (var i = 0; i < children.length; i++) {\n                buildHierarchy(children[i], node);\n            }\n        }\n    }\n\n    tree.root.updateDepthAndHeight(0);\n\n    var dimensions = completeDimensions([{name: 'value'}], listData, {dimCount: dimMax});\n    var list = new List(dimensions, hostModel);\n    list.initData(listData);\n\n    linkList({\n        mainData: list,\n        struct: tree,\n        structAttr: 'tree'\n    });\n\n    tree.update();\n\n    return tree;\n};\n\n/**\n * It is needed to consider the mess of 'list', 'hostModel' when creating a TreeNote,\n * so this function is not ready and not necessary to be public.\n *\n * @param {(module:echarts/data/Tree~TreeNode|Object)} child\n */\nfunction addChild(child, node) {\n    var children = node.children;\n    if (child.parentNode === node) {\n        return;\n    }\n\n    children.push(child);\n    child.parentNode = node;\n}\n\n/**\n * @file Create data struct and define tree view's series model\n */\n\nSeriesModel.extend({\n\n    type: 'series.tree',\n\n    layoutInfo: null,\n\n    // can support the position parameters 'left', 'top','right','bottom', 'width',\n    // 'height' in the setOption() with 'merge' mode normal.\n    layoutMode: 'box',\n\n    /**\n     * Init a tree data structure from data in option series\n     * @param  {Object} option  the object used to config echarts view\n     * @return {module:echarts/data/List} storage initial data\n     */\n    getInitialData: function (option) {\n\n        //create an virtual root\n        var root = {name: option.name, children: option.data};\n\n        var leaves = option.leaves || {};\n\n        var treeOption = {};\n\n        treeOption.leaves = leaves;\n\n        var tree = Tree.createTree(root, this, treeOption);\n\n        var treeDepth = 0;\n\n        tree.eachNode('preorder', function (node) {\n            if (node.depth > treeDepth) {\n                treeDepth = node.depth;\n            }\n        });\n\n        var expandAndCollapse = option.expandAndCollapse;\n        var expandTreeDepth = (expandAndCollapse && option.initialTreeDepth >= 0)\n            ? option.initialTreeDepth : treeDepth;\n\n        tree.root.eachNode('preorder', function (node) {\n            var item = node.hostTree.data.getRawDataItem(node.dataIndex);\n            node.isExpand = (item && item.collapsed != null)\n                ? !item.collapsed\n                : node.depth <= expandTreeDepth;\n        });\n\n        return tree.data;\n    },\n\n    /**\n     * @override\n     * @param {number} dataIndex\n     */\n    formatTooltip: function (dataIndex) {\n        var tree = this.getData().tree;\n        var realRoot = tree.root.children[0];\n        var node = tree.getNodeByDataIndex(dataIndex);\n        var value = node.getValue();\n        var name = node.name;\n        while (node && (node !== realRoot)) {\n            name = node.parentNode.name + '.' + name;\n            node = node.parentNode;\n        }\n        return encodeHTML(name + (\n            (isNaN(value) || value == null) ? '' : ' : ' + value\n        ));\n    },\n\n    defaultOption: {\n        zlevel: 0,\n        z: 2,\n\n        // the position of the whole view\n        left: '12%',\n        top: '12%',\n        right: '12%',\n        bottom: '12%',\n\n        // the layout of the tree, two value can be selected, 'orthogonal' or 'radial'\n        layout: 'orthogonal',\n\n        // the orient of orthoginal layout, can be setted to 'horizontal' or 'vertical'\n        orient: 'horizontal',\n\n        symbol: 'emptyCircle',\n\n        symbolSize: 7,\n\n        expandAndCollapse: true,\n\n        initialTreeDepth: 2,\n\n        lineStyle: {\n            normal: {\n                color: '#ccc',\n                width: 1.5,\n                curveness: 0.5\n            }\n        },\n\n        itemStyle: {\n            normal: {\n                color: 'lightsteelblue',\n                borderColor: '#c23531',\n                borderWidth: 1.5\n            }\n        },\n\n        label: {\n            normal: {\n                show: true,\n                color: '#555'\n            }\n        },\n\n        leaves: {\n            label: {\n                normal: {\n                    show: true\n                }\n            }\n        },\n\n        animationEasing: 'linear',\n\n        animationDuration: 700,\n\n        animationDurationUpdate: 1000\n    }\n});\n\n/**\n * @file The layout algorithm of node-link tree diagrams. Here we using Reingold-Tilford algorithm to drawing\n *       the tree.\n * @see https://github.com/d3/d3-hierarchy\n */\n\n/**\n * Initialize all computational message for following algorithm\n * @param  {module:echarts/data/Tree~TreeNode} root   The virtual root of the tree\n */\nfunction init$2(root) {\n    root.hierNode = {\n        defaultAncestor: null,\n        ancestor: root,\n        prelim: 0,\n        modifier: 0,\n        change: 0,\n        shift: 0,\n        i: 0,\n        thread: null\n    };\n\n    var nodes = [root];\n    var node;\n    var children;\n\n    while (node = nodes.pop()) { // jshint ignore:line\n        children = node.children;\n        if (node.isExpand && children.length) {\n            var n = children.length;\n            for (var i = n - 1; i >= 0; i--) {\n                var child = children[i];\n                child.hierNode = {\n                    defaultAncestor: null,\n                    ancestor: child,\n                    prelim: 0,\n                    modifier: 0,\n                    change: 0,\n                    shift: 0,\n                    i: i,\n                    thread: null\n                };\n                nodes.push(child);\n            }\n        }\n    }\n}\n\n/**\n * Computes a preliminary x coordinate for node. Before that, this function is\n * applied recursively to the children of node, as well as the function\n * apportion(). After spacing out the children by calling executeShifts(), the\n * node is placed to the midpoint of its outermost children.\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @param {Function} separation\n */\nfunction firstWalk(node, separation) {\n    var children = node.isExpand ? node.children : [];\n    var siblings = node.parentNode.children;\n    var subtreeW = node.hierNode.i ? siblings[node.hierNode.i -1] : null;\n    if (children.length) {\n        executeShifts(node);\n        var midPoint = (children[0].hierNode.prelim + children[children.length - 1].hierNode.prelim) / 2;\n        if (subtreeW) {\n            node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n            node.hierNode.modifier = node.hierNode.prelim - midPoint;\n        }\n        else {\n            node.hierNode.prelim = midPoint;\n        }\n    }\n    else if (subtreeW) {\n        node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n    }\n    node.parentNode.hierNode.defaultAncestor = apportion(node, subtreeW, node.parentNode.hierNode.defaultAncestor || siblings[0], separation);\n}\n\n\n/**\n * Computes all real x-coordinates by summing up the modifiers recursively.\n * @param  {module:echarts/data/Tree~TreeNode} node\n */\nfunction secondWalk(node) {\n    var nodeX = node.hierNode.prelim + node.parentNode.hierNode.modifier;\n    node.setLayout({x: nodeX}, true);\n    node.hierNode.modifier += node.parentNode.hierNode.modifier;\n}\n\n\nfunction separation(cb) {\n    return arguments.length ? cb : defaultSeparation;\n}\n\n/**\n * Transform the common coordinate to radial coordinate\n * @param  {number} x\n * @param  {number} y\n * @return {Object}\n */\nfunction radialCoordinate(x, y) {\n    var radialCoor = {};\n    x -= Math.PI / 2;\n    radialCoor.x = y * Math.cos(x);\n    radialCoor.y = y * Math.sin(x);\n    return radialCoor;\n}\n\n/**\n * Get the layout position of the whole view\n * @param {module:echarts/model/Series} seriesModel  the model object of sankey series\n * @param {module:echarts/ExtensionAPI} api  provide the API list that the developer can call\n * @return {module:zrender/core/BoundingRect}  size of rect to draw the sankey view\n */\nfunction getViewRect(seriesModel, api) {\n    return getLayoutRect(\n        seriesModel.getBoxLayoutParams(), {\n            width: api.getWidth(),\n            height: api.getHeight()\n        }\n    );\n}\n\n/**\n * All other shifts, applied to the smaller subtrees between w- and w+, are\n * performed by this function.\n * @param  {module:echarts/data/Tree~TreeNode} node\n */\nfunction executeShifts(node) {\n    var children = node.children;\n    var n = children.length;\n    var shift = 0;\n    var change = 0;\n    while (--n >= 0) {\n        var child = children[n];\n        child.hierNode.prelim += shift;\n        child.hierNode.modifier += shift;\n        change += child.hierNode.change;\n        shift += child.hierNode.shift + change;\n    }\n}\n\n/**\n * The core of the algorithm. Here, a new subtree is combined with the\n * previous subtrees. Threads are used to traverse the inside and outside\n * contours of the left and right subtree up to the highest common level.\n * Whenever two nodes of the inside contours conflict, we compute the left\n * one of the greatest uncommon ancestors using the function nextAncestor()\n * and call moveSubtree() to shift the subtree and prepare the shifts of\n * smaller subtrees. Finally, we add a new thread (if necessary).\n * @param  {module:echarts/data/Tree~TreeNode} subtreeV\n * @param  {module:echarts/data/Tree~TreeNode} subtreeW\n * @param  {module:echarts/data/Tree~TreeNode} ancestor\n * @param  {Function} separation\n * @return {module:echarts/data/Tree~TreeNode}\n */\nfunction apportion(subtreeV, subtreeW, ancestor, separation) {\n\n    if (subtreeW) {\n        var nodeOutRight = subtreeV;\n        var nodeInRight = subtreeV;\n        var nodeOutLeft = nodeInRight.parentNode.children[0];\n        var nodeInLeft = subtreeW;\n\n        var sumOutRight = nodeOutRight.hierNode.modifier;\n        var sumInRight = nodeInRight.hierNode.modifier;\n        var sumOutLeft = nodeOutLeft.hierNode.modifier;\n        var sumInLeft = nodeInLeft.hierNode.modifier;\n\n        while (nodeInLeft = nextRight(nodeInLeft), nodeInRight = nextLeft(nodeInRight), nodeInLeft && nodeInRight) {\n            nodeOutRight = nextRight(nodeOutRight);\n            nodeOutLeft = nextLeft(nodeOutLeft);\n            nodeOutRight.hierNode.ancestor = subtreeV;\n            var shift = nodeInLeft.hierNode.prelim + sumInLeft - nodeInRight.hierNode.prelim\n                    - sumInRight + separation(nodeInLeft, nodeInRight);\n            if (shift > 0) {\n                moveSubtree(nextAncestor(nodeInLeft, subtreeV, ancestor), subtreeV, shift);\n                sumInRight += shift;\n                sumOutRight += shift;\n            }\n            sumInLeft += nodeInLeft.hierNode.modifier;\n            sumInRight += nodeInRight.hierNode.modifier;\n            sumOutRight += nodeOutRight.hierNode.modifier;\n            sumOutLeft += nodeOutLeft.hierNode.modifier;\n        }\n        if (nodeInLeft && !nextRight(nodeOutRight)) {\n            nodeOutRight.hierNode.thread = nodeInLeft;\n            nodeOutRight.hierNode.modifier += sumInLeft - sumOutRight;\n\n        }\n        if (nodeInRight && !nextLeft(nodeOutLeft)) {\n            nodeOutLeft.hierNode.thread = nodeInRight;\n            nodeOutLeft.hierNode.modifier += sumInRight - sumOutLeft;\n            ancestor = subtreeV;\n        }\n    }\n    return ancestor;\n}\n\n/**\n * This function is used to traverse the right contour of a subtree.\n * It returns the rightmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @return {module:echarts/data/Tree~TreeNode}\n */\nfunction nextRight(node) {\n    var children = node.children;\n    return children.length && node.isExpand ? children[children.length - 1] : node.hierNode.thread;\n}\n\n/**\n * This function is used to traverse the left contour of a subtree (or a subforest).\n * It returns the leftmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @return {module:echarts/data/Tree~TreeNode}\n */\nfunction nextLeft(node) {\n    var children = node.children;\n    return children.length && node.isExpand ? children[0] : node.hierNode.thread;\n}\n\n/**\n * If nodeInLefts ancestor is a sibling of node, returns nodeInLefts ancestor.\n * Otherwise, returns the specified ancestor.\n * @param  {module:echarts/data/Tree~TreeNode} nodeInLeft\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @param  {module:echarts/data/Tree~TreeNode} ancestor\n * @return {module:echarts/data/Tree~TreeNode}\n */\nfunction nextAncestor(nodeInLeft, node, ancestor) {\n    return nodeInLeft.hierNode.ancestor.parentNode === node.parentNode\n        ? nodeInLeft.hierNode.ancestor : ancestor;\n}\n\n/**\n * Shifts the current subtree rooted at wr. This is done by increasing prelim(w+) and modifier(w+) by shift.\n * @param  {module:echarts/data/Tree~TreeNode} wl\n * @param  {module:echarts/data/Tree~TreeNode} wr\n * @param  {number} shift [description]\n */\nfunction moveSubtree(wl, wr,shift) {\n    var change = shift / (wr.hierNode.i - wl.hierNode.i);\n    wr.hierNode.change -= change;\n    wr.hierNode.shift += shift;\n    wr.hierNode.modifier += shift;\n    wr.hierNode.prelim += shift;\n    wl.hierNode.change += change;\n}\n\nfunction defaultSeparation(node1, node2) {\n    return node1.parentNode === node2.parentNode ? 1 : 2;\n}\n\n/**\n * @file  This file used to draw tree view\n */\n\nextendChartView({\n\n    type: 'tree',\n\n    /**\n     * Init the chart\n     * @override\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    init: function (ecModel, api) {\n\n        /**\n         * @private\n         * @type {module:echarts/data/Tree}\n         */\n        this._oldTree;\n\n        /**\n         * @private\n         * @type {module:zrender/container/Group}\n         */\n        this._mainGroup = new Group();\n\n        this.group.add(this._mainGroup);\n    },\n\n    render: function (seriesModel, ecModel, api, payload) {\n\n        var data = seriesModel.getData();\n\n        var layoutInfo = seriesModel.layoutInfo;\n\n        var group = this._mainGroup;\n\n        var layout = seriesModel.get('layout');\n\n        if (layout === 'radial') {\n            group.attr('position', [layoutInfo.x + layoutInfo.width / 2, layoutInfo.y + layoutInfo.height / 2]);\n        }\n        else {\n            group.attr('position', [layoutInfo.x, layoutInfo.y]);\n        }\n\n        var oldData = this._data;\n\n        var seriesScope = {\n            expandAndCollapse: seriesModel.get('expandAndCollapse'),\n            layout: layout,\n            orient: seriesModel.get('orient'),\n            curvature: seriesModel.get('lineStyle.normal.curveness'),\n            symbolRotate: seriesModel.get('symbolRotate'),\n            symbolOffset: seriesModel.get('symbolOffset'),\n            hoverAnimation: seriesModel.get('hoverAnimation'),\n            useNameLabel: true,\n            fadeIn: true\n        };\n\n        data.diff(oldData)\n            .add(function (newIdx) {\n                if (symbolNeedsDraw$1(data, newIdx)) {\n                    // create node and edge\n                    updateNode(data, newIdx, null, group, seriesModel, seriesScope);\n                }\n            })\n            .update(function (newIdx, oldIdx) {\n                var symbolEl = oldData.getItemGraphicEl(oldIdx);\n                if (!symbolNeedsDraw$1(data, newIdx)) {\n                    symbolEl && removeNode(data, newIdx, symbolEl, group, seriesModel, seriesScope);\n                    return;\n                }\n                // update  node and edge\n                updateNode(data, newIdx, symbolEl, group, seriesModel, seriesScope);\n            })\n            .remove(function (oldIdx) {\n                var symbolEl = oldData.getItemGraphicEl(oldIdx);\n                removeNode(data, oldIdx, symbolEl, group, seriesModel, seriesScope);\n            })\n            .execute();\n\n        if (seriesScope.expandAndCollapse === true) {\n            data.eachItemGraphicEl(function (el, dataIndex) {\n                el.off('click').on('click', function () {\n                    api.dispatchAction({\n                        type: 'treeExpandAndCollapse',\n                        seriesId: seriesModel.id,\n                        dataIndex: dataIndex\n                    });\n                });\n            });\n        }\n\n        this._data = data;\n    },\n\n    dispose: function () {},\n\n    remove: function () {\n        this._mainGroup.removeAll();\n        this._data = null;\n    }\n\n});\n\nfunction symbolNeedsDraw$1(data, dataIndex) {\n    var layout = data.getItemLayout(dataIndex);\n\n    return layout\n        && !isNaN(layout.x) && !isNaN(layout.y)\n        && data.getItemVisual(dataIndex, 'symbol') !== 'none';\n}\n\nfunction getTreeNodeStyle(node, itemModel, seriesScope) {\n    seriesScope.itemModel = itemModel;\n    seriesScope.itemStyle = itemModel.getModel('itemStyle.normal').getItemStyle();\n    seriesScope.hoverItemStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n    seriesScope.lineStyle = itemModel.getModel('lineStyle.normal').getLineStyle();\n    seriesScope.labelModel = itemModel.getModel('label.normal');\n    seriesScope.hoverLabelModel = itemModel.getModel('label.emphasis');\n\n    if (node.isExpand === false && node.children.length !== 0) {\n        seriesScope.symbolInnerColor = seriesScope.itemStyle.fill;\n    }\n    else {\n        seriesScope.symbolInnerColor = '#fff';\n    }\n\n    return seriesScope;\n}\n\nfunction updateNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n    var isInit = !symbolEl;\n    var node = data.tree.getNodeByDataIndex(dataIndex);\n    var itemModel = node.getModel();\n    var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n    var virtualRoot = data.tree.root;\n\n    var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n    var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n    var sourceLayout = source.getLayout();\n    var sourceOldLayout = sourceSymbolEl\n        ? {\n            x: sourceSymbolEl.position[0],\n            y: sourceSymbolEl.position[1],\n            rawX: sourceSymbolEl.__radialOldRawX,\n            rawY: sourceSymbolEl.__radialOldRawY\n        }\n        : sourceLayout;\n    var targetLayout = node.getLayout();\n\n    if (isInit) {\n        symbolEl = new SymbolClz$1(data, dataIndex, seriesScope);\n        symbolEl.attr('position', [sourceOldLayout.x, sourceOldLayout.y]);\n    }\n    else {\n        symbolEl.updateData(data, dataIndex, seriesScope);\n    }\n\n    symbolEl.__radialOldRawX = symbolEl.__radialRawX;\n    symbolEl.__radialOldRawY = symbolEl.__radialRawY;\n    symbolEl.__radialRawX = targetLayout.rawX;\n    symbolEl.__radialRawY = targetLayout.rawY;\n\n    group.add(symbolEl);\n    data.setItemGraphicEl(dataIndex, symbolEl);\n    updateProps(symbolEl, {\n        position: [targetLayout.x, targetLayout.y]\n    }, seriesModel);\n\n    var symbolPath = symbolEl.getSymbolPath();\n\n    if (seriesScope.layout === 'radial') {\n        var realRoot = virtualRoot.children[0];\n        var rootLayout = realRoot.getLayout();\n        var length = realRoot.children.length;\n        var rad;\n        var isLeft;\n\n        if (targetLayout.x === rootLayout.x && node.isExpand === true) {\n            var center = {};\n            center.x = (realRoot.children[0].getLayout().x + realRoot.children[length - 1].getLayout().x) / 2;\n            center.y = (realRoot.children[0].getLayout().y + realRoot.children[length - 1].getLayout().y) / 2;\n            rad = Math.atan2(center.y - rootLayout.y, center.x - rootLayout.x);\n            if (rad < 0) {\n                rad = Math.PI * 2 + rad;\n            }\n            isLeft = center.x < rootLayout.x;\n            if (isLeft) {\n                rad = rad - Math.PI;\n            }\n        }\n        else {\n            rad = Math.atan2(targetLayout.y - rootLayout.y, targetLayout.x - rootLayout.x);\n            if (rad < 0) {\n                rad = Math.PI * 2 + rad;\n            }\n            if (node.children.length === 0 || (node.children.length !== 0 && node.isExpand === false)) {\n                isLeft = targetLayout.x < rootLayout.x;\n                if (isLeft) {\n                    rad = rad - Math.PI;\n                }\n            }\n            else {\n                isLeft = targetLayout.x > rootLayout.x;\n                if (!isLeft) {\n                    rad = rad - Math.PI;\n                }\n            }\n        }\n\n        var textPosition = isLeft ? 'left' : 'right';\n        symbolPath.setStyle({\n            textPosition: textPosition,\n            textRotation: -rad,\n            textOrigin: 'center',\n            verticalAlign: 'middle'\n        });\n    }\n\n    if (node.parentNode && node.parentNode !== virtualRoot) {\n        var edge = symbolEl.__edge;\n        if (!edge) {\n            edge = symbolEl.__edge = new BezierCurve({\n                shape: getEdgeShape(seriesScope, sourceOldLayout, sourceOldLayout),\n                style: defaults({opacity: 0}, seriesScope.lineStyle)\n            });\n        }\n\n        updateProps(edge, {\n            shape: getEdgeShape(seriesScope, sourceLayout, targetLayout),\n            style: {opacity: 1}\n        }, seriesModel);\n\n        group.add(edge);\n    }\n}\n\nfunction removeNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n    var node = data.tree.getNodeByDataIndex(dataIndex);\n    var virtualRoot = data.tree.root;\n    var itemModel = node.getModel();\n    var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n\n    var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n    var sourceLayout;\n    while (sourceLayout = source.getLayout(), sourceLayout == null) {\n        source = source.parentNode === virtualRoot ? source : source.parentNode || source;\n    }\n\n    updateProps(symbolEl, {\n        position: [sourceLayout.x + 1, sourceLayout.y + 1]\n    }, seriesModel, function () {\n        group.remove(symbolEl);\n        data.setItemGraphicEl(dataIndex, null);\n    });\n\n    symbolEl.fadeOut(null, {keepLabel: true});\n\n    var edge = symbolEl.__edge;\n    if (edge) {\n        updateProps(edge, {\n            shape: getEdgeShape(seriesScope, sourceLayout, sourceLayout),\n            style: {\n                opacity: 0\n            }\n        }, seriesModel, function () {\n            group.remove(edge);\n        });\n    }\n}\n\nfunction getEdgeShape(seriesScope, sourceLayout, targetLayout) {\n    var cpx1;\n    var cpy1;\n    var cpx2;\n    var cpy2;\n    var orient = seriesScope.orient;\n\n    if (seriesScope.layout === 'radial') {\n        var x1 = sourceLayout.rawX;\n        var y1 = sourceLayout.rawY;\n        var x2 = targetLayout.rawX;\n        var y2 = targetLayout.rawY;\n\n        var radialCoor1 = radialCoordinate(x1, y1);\n        var radialCoor2 = radialCoordinate(x1, y1 + (y2 - y1) * seriesScope.curvature);\n        var radialCoor3 = radialCoordinate(x2, y2 + (y1 - y2) * seriesScope.curvature);\n        var radialCoor4 = radialCoordinate(x2, y2);\n\n        return {\n            x1: radialCoor1.x,\n            y1: radialCoor1.y,\n            x2: radialCoor4.x,\n            y2: radialCoor4.y,\n            cpx1: radialCoor2.x,\n            cpy1: radialCoor2.y,\n            cpx2: radialCoor3.x,\n            cpy2: radialCoor3.y\n        };\n    }\n    else {\n        var x1 = sourceLayout.x;\n        var y1 = sourceLayout.y;\n        var x2 = targetLayout.x;\n        var y2 = targetLayout.y;\n\n        if (orient === 'horizontal') {\n            cpx1 = x1 + (x2 - x1) * seriesScope.curvature;\n            cpy1 = y1;\n            cpx2 = x2 + (x1 - x2) * seriesScope.curvature;\n            cpy2 = y2;\n        }\n        if (orient === 'vertical') {\n            cpx1 = x1;\n            cpy1 = y1 + (y2 - y1) * seriesScope.curvature;\n            cpx2 = x2;\n            cpy2 = y2 + (y1 - y2) * seriesScope.curvature;\n        }\n        return {\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            cpx1: cpx1,\n            cpy1: cpy1,\n            cpx2: cpx2,\n            cpy2: cpy2\n        };\n    }\n}\n\nregisterAction({\n    type: 'treeExpandAndCollapse',\n    event: 'treeExpandAndCollapse',\n    update: 'update'\n}, function (payload, ecModel) {\n    ecModel.eachComponent({mainType: 'series', subType: 'tree', query: payload}, function (seriesModel) {\n        var dataIndex = payload.dataIndex;\n        var tree = seriesModel.getData().tree;\n        var node = tree.getNodeByDataIndex(dataIndex);\n        node.isExpand = !node.isExpand;\n\n    });\n});\n\n/**\n * Traverse the tree from bottom to top and do something\n * @param  {module:echarts/data/Tree~TreeNode} root  The real root of the tree\n * @param  {Function} callback\n */\nfunction eachAfter (root, callback, separation) {\n    var nodes = [root];\n    var next = [];\n    var node;\n\n    while (node = nodes.pop()) { // jshint ignore:line\n        next.push(node);\n        if (node.isExpand) {\n            var children = node.children;\n            if (children.length) {\n                for (var i = 0; i < children.length; i++) {\n                    nodes.push(children[i]);\n                }\n            }\n        }\n    }\n\n    while (node = next.pop()) { // jshint ignore:line\n        callback(node, separation);\n    }\n}\n\n/**\n * Traverse the tree from top to bottom and do something\n * @param  {module:echarts/data/Tree~TreeNode} root  The real root of the tree\n * @param  {Function} callback\n */\nfunction eachBefore (root, callback) {\n    var nodes = [root];\n    var node;\n    while (node = nodes.pop()) { // jshint ignore:line\n        callback(node);\n        if (node.isExpand) {\n            var children = node.children;\n            if (children.length) {\n                for (var i = children.length - 1; i >= 0; i--) {\n                    nodes.push(children[i]);\n                }\n            }\n        }\n    }\n}\n\nvar commonLayout = function (seriesModel, api) {\n\n    var layoutInfo = getViewRect(seriesModel, api);\n    seriesModel.layoutInfo = layoutInfo;\n\n    var layout = seriesModel.get('layout');\n    var width = 0;\n    var height = 0;\n    var separation$$1 = null;\n    if (layout === 'radial') {\n        width = 2 * Math.PI;\n        height = Math.min(layoutInfo.height, layoutInfo.width) / 2;\n        separation$$1 = separation(function (node1, node2) {\n            return (node1.parentNode === node2.parentNode ? 1 : 2) / node1.depth;\n        });\n    }\n    else {\n        width = layoutInfo.width;\n        height = layoutInfo.height;\n        separation$$1 = separation();\n    }\n\n    var virtualRoot = seriesModel.getData().tree.root;\n    var realRoot = virtualRoot.children[0];\n    init$2(virtualRoot);\n    eachAfter(realRoot, firstWalk, separation$$1);\n    virtualRoot.hierNode.modifier = - realRoot.hierNode.prelim;\n    eachBefore(realRoot, secondWalk);\n\n    var left = realRoot;\n    var right = realRoot;\n    var bottom = realRoot;\n    eachBefore(realRoot, function (node) {\n        var x = node.getLayout().x;\n        if (x < left.getLayout().x) {\n            left = node;\n        }\n        if (x > right.getLayout().x) {\n            right = node;\n        }\n        if (node.depth > bottom.depth) {\n            bottom = node;\n        }\n    });\n\n    var delta = left === right ? 1 : separation$$1(left, right) / 2;\n    var tx = delta - left.getLayout().x;\n    var kx = 0;\n    var ky = 0;\n    var coorX = 0;\n    var coorY = 0;\n    if (layout === 'radial') {\n        kx = width / (right.getLayout().x + delta + tx);\n        // here we use (node.depth - 1), bucause the real root's depth is 1\n        ky = height/ ((bottom.depth - 1) || 1);\n        eachBefore(realRoot, function (node) {\n            coorX = (node.getLayout().x + tx) * kx;\n            coorY = (node.depth - 1) * ky;\n            var finalCoor = radialCoordinate(coorX, coorY);\n            node.setLayout({x: finalCoor.x, y: finalCoor.y, rawX: coorX, rawY: coorY}, true);\n        });\n    }\n    else {\n        if (seriesModel.get('orient') === 'horizontal') {\n            ky = height / (right.getLayout().x + delta + tx);\n            kx = width / ((bottom.depth - 1) || 1);\n            eachBefore(realRoot, function (node) {\n                coorY = (node.getLayout().x + tx) * ky;\n                coorX = (node.depth - 1) * kx;\n                node.setLayout({x: coorX, y: coorY}, true);\n            });\n        }\n        else {\n            kx = width / (right.getLayout().x + delta + tx);\n            ky = height / ((bottom.depth - 1) || 1);\n            eachBefore(realRoot, function (node) {\n                coorX = (node.getLayout().x + tx) * kx;\n                coorY = (node.depth - 1) * ky;\n                node.setLayout({x: coorX, y: coorY}, true);\n            });\n        }\n    }\n};\n\nvar orthogonalLayout = function (ecModel, api) {\n    ecModel.eachSeriesByType('tree', function (seriesModel) {\n        commonLayout(seriesModel, api);\n    });\n};\n\nvar radialLayout = function (ecModel, api) {\n    ecModel.eachSeriesByType('tree', function (seriesModel) {\n        commonLayout(seriesModel, api);\n    });\n};\n\nregisterVisual(curry(visualSymbol, 'tree', 'circle', null));\nregisterLayout(orthogonalLayout);\nregisterLayout(radialLayout);\n\nfunction retrieveTargetInfo(payload, seriesModel) {\n    if (payload\n        && (\n            payload.type === 'treemapZoomToNode'\n            || payload.type === 'treemapRootToNode'\n        )\n    ) {\n        var root = seriesModel.getData().tree.root;\n        var targetNode = payload.targetNode;\n        if (targetNode && root.contains(targetNode)) {\n            return {node: targetNode};\n        }\n\n        var targetNodeId = payload.targetNodeId;\n        if (targetNodeId != null && (targetNode = root.getNodeById(targetNodeId))) {\n            return {node: targetNode};\n        }\n    }\n}\n\n// Not includes the given node at the last item.\nfunction getPathToRoot(node) {\n    var path = [];\n    while (node) {\n        node = node.parentNode;\n        node && path.push(node);\n    }\n    return path.reverse();\n}\n\nfunction aboveViewRoot(viewRoot, node) {\n    var viewPath = getPathToRoot(viewRoot);\n    return indexOf(viewPath, node) >= 0;\n}\n\n// From root to the input node (the input node will be included).\nfunction wrapTreePathInfo(node, seriesModel) {\n    var treePathInfo = [];\n\n    while (node) {\n        var nodeDataIndex = node.dataIndex;\n        treePathInfo.push({\n            name: node.name,\n            dataIndex: nodeDataIndex,\n            value: seriesModel.getRawValue(nodeDataIndex)\n        });\n        node = node.parentNode;\n    }\n\n    treePathInfo.reverse();\n\n    return treePathInfo;\n}\n\nSeriesModel.extend({\n\n    type: 'series.treemap',\n\n    layoutMode: 'box',\n\n    dependencies: ['grid', 'polar'],\n\n    /**\n     * @type {module:echarts/data/Tree~Node}\n     */\n    _viewRoot: null,\n\n    defaultOption: {\n        // Disable progressive rendering\n        progressive: 0,\n        hoverLayerThreshold: Infinity,\n        // center: ['50%', '50%'],          // not supported in ec3.\n        // size: ['80%', '80%'],            // deprecated, compatible with ec2.\n        left: 'center',\n        top: 'middle',\n        right: null,\n        bottom: null,\n        width: '80%',\n        height: '80%',\n        sort: true,                         // Can be null or false or true\n                                            // (order by desc default, asc not supported yet (strange effect))\n        clipWindow: 'origin',               // Size of clipped window when zooming. 'origin' or 'fullscreen'\n        squareRatio: 0.5 * (1 + Math.sqrt(5)), // golden ratio\n        leafDepth: null,                    // Nodes on depth from root are regarded as leaves.\n                                            // Count from zero (zero represents only view root).\n        drillDownIcon: '',                 // Use html character temporarily because it is complicated\n                                            // to align specialized icon. \n\n        zoomToNodeRatio: 0.32 * 0.32,       // Be effective when using zoomToNode. Specify the proportion of the\n                                            // target node area in the view area.\n        roam: true,                         // true, false, 'scale' or 'zoom', 'move'.\n        nodeClick: 'zoomToNode',            // Leaf node click behaviour: 'zoomToNode', 'link', false.\n                                            // If leafDepth is set and clicking a node which has children but\n                                            // be on left depth, the behaviour would be changing root. Otherwise\n                                            // use behavious defined above.\n        animation: true,\n        animationDurationUpdate: 900,\n        animationEasing: 'quinticInOut',\n        breadcrumb: {\n            show: true,\n            height: 22,\n            left: 'center',\n            top: 'bottom',\n            // right\n            // bottom\n            emptyItemWidth: 25,             // Width of empty node.\n            itemStyle: {\n                normal: {\n                    color: 'rgba(0,0,0,0.7)', //'#5793f3',\n                    borderColor: 'rgba(255,255,255,0.7)',\n                    borderWidth: 1,\n                    shadowColor: 'rgba(150,150,150,1)',\n                    shadowBlur: 3,\n                    shadowOffsetX: 0,\n                    shadowOffsetY: 0,\n                    textStyle: {\n                        color: '#fff'\n                    }\n                },\n                emphasis: {\n                    textStyle: {}\n                }\n            }\n        },\n        label: {\n            normal: {\n                show: true,\n                // Do not use textDistance, for ellipsis rect just the same as treemap node rect.\n                distance: 0,\n                padding: 5,\n                position: 'inside', // Can be [5, '5%'] or position stirng like 'insideTopLeft', ...\n                // formatter: null,\n                color: '#fff',\n                ellipsis: true\n                // align\n                // verticalAlign\n            }\n        },\n        upperLabel: {                   // Label when node is parent.\n            normal: {\n                show: false,\n                position: [0, '50%'],\n                height: 20,\n                // formatter: null,\n                color: '#fff',\n                ellipsis: true,\n                // align: null,\n                verticalAlign: 'middle'\n            },\n            emphasis: {\n                show: true,\n                position: [0, '50%'],\n                color: '#fff',\n                ellipsis: true,\n                verticalAlign: 'middle'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: null,            // Can be 'none' if not necessary.\n                colorAlpha: null,       // Can be 'none' if not necessary.\n                colorSaturation: null,  // Can be 'none' if not necessary.\n                borderWidth: 0,\n                gapWidth: 0,\n                borderColor: '#fff',\n                borderColorSaturation: null // If specified, borderColor will be ineffective, and the\n                                            // border color is evaluated by color of current node and\n                                            // borderColorSaturation.\n            },\n            emphasis: {\n\n            }\n        },\n\n        visualDimension: 0,                 // Can be 0, 1, 2, 3.\n        visualMin: null,\n        visualMax: null,\n\n        color: [],                  // + treemapSeries.color should not be modified. Please only modified\n                                    // level[n].color (if necessary).\n                                    // + Specify color list of each level. level[0].color would be global\n                                    // color list if not specified. (see method `setDefault`).\n                                    // + But set as a empty array to forbid fetch color from global palette\n                                    // when using nodeModel.get('color'), otherwise nodes on deep level\n                                    // will always has color palette set and are not able to inherit color\n                                    // from parent node.\n                                    // + TreemapSeries.color can not be set as 'none', otherwise effect\n                                    // legend color fetching (see seriesColor.js).\n        colorAlpha: null,           // Array. Specify color alpha range of each level, like [0.2, 0.8]\n        colorSaturation: null,      // Array. Specify color saturation of each level, like [0.2, 0.5]\n        colorMappingBy: 'index',    // 'value' or 'index' or 'id'.\n        visibleMin: 10,             // If area less than this threshold (unit: pixel^2), node will not\n                                    // be rendered. Only works when sort is 'asc' or 'desc'.\n        childrenVisibleMin: null,   // If area of a node less than this threshold (unit: pixel^2),\n                                    // grandchildren will not show.\n                                    // Why grandchildren? If not grandchildren but children,\n                                    // some siblings show children and some not,\n                                    // the appearance may be mess and not consistent,\n        levels: []                  // Each item: {\n                                    //     visibleMin, itemStyle, visualDimension, label\n                                    // }\n        // data: {\n        //      value: [],\n        //      children: [],\n        //      link: 'http://xxx.xxx.xxx',\n        //      target: 'blank' or 'self'\n        // }\n    },\n\n    /**\n     * @override\n     */\n    getInitialData: function (option, ecModel) {\n        // Create a virtual root.\n        var root = {name: option.name, children: option.data};\n\n        completeTreeValue(root);\n\n        var levels = option.levels || [];\n\n        levels = option.levels = setDefault(levels, ecModel);\n\n        var treeOption = {};\n\n        treeOption.levels = levels;\n\n        // Make sure always a new tree is created when setOption,\n        // in TreemapView, we check whether oldTree === newTree\n        // to choose mappings approach among old shapes and new shapes.\n        return Tree.createTree(root, this, treeOption).data;\n    },\n\n    optionUpdated: function () {\n        this.resetViewRoot();\n    },\n\n    /**\n     * @override\n     * @param {number} dataIndex\n     * @param {boolean} [mutipleSeries=false]\n     */\n    formatTooltip: function (dataIndex) {\n        var data = this.getData();\n        var value = this.getRawValue(dataIndex);\n        var formattedValue = isArray(value)\n            ? addCommas(value[0]) : addCommas(value);\n        var name = data.getName(dataIndex);\n\n        return encodeHTML(name + ': ' + formattedValue);\n    },\n\n    /**\n     * Add tree path to tooltip param\n     *\n     * @override\n     * @param {number} dataIndex\n     * @return {Object}\n     */\n    getDataParams: function (dataIndex) {\n        var params = SeriesModel.prototype.getDataParams.apply(this, arguments);\n\n        var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n        params.treePathInfo = wrapTreePathInfo(node, this);\n\n        return params;\n    },\n\n    /**\n     * @public\n     * @param {Object} layoutInfo {\n     *                                x: containerGroup x\n     *                                y: containerGroup y\n     *                                width: containerGroup width\n     *                                height: containerGroup height\n     *                            }\n     */\n    setLayoutInfo: function (layoutInfo) {\n        /**\n         * @readOnly\n         * @type {Object}\n         */\n        this.layoutInfo = this.layoutInfo || {};\n        extend(this.layoutInfo, layoutInfo);\n    },\n\n    /**\n     * @param  {string} id\n     * @return {number} index\n     */\n    mapIdToIndex: function (id) {\n        // A feature is implemented:\n        // index is monotone increasing with the sequence of\n        // input id at the first time.\n        // This feature can make sure that each data item and its\n        // mapped color have the same index between data list and\n        // color list at the beginning, which is useful for user\n        // to adjust data-color mapping.\n\n        /**\n         * @private\n         * @type {Object}\n         */\n        var idIndexMap = this._idIndexMap;\n\n        if (!idIndexMap) {\n            idIndexMap = this._idIndexMap = createHashMap();\n            /**\n             * @private\n             * @type {number}\n             */\n            this._idIndexMapCount = 0;\n        }\n\n        var index = idIndexMap.get(id);\n        if (index == null) {\n            idIndexMap.set(id, index = this._idIndexMapCount++);\n        }\n\n        return index;\n    },\n\n    getViewRoot: function () {\n        return this._viewRoot;\n    },\n\n    /**\n     * @param {module:echarts/data/Tree~Node} [viewRoot]\n     */\n    resetViewRoot: function (viewRoot) {\n        viewRoot\n            ? (this._viewRoot = viewRoot)\n            : (viewRoot = this._viewRoot);\n\n        var root = this.getData().tree.root;\n\n        if (!viewRoot\n            || (viewRoot !== root && !root.contains(viewRoot))\n        ) {\n            this._viewRoot = root;\n        }\n    }\n});\n\n/**\n * @param {Object} dataNode\n */\nfunction completeTreeValue(dataNode) {\n    // Postorder travel tree.\n    // If value of none-leaf node is not set,\n    // calculate it by suming up the value of all children.\n    var sum = 0;\n\n    each$1(dataNode.children, function (child) {\n\n        completeTreeValue(child);\n\n        var childValue = child.value;\n        isArray(childValue) && (childValue = childValue[0]);\n\n        sum += childValue;\n    });\n\n    var thisValue = dataNode.value;\n    if (isArray(thisValue)) {\n        thisValue = thisValue[0];\n    }\n\n    if (thisValue == null || isNaN(thisValue)) {\n        thisValue = sum;\n    }\n    // Value should not less than 0.\n    if (thisValue < 0) {\n        thisValue = 0;\n    }\n\n    isArray(dataNode.value)\n        ? (dataNode.value[0] = thisValue)\n        : (dataNode.value = thisValue);\n}\n\n/**\n * set default to level configuration\n */\nfunction setDefault(levels, ecModel) {\n    var globalColorList = ecModel.get('color');\n\n    if (!globalColorList) {\n        return;\n    }\n\n    levels = levels || [];\n    var hasColorDefine;\n    each$1(levels, function (levelDefine) {\n        var model = new Model(levelDefine);\n        var modelColor = model.get('color');\n\n        if (model.get('itemStyle.normal.color')\n            || (modelColor && modelColor !== 'none')\n        ) {\n            hasColorDefine = true;\n        }\n    });\n\n    if (!hasColorDefine) {\n        var level0 = levels[0] || (levels[0] = {});\n        level0.color = globalColorList.slice();\n    }\n\n    return levels;\n}\n\nvar TEXT_PADDING = 8;\nvar ITEM_GAP = 8;\nvar ARRAY_LENGTH = 5;\n\nfunction Breadcrumb(containerGroup) {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this.group = new Group();\n\n    containerGroup.add(this.group);\n}\n\nBreadcrumb.prototype = {\n\n    constructor: Breadcrumb,\n\n    render: function (seriesModel, api, targetNode, onSelect) {\n        var model = seriesModel.getModel('breadcrumb');\n        var thisGroup = this.group;\n\n        thisGroup.removeAll();\n\n        if (!model.get('show') || !targetNode) {\n            return;\n        }\n\n        var normalStyleModel = model.getModel('itemStyle.normal');\n        // var emphasisStyleModel = model.getModel('itemStyle.emphasis');\n        var textStyleModel = normalStyleModel.getModel('textStyle');\n\n        var layoutParam = {\n            pos: {\n                left: model.get('left'),\n                right: model.get('right'),\n                top: model.get('top'),\n                bottom: model.get('bottom')\n            },\n            box: {\n                width: api.getWidth(),\n                height: api.getHeight()\n            },\n            emptyItemWidth: model.get('emptyItemWidth'),\n            totalWidth: 0,\n            renderList: []\n        };\n\n        this._prepare(targetNode, layoutParam, textStyleModel);\n        this._renderContent(seriesModel, layoutParam, normalStyleModel, textStyleModel, onSelect);\n\n        positionElement(thisGroup, layoutParam.pos, layoutParam.box);\n    },\n\n    /**\n     * Prepare render list and total width\n     * @private\n     */\n    _prepare: function (targetNode, layoutParam, textStyleModel) {\n        for (var node = targetNode; node; node = node.parentNode) {\n            var text = node.getModel().get('name');\n            var textRect = textStyleModel.getTextRect(text);\n            var itemWidth = Math.max(\n                textRect.width + TEXT_PADDING * 2,\n                layoutParam.emptyItemWidth\n            );\n            layoutParam.totalWidth += itemWidth + ITEM_GAP;\n            layoutParam.renderList.push({node: node, text: text, width: itemWidth});\n        }\n    },\n\n    /**\n     * @private\n     */\n    _renderContent: function (\n        seriesModel, layoutParam, normalStyleModel, textStyleModel, onSelect\n    ) {\n        // Start rendering.\n        var lastX = 0;\n        var emptyItemWidth = layoutParam.emptyItemWidth;\n        var height = seriesModel.get('breadcrumb.height');\n        var availableSize = getAvailableSize(layoutParam.pos, layoutParam.box);\n        var totalWidth = layoutParam.totalWidth;\n        var renderList = layoutParam.renderList;\n\n        for (var i = renderList.length - 1; i >= 0; i--) {\n            var item = renderList[i];\n            var itemNode = item.node;\n            var itemWidth = item.width;\n            var text = item.text;\n\n            // Hdie text and shorten width if necessary.\n            if (totalWidth > availableSize.width) {\n                totalWidth -= itemWidth - emptyItemWidth;\n                itemWidth = emptyItemWidth;\n                text = null;\n            }\n\n            var el = new Polygon({\n                shape: {\n                    points: makeItemPoints(\n                        lastX, 0, itemWidth, height,\n                        i === renderList.length - 1, i === 0\n                    )\n                },\n                style: defaults(\n                    normalStyleModel.getItemStyle(),\n                    {\n                        lineJoin: 'bevel',\n                        text: text,\n                        textFill: textStyleModel.getTextColor(),\n                        textFont: textStyleModel.getFont()\n                    }\n                ),\n                z: 10,\n                onclick: curry(onSelect, itemNode)\n            });\n            this.group.add(el);\n\n            packEventData(el, seriesModel, itemNode);\n\n            lastX += itemWidth + ITEM_GAP;\n        }\n    },\n\n    /**\n     * @override\n     */\n    remove: function () {\n        this.group.removeAll();\n    }\n};\n\nfunction makeItemPoints(x, y, itemWidth, itemHeight, head, tail) {\n    var points = [\n        [head ? x : x - ARRAY_LENGTH, y],\n        [x + itemWidth, y],\n        [x + itemWidth, y + itemHeight],\n        [head ? x : x - ARRAY_LENGTH, y + itemHeight]\n    ];\n    !tail && points.splice(2, 0, [x + itemWidth + ARRAY_LENGTH, y + itemHeight / 2]);\n    !head && points.push([x, y + itemHeight / 2]);\n    return points;\n}\n\n// Package custom mouse event.\nfunction packEventData(el, seriesModel, itemNode) {\n    el.eventData = {\n        componentType: 'series',\n        componentSubType: 'treemap',\n        seriesIndex: seriesModel.componentIndex,\n        seriesName: seriesModel.name,\n        seriesType: 'treemap',\n        selfType: 'breadcrumb', // Distinguish with click event on treemap node.\n        nodeData: {\n            dataIndex: itemNode && itemNode.dataIndex,\n            name: itemNode && itemNode.name\n        },\n        treePathInfo: itemNode && wrapTreePathInfo(itemNode, seriesModel)\n    };\n}\n\n/**\n * @param {number} [time=500] Time in ms\n * @param {string} [easing='linear']\n * @param {number} [delay=0]\n * @param {Function} [callback]\n *\n * @example\n *  // Animate position\n *  animation\n *      .createWrap()\n *      .add(el1, {position: [10, 10]})\n *      .add(el2, {shape: {width: 500}, style: {fill: 'red'}}, 400)\n *      .done(function () { // done })\n *      .start('cubicOut');\n */\nfunction createWrap() {\n\n    var storage = [];\n    var elExistsMap = {};\n    var doneCallback;\n\n    return {\n\n        /**\n         * Caution: a el can only be added once, otherwise 'done'\n         * might not be called. This method checks this (by el.id),\n         * suppresses adding and returns false when existing el found.\n         *\n         * @param {modele:zrender/Element} el\n         * @param {Object} target\n         * @param {number} [time=500]\n         * @param {number} [delay=0]\n         * @param {string} [easing='linear']\n         * @return {boolean} Whether adding succeeded.\n         *\n         * @example\n         *     add(el, target, time, delay, easing);\n         *     add(el, target, time, easing);\n         *     add(el, target, time);\n         *     add(el, target);\n         */\n        add: function (el, target, time, delay, easing) {\n            if (isString(delay)) {\n                easing = delay;\n                delay = 0;\n            }\n\n            if (elExistsMap[el.id]) {\n                return false;\n            }\n            elExistsMap[el.id] = 1;\n\n            storage.push(\n                {el: el, target: target, time: time, delay: delay, easing: easing}\n            );\n\n            return true;\n        },\n\n        /**\n         * Only execute when animation finished. Will not execute when any\n         * of 'stop' or 'stopAnimation' called.\n         *\n         * @param {Function} callback\n         */\n        done: function (callback) {\n            doneCallback = callback;\n            return this;\n        },\n\n        /**\n         * Will stop exist animation firstly.\n         */\n        start: function () {\n            var count = storage.length;\n\n            for (var i = 0, len = storage.length; i < len; i++) {\n                var item = storage[i];\n                item.el.animateTo(item.target, item.time, item.delay, item.easing, done);\n            }\n\n            return this;\n\n            function done() {\n                count--;\n                if (!count) {\n                    storage.length = 0;\n                    elExistsMap = {};\n                    doneCallback && doneCallback();\n                }\n            }\n        }\n    };\n}\n\nvar bind$1 = bind;\nvar Group$2 = Group;\nvar Rect$1 = Rect;\nvar each$11 = each$1;\n\nvar DRAG_THRESHOLD = 3;\nvar PATH_LABEL_NOAMAL = ['label', 'normal'];\nvar PATH_LABEL_EMPHASIS = ['label', 'emphasis'];\nvar PATH_UPPERLABEL_NORMAL = ['upperLabel', 'normal'];\nvar PATH_UPPERLABEL_EMPHASIS = ['upperLabel', 'emphasis'];\nvar Z_BASE = 10; // Should bigger than every z.\nvar Z_BG = 1;\nvar Z_CONTENT = 2;\n\nvar getItemStyleEmphasis = makeStyleMapper([\n    ['fill', 'color'],\n    // `borderColor` and `borderWidth` has been occupied,\n    // so use `stroke` to indicate the stroke of the rect.\n    ['stroke', 'strokeColor'],\n    ['lineWidth', 'strokeWidth'],\n    ['shadowBlur'],\n    ['shadowOffsetX'],\n    ['shadowOffsetY'],\n    ['shadowColor']\n]);\nvar getItemStyleNormal = function (model) {\n    // Normal style props should include emphasis style props.\n    var itemStyle = getItemStyleEmphasis(model);\n    // Clear styles set by emphasis.\n    itemStyle.stroke = itemStyle.fill = itemStyle.lineWidth = null;\n    return itemStyle;\n};\n\nextendChartView({\n\n    type: 'treemap',\n\n    /**\n     * @override\n     */\n    init: function (o, api) {\n\n        /**\n         * @private\n         * @type {module:zrender/container/Group}\n         */\n        this._containerGroup;\n\n        /**\n         * @private\n         * @type {Object.<string, Array.<module:zrender/container/Group>>}\n         */\n        this._storage = createStorage();\n\n        /**\n         * @private\n         * @type {module:echarts/data/Tree}\n         */\n        this._oldTree;\n\n        /**\n         * @private\n         * @type {module:echarts/chart/treemap/Breadcrumb}\n         */\n        this._breadcrumb;\n\n        /**\n         * @private\n         * @type {module:echarts/component/helper/RoamController}\n         */\n        this._controller;\n\n        /**\n         * 'ready', 'animating'\n         * @private\n         */\n        this._state = 'ready';\n    },\n\n    /**\n     * @override\n     */\n    render: function (seriesModel, ecModel, api, payload) {\n\n        var models = ecModel.findComponents({\n            mainType: 'series', subType: 'treemap', query: payload\n        });\n        if (indexOf(models, seriesModel) < 0) {\n            return;\n        }\n\n        this.seriesModel = seriesModel;\n        this.api = api;\n        this.ecModel = ecModel;\n\n        var targetInfo = retrieveTargetInfo(payload, seriesModel);\n        var payloadType = payload && payload.type;\n        var layoutInfo = seriesModel.layoutInfo;\n        var isInit = !this._oldTree;\n        var thisStorage = this._storage;\n\n        // Mark new root when action is treemapRootToNode.\n        var reRoot = (payloadType === 'treemapRootToNode' && targetInfo && thisStorage)\n            ? {\n                rootNodeGroup: thisStorage.nodeGroup[targetInfo.node.getRawIndex()],\n                direction: payload.direction\n            }\n            : null;\n\n        var containerGroup = this._giveContainerGroup(layoutInfo);\n\n        var renderResult = this._doRender(containerGroup, seriesModel, reRoot);\n        (\n            !isInit && (\n                !payloadType\n                || payloadType === 'treemapZoomToNode'\n                || payloadType === 'treemapRootToNode'\n            )\n        )\n            ? this._doAnimation(containerGroup, renderResult, seriesModel, reRoot)\n            : renderResult.renderFinally();\n\n        this._resetController(api);\n\n        this._renderBreadcrumb(seriesModel, api, targetInfo);\n    },\n\n    /**\n     * @private\n     */\n    _giveContainerGroup: function (layoutInfo) {\n        var containerGroup = this._containerGroup;\n        if (!containerGroup) {\n            // FIXME\n            // containerGroupclipclip\n            containerGroup = this._containerGroup = new Group$2();\n            this._initEvents(containerGroup);\n            this.group.add(containerGroup);\n        }\n        containerGroup.attr('position', [layoutInfo.x, layoutInfo.y]);\n\n        return containerGroup;\n    },\n\n    /**\n     * @private\n     */\n    _doRender: function (containerGroup, seriesModel, reRoot) {\n        var thisTree = seriesModel.getData().tree;\n        var oldTree = this._oldTree;\n\n        // Clear last shape records.\n        var lastsForAnimation = createStorage();\n        var thisStorage = createStorage();\n        var oldStorage = this._storage;\n        var willInvisibleEls = [];\n        var doRenderNode = curry(\n            renderNode, seriesModel,\n            thisStorage, oldStorage, reRoot,\n            lastsForAnimation, willInvisibleEls\n        );\n\n        // Notice: when thisTree and oldTree are the same tree (see list.cloneShallow),\n        // the oldTree is actually losted, so we can not find all of the old graphic\n        // elements from tree. So we use this stragegy: make element storage, move\n        // from old storage to new storage, clear old storage.\n\n        dualTravel(\n            thisTree.root ? [thisTree.root] : [],\n            (oldTree && oldTree.root) ? [oldTree.root] : [],\n            containerGroup,\n            thisTree === oldTree || !oldTree,\n            0\n        );\n\n        // Process all removing.\n        var willDeleteEls = clearStorage(oldStorage);\n\n        this._oldTree = thisTree;\n        this._storage = thisStorage;\n\n        return {\n            lastsForAnimation: lastsForAnimation,\n            willDeleteEls: willDeleteEls,\n            renderFinally: renderFinally\n        };\n\n        function dualTravel(thisViewChildren, oldViewChildren, parentGroup, sameTree, depth) {\n            // When 'render' is triggered by action,\n            // 'this' and 'old' may be the same tree,\n            // we use rawIndex in that case.\n            if (sameTree) {\n                oldViewChildren = thisViewChildren;\n                each$11(thisViewChildren, function (child, index) {\n                    !child.isRemoved() && processNode(index, index);\n                });\n            }\n            // Diff hierarchically (diff only in each subtree, but not whole).\n            // because, consistency of view is important.\n            else {\n                (new DataDiffer(oldViewChildren, thisViewChildren, getKey, getKey))\n                    .add(processNode)\n                    .update(processNode)\n                    .remove(curry(processNode, null))\n                    .execute();\n            }\n\n            function getKey(node) {\n                // Identify by name or raw index.\n                return node.getId();\n            }\n\n            function processNode(newIndex, oldIndex) {\n                var thisNode = newIndex != null ? thisViewChildren[newIndex] : null;\n                var oldNode = oldIndex != null ? oldViewChildren[oldIndex] : null;\n\n                var group = doRenderNode(thisNode, oldNode, parentGroup, depth);\n\n                group && dualTravel(\n                    thisNode && thisNode.viewChildren || [],\n                    oldNode && oldNode.viewChildren || [],\n                    group,\n                    sameTree,\n                    depth + 1\n                );\n            }\n        }\n\n        function clearStorage(storage) {\n            var willDeleteEls = createStorage();\n            storage && each$11(storage, function (store, storageName) {\n                var delEls = willDeleteEls[storageName];\n                each$11(store, function (el) {\n                    el && (delEls.push(el), el.__tmWillDelete = 1);\n                });\n            });\n            return willDeleteEls;\n        }\n\n        function renderFinally() {\n            each$11(willDeleteEls, function (els) {\n                each$11(els, function (el) {\n                    el.parent && el.parent.remove(el);\n                });\n            });\n            each$11(willInvisibleEls, function (el) {\n                el.invisible = true;\n                // Setting invisible is for optimizing, so no need to set dirty,\n                // just mark as invisible.\n                el.dirty();\n            });\n        }\n    },\n\n    /**\n     * @private\n     */\n    _doAnimation: function (containerGroup, renderResult, seriesModel, reRoot) {\n        if (!seriesModel.get('animation')) {\n            return;\n        }\n\n        var duration = seriesModel.get('animationDurationUpdate');\n        var easing = seriesModel.get('animationEasing');\n        var animationWrap = createWrap();\n\n        // Make delete animations.\n        each$11(renderResult.willDeleteEls, function (store, storageName) {\n            each$11(store, function (el, rawIndex) {\n                if (el.invisible) {\n                    return;\n                }\n\n                var parent = el.parent; // Always has parent, and parent is nodeGroup.\n                var target;\n\n                if (reRoot && reRoot.direction === 'drillDown') {\n                    target = parent === reRoot.rootNodeGroup\n                        // This is the content element of view root.\n                        // Only `content` will enter this branch, because\n                        // `background` and `nodeGroup` will not be deleted.\n                        ? {\n                            shape: {\n                                x: 0,\n                                y: 0,\n                                width: parent.__tmNodeWidth,\n                                height: parent.__tmNodeHeight\n                            },\n                            style: {\n                                opacity: 0\n                            }\n                        }\n                        // Others.\n                        : {style: {opacity: 0}};\n                }\n                else {\n                    var targetX = 0;\n                    var targetY = 0;\n\n                    if (!parent.__tmWillDelete) {\n                        // Let node animate to right-bottom corner, cooperating with fadeout,\n                        // which is appropriate for user understanding.\n                        // Divided by 2 for reRoot rolling up effect.\n                        targetX = parent.__tmNodeWidth / 2;\n                        targetY = parent.__tmNodeHeight / 2;\n                    }\n\n                    target = storageName === 'nodeGroup'\n                        ? {position: [targetX, targetY], style: {opacity: 0}}\n                        : {\n                            shape: {x: targetX, y: targetY, width: 0, height: 0},\n                            style: {opacity: 0}\n                        };\n                }\n\n                target && animationWrap.add(el, target, duration, easing);\n            });\n        });\n\n        // Make other animations\n        each$11(this._storage, function (store, storageName) {\n            each$11(store, function (el, rawIndex) {\n                var last = renderResult.lastsForAnimation[storageName][rawIndex];\n                var target = {};\n\n                if (!last) {\n                    return;\n                }\n\n                if (storageName === 'nodeGroup') {\n                    if (last.old) {\n                        target.position = el.position.slice();\n                        el.attr('position', last.old);\n                    }\n                }\n                else {\n                    if (last.old) {\n                        target.shape = extend({}, el.shape);\n                        el.setShape(last.old);\n                    }\n\n                    if (last.fadein) {\n                        el.setStyle('opacity', 0);\n                        target.style = {opacity: 1};\n                    }\n                    // When animation is stopped for succedent animation starting,\n                    // el.style.opacity might not be 1\n                    else if (el.style.opacity !== 1) {\n                        target.style = {opacity: 1};\n                    }\n                }\n\n                animationWrap.add(el, target, duration, easing);\n            });\n        }, this);\n\n        this._state = 'animating';\n\n        animationWrap\n            .done(bind$1(function () {\n                this._state = 'ready';\n                renderResult.renderFinally();\n            }, this))\n            .start();\n    },\n\n    /**\n     * @private\n     */\n    _resetController: function (api) {\n        var controller = this._controller;\n\n        // Init controller.\n        if (!controller) {\n            controller = this._controller = new RoamController(api.getZr());\n            controller.enable(this.seriesModel.get('roam'));\n            controller.on('pan', bind$1(this._onPan, this));\n            controller.on('zoom', bind$1(this._onZoom, this));\n        }\n\n        var rect = new BoundingRect(0, 0, api.getWidth(), api.getHeight());\n        controller.setPointerChecker(function (e, x, y) {\n            return rect.contain(x, y);\n        });\n    },\n\n    /**\n     * @private\n     */\n    _clearController: function () {\n        var controller = this._controller;\n        if (controller) {\n            controller.dispose();\n            controller = null;\n        }\n    },\n\n    /**\n     * @private\n     */\n    _onPan: function (dx, dy) {\n        if (this._state !== 'animating'\n            && (Math.abs(dx) > DRAG_THRESHOLD || Math.abs(dy) > DRAG_THRESHOLD)\n        ) {\n            // These param must not be cached.\n            var root = this.seriesModel.getData().tree.root;\n\n            if (!root) {\n                return;\n            }\n\n            var rootLayout = root.getLayout();\n\n            if (!rootLayout) {\n                return;\n            }\n\n            this.api.dispatchAction({\n                type: 'treemapMove',\n                from: this.uid,\n                seriesId: this.seriesModel.id,\n                rootRect: {\n                    x: rootLayout.x + dx, y: rootLayout.y + dy,\n                    width: rootLayout.width, height: rootLayout.height\n                }\n            });\n        }\n    },\n\n    /**\n     * @private\n     */\n    _onZoom: function (scale, mouseX, mouseY) {\n        if (this._state !== 'animating') {\n            // These param must not be cached.\n            var root = this.seriesModel.getData().tree.root;\n\n            if (!root) {\n                return;\n            }\n\n            var rootLayout = root.getLayout();\n\n            if (!rootLayout) {\n                return;\n            }\n\n            var rect = new BoundingRect(\n                rootLayout.x, rootLayout.y, rootLayout.width, rootLayout.height\n            );\n            var layoutInfo = this.seriesModel.layoutInfo;\n\n            // Transform mouse coord from global to containerGroup.\n            mouseX -= layoutInfo.x;\n            mouseY -= layoutInfo.y;\n\n            // Scale root bounding rect.\n            var m = create$1();\n            translate(m, m, [-mouseX, -mouseY]);\n            scale$1(m, m, [scale, scale]);\n            translate(m, m, [mouseX, mouseY]);\n\n            rect.applyTransform(m);\n\n            this.api.dispatchAction({\n                type: 'treemapRender',\n                from: this.uid,\n                seriesId: this.seriesModel.id,\n                rootRect: {\n                    x: rect.x, y: rect.y,\n                    width: rect.width, height: rect.height\n                }\n            });\n        }\n    },\n\n    /**\n     * @private\n     */\n    _initEvents: function (containerGroup) {\n        containerGroup.on('click', function (e) {\n            if (this._state !== 'ready') {\n                return;\n            }\n\n            var nodeClick = this.seriesModel.get('nodeClick', true);\n\n            if (!nodeClick) {\n                return;\n            }\n\n            var targetInfo = this.findTarget(e.offsetX, e.offsetY);\n\n            if (!targetInfo) {\n                return;\n            }\n\n            var node = targetInfo.node;\n            if (node.getLayout().isLeafRoot) {\n                this._rootToNode(targetInfo);\n            }\n            else {\n                if (nodeClick === 'zoomToNode') {\n                    this._zoomToNode(targetInfo);\n                }\n                else if (nodeClick === 'link') {\n                    var itemModel = node.hostTree.data.getItemModel(node.dataIndex);\n                    var link = itemModel.get('link', true);\n                    var linkTarget = itemModel.get('target', true) || 'blank';\n                    link && window.open(link, linkTarget);\n                }\n            }\n\n        }, this);\n    },\n\n    /**\n     * @private\n     */\n    _renderBreadcrumb: function (seriesModel, api, targetInfo) {\n        if (!targetInfo) {\n            targetInfo = seriesModel.get('leafDepth', true) != null\n                ? {node: seriesModel.getViewRoot()}\n                // FIXME\n                // better way?\n                // Find breadcrumb tail on center of containerGroup.\n                : this.findTarget(api.getWidth() / 2, api.getHeight() / 2);\n\n            if (!targetInfo) {\n                targetInfo = {node: seriesModel.getData().tree.root};\n            }\n        }\n\n        (this._breadcrumb || (this._breadcrumb = new Breadcrumb(this.group)))\n            .render(seriesModel, api, targetInfo.node, bind$1(onSelect, this));\n\n        function onSelect(node) {\n            if (this._state !== 'animating') {\n                aboveViewRoot(seriesModel.getViewRoot(), node)\n                    ? this._rootToNode({node: node})\n                    : this._zoomToNode({node: node});\n            }\n        }\n    },\n\n    /**\n     * @override\n     */\n    remove: function () {\n        this._clearController();\n        this._containerGroup && this._containerGroup.removeAll();\n        this._storage = createStorage();\n        this._state = 'ready';\n        this._breadcrumb && this._breadcrumb.remove();\n    },\n\n    dispose: function () {\n        this._clearController();\n    },\n\n    /**\n     * @private\n     */\n    _zoomToNode: function (targetInfo) {\n        this.api.dispatchAction({\n            type: 'treemapZoomToNode',\n            from: this.uid,\n            seriesId: this.seriesModel.id,\n            targetNode: targetInfo.node\n        });\n    },\n\n    /**\n     * @private\n     */\n    _rootToNode: function (targetInfo) {\n        this.api.dispatchAction({\n            type: 'treemapRootToNode',\n            from: this.uid,\n            seriesId: this.seriesModel.id,\n            targetNode: targetInfo.node\n        });\n    },\n\n    /**\n     * @public\n     * @param {number} x Global coord x.\n     * @param {number} y Global coord y.\n     * @return {Object} info If not found, return undefined;\n     * @return {number} info.node Target node.\n     * @return {number} info.offsetX x refer to target node.\n     * @return {number} info.offsetY y refer to target node.\n     */\n    findTarget: function (x, y) {\n        var targetInfo;\n        var viewRoot = this.seriesModel.getViewRoot();\n\n        viewRoot.eachNode({attr: 'viewChildren', order: 'preorder'}, function (node) {\n            var bgEl = this._storage.background[node.getRawIndex()];\n            // If invisible, there might be no element.\n            if (bgEl) {\n                var point = bgEl.transformCoordToLocal(x, y);\n                var shape = bgEl.shape;\n\n                // For performance consideration, dont use 'getBoundingRect'.\n                if (shape.x <= point[0]\n                    && point[0] <= shape.x + shape.width\n                    && shape.y <= point[1]\n                    && point[1] <= shape.y + shape.height\n                ) {\n                    targetInfo = {node: node, offsetX: point[0], offsetY: point[1]};\n                }\n                else {\n                    return false; // Suppress visit subtree.\n                }\n            }\n        }, this);\n\n        return targetInfo;\n    }\n\n});\n\n/**\n * @inner\n */\nfunction createStorage() {\n    return {nodeGroup: [], background: [], content: []};\n}\n\n/**\n * @inner\n * @return Return undefined means do not travel further.\n */\nfunction renderNode(\n    seriesModel, thisStorage, oldStorage, reRoot,\n    lastsForAnimation, willInvisibleEls,\n    thisNode, oldNode, parentGroup, depth\n) {\n    // Whether under viewRoot.\n    if (!thisNode) {\n        // Deleting nodes will be performed finally. This method just find\n        // element from old storage, or create new element, set them to new\n        // storage, and set styles.\n        return;\n    }\n\n    // -------------------------------------------------------------------\n    // Start of closure variables available in \"Procedures in renderNode\".\n\n    var thisLayout = thisNode.getLayout();\n\n    if (!thisLayout || !thisLayout.isInView) {\n        return;\n    }\n\n    var thisWidth = thisLayout.width;\n    var thisHeight = thisLayout.height;\n    var borderWidth = thisLayout.borderWidth;\n    var thisInvisible = thisLayout.invisible;\n\n    var thisRawIndex = thisNode.getRawIndex();\n    var oldRawIndex = oldNode && oldNode.getRawIndex();\n\n    var thisViewChildren = thisNode.viewChildren;\n    var upperHeight = thisLayout.upperHeight;\n    var isParent = thisViewChildren && thisViewChildren.length;\n    var itemStyleNormalModel = thisNode.getModel('itemStyle.normal');\n    var itemStyleEmphasisModel = thisNode.getModel('itemStyle.emphasis');\n\n    // End of closure ariables available in \"Procedures in renderNode\".\n    // -----------------------------------------------------------------\n\n    // Node group\n    var group = giveGraphic('nodeGroup', Group$2);\n\n    if (!group) {\n        return;\n    }\n\n    parentGroup.add(group);\n    // x,y are not set when el is above view root.\n    group.attr('position', [thisLayout.x || 0, thisLayout.y || 0]);\n    group.__tmNodeWidth = thisWidth;\n    group.__tmNodeHeight = thisHeight;\n\n    if (thisLayout.isAboveViewRoot) {\n        return group;\n    }\n\n    // Background\n    var bg = giveGraphic('background', Rect$1, depth, Z_BG);\n    bg && renderBackground(group, bg, isParent && thisLayout.upperHeight);\n\n    // No children, render content.\n    if (!isParent) {\n        var content = giveGraphic('content', Rect$1, depth, Z_CONTENT);\n        content && renderContent(group, content);\n    }\n\n    return group;\n\n    // ----------------------------\n    // | Procedures in renderNode |\n    // ----------------------------\n\n    function renderBackground(group, bg, useUpperLabel) {\n        // For tooltip.\n        bg.dataIndex = thisNode.dataIndex;\n        bg.seriesIndex = seriesModel.seriesIndex;\n\n        bg.setShape({x: 0, y: 0, width: thisWidth, height: thisHeight});\n        var visualBorderColor = thisNode.getVisual('borderColor', true);\n        var emphasisBorderColor = itemStyleEmphasisModel.get('borderColor');\n\n        updateStyle(bg, function () {\n            var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n            normalStyle.fill = visualBorderColor;\n            var emphasisStyle = getItemStyleEmphasis(itemStyleEmphasisModel);\n            emphasisStyle.fill = emphasisBorderColor;\n\n            if (useUpperLabel) {\n                var upperLabelWidth = thisWidth - 2 * borderWidth;\n\n                prepareText(\n                    normalStyle, emphasisStyle, visualBorderColor, upperLabelWidth, upperHeight,\n                    {x: borderWidth, y: 0, width: upperLabelWidth, height: upperHeight}\n                );\n            }\n            // For old bg.\n            else {\n                normalStyle.text = emphasisStyle.text = null;\n            }\n\n            bg.setStyle(normalStyle);\n            setHoverStyle(bg, emphasisStyle);\n        });\n\n        group.add(bg);\n    }\n\n    function renderContent(group, content) {\n        // For tooltip.\n        content.dataIndex = thisNode.dataIndex;\n        content.seriesIndex = seriesModel.seriesIndex;\n\n        var contentWidth = Math.max(thisWidth - 2 * borderWidth, 0);\n        var contentHeight = Math.max(thisHeight - 2 * borderWidth, 0);\n\n        content.culling = true;\n        content.setShape({\n            x: borderWidth,\n            y: borderWidth,\n            width: contentWidth,\n            height: contentHeight\n        });\n\n        var visualColor = thisNode.getVisual('color', true);\n        updateStyle(content, function () {\n            var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n            normalStyle.fill = visualColor;\n            var emphasisStyle = getItemStyleEmphasis(itemStyleEmphasisModel);\n\n            prepareText(normalStyle, emphasisStyle, visualColor, contentWidth, contentHeight);\n\n            content.setStyle(normalStyle);\n            setHoverStyle(content, emphasisStyle);\n        });\n\n        group.add(content);\n    }\n\n    function updateStyle(element, cb) {\n        if (!thisInvisible) {\n            // If invisible, do not set visual, otherwise the element will\n            // change immediately before animation. We think it is OK to\n            // remain its origin color when moving out of the view window.\n            cb();\n\n            if (!element.__tmWillVisible) {\n                element.invisible = false;\n            }\n        }\n        else {\n            // Delay invisible setting utill animation finished,\n            // avoid element vanish suddenly before animation.\n            !element.invisible && willInvisibleEls.push(element);\n        }\n    }\n\n    function prepareText(normalStyle, emphasisStyle, visualColor, width, height, upperLabelRect) {\n        var nodeModel = thisNode.getModel();\n        var text = retrieve(\n            seriesModel.getFormattedLabel(\n                thisNode.dataIndex, 'normal', null, null, upperLabelRect ? 'upperLabel' : 'label'\n            ),\n            nodeModel.get('name')\n        );\n        if (!upperLabelRect && thisLayout.isLeafRoot) {\n            var iconChar = seriesModel.get('drillDownIcon', true);\n            text = iconChar ? iconChar + ' ' + text : text;\n        }\n\n        var normalLabelModel = nodeModel.getModel(\n            upperLabelRect ? PATH_UPPERLABEL_NORMAL : PATH_LABEL_NOAMAL\n        );\n        var emphasisLabelModel = nodeModel.getModel(\n            upperLabelRect ? PATH_UPPERLABEL_EMPHASIS : PATH_LABEL_EMPHASIS\n        );\n\n        var isShow = normalLabelModel.getShallow('show');\n\n        setLabelStyle(\n            normalStyle, emphasisStyle, normalLabelModel, emphasisLabelModel,\n            {\n                defaultText: isShow ? text : null,\n                autoColor: visualColor,\n                isRectText: true\n            }\n        );\n\n        upperLabelRect && (normalStyle.textRect = clone(upperLabelRect));\n\n        normalStyle.truncate = (isShow && normalLabelModel.get('ellipsis'))\n            ? {\n                outerWidth: width,\n                outerHeight: height,\n                minChar: 2\n            }\n            : null;\n    }\n\n    function giveGraphic(storageName, Ctor, depth, z) {\n        var element = oldRawIndex != null && oldStorage[storageName][oldRawIndex];\n        var lasts = lastsForAnimation[storageName];\n\n        if (element) {\n            // Remove from oldStorage\n            oldStorage[storageName][oldRawIndex] = null;\n            prepareAnimationWhenHasOld(lasts, element, storageName);\n        }\n        // If invisible and no old element, do not create new element (for optimizing).\n        else if (!thisInvisible) {\n            element = new Ctor({z: calculateZ(depth, z)});\n            element.__tmDepth = depth;\n            element.__tmStorageName = storageName;\n            prepareAnimationWhenNoOld(lasts, element, storageName);\n        }\n\n        // Set to thisStorage\n        return (thisStorage[storageName][thisRawIndex] = element);\n    }\n\n    function prepareAnimationWhenHasOld(lasts, element, storageName) {\n        var lastCfg = lasts[thisRawIndex] = {};\n        lastCfg.old = storageName === 'nodeGroup'\n            ? element.position.slice()\n            : extend({}, element.shape);\n    }\n\n    // If a element is new, we need to find the animation start point carefully,\n    // otherwise it will looks strange when 'zoomToNode'.\n    function prepareAnimationWhenNoOld(lasts, element, storageName) {\n        var lastCfg = lasts[thisRawIndex] = {};\n        var parentNode = thisNode.parentNode;\n\n        if (parentNode && (!reRoot || reRoot.direction === 'drillDown')) {\n            var parentOldX = 0;\n            var parentOldY = 0;\n\n            // New nodes appear from right-bottom corner in 'zoomToNode' animation.\n            // For convenience, get old bounding rect from background.\n            var parentOldBg = lastsForAnimation.background[parentNode.getRawIndex()];\n            if (!reRoot && parentOldBg && parentOldBg.old) {\n                parentOldX = parentOldBg.old.width;\n                parentOldY = parentOldBg.old.height;\n            }\n\n            // When no parent old shape found, its parent is new too,\n            // so we can just use {x:0, y:0}.\n            lastCfg.old = storageName === 'nodeGroup'\n                ? [0, parentOldY]\n                : {x: parentOldX, y: parentOldY, width: 0, height: 0};\n        }\n\n        // Fade in, user can be aware that these nodes are new.\n        lastCfg.fadein = storageName !== 'nodeGroup';\n    }\n}\n\n// We can not set all backgroud with the same z, Because the behaviour of\n// drill down and roll up differ background creation sequence from tree\n// hierarchy sequence, which cause that lowser background element overlap\n// upper ones. So we calculate z based on depth.\n// Moreover, we try to shrink down z interval to [0, 1] to avoid that\n// treemap with large z overlaps other components.\nfunction calculateZ(depth, zInLevel) {\n    var zb = depth * Z_BASE + zInLevel;\n    return (zb - 1) / zb;\n}\n\n/**\n * @file Treemap action\n */\n\nvar noop$1 = function () {};\n\nvar actionTypes = [\n    'treemapZoomToNode',\n    'treemapRender',\n    'treemapMove'\n];\n\nfor (var i$2 = 0; i$2 < actionTypes.length; i$2++) {\n    registerAction({type: actionTypes[i$2], update: 'updateView'}, noop$1);\n}\n\nregisterAction(\n    {type: 'treemapRootToNode', update: 'updateView'},\n    function (payload, ecModel) {\n\n        ecModel.eachComponent(\n            {mainType: 'series', subType: 'treemap', query: payload},\n            handleRootToNode\n        );\n\n        function handleRootToNode(model, index) {\n            var targetInfo = retrieveTargetInfo(payload, model);\n\n            if (targetInfo) {\n                var originViewRoot = model.getViewRoot();\n                if (originViewRoot) {\n                    payload.direction = aboveViewRoot(originViewRoot, targetInfo.node)\n                        ? 'rollUp' : 'drillDown';\n                }\n                model.resetViewRoot(targetInfo.node);\n            }\n        }\n    }\n);\n\nvar each$12 = each$1;\nvar isObject$5 = isObject;\n\nvar CATEGORY_DEFAULT_VISUAL_INDEX = -1;\n\n/**\n * @param {Object} option\n * @param {string} [option.type] See visualHandlers.\n * @param {string} [option.mappingMethod] 'linear' or 'piecewise' or 'category' or 'fixed'\n * @param {Array.<number>=} [option.dataExtent] [minExtent, maxExtent],\n *                                              required when mappingMethod is 'linear'\n * @param {Array.<Object>=} [option.pieceList] [\n *                                             {value: someValue},\n *                                             {interval: [min1, max1], visual: {...}},\n *                                             {interval: [min2, max2]}\n *                                             ],\n *                                            required when mappingMethod is 'piecewise'.\n *                                            Visual for only each piece can be specified.\n * @param {Array.<string|Object>=} [option.categories] ['cate1', 'cate2']\n *                                            required when mappingMethod is 'category'.\n *                                            If no option.categories, categories is set\n *                                            as [0, 1, 2, ...].\n * @param {boolean} [option.loop=false] Whether loop mapping when mappingMethod is 'category'.\n * @param {(Array|Object|*)} [option.visual]  Visual data.\n *                                            when mappingMethod is 'category',\n *                                            visual data can be array or object\n *                                            (like: {cate1: '#222', none: '#fff'})\n *                                            or primary types (which represents\n *                                            defualt category visual), otherwise visual\n *                                            can be array or primary (which will be\n *                                            normalized to array).\n *\n */\nvar VisualMapping = function (option) {\n    var mappingMethod = option.mappingMethod;\n    var visualType = option.type;\n\n    /**\n     * @readOnly\n     * @type {Object}\n     */\n    var thisOption = this.option = clone(option);\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    this.type = visualType;\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    this.mappingMethod = mappingMethod;\n\n    /**\n     * @private\n     * @type {Function}\n     */\n    this._normalizeData = normalizers[mappingMethod];\n\n    var visualHandler = visualHandlers[visualType];\n\n    /**\n     * @public\n     * @type {Function}\n     */\n    this.applyVisual = visualHandler.applyVisual;\n\n    /**\n     * @public\n     * @type {Function}\n     */\n    this.getColorMapper = visualHandler.getColorMapper;\n\n    /**\n     * @private\n     * @type {Function}\n     */\n    this._doMap = visualHandler._doMap[mappingMethod];\n\n    if (mappingMethod === 'piecewise') {\n        normalizeVisualRange(thisOption);\n        preprocessForPiecewise(thisOption);\n    }\n    else if (mappingMethod === 'category') {\n        thisOption.categories\n            ? preprocessForSpecifiedCategory(thisOption)\n            // categories is ordinal when thisOption.categories not specified,\n            // which need no more preprocess except normalize visual.\n            : normalizeVisualRange(thisOption, true);\n    }\n    else { // mappingMethod === 'linear' or 'fixed'\n        assert(mappingMethod !== 'linear' || thisOption.dataExtent);\n        normalizeVisualRange(thisOption);\n    }\n};\n\nVisualMapping.prototype = {\n\n    constructor: VisualMapping,\n\n    mapValueToVisual: function (value) {\n        var normalized = this._normalizeData(value);\n        return this._doMap(normalized, value);\n    },\n\n    getNormalizer: function () {\n        return bind(this._normalizeData, this);\n    }\n};\n\nvar visualHandlers = VisualMapping.visualHandlers = {\n\n    color: {\n\n        applyVisual: makeApplyVisual('color'),\n\n        /**\n         * Create a mapper function\n         * @return {Function}\n         */\n        getColorMapper: function () {\n            var thisOption = this.option;\n\n            return bind(\n                thisOption.mappingMethod === 'category'\n                    ? function (value, isNormalized) {\n                        !isNormalized && (value = this._normalizeData(value));\n                        return doMapCategory.call(this, value);\n                    }\n                    : function (value, isNormalized, out) {\n                        // If output rgb array\n                        // which will be much faster and useful in pixel manipulation\n                        var returnRGBArray = !!out;\n                        !isNormalized && (value = this._normalizeData(value));\n                        out = fastLerp(value, thisOption.parsedVisual, out);\n                        return returnRGBArray ? out : stringify(out, 'rgba');\n                    },\n                this\n            );\n        },\n\n        _doMap: {\n            linear: function (normalized) {\n                return stringify(\n                    fastLerp(normalized, this.option.parsedVisual),\n                    'rgba'\n                );\n            },\n            category: doMapCategory,\n            piecewise: function (normalized, value) {\n                var result = getSpecifiedVisual.call(this, value);\n                if (result == null) {\n                    result = stringify(\n                        fastLerp(normalized, this.option.parsedVisual),\n                        'rgba'\n                    );\n                }\n                return result;\n            },\n            fixed: doMapFixed\n        }\n    },\n\n    colorHue: makePartialColorVisualHandler(function (color, value) {\n        return modifyHSL(color, value);\n    }),\n\n    colorSaturation: makePartialColorVisualHandler(function (color, value) {\n        return modifyHSL(color, null, value);\n    }),\n\n    colorLightness: makePartialColorVisualHandler(function (color, value) {\n        return modifyHSL(color, null, null, value);\n    }),\n\n    colorAlpha: makePartialColorVisualHandler(function (color, value) {\n        return modifyAlpha(color, value);\n    }),\n\n    opacity: {\n        applyVisual: makeApplyVisual('opacity'),\n        _doMap: makeDoMap([0, 1])\n    },\n\n    symbol: {\n        applyVisual: function (value, getter, setter) {\n            var symbolCfg = this.mapValueToVisual(value);\n            if (isString(symbolCfg)) {\n                setter('symbol', symbolCfg);\n            }\n            else if (isObject$5(symbolCfg)) {\n                for (var name in symbolCfg) {\n                    if (symbolCfg.hasOwnProperty(name)) {\n                        setter(name, symbolCfg[name]);\n                    }\n                }\n            }\n        },\n        _doMap: {\n            linear: doMapToArray,\n            category: doMapCategory,\n            piecewise: function (normalized, value) {\n                var result = getSpecifiedVisual.call(this, value);\n                if (result == null) {\n                    result = doMapToArray.call(this, normalized);\n                }\n                return result;\n            },\n            fixed: doMapFixed\n        }\n    },\n\n    symbolSize: {\n        applyVisual: makeApplyVisual('symbolSize'),\n        _doMap: makeDoMap([0, 1])\n    }\n};\n\n\nfunction preprocessForPiecewise(thisOption) {\n    var pieceList = thisOption.pieceList;\n    thisOption.hasSpecialVisual = false;\n\n    each$1(pieceList, function (piece, index) {\n        piece.originIndex = index;\n        // piece.visual is \"result visual value\" but not\n        // a visual range, so it does not need to be normalized.\n        if (piece.visual != null) {\n            thisOption.hasSpecialVisual = true;\n        }\n    });\n}\n\nfunction preprocessForSpecifiedCategory(thisOption) {\n    // Hash categories.\n    var categories = thisOption.categories;\n    var visual = thisOption.visual;\n\n    var categoryMap = thisOption.categoryMap = {};\n    each$12(categories, function (cate, index) {\n        categoryMap[cate] = index;\n    });\n\n    // Process visual map input.\n    if (!isArray(visual)) {\n        var visualArr = [];\n\n        if (isObject(visual)) {\n            each$12(visual, function (v, cate) {\n                var index = categoryMap[cate];\n                visualArr[index != null ? index : CATEGORY_DEFAULT_VISUAL_INDEX] = v;\n            });\n        }\n        else { // Is primary type, represents default visual.\n            visualArr[CATEGORY_DEFAULT_VISUAL_INDEX] = visual;\n        }\n\n        visual = setVisualToOption(thisOption, visualArr);\n    }\n\n    // Remove categories that has no visual,\n    // then we can mapping them to CATEGORY_DEFAULT_VISUAL_INDEX.\n    for (var i = categories.length - 1; i >= 0; i--) {\n        if (visual[i] == null) {\n            delete categoryMap[categories[i]];\n            categories.pop();\n        }\n    }\n}\n\nfunction normalizeVisualRange(thisOption, isCategory) {\n    var visual = thisOption.visual;\n    var visualArr = [];\n\n    if (isObject(visual)) {\n        each$12(visual, function (v) {\n            visualArr.push(v);\n        });\n    }\n    else if (visual != null) {\n        visualArr.push(visual);\n    }\n\n    var doNotNeedPair = {color: 1, symbol: 1};\n\n    if (!isCategory\n        && visualArr.length === 1\n        && !doNotNeedPair.hasOwnProperty(thisOption.type)\n    ) {\n        // Do not care visualArr.length === 0, which is illegal.\n        visualArr[1] = visualArr[0];\n    }\n\n    setVisualToOption(thisOption, visualArr);\n}\n\nfunction makePartialColorVisualHandler(applyValue) {\n    return {\n        applyVisual: function (value, getter, setter) {\n            value = this.mapValueToVisual(value);\n            // Must not be array value\n            setter('color', applyValue(getter('color'), value));\n        },\n        _doMap: makeDoMap([0, 1])\n    };\n}\n\nfunction doMapToArray(normalized) {\n    var visual = this.option.visual;\n    return visual[\n        Math.round(linearMap(normalized, [0, 1], [0, visual.length - 1], true))\n    ] || {};\n}\n\nfunction makeApplyVisual(visualType) {\n    return function (value, getter, setter) {\n        setter(visualType, this.mapValueToVisual(value));\n    };\n}\n\nfunction doMapCategory(normalized) {\n    var visual = this.option.visual;\n    return visual[\n        (this.option.loop && normalized !== CATEGORY_DEFAULT_VISUAL_INDEX)\n            ? normalized % visual.length\n            : normalized\n    ];\n}\n\nfunction doMapFixed() {\n    return this.option.visual[0];\n}\n\nfunction makeDoMap(sourceExtent) {\n    return {\n        linear: function (normalized) {\n            return linearMap(normalized, sourceExtent, this.option.visual, true);\n        },\n        category: doMapCategory,\n        piecewise: function (normalized, value) {\n            var result = getSpecifiedVisual.call(this, value);\n            if (result == null) {\n                result = linearMap(normalized, sourceExtent, this.option.visual, true);\n            }\n            return result;\n        },\n        fixed: doMapFixed\n    };\n}\n\nfunction getSpecifiedVisual(value) {\n    var thisOption = this.option;\n    var pieceList = thisOption.pieceList;\n    if (thisOption.hasSpecialVisual) {\n        var pieceIndex = VisualMapping.findPieceIndex(value, pieceList);\n        var piece = pieceList[pieceIndex];\n        if (piece && piece.visual) {\n            return piece.visual[this.type];\n        }\n    }\n}\n\nfunction setVisualToOption(thisOption, visualArr) {\n    thisOption.visual = visualArr;\n    if (thisOption.type === 'color') {\n        thisOption.parsedVisual = map(visualArr, function (item) {\n            return parse(item);\n        });\n    }\n    return visualArr;\n}\n\n\n/**\n * Normalizers by mapping methods.\n */\nvar normalizers = {\n\n    linear: function (value) {\n        return linearMap(value, this.option.dataExtent, [0, 1], true);\n    },\n\n    piecewise: function (value) {\n        var pieceList = this.option.pieceList;\n        var pieceIndex = VisualMapping.findPieceIndex(value, pieceList, true);\n        if (pieceIndex != null) {\n            return linearMap(pieceIndex, [0, pieceList.length - 1], [0, 1], true);\n        }\n    },\n\n    category: function (value) {\n        var index = this.option.categories\n            ? this.option.categoryMap[value]\n            : value; // ordinal\n        return index == null ? CATEGORY_DEFAULT_VISUAL_INDEX : index;\n    },\n\n    fixed: noop\n};\n\n\n\n/**\n * List available visual types.\n *\n * @public\n * @return {Array.<string>}\n */\nVisualMapping.listVisualTypes = function () {\n    var visualTypes = [];\n    each$1(visualHandlers, function (handler, key) {\n        visualTypes.push(key);\n    });\n    return visualTypes;\n};\n\n/**\n * @public\n */\nVisualMapping.addVisualHandler = function (name, handler) {\n    visualHandlers[name] = handler;\n};\n\n/**\n * @public\n */\nVisualMapping.isValidType = function (visualType) {\n    return visualHandlers.hasOwnProperty(visualType);\n};\n\n/**\n * Convinent method.\n * Visual can be Object or Array or primary type.\n *\n * @public\n */\nVisualMapping.eachVisual = function (visual, callback, context) {\n    if (isObject(visual)) {\n        each$1(visual, callback, context);\n    }\n    else {\n        callback.call(context, visual);\n    }\n};\n\nVisualMapping.mapVisual = function (visual, callback, context) {\n    var isPrimary;\n    var newVisual = isArray(visual)\n        ? []\n        : isObject(visual)\n        ? {}\n        : (isPrimary = true, null);\n\n    VisualMapping.eachVisual(visual, function (v, key) {\n        var newVal = callback.call(context, v, key);\n        isPrimary ? (newVisual = newVal) : (newVisual[key] = newVal);\n    });\n    return newVisual;\n};\n\n/**\n * @public\n * @param {Object} obj\n * @return {Object} new object containers visual values.\n *                 If no visuals, return null.\n */\nVisualMapping.retrieveVisuals = function (obj) {\n    var ret = {};\n    var hasVisual;\n\n    obj && each$12(visualHandlers, function (h, visualType) {\n        if (obj.hasOwnProperty(visualType)) {\n            ret[visualType] = obj[visualType];\n            hasVisual = true;\n        }\n    });\n\n    return hasVisual ? ret : null;\n};\n\n/**\n * Give order to visual types, considering colorSaturation, colorAlpha depends on color.\n *\n * @public\n * @param {(Object|Array)} visualTypes If Object, like: {color: ..., colorSaturation: ...}\n *                                     IF Array, like: ['color', 'symbol', 'colorSaturation']\n * @return {Array.<string>} Sorted visual types.\n */\nVisualMapping.prepareVisualTypes = function (visualTypes) {\n    if (isObject$5(visualTypes)) {\n        var types = [];\n        each$12(visualTypes, function (item, type) {\n            types.push(type);\n        });\n        visualTypes = types;\n    }\n    else if (isArray(visualTypes)) {\n        visualTypes = visualTypes.slice();\n    }\n    else {\n        return [];\n    }\n\n    visualTypes.sort(function (type1, type2) {\n        // color should be front of colorSaturation, colorAlpha, ...\n        // symbol and symbolSize do not matter.\n        return (type2 === 'color' && type1 !== 'color' && type1.indexOf('color') === 0)\n            ? 1 : -1;\n    });\n\n    return visualTypes;\n};\n\n/**\n * 'color', 'colorSaturation', 'colorAlpha', ... are depends on 'color'.\n * Other visuals are only depends on themself.\n *\n * @public\n * @param {string} visualType1\n * @param {string} visualType2\n * @return {boolean}\n */\nVisualMapping.dependsOn = function (visualType1, visualType2) {\n    return visualType2 === 'color'\n        ? !!(visualType1 && visualType1.indexOf(visualType2) === 0)\n        : visualType1 === visualType2;\n};\n\n/**\n * @param {number} value\n * @param {Array.<Object>} pieceList [{value: ..., interval: [min, max]}, ...]\n *                         Always from small to big.\n * @param {boolean} [findClosestWhenOutside=false]\n * @return {number} index\n */\nVisualMapping.findPieceIndex = function (value, pieceList, findClosestWhenOutside) {\n    var possibleI;\n    var abs = Infinity;\n\n    // value has the higher priority.\n    for (var i = 0, len = pieceList.length; i < len; i++) {\n        var pieceValue = pieceList[i].value;\n        if (pieceValue != null) {\n            if (pieceValue === value\n                // FIXME\n                // It is supposed to compare value according to value type of dimension,\n                // but currently value type can exactly be string or number.\n                // Compromise for numeric-like string (like '12'), especially\n                // in the case that visualMap.categories is ['22', '33'].\n                || (typeof pieceValue === 'string' && pieceValue === value + '')\n            ) {\n                return i;\n            }\n            findClosestWhenOutside && updatePossible(pieceValue, i);\n        }\n    }\n\n    for (var i = 0, len = pieceList.length; i < len; i++) {\n        var piece = pieceList[i];\n        var interval = piece.interval;\n        var close = piece.close;\n\n        if (interval) {\n            if (interval[0] === -Infinity) {\n                if (littleThan(close[1], value, interval[1])) {\n                    return i;\n                }\n            }\n            else if (interval[1] === Infinity) {\n                if (littleThan(close[0], interval[0], value)) {\n                    return i;\n                }\n            }\n            else if (\n                littleThan(close[0], interval[0], value)\n                && littleThan(close[1], value, interval[1])\n            ) {\n                return i;\n            }\n            findClosestWhenOutside && updatePossible(interval[0], i);\n            findClosestWhenOutside && updatePossible(interval[1], i);\n        }\n    }\n\n    if (findClosestWhenOutside) {\n        return value === Infinity\n            ? pieceList.length - 1\n            : value === -Infinity\n            ? 0\n            : possibleI;\n    }\n\n    function updatePossible(val, index) {\n        var newAbs = Math.abs(val - value);\n        if (newAbs < abs) {\n            abs = newAbs;\n            possibleI = index;\n        }\n    }\n\n};\n\nfunction littleThan(close, a, b) {\n    return close ? a <= b : a < b;\n}\n\nvar isArray$2 = isArray;\n\nvar ITEM_STYLE_NORMAL = 'itemStyle.normal';\n\nvar treemapVisual = function (ecModel, api, payload) {\n\n    var condition = {mainType: 'series', subType: 'treemap', query: payload};\n    ecModel.eachComponent(condition, function (seriesModel) {\n\n        var tree = seriesModel.getData().tree;\n        var root = tree.root;\n        var seriesItemStyleModel = seriesModel.getModel(ITEM_STYLE_NORMAL);\n\n        if (root.isRemoved()) {\n            return;\n        }\n\n        var levelItemStyles = map(tree.levelModels, function (levelModel) {\n            return levelModel ? levelModel.get(ITEM_STYLE_NORMAL) : null;\n        });\n\n        travelTree(\n            root, // Visual should calculate from tree root but not view root.\n            {},\n            levelItemStyles,\n            seriesItemStyleModel,\n            seriesModel.getViewRoot().getAncestors(),\n            seriesModel\n        );\n    });\n};\n\nfunction travelTree(\n    node, designatedVisual, levelItemStyles, seriesItemStyleModel,\n    viewRootAncestors, seriesModel\n) {\n    var nodeModel = node.getModel();\n    var nodeLayout = node.getLayout();\n\n    // Optimize\n    if (!nodeLayout || nodeLayout.invisible || !nodeLayout.isInView) {\n        return;\n    }\n\n    var nodeItemStyleModel = node.getModel(ITEM_STYLE_NORMAL);\n    var levelItemStyle = levelItemStyles[node.depth];\n    var visuals = buildVisuals(\n        nodeItemStyleModel, designatedVisual, levelItemStyle, seriesItemStyleModel\n    );\n\n    // calculate border color\n    var borderColor = nodeItemStyleModel.get('borderColor');\n    var borderColorSaturation = nodeItemStyleModel.get('borderColorSaturation');\n    var thisNodeColor;\n    if (borderColorSaturation != null) {\n        // For performance, do not always execute 'calculateColor'.\n        thisNodeColor = calculateColor(visuals, node);\n        borderColor = calculateBorderColor(borderColorSaturation, thisNodeColor);\n    }\n    node.setVisual('borderColor', borderColor);\n\n    var viewChildren = node.viewChildren;\n    if (!viewChildren || !viewChildren.length) {\n        thisNodeColor = calculateColor(visuals, node);\n        // Apply visual to this node.\n        node.setVisual('color', thisNodeColor);\n    }\n    else {\n        var mapping = buildVisualMapping(\n            node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren\n        );\n\n        // Designate visual to children.\n        each$1(viewChildren, function (child, index) {\n            // If higher than viewRoot, only ancestors of viewRoot is needed to visit.\n            if (child.depth >= viewRootAncestors.length\n                || child === viewRootAncestors[child.depth]\n            ) {\n                var childVisual = mapVisual$1(\n                    nodeModel, visuals, child, index, mapping, seriesModel\n                );\n                travelTree(\n                    child, childVisual, levelItemStyles, seriesItemStyleModel,\n                    viewRootAncestors, seriesModel\n                );\n            }\n        });\n    }\n}\n\nfunction buildVisuals(\n    nodeItemStyleModel, designatedVisual, levelItemStyle, seriesItemStyleModel\n) {\n    var visuals = extend({}, designatedVisual);\n\n    each$1(['color', 'colorAlpha', 'colorSaturation'], function (visualName) {\n        // Priority: thisNode > thisLevel > parentNodeDesignated > seriesModel\n        var val = nodeItemStyleModel.get(visualName, true); // Ignore parent\n        val == null && levelItemStyle && (val = levelItemStyle[visualName]);\n        val == null && (val = designatedVisual[visualName]);\n        val == null && (val = seriesItemStyleModel.get(visualName));\n\n        val != null && (visuals[visualName] = val);\n    });\n\n    return visuals;\n}\n\nfunction calculateColor(visuals) {\n    var color = getValueVisualDefine(visuals, 'color');\n\n    if (color) {\n        var colorAlpha = getValueVisualDefine(visuals, 'colorAlpha');\n        var colorSaturation = getValueVisualDefine(visuals, 'colorSaturation');\n        if (colorSaturation) {\n            color = modifyHSL(color, null, null, colorSaturation);\n        }\n        if (colorAlpha) {\n            color = modifyAlpha(color, colorAlpha);\n        }\n\n        return color;\n    }\n}\n\nfunction calculateBorderColor(borderColorSaturation, thisNodeColor) {\n    return thisNodeColor != null\n            ? modifyHSL(thisNodeColor, null, null, borderColorSaturation)\n            : null;\n}\n\nfunction getValueVisualDefine(visuals, name) {\n    var value = visuals[name];\n    if (value != null && value !== 'none') {\n        return value;\n    }\n}\n\nfunction buildVisualMapping(\n    node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren\n) {\n    if (!viewChildren || !viewChildren.length) {\n        return;\n    }\n\n    var rangeVisual = getRangeVisual(nodeModel, 'color')\n        || (\n            visuals.color != null\n            && visuals.color !== 'none'\n            && (\n                getRangeVisual(nodeModel, 'colorAlpha')\n                || getRangeVisual(nodeModel, 'colorSaturation')\n            )\n        );\n\n    if (!rangeVisual) {\n        return;\n    }\n\n    var visualMin = nodeModel.get('visualMin');\n    var visualMax = nodeModel.get('visualMax');\n    var dataExtent = nodeLayout.dataExtent.slice();\n    visualMin != null && visualMin < dataExtent[0] && (dataExtent[0] = visualMin);\n    visualMax != null && visualMax > dataExtent[1] && (dataExtent[1] = visualMax);\n\n    var colorMappingBy = nodeModel.get('colorMappingBy');\n    var opt = {\n        type: rangeVisual.name,\n        dataExtent: dataExtent,\n        visual: rangeVisual.range\n    };\n    if (opt.type === 'color'\n        && (colorMappingBy === 'index' || colorMappingBy === 'id')\n    ) {\n        opt.mappingMethod = 'category';\n        opt.loop = true;\n        // categories is ordinal, so do not set opt.categories.\n    }\n    else {\n        opt.mappingMethod = 'linear';\n    }\n\n    var mapping = new VisualMapping(opt);\n    mapping.__drColorMappingBy = colorMappingBy;\n\n    return mapping;\n}\n\n// Notice: If we dont have the attribute 'colorRange', but only use\n// attribute 'color' to represent both concepts of 'colorRange' and 'color',\n// (It means 'colorRange' when 'color' is Array, means 'color' when not array),\n// this problem will be encountered:\n// If a level-1 node dont have children, and its siblings has children,\n// and colorRange is set on level-1, then the node can not be colored.\n// So we separate 'colorRange' and 'color' to different attributes.\nfunction getRangeVisual(nodeModel, name) {\n    // 'colorRange', 'colorARange', 'colorSRange'.\n    // If not exsits on this node, fetch from levels and series.\n    var range = nodeModel.get(name);\n    return (isArray$2(range) && range.length) ? {name: name, range: range} : null;\n}\n\nfunction mapVisual$1(nodeModel, visuals, child, index, mapping, seriesModel) {\n    var childVisuals = extend({}, visuals);\n\n    if (mapping) {\n        var mappingType = mapping.type;\n        var colorMappingBy = mappingType === 'color' && mapping.__drColorMappingBy;\n        var value =\n            colorMappingBy === 'index'\n            ? index\n            : colorMappingBy === 'id'\n            ? seriesModel.mapIdToIndex(child.getId())\n            : child.getValue(nodeModel.get('visualDimension'));\n\n        childVisuals[mappingType] = mapping.mapValueToVisual(value);\n    }\n\n    return childVisuals;\n}\n\nvar mathMax$4 = Math.max;\nvar mathMin$4 = Math.min;\nvar retrieveValue$1 = retrieve;\nvar each$13 = each$1;\n\nvar PATH_BORDER_WIDTH = ['itemStyle', 'normal', 'borderWidth'];\nvar PATH_GAP_WIDTH = ['itemStyle', 'normal', 'gapWidth'];\nvar PATH_UPPER_LABEL_SHOW = ['upperLabel', 'normal', 'show'];\nvar PATH_UPPER_LABEL_HEIGHT = ['upperLabel', 'normal', 'height'];\n\n/**\n * @public\n */\nvar treemapLayout = function (ecModel, api, payload) {\n    // Layout result in each node:\n    // {x, y, width, height, area, borderWidth}\n    var condition = {mainType: 'series', subType: 'treemap', query: payload};\n    ecModel.eachComponent(condition, function (seriesModel) {\n\n        var ecWidth = api.getWidth();\n        var ecHeight = api.getHeight();\n        var seriesOption = seriesModel.option;\n\n        var layoutInfo = getLayoutRect(\n            seriesModel.getBoxLayoutParams(),\n            {\n                width: api.getWidth(),\n                height: api.getHeight()\n            }\n        );\n\n        var size = seriesOption.size || []; // Compatible with ec2.\n        var containerWidth = parsePercent$1(\n            retrieveValue$1(layoutInfo.width, size[0]),\n            ecWidth\n        );\n        var containerHeight = parsePercent$1(\n            retrieveValue$1(layoutInfo.height, size[1]),\n            ecHeight\n        );\n\n        // Fetch payload info.\n        var payloadType = payload && payload.type;\n        var targetInfo = retrieveTargetInfo(payload, seriesModel);\n        var rootRect = (payloadType === 'treemapRender' || payloadType === 'treemapMove')\n            ? payload.rootRect : null;\n        var viewRoot = seriesModel.getViewRoot();\n        var viewAbovePath = getPathToRoot(viewRoot);\n\n        if (payloadType !== 'treemapMove') {\n            var rootSize = payloadType === 'treemapZoomToNode'\n                ? estimateRootSize(\n                    seriesModel, targetInfo, viewRoot, containerWidth, containerHeight\n                )\n                : rootRect\n                ? [rootRect.width, rootRect.height]\n                : [containerWidth, containerHeight];\n\n            var sort = seriesOption.sort;\n            if (sort && sort !== 'asc' && sort !== 'desc') {\n                sort = 'desc';\n            }\n            var options = {\n                squareRatio: seriesOption.squareRatio,\n                sort: sort,\n                leafDepth: seriesOption.leafDepth\n            };\n\n            // layout should be cleared because using updateView but not update.\n            viewRoot.hostTree.clearLayouts();\n\n            // TODO\n            // optimize: if out of view clip, do not layout.\n            // But take care that if do not render node out of view clip,\n            // how to calculate start po\n\n            var viewRootLayout = {\n                x: 0, y: 0,\n                width: rootSize[0], height: rootSize[1],\n                area: rootSize[0] * rootSize[1]\n            };\n            viewRoot.setLayout(viewRootLayout);\n\n            squarify(viewRoot, options, false, 0);\n            // Supplement layout.\n            var viewRootLayout = viewRoot.getLayout();\n            each$13(viewAbovePath, function (node, index) {\n                var childValue = (viewAbovePath[index + 1] || viewRoot).getValue();\n                node.setLayout(extend(\n                    {dataExtent: [childValue, childValue], borderWidth: 0, upperHeight: 0},\n                    viewRootLayout\n                ));\n            });\n        }\n\n        var treeRoot = seriesModel.getData().tree.root;\n\n        treeRoot.setLayout(\n            calculateRootPosition(layoutInfo, rootRect, targetInfo),\n            true\n        );\n\n        seriesModel.setLayoutInfo(layoutInfo);\n\n        // FIXME\n        // clipec\n        prunning(\n            treeRoot,\n            // Transform to base element coordinate system.\n            new BoundingRect(-layoutInfo.x, -layoutInfo.y, ecWidth, ecHeight),\n            viewAbovePath,\n            viewRoot,\n            0\n        );\n    });\n};\n\n/**\n * Layout treemap with squarify algorithm.\n * @see https://graphics.ethz.ch/teaching/scivis_common/Literature/squarifiedTreeMaps.pdf\n * @see https://github.com/mbostock/d3/blob/master/src/layout/treemap.js\n *\n * @protected\n * @param {module:echarts/data/Tree~TreeNode} node\n * @param {Object} options\n * @param {string} options.sort 'asc' or 'desc'\n * @param {number} options.squareRatio\n * @param {boolean} hideChildren\n * @param {number} depth\n */\nfunction squarify(node, options, hideChildren, depth) {\n    var width;\n    var height;\n\n    if (node.isRemoved()) {\n        return;\n    }\n\n    var thisLayout = node.getLayout();\n    width = thisLayout.width;\n    height = thisLayout.height;\n\n    // Considering border and gap\n    var nodeModel = node.getModel();\n    var borderWidth = nodeModel.get(PATH_BORDER_WIDTH);\n    var halfGapWidth = nodeModel.get(PATH_GAP_WIDTH) / 2;\n    var upperLabelHeight = getUpperLabelHeight(nodeModel);\n    var upperHeight = Math.max(borderWidth, upperLabelHeight);\n    var layoutOffset = borderWidth - halfGapWidth;\n    var layoutOffsetUpper = upperHeight - halfGapWidth;\n    var nodeModel = node.getModel();\n\n    node.setLayout({\n        borderWidth: borderWidth,\n        upperHeight: upperHeight,\n        upperLabelHeight: upperLabelHeight\n    }, true);\n\n    width = mathMax$4(width - 2 * layoutOffset, 0);\n    height = mathMax$4(height - layoutOffset - layoutOffsetUpper, 0);\n\n    var totalArea = width * height;\n    var viewChildren = initChildren(\n        node, nodeModel, totalArea, options, hideChildren, depth\n    );\n\n    if (!viewChildren.length) {\n        return;\n    }\n\n    var rect = {x: layoutOffset, y: layoutOffsetUpper, width: width, height: height};\n    var rowFixedLength = mathMin$4(width, height);\n    var best = Infinity; // the best row score so far\n    var row = [];\n    row.area = 0;\n\n    for (var i = 0, len = viewChildren.length; i < len;) {\n        var child = viewChildren[i];\n\n        row.push(child);\n        row.area += child.getLayout().area;\n        var score = worst(row, rowFixedLength, options.squareRatio);\n\n        // continue with this orientation\n        if (score <= best) {\n            i++;\n            best = score;\n        }\n        // abort, and try a different orientation\n        else {\n            row.area -= row.pop().getLayout().area;\n            position(row, rowFixedLength, rect, halfGapWidth, false);\n            rowFixedLength = mathMin$4(rect.width, rect.height);\n            row.length = row.area = 0;\n            best = Infinity;\n        }\n    }\n\n    if (row.length) {\n        position(row, rowFixedLength, rect, halfGapWidth, true);\n    }\n\n    if (!hideChildren) {\n        var childrenVisibleMin = nodeModel.get('childrenVisibleMin');\n        if (childrenVisibleMin != null && totalArea < childrenVisibleMin) {\n            hideChildren = true;\n        }\n    }\n\n    for (var i = 0, len = viewChildren.length; i < len; i++) {\n        squarify(viewChildren[i], options, hideChildren, depth + 1);\n    }\n}\n\n/**\n * Set area to each child, and calculate data extent for visual coding.\n */\nfunction initChildren(node, nodeModel, totalArea, options, hideChildren, depth) {\n    var viewChildren = node.children || [];\n    var orderBy = options.sort;\n    orderBy !== 'asc' && orderBy !== 'desc' && (orderBy = null);\n\n    var overLeafDepth = options.leafDepth != null && options.leafDepth <= depth;\n\n    // leafDepth has higher priority.\n    if (hideChildren && !overLeafDepth) {\n        return (node.viewChildren = []);\n    }\n\n    // Sort children, order by desc.\n    viewChildren = filter(viewChildren, function (child) {\n        return !child.isRemoved();\n    });\n\n    sort$1(viewChildren, orderBy);\n\n    var info = statistic(nodeModel, viewChildren, orderBy);\n\n    if (info.sum === 0) {\n        return (node.viewChildren = []);\n    }\n\n    info.sum = filterByThreshold(nodeModel, totalArea, info.sum, orderBy, viewChildren);\n\n    if (info.sum === 0) {\n        return (node.viewChildren = []);\n    }\n\n    // Set area to each child.\n    for (var i = 0, len = viewChildren.length; i < len; i++) {\n        var area = viewChildren[i].getValue() / info.sum * totalArea;\n        // Do not use setLayout({...}, true), because it is needed to clear last layout.\n        viewChildren[i].setLayout({area: area});\n    }\n\n    if (overLeafDepth) {\n        viewChildren.length && node.setLayout({isLeafRoot: true}, true);\n        viewChildren.length = 0;\n    }\n\n    node.viewChildren = viewChildren;\n    node.setLayout({dataExtent: info.dataExtent}, true);\n\n    return viewChildren;\n}\n\n/**\n * Consider 'visibleMin'. Modify viewChildren and get new sum.\n */\nfunction filterByThreshold(nodeModel, totalArea, sum, orderBy, orderedChildren) {\n\n    // visibleMin is not supported yet when no option.sort.\n    if (!orderBy) {\n        return sum;\n    }\n\n    var visibleMin = nodeModel.get('visibleMin');\n    var len = orderedChildren.length;\n    var deletePoint = len;\n\n    // Always travel from little value to big value.\n    for (var i = len - 1; i >= 0; i--) {\n        var value = orderedChildren[\n            orderBy === 'asc' ? len - i - 1 : i\n        ].getValue();\n\n        if (value / sum * totalArea < visibleMin) {\n            deletePoint = i;\n            sum -= value;\n        }\n    }\n\n    orderBy === 'asc'\n        ? orderedChildren.splice(0, len - deletePoint)\n        : orderedChildren.splice(deletePoint, len - deletePoint);\n\n    return sum;\n}\n\n/**\n * Sort\n */\nfunction sort$1(viewChildren, orderBy) {\n    if (orderBy) {\n        viewChildren.sort(function (a, b) {\n            var diff = orderBy === 'asc'\n                ?  a.getValue() - b.getValue() : b.getValue() - a.getValue();\n            return diff === 0\n                ? (orderBy === 'asc'\n                    ? a.dataIndex - b.dataIndex : b.dataIndex - a.dataIndex\n                )\n                : diff;\n        });\n    }\n    return viewChildren;\n}\n\n/**\n * Statistic\n */\nfunction statistic(nodeModel, children, orderBy) {\n    // Calculate sum.\n    var sum = 0;\n    for (var i = 0, len = children.length; i < len; i++) {\n        sum += children[i].getValue();\n    }\n\n    // Statistic data extent for latter visual coding.\n    // Notice: data extent should be calculate based on raw children\n    // but not filtered view children, otherwise visual mapping will not\n    // be stable when zoom (where children is filtered by visibleMin).\n\n    var dimension = nodeModel.get('visualDimension');\n    var dataExtent;\n\n    // The same as area dimension.\n    if (!children || !children.length) {\n        dataExtent = [NaN, NaN];\n    }\n    else if (dimension === 'value' && orderBy) {\n        dataExtent = [\n            children[children.length - 1].getValue(),\n            children[0].getValue()\n        ];\n        orderBy === 'asc' && dataExtent.reverse();\n    }\n    // Other dimension.\n    else {\n        var dataExtent = [Infinity, -Infinity];\n        each$13(children, function (child) {\n            var value = child.getValue(dimension);\n            value < dataExtent[0] && (dataExtent[0] = value);\n            value > dataExtent[1] && (dataExtent[1] = value);\n        });\n    }\n\n    return {sum: sum, dataExtent: dataExtent};\n}\n\n/**\n * Computes the score for the specified row,\n * as the worst aspect ratio.\n */\nfunction worst(row, rowFixedLength, ratio) {\n    var areaMax = 0;\n    var areaMin = Infinity;\n\n    for (var i = 0, area, len = row.length; i < len; i++) {\n        area = row[i].getLayout().area;\n        if (area) {\n            area < areaMin && (areaMin = area);\n            area > areaMax && (areaMax = area);\n        }\n    }\n\n    var squareArea = row.area * row.area;\n    var f = rowFixedLength * rowFixedLength * ratio;\n\n    return squareArea\n        ? mathMax$4(\n            (f * areaMax) / squareArea,\n            squareArea / (f * areaMin)\n        )\n        : Infinity;\n}\n\n/**\n * Positions the specified row of nodes. Modifies `rect`.\n */\nfunction position(row, rowFixedLength, rect, halfGapWidth, flush) {\n    // When rowFixedLength === rect.width,\n    // it is horizontal subdivision,\n    // rowFixedLength is the width of the subdivision,\n    // rowOtherLength is the height of the subdivision,\n    // and nodes will be positioned from left to right.\n\n    // wh[idx0WhenH] means: when horizontal,\n    //      wh[idx0WhenH] => wh[0] => 'width'.\n    //      xy[idx1WhenH] => xy[1] => 'y'.\n    var idx0WhenH = rowFixedLength === rect.width ? 0 : 1;\n    var idx1WhenH = 1 - idx0WhenH;\n    var xy = ['x', 'y'];\n    var wh = ['width', 'height'];\n\n    var last = rect[xy[idx0WhenH]];\n    var rowOtherLength = rowFixedLength\n        ? row.area / rowFixedLength : 0;\n\n    if (flush || rowOtherLength > rect[wh[idx1WhenH]]) {\n        rowOtherLength = rect[wh[idx1WhenH]]; // over+underflow\n    }\n    for (var i = 0, rowLen = row.length; i < rowLen; i++) {\n        var node = row[i];\n        var nodeLayout = {};\n        var step = rowOtherLength\n            ? node.getLayout().area / rowOtherLength : 0;\n\n        var wh1 = nodeLayout[wh[idx1WhenH]] = mathMax$4(rowOtherLength - 2 * halfGapWidth, 0);\n\n        // We use Math.max/min to avoid negative width/height when considering gap width.\n        var remain = rect[xy[idx0WhenH]] + rect[wh[idx0WhenH]] - last;\n        var modWH = (i === rowLen - 1 || remain < step) ? remain : step;\n        var wh0 = nodeLayout[wh[idx0WhenH]] = mathMax$4(modWH - 2 * halfGapWidth, 0);\n\n        nodeLayout[xy[idx1WhenH]] = rect[xy[idx1WhenH]] + mathMin$4(halfGapWidth, wh1 / 2);\n        nodeLayout[xy[idx0WhenH]] = last + mathMin$4(halfGapWidth, wh0 / 2);\n\n        last += modWH;\n        node.setLayout(nodeLayout, true);\n    }\n\n    rect[xy[idx1WhenH]] += rowOtherLength;\n    rect[wh[idx1WhenH]] -= rowOtherLength;\n}\n\n// Return [containerWidth, containerHeight] as defualt.\nfunction estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) {\n    // If targetInfo.node exists, we zoom to the node,\n    // so estimate whold width and heigth by target node.\n    var currNode = (targetInfo || {}).node;\n    var defaultSize = [containerWidth, containerHeight];\n\n    if (!currNode || currNode === viewRoot) {\n        return defaultSize;\n    }\n\n    var parent;\n    var viewArea = containerWidth * containerHeight;\n    var area = viewArea * seriesModel.option.zoomToNodeRatio;\n\n    while (parent = currNode.parentNode) { // jshint ignore:line\n        var sum = 0;\n        var siblings = parent.children;\n\n        for (var i = 0, len = siblings.length; i < len; i++) {\n            sum += siblings[i].getValue();\n        }\n        var currNodeValue = currNode.getValue();\n        if (currNodeValue === 0) {\n            return defaultSize;\n        }\n        area *= sum / currNodeValue;\n\n        // Considering border, suppose aspect ratio is 1.\n        var parentModel = parent.getModel();\n        var borderWidth = parentModel.get(PATH_BORDER_WIDTH);\n        var upperHeight = Math.max(borderWidth, getUpperLabelHeight(parentModel, borderWidth));\n        area += 4 * borderWidth * borderWidth\n            + (3 * borderWidth + upperHeight) * Math.pow(area, 0.5);\n\n        area > MAX_SAFE_INTEGER && (area = MAX_SAFE_INTEGER);\n\n        currNode = parent;\n    }\n\n    area < viewArea && (area = viewArea);\n    var scale = Math.pow(area / viewArea, 0.5);\n\n    return [containerWidth * scale, containerHeight * scale];\n}\n\n// Root postion base on coord of containerGroup\nfunction calculateRootPosition(layoutInfo, rootRect, targetInfo) {\n    if (rootRect) {\n        return {x: rootRect.x, y: rootRect.y};\n    }\n\n    var defaultPosition = {x: 0, y: 0};\n    if (!targetInfo) {\n        return defaultPosition;\n    }\n\n    // If targetInfo is fetched by 'retrieveTargetInfo',\n    // old tree and new tree are the same tree,\n    // so the node still exists and we can visit it.\n\n    var targetNode = targetInfo.node;\n    var layout = targetNode.getLayout();\n\n    if (!layout) {\n        return defaultPosition;\n    }\n\n    // Transform coord from local to container.\n    var targetCenter = [layout.width / 2, layout.height / 2];\n    var node = targetNode;\n    while (node) {\n        var nodeLayout = node.getLayout();\n        targetCenter[0] += nodeLayout.x;\n        targetCenter[1] += nodeLayout.y;\n        node = node.parentNode;\n    }\n\n    return {\n        x: layoutInfo.width / 2 - targetCenter[0],\n        y: layoutInfo.height / 2 - targetCenter[1]\n    };\n}\n\n// Mark nodes visible for prunning when visual coding and rendering.\n// Prunning depends on layout and root position, so we have to do it after layout.\nfunction prunning(node, clipRect, viewAbovePath, viewRoot, depth) {\n    var nodeLayout = node.getLayout();\n    var nodeInViewAbovePath = viewAbovePath[depth];\n    var isAboveViewRoot = nodeInViewAbovePath && nodeInViewAbovePath === node;\n\n    if (\n        (nodeInViewAbovePath && !isAboveViewRoot)\n        || (depth === viewAbovePath.length && node !== viewRoot)\n    ) {\n        return;\n    }\n\n    node.setLayout({\n        // isInView means: viewRoot sub tree + viewAbovePath\n        isInView: true,\n        // invisible only means: outside view clip so that the node can not\n        // see but still layout for animation preparation but not render.\n        invisible: !isAboveViewRoot && !clipRect.intersect(nodeLayout),\n        isAboveViewRoot: isAboveViewRoot\n    }, true);\n\n    // Transform to child coordinate.\n    var childClipRect = new BoundingRect(\n        clipRect.x - nodeLayout.x,\n        clipRect.y - nodeLayout.y,\n        clipRect.width,\n        clipRect.height\n    );\n\n    each$13(node.viewChildren || [], function (child) {\n        prunning(child, childClipRect, viewAbovePath, viewRoot, depth + 1);\n    });\n}\n\nfunction getUpperLabelHeight(model) {\n    return model.get(PATH_UPPER_LABEL_SHOW) ? model.get(PATH_UPPER_LABEL_HEIGHT) : 0;\n}\n\nregisterVisual(treemapVisual);\nregisterLayout(treemapLayout);\n\n/**\n * Graph data structure\n *\n * @module echarts/data/Graph\n * @author Yi Shen(https://www.github.com/pissang)\n */\n\n// id may be function name of Object, add a prefix to avoid this problem.\nfunction generateNodeKey (id) {\n    return '_EC_' + id;\n}\n/**\n * @alias module:echarts/data/Graph\n * @constructor\n * @param {boolean} directed\n */\nvar Graph = function(directed) {\n    /**\n     * \n     * @type {boolean}\n     * @private\n     */\n    this._directed = directed || false;\n\n    /**\n     * @type {Array.<module:echarts/data/Graph.Node>}\n     * @readOnly\n     */\n    this.nodes = [];\n\n    /**\n     * @type {Array.<module:echarts/data/Graph.Edge>}\n     * @readOnly\n     */\n    this.edges = [];\n\n    /**\n     * @type {Object.<string, module:echarts/data/Graph.Node>}\n     * @private\n     */\n    this._nodesMap = {};\n    /**\n     * @type {Object.<string, module:echarts/data/Graph.Edge>}\n     * @private\n     */\n    this._edgesMap = {};\n\n    /**\n     * @type {module:echarts/data/List}\n     * @readOnly\n     */\n    this.data;\n\n    /**\n     * @type {module:echarts/data/List}\n     * @readOnly\n     */\n    this.edgeData;\n};\n\nvar graphProto = Graph.prototype;\n/**\n * @type {string}\n */\ngraphProto.type = 'graph';\n\n/**\n * If is directed graph\n * @return {boolean}\n */\ngraphProto.isDirected = function () {\n    return this._directed;\n};\n\n/**\n * Add a new node\n * @param {string} id\n * @param {number} [dataIndex]\n */\ngraphProto.addNode = function (id, dataIndex) {\n    id = id || ('' + dataIndex);\n\n    var nodesMap = this._nodesMap;\n\n    if (nodesMap[generateNodeKey(id)]) {\n        if (__DEV__) {\n            console.error('Graph nodes have duplicate name or id');\n        }\n        return;\n    }\n\n    var node = new Node(id, dataIndex);\n    node.hostGraph = this;\n\n    this.nodes.push(node);\n\n    nodesMap[generateNodeKey(id)] = node;\n    return node;\n};\n\n/**\n * Get node by data index\n * @param  {number} dataIndex\n * @return {module:echarts/data/Graph~Node}\n */\ngraphProto.getNodeByIndex = function (dataIndex) {\n    var rawIdx = this.data.getRawIndex(dataIndex);\n    return this.nodes[rawIdx];\n};\n/**\n * Get node by id\n * @param  {string} id\n * @return {module:echarts/data/Graph.Node}\n */\ngraphProto.getNodeById = function (id) {\n    return this._nodesMap[generateNodeKey(id)];\n};\n\n/**\n * Add a new edge\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {number} [dataIndex=-1]\n * @return {module:echarts/data/Graph.Edge}\n */\ngraphProto.addEdge = function (n1, n2, dataIndex) {\n    var nodesMap = this._nodesMap;\n    var edgesMap = this._edgesMap;\n\n    // PNEDING\n    if (typeof n1 === 'number') {\n        n1 = this.nodes[n1];\n    }\n    if (typeof n2 === 'number') {\n        n2 = this.nodes[n2];\n    }\n\n    if (!(n1 instanceof Node)) {\n        n1 = nodesMap[generateNodeKey(n1)];\n    }\n    if (!(n2 instanceof Node)) {\n        n2 = nodesMap[generateNodeKey(n2)];\n    }\n    if (!n1 || !n2) {\n        return;\n    }\n\n    var key = n1.id + '-' + n2.id;\n    // PENDING\n    if (edgesMap[key]) {\n        return;\n    }\n\n    var edge = new Edge(n1, n2, dataIndex);\n    edge.hostGraph = this;\n\n    if (this._directed) {\n        n1.outEdges.push(edge);\n        n2.inEdges.push(edge);\n    }\n    n1.edges.push(edge);\n    if (n1 !== n2) {\n        n2.edges.push(edge);\n    }\n\n    this.edges.push(edge);\n    edgesMap[key] = edge;\n\n    return edge;\n};\n\n/**\n * Get edge by data index\n * @param  {number} dataIndex\n * @return {module:echarts/data/Graph~Node}\n */\ngraphProto.getEdgeByIndex = function (dataIndex) {\n    var rawIdx = this.edgeData.getRawIndex(dataIndex);\n    return this.edges[rawIdx];\n};\n/**\n * Get edge by two linked nodes\n * @param  {module:echarts/data/Graph.Node|string} n1\n * @param  {module:echarts/data/Graph.Node|string} n2\n * @return {module:echarts/data/Graph.Edge}\n */\ngraphProto.getEdge = function (n1, n2) {\n    if (n1 instanceof Node) {\n        n1 = n1.id;\n    }\n    if (n2 instanceof Node) {\n        n2 = n2.id;\n    }\n\n    var edgesMap = this._edgesMap;\n\n    if (this._directed) {\n        return edgesMap[n1 + '-' + n2];\n    } else {\n        return edgesMap[n1 + '-' + n2]\n            || edgesMap[n2 + '-' + n1];\n    }\n};\n\n/**\n * Iterate all nodes\n * @param  {Function} cb\n * @param  {*} [context]\n */\ngraphProto.eachNode = function (cb, context) {\n    var nodes = this.nodes;\n    var len = nodes.length;\n    for (var i = 0; i < len; i++) {\n        if (nodes[i].dataIndex >= 0) {\n            cb.call(context, nodes[i], i);\n        }\n    }\n};\n\n/**\n * Iterate all edges\n * @param  {Function} cb\n * @param  {*} [context]\n */\ngraphProto.eachEdge = function (cb, context) {\n    var edges = this.edges;\n    var len = edges.length;\n    for (var i = 0; i < len; i++) {\n        if (edges[i].dataIndex >= 0\n            && edges[i].node1.dataIndex >= 0\n            && edges[i].node2.dataIndex >= 0\n        ) {\n            cb.call(context, edges[i], i);\n        }\n    }\n};\n\n/**\n * Breadth first traverse\n * @param {Function} cb\n * @param {module:echarts/data/Graph.Node} startNode\n * @param {string} [direction='none'] 'none'|'in'|'out'\n * @param {*} [context]\n */\ngraphProto.breadthFirstTraverse = function (\n    cb, startNode, direction, context\n) {\n    if (!(startNode instanceof Node)) {\n        startNode = this._nodesMap[generateNodeKey(startNode)];\n    }\n    if (!startNode) {\n        return;\n    }\n\n    var edgeType = direction === 'out'\n        ? 'outEdges' : (direction === 'in' ? 'inEdges' : 'edges');\n\n    for (var i = 0; i < this.nodes.length; i++) {\n        this.nodes[i].__visited = false;\n    }\n\n    if (cb.call(context, startNode, null)) {\n        return;\n    }\n\n    var queue = [startNode];\n    while (queue.length) {\n        var currentNode = queue.shift();\n        var edges = currentNode[edgeType];\n\n        for (var i = 0; i < edges.length; i++) {\n            var e = edges[i];\n            var otherNode = e.node1 === currentNode\n                ? e.node2 : e.node1;\n            if (!otherNode.__visited) {\n                if (cb.call(context, otherNode, currentNode)) {\n                    // Stop traversing\n                    return;\n                }\n                queue.push(otherNode);\n                otherNode.__visited = true;\n            }\n        }\n    }\n};\n\n// TODO\n// graphProto.depthFirstTraverse = function (\n//     cb, startNode, direction, context\n// ) {\n\n// };\n\n// Filter update\ngraphProto.update = function () {\n    var data = this.data;\n    var edgeData = this.edgeData;\n    var nodes = this.nodes;\n    var edges = this.edges;\n\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        nodes[i].dataIndex = -1;\n    }\n    for (var i = 0, len = data.count(); i < len; i++) {\n        nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n\n    edgeData.filterSelf(function (idx) {\n        var edge = edges[edgeData.getRawIndex(idx)];\n        return edge.node1.dataIndex >= 0 && edge.node2.dataIndex >= 0;\n    });\n\n    // Update edge\n    for (var i = 0, len = edges.length; i < len; i++) {\n        edges[i].dataIndex = -1;\n    }\n    for (var i = 0, len = edgeData.count(); i < len; i++) {\n        edges[edgeData.getRawIndex(i)].dataIndex = i;\n    }\n};\n\n/**\n * @return {module:echarts/data/Graph}\n */\ngraphProto.clone = function () {\n    var graph = new Graph(this._directed);\n    var nodes = this.nodes;\n    var edges = this.edges;\n    for (var i = 0; i < nodes.length; i++) {\n        graph.addNode(nodes[i].id, nodes[i].dataIndex);\n    }\n    for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n        graph.addEdge(e.node1.id, e.node2.id, e.dataIndex);\n    }\n    return graph;\n};\n\n\n/**\n * @alias module:echarts/data/Graph.Node\n */\nfunction Node(id, dataIndex) {\n    /**\n    * @type {string}\n    */\n    this.id = id == null ? '' : id;\n\n    /**\n    * @type {Array.<module:echarts/data/Graph.Edge>}\n    */\n    this.inEdges = [];\n    /**\n    * @type {Array.<module:echarts/data/Graph.Edge>}\n    */\n    this.outEdges = [];\n    /**\n    * @type {Array.<module:echarts/data/Graph.Edge>}\n    */\n    this.edges = [];\n    /**\n     * @type {module:echarts/data/Graph}\n     */\n    this.hostGraph;\n\n    /**\n     * @type {number}\n     */\n    this.dataIndex = dataIndex == null ? -1 : dataIndex;\n}\n\nNode.prototype = {\n\n    constructor: Node,\n\n    /**\n     * @return {number}\n     */\n    degree: function () {\n        return this.edges.length;\n    },\n\n    /**\n     * @return {number}\n     */\n    inDegree: function () {\n        return this.inEdges.length;\n    },\n\n    /**\n    * @return {number}\n    */\n    outDegree: function () {\n        return this.outEdges.length;\n    },\n\n    /**\n     * @param {string} [path]\n     * @return {module:echarts/model/Model}\n     */\n    getModel: function (path) {\n        if (this.dataIndex < 0) {\n            return;\n        }\n        var graph = this.hostGraph;\n        var itemModel = graph.data.getItemModel(this.dataIndex);\n\n        return itemModel.getModel(path);\n    }\n};\n\n/**\n * \n * @alias module:echarts/data/Graph.Edge\n * @param {module:echarts/data/Graph.Node} n1\n * @param {module:echarts/data/Graph.Node} n2\n * @param {number} [dataIndex=-1]\n */\nfunction Edge(n1, n2, dataIndex) {\n\n    /**\n     * 1\n     * @type {module:echarts/data/Graph.Node}\n     */\n    this.node1 = n1;\n\n    /**\n     * 2\n     * @type {module:echarts/data/Graph.Node}\n     */\n    this.node2 = n2;\n\n    this.dataIndex = dataIndex == null ? -1 : dataIndex;\n}\n\n/**\n * @param {string} [path]\n * @return {module:echarts/model/Model}\n */\n    Edge.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n        return;\n    }\n    var graph = this.hostGraph;\n    var itemModel = graph.edgeData.getItemModel(this.dataIndex);\n\n    return itemModel.getModel(path);\n};\n\nvar createGraphDataProxyMixin = function (hostName, dataName) {\n    return {\n        /**\n         * @param {string=} [dimension='value'] Default 'value'. can be 'a', 'b', 'c', 'd', 'e'.\n         * @return {number}\n         */\n        getValue: function (dimension) {\n            var data = this[hostName][dataName];\n            return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n        },\n\n        /**\n         * @param {Object|string} key\n         * @param {*} [value]\n         */\n        setVisual: function (key, value) {\n            this.dataIndex >= 0\n                && this[hostName][dataName].setItemVisual(this.dataIndex, key, value);\n        },\n\n        /**\n         * @param {string} key\n         * @return {boolean}\n         */\n        getVisual: function (key, ignoreParent) {\n            return this[hostName][dataName].getItemVisual(this.dataIndex, key, ignoreParent);\n        },\n\n        /**\n         * @param {Object} layout\n         * @return {boolean} [merge=false]\n         */\n        setLayout: function (layout, merge$$1) {\n            this.dataIndex >= 0\n                && this[hostName][dataName].setItemLayout(this.dataIndex, layout, merge$$1);\n        },\n\n        /**\n         * @return {Object}\n         */\n        getLayout: function () {\n            return this[hostName][dataName].getItemLayout(this.dataIndex);\n        },\n\n        /**\n         * @return {module:zrender/Element}\n         */\n        getGraphicEl: function () {\n            return this[hostName][dataName].getItemGraphicEl(this.dataIndex);\n        },\n\n        /**\n         * @return {number}\n         */\n        getRawIndex: function () {\n            return this[hostName][dataName].getRawIndex(this.dataIndex);\n        }\n    };\n};\n\nmixin(Node, createGraphDataProxyMixin('hostGraph', 'data'));\nmixin(Edge, createGraphDataProxyMixin('hostGraph', 'edgeData'));\n\nGraph.Node = Node;\nGraph.Edge = Edge;\n\nvar createGraphFromNodeEdge = function (nodes, edges, hostModel, directed, beforeLink) {\n    var graph = new Graph(directed);\n    for (var i = 0; i < nodes.length; i++) {\n        graph.addNode(retrieve(\n            // Id, name, dataIndex\n            nodes[i].id, nodes[i].name, i\n        ), i);\n    }\n\n    var linkNameList = [];\n    var validEdges = [];\n    var linkCount = 0;\n    for (var i = 0; i < edges.length; i++) {\n        var link = edges[i];\n        var source = link.source;\n        var target = link.target;\n        // addEdge may fail when source or target not exists\n        if (graph.addEdge(source, target, linkCount)) {\n            validEdges.push(link);\n            linkNameList.push(retrieve(link.id, source + ' > ' + target));\n            linkCount++;\n        }\n    }\n\n    var coordSys = hostModel.get('coordinateSystem');\n    var nodeData;\n    if (coordSys === 'cartesian2d' || coordSys === 'polar') {\n        nodeData = createListFromArray(nodes, hostModel, hostModel.ecModel);\n    }\n    else {\n        // FIXME\n        var coordSysCtor = CoordinateSystemManager.get(coordSys);\n        // FIXME\n        var dimensionNames = completeDimensions(\n            ((coordSysCtor && coordSysCtor.type !== 'view') ? (coordSysCtor.dimensions || []) : []).concat(['value']),\n            nodes\n        );\n        nodeData = new List(dimensionNames, hostModel);\n        nodeData.initData(nodes);\n    }\n\n    var edgeData = new List(['value'], hostModel);\n    edgeData.initData(validEdges, linkNameList);\n\n    beforeLink && beforeLink(nodeData, edgeData);\n\n    linkList({\n        mainData: nodeData,\n        struct: graph,\n        structAttr: 'graph',\n        datas: {node: nodeData, edge: edgeData},\n        datasAttr: {node: 'data', edge: 'edgeData'}\n    });\n\n    // Update dataIndex of nodes and edges because invalid edge may be removed\n    graph.update();\n\n    return graph;\n};\n\nvar GraphSeries = extendSeriesModel({\n\n    type: 'series.graph',\n\n    init: function (option) {\n        GraphSeries.superApply(this, 'init', arguments);\n\n        // Provide data for legend select\n        this.legendDataProvider = function () {\n            return this._categoriesData;\n        };\n\n        this.fillDataTextStyle(option.edges || option.links);\n\n        this._updateCategoriesData();\n    },\n\n    mergeOption: function (option) {\n        GraphSeries.superApply(this, 'mergeOption', arguments);\n\n        this.fillDataTextStyle(option.edges || option.links);\n\n        this._updateCategoriesData();\n    },\n\n    mergeDefaultAndTheme: function (option) {\n        GraphSeries.superApply(this, 'mergeDefaultAndTheme', arguments);\n        defaultEmphasis(option.edgeLabel, ['show']);\n    },\n\n    getInitialData: function (option, ecModel) {\n        var edges = option.edges || option.links || [];\n        var nodes = option.data || option.nodes || [];\n        var self = this;\n\n        if (nodes && edges) {\n            return createGraphFromNodeEdge(nodes, edges, this, true, beforeLink).data;\n        }\n\n        function beforeLink(nodeData, edgeData) {\n            // Overwrite nodeData.getItemModel to\n            nodeData.wrapMethod('getItemModel', function (model) {\n                var categoriesModels = self._categoriesModels;\n                var categoryIdx = model.getShallow('category');\n                var categoryModel = categoriesModels[categoryIdx];\n                if (categoryModel) {\n                    categoryModel.parentModel = model.parentModel;\n                    model.parentModel = categoryModel;\n                }\n                return model;\n            });\n\n            var edgeLabelModel = self.getModel('edgeLabel');\n            // For option `edgeLabel` can be found by label.xxx.xxx on item mode.\n            var fakeSeriesModel = new Model(\n                {label: edgeLabelModel.option},\n                edgeLabelModel.parentModel,\n                ecModel\n            );\n\n            edgeData.wrapMethod('getItemModel', function (model) {\n                model.customizeGetParent(edgeGetParent);\n                return model;\n            });\n\n            function edgeGetParent(path) {\n                path = this.parsePath(path);\n                return (path && path[0] === 'label')\n                    ? fakeSeriesModel\n                    : this.parentModel;\n            }\n        }\n    },\n\n    /**\n     * @return {module:echarts/data/Graph}\n     */\n    getGraph: function () {\n        return this.getData().graph;\n    },\n\n    /**\n     * @return {module:echarts/data/List}\n     */\n    getEdgeData: function () {\n        return this.getGraph().edgeData;\n    },\n\n    /**\n     * @return {module:echarts/data/List}\n     */\n    getCategoriesData: function () {\n        return this._categoriesData;\n    },\n\n    /**\n     * @override\n     */\n    formatTooltip: function (dataIndex, multipleSeries, dataType) {\n        if (dataType === 'edge') {\n            var nodeData = this.getData();\n            var params = this.getDataParams(dataIndex, dataType);\n            var edge = nodeData.graph.getEdgeByIndex(dataIndex);\n            var sourceName = nodeData.getName(edge.node1.dataIndex);\n            var targetName = nodeData.getName(edge.node2.dataIndex);\n\n            var html = [];\n            sourceName != null && html.push(sourceName);\n            targetName != null && html.push(targetName);\n            html = encodeHTML(html.join(' > '));\n\n            if (params.value) {\n                html += ' : ' + encodeHTML(params.value);\n            }\n            return html;\n        }\n        else { // dataType === 'node' or empty\n            return GraphSeries.superApply(this, 'formatTooltip', arguments);\n        }\n    },\n\n    _updateCategoriesData: function () {\n        var categories = map(this.option.categories || [], function (category) {\n            // Data must has value\n            return category.value != null ? category : extend({\n                value: 0\n            }, category);\n        });\n        var categoriesData = new List(['value'], this);\n        categoriesData.initData(categories);\n\n        this._categoriesData = categoriesData;\n\n        this._categoriesModels = categoriesData.mapArray(function (idx) {\n            return categoriesData.getItemModel(idx, true);\n        });\n    },\n\n    setZoom: function (zoom) {\n        this.option.zoom = zoom;\n    },\n\n    setCenter: function (center) {\n        this.option.center = center;\n    },\n\n    isAnimationEnabled: function () {\n        return GraphSeries.superCall(this, 'isAnimationEnabled')\n            // Not enable animation when do force layout\n            && !(this.get('layout') === 'force' && this.get('force.layoutAnimation'));\n    },\n\n    defaultOption: {\n        zlevel: 0,\n        z: 2,\n\n        coordinateSystem: 'view',\n\n        // Default option for all coordinate systems\n        // xAxisIndex: 0,\n        // yAxisIndex: 0,\n        // polarIndex: 0,\n        // geoIndex: 0,\n\n        legendHoverLink: true,\n\n        hoverAnimation: true,\n\n        layout: null,\n\n        focusNodeAdjacency: false,\n\n        // Configuration of circular layout\n        circular: {\n            rotateLabel: false\n        },\n        // Configuration of force directed layout\n        force: {\n            initLayout: null,\n            // Node repulsion. Can be an array to represent range.\n            repulsion: [0, 50],\n            gravity: 0.1,\n\n            // Edge length. Can be an array to represent range.\n            edgeLength: 30,\n\n            layoutAnimation: true\n        },\n\n        left: 'center',\n        top: 'center',\n        // right: null,\n        // bottom: null,\n        // width: '80%',\n        // height: '80%',\n\n        symbol: 'circle',\n        symbolSize: 10,\n\n        edgeSymbol: ['none', 'none'],\n        edgeSymbolSize: 10,\n        edgeLabel: {\n            normal: {\n                position: 'middle'\n            },\n            emphasis: {}\n        },\n\n        draggable: false,\n\n        roam: false,\n\n        // Default on center of graph\n        center: null,\n\n        zoom: 1,\n        // Symbol size scale ratio in roam\n        nodeScaleRatio: 0.6,\n        // cursor: null,\n\n        // categories: [],\n\n        // data: []\n        // Or\n        // nodes: []\n        //\n        // links: []\n        // Or\n        // edges: []\n\n        label: {\n            normal: {\n                show: false,\n                formatter: '{b}'\n            },\n            emphasis: {\n                show: true\n            }\n        },\n\n        itemStyle: {\n            normal: {},\n            emphasis: {}\n        },\n\n        lineStyle: {\n            normal: {\n                color: '#aaa',\n                width: 1,\n                curveness: 0,\n                opacity: 0.5\n            },\n            emphasis: {}\n        }\n    }\n});\n\n/**\n * Line path for bezier and straight line draw\n */\n\nvar straightLineProto = Line.prototype;\nvar bezierCurveProto = BezierCurve.prototype;\n\nfunction isLine(shape) {\n    return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n}\n\nvar LinePath = extendShape({\n\n    type: 'ec-line',\n\n    style: {\n        stroke: '#000',\n        fill: null\n    },\n\n    shape: {\n        x1: 0,\n        y1: 0,\n        x2: 0,\n        y2: 0,\n        percent: 1,\n        cpx1: null,\n        cpy1: null\n    },\n\n    buildPath: function (ctx, shape) {\n        (isLine(shape) ? straightLineProto : bezierCurveProto).buildPath(ctx, shape);\n    },\n\n    pointAt: function (t) {\n        return isLine(this.shape)\n            ? straightLineProto.pointAt.call(this, t)\n            : bezierCurveProto.pointAt.call(this, t);\n    },\n\n    tangentAt: function (t) {\n        var shape = this.shape;\n        var p = isLine(shape)\n            ? [shape.x2 - shape.x1, shape.y2 - shape.y1]\n            : bezierCurveProto.tangentAt.call(this, t);\n        return normalize(p, p);\n    }\n});\n\n/**\n * @module echarts/chart/helper/Line\n */\n\nvar SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\n\nfunction makeSymbolTypeKey(symbolCategory) {\n    return '_' + symbolCategory + 'Type';\n}\n/**\n * @inner\n */\nfunction createSymbol$1(name, lineData, idx) {\n    var color = lineData.getItemVisual(idx, 'color');\n    var symbolType = lineData.getItemVisual(idx, name);\n    var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n\n    if (!symbolType || symbolType === 'none') {\n        return;\n    }\n\n    if (!isArray(symbolSize)) {\n        symbolSize = [symbolSize, symbolSize];\n    }\n    var symbolPath = createSymbol(\n        symbolType, -symbolSize[0] / 2, -symbolSize[1] / 2,\n        symbolSize[0], symbolSize[1], color\n    );\n\n    symbolPath.name = name;\n\n    return symbolPath;\n}\n\nfunction createLine(points) {\n    var line = new LinePath({\n        name: 'line'\n    });\n    setLinePoints(line.shape, points);\n    return line;\n}\n\nfunction setLinePoints(targetShape, points) {\n    var p1 = points[0];\n    var p2 = points[1];\n    var cp1 = points[2];\n    targetShape.x1 = p1[0];\n    targetShape.y1 = p1[1];\n    targetShape.x2 = p2[0];\n    targetShape.y2 = p2[1];\n    targetShape.percent = 1;\n\n    if (cp1) {\n        targetShape.cpx1 = cp1[0];\n        targetShape.cpy1 = cp1[1];\n    }\n    else {\n        targetShape.cpx1 = NaN;\n        targetShape.cpy1 = NaN;\n    }\n}\n\nfunction updateSymbolAndLabelBeforeLineUpdate () {\n    var lineGroup = this;\n    var symbolFrom = lineGroup.childOfName('fromSymbol');\n    var symbolTo = lineGroup.childOfName('toSymbol');\n    var label = lineGroup.childOfName('label');\n    // Quick reject\n    if (!symbolFrom && !symbolTo && label.ignore) {\n        return;\n    }\n\n    var invScale = 1;\n    var parentNode = this.parent;\n    while (parentNode) {\n        if (parentNode.scale) {\n            invScale /= parentNode.scale[0];\n        }\n        parentNode = parentNode.parent;\n    }\n\n    var line = lineGroup.childOfName('line');\n    // If line not changed\n    // FIXME Parent scale changed\n    if (!this.__dirty && !line.__dirty) {\n        return;\n    }\n\n    var percent = line.shape.percent;\n    var fromPos = line.pointAt(0);\n    var toPos = line.pointAt(percent);\n\n    var d = sub([], toPos, fromPos);\n    normalize(d, d);\n\n    if (symbolFrom) {\n        symbolFrom.attr('position', fromPos);\n        var tangent = line.tangentAt(0);\n        symbolFrom.attr('rotation', Math.PI / 2 - Math.atan2(\n            tangent[1], tangent[0]\n        ));\n        symbolFrom.attr('scale', [invScale * percent, invScale * percent]);\n    }\n    if (symbolTo) {\n        symbolTo.attr('position', toPos);\n        var tangent = line.tangentAt(1);\n        symbolTo.attr('rotation', -Math.PI / 2 - Math.atan2(\n            tangent[1], tangent[0]\n        ));\n        symbolTo.attr('scale', [invScale * percent, invScale * percent]);\n    }\n\n    if (!label.ignore) {\n        label.attr('position', toPos);\n\n        var textPosition;\n        var textAlign;\n        var textVerticalAlign;\n\n        var distance$$1 = 5 * invScale;\n        // End\n        if (label.__position === 'end') {\n            textPosition = [d[0] * distance$$1 + toPos[0], d[1] * distance$$1 + toPos[1]];\n            textAlign = d[0] > 0.8 ? 'left' : (d[0] < -0.8 ? 'right' : 'center');\n            textVerticalAlign = d[1] > 0.8 ? 'top' : (d[1] < -0.8 ? 'bottom' : 'middle');\n        }\n        // Middle\n        else if (label.__position === 'middle') {\n            var halfPercent = percent / 2;\n            var tangent = line.tangentAt(halfPercent);\n            var n = [tangent[1], -tangent[0]];\n            var cp = line.pointAt(halfPercent);\n            if (n[1] > 0) {\n                n[0] = -n[0];\n                n[1] = -n[1];\n            }\n            textPosition = [cp[0] + n[0] * distance$$1, cp[1] + n[1] * distance$$1];\n            textAlign = 'center';\n            textVerticalAlign = 'bottom';\n            var rotation = -Math.atan2(tangent[1], tangent[0]);\n            if (toPos[0] < fromPos[0]) {\n                rotation = Math.PI + rotation;\n            }\n            label.attr('rotation', rotation);\n        }\n        // Start\n        else {\n            textPosition = [-d[0] * distance$$1 + fromPos[0], -d[1] * distance$$1 + fromPos[1]];\n            textAlign = d[0] > 0.8 ? 'right' : (d[0] < -0.8 ? 'left' : 'center');\n            textVerticalAlign = d[1] > 0.8 ? 'bottom' : (d[1] < -0.8 ? 'top' : 'middle');\n        }\n        label.attr({\n            style: {\n                // Use the user specified text align and baseline first\n                textVerticalAlign: label.__verticalAlign || textVerticalAlign,\n                textAlign: label.__textAlign || textAlign\n            },\n            position: textPosition,\n            scale: [invScale, invScale]\n        });\n    }\n}\n\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Line}\n */\nfunction Line$1(lineData, idx, seriesScope) {\n    Group.call(this);\n\n    this._createLine(lineData, idx, seriesScope);\n}\n\nvar lineProto = Line$1.prototype;\n\n// Update symbol position and rotation\nlineProto.beforeUpdate = updateSymbolAndLabelBeforeLineUpdate;\n\nlineProto._createLine = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var linePoints = lineData.getItemLayout(idx);\n\n    var line = createLine(linePoints);\n    line.shape.percent = 0;\n    initProps(line, {\n        shape: {\n            percent: 1\n        }\n    }, seriesModel, idx);\n\n    this.add(line);\n\n    var label = new Text({\n        name: 'label'\n    });\n    this.add(label);\n\n    each$1(SYMBOL_CATEGORIES, function (symbolCategory) {\n        var symbol = createSymbol$1(symbolCategory, lineData, idx);\n        // symbols must added after line to make sure\n        // it will be updated after line#update.\n        // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n        this.add(symbol);\n        this[makeSymbolTypeKey(symbolCategory)] = lineData.getItemVisual(idx, symbolCategory);\n    }, this);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n};\n\nlineProto.updateData = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n\n    var line = this.childOfName('line');\n    var linePoints = lineData.getItemLayout(idx);\n    var target = {\n        shape: {}\n    };\n    setLinePoints(target.shape, linePoints);\n    updateProps(line, target, seriesModel, idx);\n\n    each$1(SYMBOL_CATEGORIES, function (symbolCategory) {\n        var symbolType = lineData.getItemVisual(idx, symbolCategory);\n        var key = makeSymbolTypeKey(symbolCategory);\n        // Symbol changed\n        if (this[key] !== symbolType) {\n            this.remove(this.childOfName(symbolCategory));\n            var symbol = createSymbol$1(symbolCategory, lineData, idx);\n            this.add(symbol);\n        }\n        this[key] = symbolType;\n    }, this);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n};\n\nlineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n\n    var line = this.childOfName('line');\n\n    var lineStyle = seriesScope && seriesScope.lineStyle;\n    var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n    var labelModel = seriesScope && seriesScope.labelModel;\n    var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n\n    // Optimization for large dataset\n    if (!seriesScope || lineData.hasItemOption) {\n        var itemModel = lineData.getItemModel(idx);\n\n        lineStyle = itemModel.getModel('lineStyle.normal').getLineStyle();\n        hoverLineStyle = itemModel.getModel('lineStyle.emphasis').getLineStyle();\n\n        labelModel = itemModel.getModel('label.normal');\n        hoverLabelModel = itemModel.getModel('label.emphasis');\n    }\n\n    var visualColor = lineData.getItemVisual(idx, 'color');\n    var visualOpacity = retrieve3(\n        lineData.getItemVisual(idx, 'opacity'),\n        lineStyle.opacity,\n        1\n    );\n\n    line.useStyle(defaults(\n        {\n            strokeNoScale: true,\n            fill: 'none',\n            stroke: visualColor,\n            opacity: visualOpacity\n        },\n        lineStyle\n    ));\n    line.hoverStyle = hoverLineStyle;\n\n    // Update symbol\n    each$1(SYMBOL_CATEGORIES, function (symbolCategory) {\n        var symbol = this.childOfName(symbolCategory);\n        if (symbol) {\n            symbol.setColor(visualColor);\n            symbol.setStyle({\n                opacity: visualOpacity\n            });\n        }\n    }, this);\n\n    var showLabel = labelModel.getShallow('show');\n    var hoverShowLabel = hoverLabelModel.getShallow('show');\n\n    var label = this.childOfName('label');\n    var defaultLabelColor;\n    var defaultText;\n    var normalText;\n    var emphasisText;\n\n    if (showLabel || hoverShowLabel) {\n        var rawVal = seriesModel.getRawValue(idx);\n        defaultText = rawVal == null\n            ? defaultText = lineData.getName(idx)\n            : isFinite(rawVal)\n            ? round(rawVal)\n            : rawVal;\n        defaultLabelColor = visualColor || '#000';\n\n        normalText = retrieve2(\n            seriesModel.getFormattedLabel(idx, 'normal', lineData.dataType),\n            defaultText\n        );\n        emphasisText = retrieve2(\n            seriesModel.getFormattedLabel(idx, 'emphasis', lineData.dataType),\n            normalText\n        );\n    }\n\n    // label.afterUpdate = lineAfterUpdate;\n    if (showLabel) {\n        var labelStyle = setTextStyle(label.style, labelModel, {\n            text: normalText\n        }, {\n            autoColor: defaultLabelColor\n        });\n\n        label.__textAlign = labelStyle.textAlign;\n        label.__verticalAlign = labelStyle.textVerticalAlign;\n        // 'start', 'middle', 'end'\n        label.__position = labelModel.get('position') || 'middle';\n    }\n    else {\n        label.setStyle('text', null);\n    }\n\n    if (hoverShowLabel) {\n        // Only these properties supported in this emphasis style here.\n        label.hoverStyle = {\n            text: emphasisText,\n            textFill: hoverLabelModel.getTextColor(true),\n            // For merging hover style to normal style, do not use\n            // `hoverLabelModel.getFont()` here.\n            fontStyle: hoverLabelModel.getShallow('fontStyle'),\n            fontWeight: hoverLabelModel.getShallow('fontWeight'),\n            fontSize: hoverLabelModel.getShallow('fontSize'),\n            fontFamily: hoverLabelModel.getShallow('fontFamily')\n        };\n    }\n    else {\n        label.hoverStyle = {\n            text: null\n        };\n    }\n\n    label.ignore = !showLabel && !hoverShowLabel;\n\n    setHoverStyle(this);\n};\n\nlineProto.highlight = function () {\n    this.trigger('emphasis');\n};\n\nlineProto.downplay = function () {\n    this.trigger('normal');\n};\n\nlineProto.updateLayout = function (lineData, idx) {\n    this.setLinePoints(lineData.getItemLayout(idx));\n};\n\nlineProto.setLinePoints = function (points) {\n    var linePath = this.childOfName('line');\n    setLinePoints(linePath.shape, points);\n    linePath.dirty();\n};\n\ninherits(Line$1, Group);\n\n/**\n * @module echarts/chart/helper/LineDraw\n */\n\nfunction isPointNaN(pt) {\n    return isNaN(pt[0]) || isNaN(pt[1]);\n}\nfunction lineNeedsDraw(pts) {\n    return !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n}\n/**\n * @alias module:echarts/component/marker/LineDraw\n * @constructor\n */\nfunction LineDraw(ctor) {\n    this._ctor = ctor || Line$1;\n    this.group = new Group();\n}\n\nvar lineDrawProto = LineDraw.prototype;\n\n/**\n * @param {module:echarts/data/List} lineData\n */\nlineDrawProto.updateData = function (lineData) {\n\n    var oldLineData = this._lineData;\n    var group = this.group;\n    var LineCtor = this._ctor;\n\n    var hostModel = lineData.hostModel;\n\n    var seriesScope = {\n        lineStyle: hostModel.getModel('lineStyle.normal').getLineStyle(),\n        hoverLineStyle: hostModel.getModel('lineStyle.emphasis').getLineStyle(),\n        labelModel: hostModel.getModel('label.normal'),\n        hoverLabelModel: hostModel.getModel('label.emphasis')\n    };\n\n    lineData.diff(oldLineData)\n        .add(function (idx) {\n            if (!lineNeedsDraw(lineData.getItemLayout(idx))) {\n                return;\n            }\n            var lineGroup = new LineCtor(lineData, idx, seriesScope);\n\n            lineData.setItemGraphicEl(idx, lineGroup);\n\n            group.add(lineGroup);\n        })\n        .update(function (newIdx, oldIdx) {\n            var lineGroup = oldLineData.getItemGraphicEl(oldIdx);\n            if (!lineNeedsDraw(lineData.getItemLayout(newIdx))) {\n                group.remove(lineGroup);\n                return;\n            }\n\n            if (!lineGroup) {\n                lineGroup = new LineCtor(lineData, newIdx, seriesScope);\n            }\n            else {\n                lineGroup.updateData(lineData, newIdx, seriesScope);\n            }\n\n            lineData.setItemGraphicEl(newIdx, lineGroup);\n\n            group.add(lineGroup);\n        })\n        .remove(function (idx) {\n            group.remove(oldLineData.getItemGraphicEl(idx));\n        })\n        .execute();\n\n    this._lineData = lineData;\n};\n\nlineDrawProto.updateLayout = function () {\n    var lineData = this._lineData;\n    lineData.eachItemGraphicEl(function (el, idx) {\n        el.updateLayout(lineData, idx);\n    }, this);\n};\n\nlineDrawProto.remove = function () {\n    this.group.removeAll();\n};\n\nvar v1 = [];\nvar v2 = [];\nvar v3 = [];\nvar quadraticAt$1 = quadraticAt;\nvar v2DistSquare = distSquare;\nvar mathAbs$1 = Math.abs;\nfunction intersectCurveCircle(curvePoints, center, radius) {\n    var p0 = curvePoints[0];\n    var p1 = curvePoints[1];\n    var p2 = curvePoints[2];\n\n    var d = Infinity;\n    var t;\n    var radiusSquare = radius * radius;\n    var interval = 0.1;\n\n    for (var _t = 0.1; _t <= 0.9; _t += 0.1) {\n        v1[0] = quadraticAt$1(p0[0], p1[0], p2[0], _t);\n        v1[1] = quadraticAt$1(p0[1], p1[1], p2[1], _t);\n        var diff = mathAbs$1(v2DistSquare(v1, center) - radiusSquare);\n        if (diff < d) {\n            d = diff;\n            t = _t;\n        }\n    }\n\n    // Assume the segment is monotoneFind root through Bisection method\n    // At most 32 iteration\n    for (var i = 0; i < 32; i++) {\n        // var prev = t - interval;\n        var next = t + interval;\n        // v1[0] = quadraticAt(p0[0], p1[0], p2[0], prev);\n        // v1[1] = quadraticAt(p0[1], p1[1], p2[1], prev);\n        v2[0] = quadraticAt$1(p0[0], p1[0], p2[0], t);\n        v2[1] = quadraticAt$1(p0[1], p1[1], p2[1], t);\n        v3[0] = quadraticAt$1(p0[0], p1[0], p2[0], next);\n        v3[1] = quadraticAt$1(p0[1], p1[1], p2[1], next);\n\n        var diff = v2DistSquare(v2, center) - radiusSquare;\n        if (mathAbs$1(diff) < 1e-2) {\n            break;\n        }\n\n        // var prevDiff = v2DistSquare(v1, center) - radiusSquare;\n        var nextDiff = v2DistSquare(v3, center) - radiusSquare;\n\n        interval /= 2;\n        if (diff < 0) {\n            if (nextDiff >= 0) {\n                t = t + interval;\n            }\n            else {\n                t = t - interval;\n            }\n        }\n        else {\n            if (nextDiff >= 0) {\n                t = t - interval;\n            }\n            else {\n                t = t + interval;\n            }\n        }\n    }\n\n    return t;\n}\n\n// Adjust edge to avoid\nvar adjustEdge = function (graph, scale$$1) {\n    var tmp0 = [];\n    var quadraticSubdivide$$1 = quadraticSubdivide;\n    var pts = [[], [], []];\n    var pts2 = [[], []];\n    var v = [];\n    scale$$1 /= 2;\n\n    function getSymbolSize(node) {\n        var symbolSize = node.getVisual('symbolSize');\n        if (symbolSize instanceof Array) {\n            symbolSize = (symbolSize[0] + symbolSize[1]) / 2;\n        }\n        return symbolSize;\n    }\n    graph.eachEdge(function (edge, idx) {\n        var linePoints = edge.getLayout();\n        var fromSymbol = edge.getVisual('fromSymbol');\n        var toSymbol = edge.getVisual('toSymbol');\n\n        if (!linePoints.__original) {\n            linePoints.__original = [\n                clone$1(linePoints[0]),\n                clone$1(linePoints[1])\n            ];\n            if (linePoints[2]) {\n                linePoints.__original.push(clone$1(linePoints[2]));\n            }\n        }\n        var originalPoints = linePoints.__original;\n        // Quadratic curve\n        if (linePoints[2] != null) {\n            copy(pts[0], originalPoints[0]);\n            copy(pts[1], originalPoints[2]);\n            copy(pts[2], originalPoints[1]);\n            if (fromSymbol && fromSymbol != 'none') {\n                var symbolSize = getSymbolSize(edge.node1);\n\n                var t = intersectCurveCircle(pts, originalPoints[0], symbolSize * scale$$1);\n                // Subdivide and get the second\n                quadraticSubdivide$$1(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n                pts[0][0] = tmp0[3];\n                pts[1][0] = tmp0[4];\n                quadraticSubdivide$$1(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n                pts[0][1] = tmp0[3];\n                pts[1][1] = tmp0[4];\n            }\n            if (toSymbol && toSymbol != 'none') {\n                var symbolSize = getSymbolSize(edge.node2);\n\n                var t = intersectCurveCircle(pts, originalPoints[1], symbolSize * scale$$1);\n                // Subdivide and get the first\n                quadraticSubdivide$$1(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n                pts[1][0] = tmp0[1];\n                pts[2][0] = tmp0[2];\n                quadraticSubdivide$$1(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n                pts[1][1] = tmp0[1];\n                pts[2][1] = tmp0[2];\n            }\n            // Copy back to layout\n            copy(linePoints[0], pts[0]);\n            copy(linePoints[1], pts[2]);\n            copy(linePoints[2], pts[1]);\n        }\n        // Line\n        else {\n            copy(pts2[0], originalPoints[0]);\n            copy(pts2[1], originalPoints[1]);\n\n            sub(v, pts2[1], pts2[0]);\n            normalize(v, v);\n            if (fromSymbol && fromSymbol != 'none') {\n\n                var symbolSize = getSymbolSize(edge.node1);\n\n                scaleAndAdd(pts2[0], pts2[0], v, symbolSize * scale$$1);\n            }\n            if (toSymbol && toSymbol != 'none') {\n                var symbolSize = getSymbolSize(edge.node2);\n\n                scaleAndAdd(pts2[1], pts2[1], v, -symbolSize * scale$$1);\n            }\n            copy(linePoints[0], pts2[0]);\n            copy(linePoints[1], pts2[1]);\n        }\n    });\n};\n\nvar nodeOpacityPath = ['itemStyle', 'normal', 'opacity'];\nvar lineOpacityPath = ['lineStyle', 'normal', 'opacity'];\n\nfunction getItemOpacity(item, opacityPath) {\n    return item.getVisual('opacity') || item.getModel().get(opacityPath);\n}\n\nfunction fadeOutItem(item, opacityPath, opacityRatio) {\n    var el = item.getGraphicEl();\n\n    var opacity = getItemOpacity(item, opacityPath);\n    if (opacityRatio != null) {\n        opacity == null && (opacity = 1);\n        opacity *= opacityRatio;\n    }\n\n    el.downplay && el.downplay();\n    el.traverse(function (child) {\n        if (child.type !== 'group') {\n            child.setStyle('opacity', opacity);\n        }\n    });\n}\n\nfunction fadeInItem(item, opacityPath) {\n    var opacity = getItemOpacity(item, opacityPath);\n    var el = item.getGraphicEl();\n\n    el.highlight && el.highlight();\n    el.traverse(function (child) {\n        if (child.type !== 'group') {\n            child.setStyle('opacity', opacity);\n        }\n    });\n}\n\nextendChartView({\n\n    type: 'graph',\n\n    init: function (ecModel, api) {\n        var symbolDraw = new SymbolDraw();\n        var lineDraw = new LineDraw();\n        var group = this.group;\n\n        this._controller = new RoamController(api.getZr());\n        this._controllerHost = {target: group};\n\n        group.add(symbolDraw.group);\n        group.add(lineDraw.group);\n\n        this._symbolDraw = symbolDraw;\n        this._lineDraw = lineDraw;\n\n        this._firstRender = true;\n    },\n\n    render: function (seriesModel, ecModel, api) {\n        var coordSys = seriesModel.coordinateSystem;\n\n        this._model = seriesModel;\n        this._nodeScaleRatio = seriesModel.get('nodeScaleRatio');\n\n        var symbolDraw = this._symbolDraw;\n        var lineDraw = this._lineDraw;\n\n        var group = this.group;\n\n        if (coordSys.type === 'view') {\n            var groupNewProp = {\n                position: coordSys.position,\n                scale: coordSys.scale\n            };\n            if (this._firstRender) {\n                group.attr(groupNewProp);\n            }\n            else {\n                updateProps(group, groupNewProp, seriesModel);\n            }\n        }\n        // Fix edge contact point with node\n        adjustEdge(seriesModel.getGraph(), this._getNodeGlobalScale(seriesModel));\n\n        var data = seriesModel.getData();\n        symbolDraw.updateData(data);\n\n        var edgeData = seriesModel.getEdgeData();\n        lineDraw.updateData(edgeData);\n\n        this._updateNodeAndLinkScale();\n\n        this._updateController(seriesModel, ecModel, api);\n\n        clearTimeout(this._layoutTimeout);\n        var forceLayout = seriesModel.forceLayout;\n        var layoutAnimation = seriesModel.get('force.layoutAnimation');\n        if (forceLayout) {\n            this._startForceLayoutIteration(forceLayout, layoutAnimation);\n        }\n\n        data.eachItemGraphicEl(function (el, idx) {\n            var itemModel = data.getItemModel(idx);\n            // Update draggable\n            el.off('drag').off('dragend');\n            var draggable = data.getItemModel(idx).get('draggable');\n            if (draggable) {\n                el.on('drag', function () {\n                    if (forceLayout) {\n                        forceLayout.warmUp();\n                        !this._layouting\n                            && this._startForceLayoutIteration(forceLayout, layoutAnimation);\n                        forceLayout.setFixed(idx);\n                        // Write position back to layout\n                        data.setItemLayout(idx, el.position);\n                    }\n                }, this).on('dragend', function () {\n                    if (forceLayout) {\n                        forceLayout.setUnfixed(idx);\n                    }\n                }, this);\n            }\n            el.setDraggable(draggable && forceLayout);\n\n            el.off('mouseover', el.__focusNodeAdjacency);\n            el.off('mouseout', el.__unfocusNodeAdjacency);\n\n            if (itemModel.get('focusNodeAdjacency')) {\n                el.on('mouseover', el.__focusNodeAdjacency = function () {\n                    api.dispatchAction({\n                        type: 'focusNodeAdjacency',\n                        seriesId: seriesModel.id,\n                        dataIndex: el.dataIndex\n                    });\n                });\n                el.on('mouseout', el.__unfocusNodeAdjacency = function () {\n                    api.dispatchAction({\n                        type: 'unfocusNodeAdjacency',\n                        seriesId: seriesModel.id\n                    });\n                });\n\n            }\n\n        }, this);\n\n        data.graph.eachEdge(function (edge) {\n            var el = edge.getGraphicEl();\n\n            el.off('mouseover', el.__focusNodeAdjacency);\n            el.off('mouseout', el.__unfocusNodeAdjacency);\n\n            if (edge.getModel().get('focusNodeAdjacency')) {\n                el.on('mouseover', el.__focusNodeAdjacency = function () {\n                    api.dispatchAction({\n                        type: 'focusNodeAdjacency',\n                        seriesId: seriesModel.id,\n                        edgeDataIndex: edge.dataIndex\n                    });\n                });\n                el.on('mouseout', el.__unfocusNodeAdjacency = function () {\n                    api.dispatchAction({\n                        type: 'unfocusNodeAdjacency',\n                        seriesId: seriesModel.id\n                    });\n                });\n            }\n        });\n\n        var circularRotateLabel = seriesModel.get('layout') === 'circular'\n            && seriesModel.get('circular.rotateLabel');\n        var cx = data.getLayout('cx');\n        var cy = data.getLayout('cy');\n        data.eachItemGraphicEl(function (el, idx) {\n            var symbolPath = el.getSymbolPath();\n            if (circularRotateLabel) {\n                var pos = data.getItemLayout(idx);\n                var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n                if (rad < 0) {\n                    rad = Math.PI * 2 + rad;\n                }\n                var isLeft = pos[0] < cx;\n                if (isLeft) {\n                    rad = rad - Math.PI;\n                }\n                var textPosition = isLeft ? 'left' : 'right';\n                symbolPath.setStyle({\n                    textRotation: -rad,\n                    textPosition: textPosition,\n                    textOrigin: 'center'\n                });\n                symbolPath.hoverStyle && (symbolPath.hoverStyle.textPosition = textPosition);\n            }\n            else {\n                symbolPath.setStyle({\n                    textRotation: 0\n                });\n            }\n        });\n\n        this._firstRender = false;\n    },\n\n    dispose: function () {\n        this._controller && this._controller.dispose();\n        this._controllerHost = {};\n    },\n\n    focusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n        var data = this._model.getData();\n        var graph = data.graph;\n        var dataIndex = payload.dataIndex;\n        var edgeDataIndex = payload.edgeDataIndex;\n\n        var node = graph.getNodeByIndex(dataIndex);\n        var edge = graph.getEdgeByIndex(edgeDataIndex);\n\n        if (!node && !edge) {\n            return;\n        }\n\n        graph.eachNode(function (node) {\n            fadeOutItem(node, nodeOpacityPath, 0.1);\n        });\n        graph.eachEdge(function (edge) {\n            fadeOutItem(edge, lineOpacityPath, 0.1);\n        });\n\n        if (node) {\n            fadeInItem(node, nodeOpacityPath);\n            each$1(node.edges, function (adjacentEdge) {\n                if (adjacentEdge.dataIndex < 0) {\n                    return;\n                }\n                fadeInItem(adjacentEdge, lineOpacityPath);\n                fadeInItem(adjacentEdge.node1, nodeOpacityPath);\n                fadeInItem(adjacentEdge.node2, nodeOpacityPath);\n            });\n        }\n        if (edge) {\n            fadeInItem(edge, lineOpacityPath);\n            fadeInItem(edge.node1, nodeOpacityPath);\n            fadeInItem(edge.node2, nodeOpacityPath);\n        }\n    },\n\n    unfocusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n        var graph = this._model.getData().graph;\n\n        graph.eachNode(function (node) {\n            fadeOutItem(node, nodeOpacityPath);\n        });\n        graph.eachEdge(function (edge) {\n            fadeOutItem(edge, lineOpacityPath);\n        });\n    },\n\n    _startForceLayoutIteration: function (forceLayout, layoutAnimation) {\n        var self = this;\n        (function step() {\n            forceLayout.step(function (stopped) {\n                self.updateLayout(self._model);\n                (self._layouting = !stopped) && (\n                    layoutAnimation\n                        ? (self._layoutTimeout = setTimeout(step, 16))\n                        : step()\n                );\n            });\n        })();\n    },\n\n    _updateController: function (seriesModel, ecModel, api) {\n        var controller = this._controller;\n        var controllerHost = this._controllerHost;\n        var group = this.group;\n\n        controller.setPointerChecker(function (e, x, y) {\n            var rect = group.getBoundingRect();\n            rect.applyTransform(group.transform);\n            return rect.contain(x, y)\n                && !onIrrelevantElement(e, api, seriesModel);\n        });\n\n        if (seriesModel.coordinateSystem.type !== 'view') {\n            controller.disable();\n            return;\n        }\n        controller.enable(seriesModel.get('roam'));\n        controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n        controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n\n        controller\n            .off('pan')\n            .off('zoom')\n            .on('pan', function (dx, dy) {\n                updateViewOnPan(controllerHost, dx, dy);\n                api.dispatchAction({\n                    seriesId: seriesModel.id,\n                    type: 'graphRoam',\n                    dx: dx,\n                    dy: dy\n                });\n            })\n            .on('zoom', function (zoom, mouseX, mouseY) {\n                updateViewOnZoom(controllerHost, zoom, mouseX, mouseY);\n                api.dispatchAction({\n                    seriesId: seriesModel.id,\n                    type: 'graphRoam',\n                    zoom:  zoom,\n                    originX: mouseX,\n                    originY: mouseY\n                });\n                this._updateNodeAndLinkScale();\n                adjustEdge(seriesModel.getGraph(), this._getNodeGlobalScale(seriesModel));\n                this._lineDraw.updateLayout();\n            }, this);\n    },\n\n    _updateNodeAndLinkScale: function () {\n        var seriesModel = this._model;\n        var data = seriesModel.getData();\n\n        var nodeScale = this._getNodeGlobalScale(seriesModel);\n        var invScale = [nodeScale, nodeScale];\n\n        data.eachItemGraphicEl(function (el, idx) {\n            el.attr('scale', invScale);\n        });\n    },\n\n    _getNodeGlobalScale: function (seriesModel) {\n        var coordSys = seriesModel.coordinateSystem;\n        if (coordSys.type !== 'view') {\n            return 1;\n        }\n\n        var nodeScaleRatio = this._nodeScaleRatio;\n\n        var groupScale = coordSys.scale;\n        var groupZoom = (groupScale && groupScale[0]) || 1;\n        // Scale node when zoom changes\n        var roamZoom = coordSys.getZoom();\n        var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n\n        return nodeScale / groupZoom;\n    },\n\n    updateLayout: function (seriesModel) {\n        adjustEdge(seriesModel.getGraph(), this._getNodeGlobalScale(seriesModel));\n\n        this._symbolDraw.updateLayout();\n        this._lineDraw.updateLayout();\n    },\n\n    remove: function (ecModel, api) {\n        this._symbolDraw && this._symbolDraw.remove();\n        this._lineDraw && this._lineDraw.remove();\n    }\n});\n\nvar actionInfo = {\n    type: 'graphRoam',\n    event: 'graphRoam',\n    update: 'none'\n};\n\n/**\n * @payload\n * @property {string} name Series name\n * @property {number} [dx]\n * @property {number} [dy]\n * @property {number} [zoom]\n * @property {number} [originX]\n * @property {number} [originY]\n */\nregisterAction(actionInfo, function (payload, ecModel) {\n    ecModel.eachComponent({mainType: 'series', query: payload}, function (seriesModel) {\n        var coordSys = seriesModel.coordinateSystem;\n\n        var res = updateCenterAndZoom(coordSys, payload);\n\n        seriesModel.setCenter\n            && seriesModel.setCenter(res.center);\n\n        seriesModel.setZoom\n            && seriesModel.setZoom(res.zoom);\n    });\n});\n\n\n/**\n * @payload\n * @property {number} [seriesIndex]\n * @property {string} [seriesId]\n * @property {string} [seriesName]\n * @property {number} [dataIndex]\n */\nregisterAction({\n    type: 'focusNodeAdjacency',\n    event: 'focusNodeAdjacency',\n    update: 'series.graph:focusNodeAdjacency'\n}, function () {});\n\n/**\n * @payload\n * @property {number} [seriesIndex]\n * @property {string} [seriesId]\n * @property {string} [seriesName]\n */\nregisterAction({\n    type: 'unfocusNodeAdjacency',\n    event: 'unfocusNodeAdjacency',\n    update: 'series.graph:unfocusNodeAdjacency'\n}, function () {});\n\nvar categoryFilter = function (ecModel) {\n    var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n    });\n    if (!legendModels || !legendModels.length) {\n        return;\n    }\n    ecModel.eachSeriesByType('graph', function (graphSeries) {\n        var categoriesData = graphSeries.getCategoriesData();\n        var graph = graphSeries.getGraph();\n        var data = graph.data;\n\n        var categoryNames = categoriesData.mapArray(categoriesData.getName);\n\n        data.filterSelf(function (idx) {\n            var model = data.getItemModel(idx);\n            var category = model.getShallow('category');\n            if (category != null) {\n                if (typeof category === 'number') {\n                    category = categoryNames[category];\n                }\n                // If in any legend component the status is not selected.\n                for (var i = 0; i < legendModels.length; i++) {\n                    if (!legendModels[i].isSelected(category)) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        });\n    }, this);\n};\n\nvar categoryVisual = function (ecModel) {\n\n    var paletteScope = {};\n    ecModel.eachSeriesByType('graph', function (seriesModel) {\n        var categoriesData = seriesModel.getCategoriesData();\n        var data = seriesModel.getData();\n\n        var categoryNameIdxMap = {};\n\n        categoriesData.each(function (idx) {\n            var name = categoriesData.getName(idx);\n            // Add prefix to avoid conflict with Object.prototype.\n            categoryNameIdxMap['ec-' + name] = idx;\n\n            var itemModel = categoriesData.getItemModel(idx);\n            var color = itemModel.get('itemStyle.normal.color')\n                || seriesModel.getColorFromPalette(name, paletteScope);\n            categoriesData.setItemVisual(idx, 'color', color);\n        });\n\n        // Assign category color to visual\n        if (categoriesData.count()) {\n            data.each(function (idx) {\n                var model = data.getItemModel(idx);\n                var category = model.getShallow('category');\n                if (category != null) {\n                    if (typeof category === 'string') {\n                        category = categoryNameIdxMap['ec-' + category];\n                    }\n                    if (!data.getItemVisual(idx, 'color', true)) {\n                        data.setItemVisual(\n                            idx, 'color',\n                            categoriesData.getItemVisual(category, 'color')\n                        );\n                    }\n                }\n            });\n        }\n    });\n};\n\nfunction normalize$1(a) {\n    if (!(a instanceof Array)) {\n        a = [a, a];\n    }\n    return a;\n}\n\nvar edgeVisual = function (ecModel) {\n    ecModel.eachSeriesByType('graph', function (seriesModel) {\n        var graph = seriesModel.getGraph();\n        var edgeData = seriesModel.getEdgeData();\n        var symbolType = normalize$1(seriesModel.get('edgeSymbol'));\n        var symbolSize = normalize$1(seriesModel.get('edgeSymbolSize'));\n\n        var colorQuery = 'lineStyle.normal.color'.split('.');\n        var opacityQuery = 'lineStyle.normal.opacity'.split('.');\n\n        edgeData.setVisual('fromSymbol', symbolType && symbolType[0]);\n        edgeData.setVisual('toSymbol', symbolType && symbolType[1]);\n        edgeData.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n        edgeData.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n        edgeData.setVisual('color', seriesModel.get(colorQuery));\n        edgeData.setVisual('opacity', seriesModel.get(opacityQuery));\n\n        edgeData.each(function (idx) {\n            var itemModel = edgeData.getItemModel(idx);\n            var edge = graph.getEdgeByIndex(idx);\n            var symbolType = normalize$1(itemModel.getShallow('symbol', true));\n            var symbolSize = normalize$1(itemModel.getShallow('symbolSize', true));\n            // Edge visual must after node visual\n            var color = itemModel.get(colorQuery);\n            var opacity = itemModel.get(opacityQuery);\n            switch (color) {\n                case 'source':\n                    color = edge.node1.getVisual('color');\n                    break;\n                case 'target':\n                    color = edge.node2.getVisual('color');\n                    break;\n            }\n\n            symbolType[0] && edge.setVisual('fromSymbol', symbolType[0]);\n            symbolType[1] && edge.setVisual('toSymbol', symbolType[1]);\n            symbolSize[0] && edge.setVisual('fromSymbolSize', symbolSize[0]);\n            symbolSize[1] && edge.setVisual('toSymbolSize', symbolSize[1]);\n\n            edge.setVisual('color', color);\n            edge.setVisual('opacity', opacity);\n        });\n    });\n};\n\nfunction simpleLayout$1(seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && coordSys.type !== 'view') {\n        return;\n    }\n    var graph = seriesModel.getGraph();\n\n    graph.eachNode(function (node) {\n        var model = node.getModel();\n        node.setLayout([+model.get('x'), +model.get('y')]);\n    });\n\n    simpleLayoutEdge(graph);\n}\n\nfunction simpleLayoutEdge(graph) {\n    graph.eachEdge(function (edge) {\n        var curveness = edge.getModel().get('lineStyle.normal.curveness') || 0;\n        var p1 = clone$1(edge.node1.getLayout());\n        var p2 = clone$1(edge.node2.getLayout());\n        var points = [p1, p2];\n        if (+curveness) {\n            points.push([\n                (p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * curveness,\n                (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * curveness\n            ]);\n        }\n        edge.setLayout(points);\n    });\n}\n\nvar simpleLayout = function (ecModel, api) {\n    ecModel.eachSeriesByType('graph', function (seriesModel) {\n        var layout = seriesModel.get('layout');\n        var coordSys = seriesModel.coordinateSystem;\n        if (coordSys && coordSys.type !== 'view') {\n            var data = seriesModel.getData();\n            var dimensions = coordSys.dimensions;\n\n            data.each(dimensions, function () {\n                var hasValue;\n                var args = arguments;\n                var value = [];\n                for (var i = 0; i < dimensions.length; i++) {\n                    if (!isNaN(args[i])) {\n                        hasValue = true;\n                    }\n                    value.push(args[i]);\n                }\n                var idx = args[args.length - 1];\n\n                if (hasValue) {\n                    data.setItemLayout(idx, coordSys.dataToPoint(value));\n                }\n                else {\n                    // Also {Array.<number>}, not undefined to avoid if...else... statement\n                    data.setItemLayout(idx, [NaN, NaN]);\n                }\n            });\n\n            simpleLayoutEdge(data.graph);\n        }\n        else if (!layout || layout === 'none') {\n            simpleLayout$1(seriesModel);\n        }\n    });\n};\n\nfunction circularLayout$1(seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && coordSys.type !== 'view') {\n        return;\n    }\n\n    var rect = coordSys.getBoundingRect();\n\n    var nodeData = seriesModel.getData();\n    var graph = nodeData.graph;\n\n    var angle = 0;\n    var sum = nodeData.getSum('value');\n    var unitAngle = Math.PI * 2 / (sum || nodeData.count());\n\n    var cx = rect.width / 2 + rect.x;\n    var cy = rect.height / 2 + rect.y;\n\n    var r = Math.min(rect.width, rect.height) / 2;\n\n    graph.eachNode(function (node) {\n        var value = node.getValue('value');\n\n        angle += unitAngle * (sum ? value : 1) / 2;\n\n        node.setLayout([\n            r * Math.cos(angle) + cx,\n            r * Math.sin(angle) + cy\n        ]);\n\n        angle += unitAngle * (sum ? value : 1) / 2;\n    });\n\n    nodeData.setLayout({\n        cx: cx,\n        cy: cy\n    });\n\n    graph.eachEdge(function (edge) {\n        var curveness = edge.getModel().get('lineStyle.normal.curveness') || 0;\n        var p1 = clone$1(edge.node1.getLayout());\n        var p2 = clone$1(edge.node2.getLayout());\n        var cp1;\n        var x12 = (p1[0] + p2[0]) / 2;\n        var y12 = (p1[1] + p2[1]) / 2;\n        if (+curveness) {\n            curveness *= 3;\n            cp1 = [\n                cx * curveness + x12 * (1 - curveness),\n                cy * curveness + y12 * (1 - curveness)\n            ];\n        }\n        edge.setLayout([p1, p2, cp1]);\n    });\n}\n\nvar circularLayout = function (ecModel) {\n    ecModel.eachSeriesByType('graph', function (seriesModel) {\n        if (seriesModel.get('layout') === 'circular') {\n            circularLayout$1(seriesModel);\n        }\n    });\n};\n\nvar scaleAndAdd$2 = scaleAndAdd;\n\n// function adjacentNode(n, e) {\n//     return e.n1 === n ? e.n2 : e.n1;\n// }\n\nfunction forceLayout$1(nodes, edges, opts) {\n    var rect = opts.rect;\n    var width = rect.width;\n    var height = rect.height;\n    var center = [rect.x + width / 2, rect.y + height / 2];\n    // var scale = opts.scale || 1;\n    var gravity = opts.gravity == null ? 0.1 : opts.gravity;\n\n    // for (var i = 0; i < edges.length; i++) {\n    //     var e = edges[i];\n    //     var n1 = e.n1;\n    //     var n2 = e.n2;\n    //     n1.edges = n1.edges || [];\n    //     n2.edges = n2.edges || [];\n    //     n1.edges.push(e);\n    //     n2.edges.push(e);\n    // }\n    // Init position\n    for (var i = 0; i < nodes.length; i++) {\n        var n = nodes[i];\n        if (!n.p) {\n            // Use the position from first adjecent node with defined position\n            // Or use a random position\n            // From d3\n            // if (n.edges) {\n            //     var j = -1;\n            //     while (++j < n.edges.length) {\n            //         var e = n.edges[j];\n            //         var other = adjacentNode(n, e);\n            //         if (other.p) {\n            //             n.p = vec2.clone(other.p);\n            //             break;\n            //         }\n            //     }\n            // }\n            // if (!n.p) {\n                n.p = create(\n                    width * (Math.random() - 0.5) + center[0],\n                    height * (Math.random() - 0.5) + center[1]\n                );\n            // }\n        }\n        n.pp = clone$1(n.p);\n        n.edges = null;\n    }\n\n    // Formula in 'Graph Drawing by Force-directed Placement'\n    // var k = scale * Math.sqrt(width * height / nodes.length);\n    // var k2 = k * k;\n\n    var friction = 0.6;\n\n    return {\n        warmUp: function () {\n            friction = 0.5;\n        },\n\n        setFixed: function (idx) {\n            nodes[idx].fixed = true;\n        },\n\n        setUnfixed: function (idx) {\n            nodes[idx].fixed = false;\n        },\n\n        step: function (cb) {\n            var v12 = [];\n            var nLen = nodes.length;\n            for (var i = 0; i < edges.length; i++) {\n                var e = edges[i];\n                var n1 = e.n1;\n                var n2 = e.n2;\n\n                sub(v12, n2.p, n1.p);\n                var d = len(v12) - e.d;\n                var w = n2.w / (n1.w + n2.w);\n\n                if (isNaN(w)) {\n                    w = 0;\n                }\n\n                normalize(v12, v12);\n\n                !n1.fixed && scaleAndAdd$2(n1.p, n1.p, v12, w * d * friction);\n                !n2.fixed && scaleAndAdd$2(n2.p, n2.p, v12, -(1 - w) * d * friction);\n            }\n            // Gravity\n            for (var i = 0; i < nLen; i++) {\n                var n = nodes[i];\n                if (!n.fixed) {\n                    sub(v12, center, n.p);\n                    // var d = vec2.len(v12);\n                    // vec2.scale(v12, v12, 1 / d);\n                    // var gravityFactor = gravity;\n                    scaleAndAdd$2(n.p, n.p, v12, gravity * friction);\n                }\n            }\n\n            // Repulsive\n            // PENDING\n            for (var i = 0; i < nLen; i++) {\n                var n1 = nodes[i];\n                for (var j = i + 1; j < nLen; j++) {\n                    var n2 = nodes[j];\n                    sub(v12, n2.p, n1.p);\n                    var d = len(v12);\n                    if (d === 0) {\n                        // Random repulse\n                        set(v12, Math.random() - 0.5, Math.random() - 0.5);\n                        d = 1;\n                    }\n                    var repFact = (n1.rep + n2.rep) / d / d;\n                    !n1.fixed && scaleAndAdd$2(n1.pp, n1.pp, v12, repFact);\n                    !n2.fixed && scaleAndAdd$2(n2.pp, n2.pp, v12, -repFact);\n                }\n            }\n            var v = [];\n            for (var i = 0; i < nLen; i++) {\n                var n = nodes[i];\n                if (!n.fixed) {\n                    sub(v, n.p, n.pp);\n                    scaleAndAdd$2(n.p, n.p, v, friction);\n                    copy(n.pp, n.p);\n                }\n            }\n\n            friction = friction * 0.992;\n\n            cb && cb(nodes, edges, friction < 0.01);\n        }\n    };\n}\n\nvar forceLayout = function (ecModel) {\n    ecModel.eachSeriesByType('graph', function (graphSeries) {\n        var coordSys = graphSeries.coordinateSystem;\n        if (coordSys && coordSys.type !== 'view') {\n            return;\n        }\n        if (graphSeries.get('layout') === 'force') {\n            var preservedPoints = graphSeries.preservedPoints || {};\n            var graph = graphSeries.getGraph();\n            var nodeData = graph.data;\n            var edgeData = graph.edgeData;\n            var forceModel = graphSeries.getModel('force');\n            var initLayout = forceModel.get('initLayout');\n            if (graphSeries.preservedPoints) {\n                nodeData.each(function (idx) {\n                    var id = nodeData.getId(idx);\n                    nodeData.setItemLayout(idx, preservedPoints[id] || [NaN, NaN]);\n                });\n            }\n            else if (!initLayout || initLayout === 'none') {\n                simpleLayout$1(graphSeries);\n            }\n            else if (initLayout === 'circular') {\n                circularLayout$1(graphSeries);\n            }\n\n            var nodeDataExtent = nodeData.getDataExtent('value');\n            var edgeDataExtent = edgeData.getDataExtent('value');\n            // var edgeDataExtent = edgeData.getDataExtent('value');\n            var repulsion = forceModel.get('repulsion');\n            var edgeLength = forceModel.get('edgeLength');\n            if (!isArray(repulsion)) {\n                repulsion = [repulsion, repulsion];\n            }\n            if (!isArray(edgeLength)) {\n                edgeLength = [edgeLength, edgeLength];\n            }\n            // Larger value has smaller length\n            edgeLength = [edgeLength[1], edgeLength[0]];\n\n            var nodes = nodeData.mapArray('value', function (value, idx) {\n                var point = nodeData.getItemLayout(idx);\n                var rep = linearMap(value, nodeDataExtent, repulsion);\n                if (isNaN(rep)) {\n                    rep = (repulsion[0] + repulsion[1]) / 2;\n                }\n                return {\n                    w: rep,\n                    rep: rep,\n                    fixed: nodeData.getItemModel(idx).get('fixed'),\n                    p: (!point || isNaN(point[0]) || isNaN(point[1])) ? null : point\n                };\n            });\n            var edges = edgeData.mapArray('value', function (value, idx) {\n                var edge = graph.getEdgeByIndex(idx);\n                var d = linearMap(value, edgeDataExtent, edgeLength);\n                if (isNaN(d)) {\n                    d = (edgeLength[0] + edgeLength[1]) / 2;\n                }\n                return {\n                    n1: nodes[edge.node1.dataIndex],\n                    n2: nodes[edge.node2.dataIndex],\n                    d: d,\n                    curveness: edge.getModel().get('lineStyle.normal.curveness') || 0\n                };\n            });\n\n            var coordSys = graphSeries.coordinateSystem;\n            var rect = coordSys.getBoundingRect();\n            var forceInstance = forceLayout$1(nodes, edges, {\n                rect: rect,\n                gravity: forceModel.get('gravity')\n            });\n            var oldStep = forceInstance.step;\n            forceInstance.step = function (cb) {\n                for (var i = 0, l = nodes.length; i < l; i++) {\n                    if (nodes[i].fixed) {\n                        // Write back to layout instance\n                        copy(nodes[i].p, graph.getNodeByIndex(i).getLayout());\n                    }\n                }\n                oldStep(function (nodes, edges, stopped) {\n                    for (var i = 0, l = nodes.length; i < l; i++) {\n                        if (!nodes[i].fixed) {\n                            graph.getNodeByIndex(i).setLayout(nodes[i].p);\n                        }\n                        preservedPoints[nodeData.getId(i)] = nodes[i].p;\n                    }\n                    for (var i = 0, l = edges.length; i < l; i++) {\n                        var e = edges[i];\n                        var edge = graph.getEdgeByIndex(i);\n                        var p1 = e.n1.p;\n                        var p2 = e.n2.p;\n                        var points = edge.getLayout();\n                        points = points ? points.slice() : [];\n                        points[0] = points[0] || [];\n                        points[1] = points[1] || [];\n                        copy(points[0], p1);\n                        copy(points[1], p2);\n                        if (+e.curveness) {\n                            points[2] = [\n                                (p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * e.curveness,\n                                (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * e.curveness\n                            ];\n                        }\n                        edge.setLayout(points);\n                    }\n                    // Update layout\n\n                    cb && cb(stopped);\n                });\n            };\n            graphSeries.forceLayout = forceInstance;\n            graphSeries.preservedPoints = preservedPoints;\n\n            // Step to get the layout\n            forceInstance.step();\n        }\n        else {\n            // Remove prev injected forceLayout instance\n            graphSeries.forceLayout = null;\n        }\n    });\n};\n\n// FIXME Where to create the simple view coordinate system\nfunction getViewRect$1(seriesModel, api, aspect) {\n    var option = seriesModel.getBoxLayoutParams();\n    option.aspect = aspect;\n    return getLayoutRect(option, {\n        width: api.getWidth(),\n        height: api.getHeight()\n    });\n}\n\nvar createView = function (ecModel, api) {\n    var viewList = [];\n    ecModel.eachSeriesByType('graph', function (seriesModel) {\n        var coordSysType = seriesModel.get('coordinateSystem');\n        if (!coordSysType || coordSysType === 'view') {\n\n            var data = seriesModel.getData();\n            var positions = data.mapArray(function (idx) {\n                var itemModel = data.getItemModel(idx);\n                return [+itemModel.get('x'), +itemModel.get('y')];\n            });\n\n            var min = [];\n            var max = [];\n\n            fromPoints(positions, min, max);\n\n            // If width or height is 0\n            if (max[0] - min[0] === 0) {\n                max[0] += 1;\n                min[0] -= 1;\n            }\n            if (max[1] - min[1] === 0) {\n                max[1] += 1;\n                min[1] -= 1;\n            }\n            var aspect = (max[0] - min[0]) / (max[1] - min[1]);\n            // FIXME If get view rect after data processed?\n            var viewRect = getViewRect$1(seriesModel, api, aspect);\n            // Position may be NaN, use view rect instead\n            if (isNaN(aspect)) {\n                min = [viewRect.x, viewRect.y];\n                max = [viewRect.x + viewRect.width, viewRect.y + viewRect.height];\n            }\n\n            var bbWidth = max[0] - min[0];\n            var bbHeight = max[1] - min[1];\n\n            var viewWidth = viewRect.width;\n            var viewHeight = viewRect.height;\n\n            var viewCoordSys = seriesModel.coordinateSystem = new View();\n            viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n\n            viewCoordSys.setBoundingRect(\n                min[0], min[1], bbWidth, bbHeight\n            );\n            viewCoordSys.setViewRect(\n                viewRect.x, viewRect.y, viewWidth, viewHeight\n            );\n\n            // Update roam info\n            viewCoordSys.setCenter(seriesModel.get('center'));\n            viewCoordSys.setZoom(seriesModel.get('zoom'));\n\n            viewList.push(viewCoordSys);\n        }\n    });\n\n    return viewList;\n};\n\nregisterProcessor(categoryFilter);\n\nregisterVisual(curry(\n    visualSymbol, 'graph', 'circle', null\n));\nregisterVisual(categoryVisual);\nregisterVisual(edgeVisual);\n\nregisterLayout(simpleLayout);\nregisterLayout(circularLayout);\nregisterLayout(forceLayout);\n\n// Graph view coordinate system\nregisterCoordinateSystem('graphView', {\n    create: createView\n});\n\nvar GaugeSeries = SeriesModel.extend({\n\n    type: 'series.gauge',\n\n    getInitialData: function (option, ecModel) {\n        var list = new List(['value'], this);\n        var dataOpt = option.data || [];\n        if (!isArray(dataOpt)) {\n            dataOpt = [dataOpt];\n        }\n        // Only use the first data item\n        list.initData(dataOpt);\n        return list;\n    },\n\n    defaultOption: {\n        zlevel: 0,\n        z: 2,\n        // \n        center: ['50%', '50%'],\n        legendHoverLink: true,\n        radius: '75%',\n        startAngle: 225,\n        endAngle: -45,\n        clockwise: true,\n        // \n        min: 0,\n        // \n        max: 100,\n        // 10\n        splitNumber: 10,\n        // \n        axisLine: {\n            // show\n            show: true,\n            lineStyle: {       // lineStyle\n                color: [[0.2, '#91c7ae'], [0.8, '#63869e'], [1, '#c23531']],\n                width: 30\n            }\n        },\n        // \n        splitLine: {\n            // show\n            show: true,\n            // length\n            length: 30,\n            // lineStylelineStyle\n            lineStyle: {\n                color: '#eee',\n                width: 2,\n                type: 'solid'\n            }\n        },\n        // \n        axisTick: {\n            // show\n            show: true,\n            // split\n            splitNumber: 5,\n            // length\n            length: 8,\n            // lineStyle\n            lineStyle: {\n                color: '#eee',\n                width: 1,\n                type: 'solid'\n            }\n        },\n        axisLabel: {\n            show: true,\n            distance: 5,\n            // formatter: null,\n            color: 'auto'\n        },\n        pointer: {\n            show: true,\n            length: '80%',\n            width: 8\n        },\n        itemStyle: {\n            normal: {\n                color: 'auto'\n            }\n        },\n        title: {\n            show: true,\n            // x, ypx\n            offsetCenter: [0, '-40%'],\n            // TEXTSTYLE\n            color: '#333',\n            fontSize: 15\n        },\n        detail: {\n            show: true,\n            backgroundColor: 'rgba(0,0,0,0)',\n            borderWidth: 0,\n            borderColor: '#ccc',\n            width: 100,\n            height: null, // self-adaption\n            padding: [5, 10],\n            // x, ypx\n            offsetCenter: [0, '40%'],\n            // formatter: null,\n            // TEXTSTYLE\n            color: 'auto',\n            fontSize: 30\n        }\n    }\n});\n\nvar PointerPath = Path.extend({\n\n    type: 'echartsGaugePointer',\n\n    shape: {\n        angle: 0,\n\n        width: 10,\n\n        r: 10,\n\n        x: 0,\n\n        y: 0\n    },\n\n    buildPath: function (ctx, shape) {\n        var mathCos = Math.cos;\n        var mathSin = Math.sin;\n\n        var r = shape.r;\n        var width = shape.width;\n        var angle = shape.angle;\n        var x = shape.x - mathCos(angle) * width * (width >= r / 3 ? 1 : 2);\n        var y = shape.y - mathSin(angle) * width * (width >= r / 3 ? 1 : 2);\n\n        angle = shape.angle - Math.PI / 2;\n        ctx.moveTo(x, y);\n        ctx.lineTo(\n            shape.x + mathCos(angle) * width,\n            shape.y + mathSin(angle) * width\n        );\n        ctx.lineTo(\n            shape.x + mathCos(shape.angle) * r,\n            shape.y + mathSin(shape.angle) * r\n        );\n        ctx.lineTo(\n            shape.x - mathCos(angle) * width,\n            shape.y - mathSin(angle) * width\n        );\n        ctx.lineTo(x, y);\n        return;\n    }\n});\n\nfunction parsePosition(seriesModel, api) {\n    var center = seriesModel.get('center');\n    var width = api.getWidth();\n    var height = api.getHeight();\n    var size = Math.min(width, height);\n    var cx = parsePercent$1(center[0], api.getWidth());\n    var cy = parsePercent$1(center[1], api.getHeight());\n    var r = parsePercent$1(seriesModel.get('radius'), size / 2);\n\n    return {\n        cx: cx,\n        cy: cy,\n        r: r\n    };\n}\n\nfunction formatLabel(label, labelFormatter) {\n    if (labelFormatter) {\n        if (typeof labelFormatter === 'string') {\n            label = labelFormatter.replace('{value}', label != null ? label : '');\n        }\n        else if (typeof labelFormatter === 'function') {\n            label = labelFormatter(label);\n        }\n    }\n\n    return label;\n}\n\nvar PI2$5 = Math.PI * 2;\n\nvar GaugeView = Chart.extend({\n\n    type: 'gauge',\n\n    render: function (seriesModel, ecModel, api) {\n\n        this.group.removeAll();\n\n        var colorList = seriesModel.get('axisLine.lineStyle.color');\n        var posInfo = parsePosition(seriesModel, api);\n\n        this._renderMain(\n            seriesModel, ecModel, api, colorList, posInfo\n        );\n    },\n\n    dispose: function () {},\n\n    _renderMain: function (seriesModel, ecModel, api, colorList, posInfo) {\n        var group = this.group;\n\n        var axisLineModel = seriesModel.getModel('axisLine');\n        var lineStyleModel = axisLineModel.getModel('lineStyle');\n\n        var clockwise = seriesModel.get('clockwise');\n        var startAngle = -seriesModel.get('startAngle') / 180 * Math.PI;\n        var endAngle = -seriesModel.get('endAngle') / 180 * Math.PI;\n\n        var angleRangeSpan = (endAngle - startAngle) % PI2$5;\n\n        var prevEndAngle = startAngle;\n        var axisLineWidth = lineStyleModel.get('width');\n\n        for (var i = 0; i < colorList.length; i++) {\n            // Clamp\n            var percent = Math.min(Math.max(colorList[i][0], 0), 1);\n            var endAngle = startAngle + angleRangeSpan * percent;\n            var sector = new Sector({\n                shape: {\n                    startAngle: prevEndAngle,\n                    endAngle: endAngle,\n                    cx: posInfo.cx,\n                    cy: posInfo.cy,\n                    clockwise: clockwise,\n                    r0: posInfo.r - axisLineWidth,\n                    r: posInfo.r\n                },\n                silent: true\n            });\n\n            sector.setStyle({\n                fill: colorList[i][1]\n            });\n\n            sector.setStyle(lineStyleModel.getLineStyle(\n                // Because we use sector to simulate arc\n                // so the properties for stroking are useless\n                ['color', 'borderWidth', 'borderColor']\n            ));\n\n            group.add(sector);\n\n            prevEndAngle = endAngle;\n        }\n\n        var getColor = function (percent) {\n            // Less than 0\n            if (percent <= 0) {\n                return colorList[0][1];\n            }\n            for (var i = 0; i < colorList.length; i++) {\n                if (colorList[i][0] >= percent\n                    && (i === 0 ? 0 : colorList[i - 1][0]) < percent\n                ) {\n                    return colorList[i][1];\n                }\n            }\n            // More than 1\n            return colorList[i - 1][1];\n        };\n\n        if (!clockwise) {\n            var tmp = startAngle;\n            startAngle = endAngle;\n            endAngle = tmp;\n        }\n\n        this._renderTicks(\n            seriesModel, ecModel, api, getColor, posInfo,\n            startAngle, endAngle, clockwise\n        );\n\n        this._renderPointer(\n            seriesModel, ecModel, api, getColor, posInfo,\n            startAngle, endAngle, clockwise\n        );\n\n        this._renderTitle(\n            seriesModel, ecModel, api, getColor, posInfo\n        );\n        this._renderDetail(\n            seriesModel, ecModel, api, getColor, posInfo\n        );\n    },\n\n    _renderTicks: function (\n        seriesModel, ecModel, api, getColor, posInfo,\n        startAngle, endAngle, clockwise\n    ) {\n        var group = this.group;\n        var cx = posInfo.cx;\n        var cy = posInfo.cy;\n        var r = posInfo.r;\n\n        var minVal = +seriesModel.get('min');\n        var maxVal = +seriesModel.get('max');\n\n        var splitLineModel = seriesModel.getModel('splitLine');\n        var tickModel = seriesModel.getModel('axisTick');\n        var labelModel = seriesModel.getModel('axisLabel');\n\n        var splitNumber = seriesModel.get('splitNumber');\n        var subSplitNumber = tickModel.get('splitNumber');\n\n        var splitLineLen = parsePercent$1(\n            splitLineModel.get('length'), r\n        );\n        var tickLen = parsePercent$1(\n            tickModel.get('length'), r\n        );\n\n        var angle = startAngle;\n        var step = (endAngle - startAngle) / splitNumber;\n        var subStep = step / subSplitNumber;\n\n        var splitLineStyle = splitLineModel.getModel('lineStyle').getLineStyle();\n        var tickLineStyle = tickModel.getModel('lineStyle').getLineStyle();\n\n        for (var i = 0; i <= splitNumber; i++) {\n            var unitX = Math.cos(angle);\n            var unitY = Math.sin(angle);\n            // Split line\n            if (splitLineModel.get('show')) {\n                var splitLine = new Line({\n                    shape: {\n                        x1: unitX * r + cx,\n                        y1: unitY * r + cy,\n                        x2: unitX * (r - splitLineLen) + cx,\n                        y2: unitY * (r - splitLineLen) + cy\n                    },\n                    style: splitLineStyle,\n                    silent: true\n                });\n                if (splitLineStyle.stroke === 'auto') {\n                    splitLine.setStyle({\n                        stroke: getColor(i / splitNumber)\n                    });\n                }\n\n                group.add(splitLine);\n            }\n\n            // Label\n            if (labelModel.get('show')) {\n                var label = formatLabel(\n                    round(i / splitNumber * (maxVal - minVal) + minVal),\n                    labelModel.get('formatter')\n                );\n                var distance = labelModel.get('distance');\n                var autoColor = getColor(i / splitNumber);\n\n                group.add(new Text({\n                    style: setTextStyle({}, labelModel, {\n                        text: label,\n                        x: unitX * (r - splitLineLen - distance) + cx,\n                        y: unitY * (r - splitLineLen - distance) + cy,\n                        textVerticalAlign: unitY < -0.4 ? 'top' : (unitY > 0.4 ? 'bottom' : 'middle'),\n                        textAlign: unitX < -0.4 ? 'left' : (unitX > 0.4 ? 'right' : 'center')\n                    }, {autoColor: autoColor}),\n                    silent: true\n                }));\n            }\n\n            // Axis tick\n            if (tickModel.get('show') && i !== splitNumber) {\n                for (var j = 0; j <= subSplitNumber; j++) {\n                    var unitX = Math.cos(angle);\n                    var unitY = Math.sin(angle);\n                    var tickLine = new Line({\n                        shape: {\n                            x1: unitX * r + cx,\n                            y1: unitY * r + cy,\n                            x2: unitX * (r - tickLen) + cx,\n                            y2: unitY * (r - tickLen) + cy\n                        },\n                        silent: true,\n                        style: tickLineStyle\n                    });\n\n                    if (tickLineStyle.stroke === 'auto') {\n                        tickLine.setStyle({\n                            stroke: getColor((i + j / subSplitNumber) / splitNumber)\n                        });\n                    }\n\n                    group.add(tickLine);\n                    angle += subStep;\n                }\n                angle -= subStep;\n            }\n            else {\n                angle += step;\n            }\n        }\n    },\n\n    _renderPointer: function (\n        seriesModel, ecModel, api, getColor, posInfo,\n        startAngle, endAngle, clockwise\n    ) {\n\n        var group = this.group;\n        var oldData = this._data;\n\n        if (!seriesModel.get('pointer.show')) {\n            // Remove old element\n            oldData && oldData.eachItemGraphicEl(function (el) {\n                group.remove(el);\n            });\n            return;\n        }\n\n        var valueExtent = [+seriesModel.get('min'), +seriesModel.get('max')];\n        var angleExtent = [startAngle, endAngle];\n\n        var data = seriesModel.getData();\n\n        data.diff(oldData)\n            .add(function (idx) {\n                var pointer = new PointerPath({\n                    shape: {\n                        angle: startAngle\n                    }\n                });\n\n                initProps(pointer, {\n                    shape: {\n                        angle: linearMap(data.get('value', idx), valueExtent, angleExtent, true)\n                    }\n                }, seriesModel);\n\n                group.add(pointer);\n                data.setItemGraphicEl(idx, pointer);\n            })\n            .update(function (newIdx, oldIdx) {\n                var pointer = oldData.getItemGraphicEl(oldIdx);\n\n                updateProps(pointer, {\n                    shape: {\n                        angle: linearMap(data.get('value', newIdx), valueExtent, angleExtent, true)\n                    }\n                }, seriesModel);\n\n                group.add(pointer);\n                data.setItemGraphicEl(newIdx, pointer);\n            })\n            .remove(function (idx) {\n                var pointer = oldData.getItemGraphicEl(idx);\n                group.remove(pointer);\n            })\n            .execute();\n\n        data.eachItemGraphicEl(function (pointer, idx) {\n            var itemModel = data.getItemModel(idx);\n            var pointerModel = itemModel.getModel('pointer');\n\n            pointer.setShape({\n                x: posInfo.cx,\n                y: posInfo.cy,\n                width: parsePercent$1(\n                    pointerModel.get('width'), posInfo.r\n                ),\n                r: parsePercent$1(pointerModel.get('length'), posInfo.r)\n            });\n\n            pointer.useStyle(itemModel.getModel('itemStyle.normal').getItemStyle());\n\n            if (pointer.style.fill === 'auto') {\n                pointer.setStyle('fill', getColor(\n                    linearMap(data.get('value', idx), valueExtent, [0, 1], true)\n                ));\n            }\n\n            setHoverStyle(\n                pointer, itemModel.getModel('itemStyle.emphasis').getItemStyle()\n            );\n        });\n\n        this._data = data;\n    },\n\n    _renderTitle: function (\n        seriesModel, ecModel, api, getColor, posInfo\n    ) {\n        var titleModel = seriesModel.getModel('title');\n        if (titleModel.get('show')) {\n            var offsetCenter = titleModel.get('offsetCenter');\n            var x = posInfo.cx + parsePercent$1(offsetCenter[0], posInfo.r);\n            var y = posInfo.cy + parsePercent$1(offsetCenter[1], posInfo.r);\n\n            var minVal = +seriesModel.get('min');\n            var maxVal = +seriesModel.get('max');\n            var value = seriesModel.getData().get('value', 0);\n            var autoColor = getColor(\n                linearMap(value, [minVal, maxVal], [0, 1], true)\n            );\n\n            this.group.add(new Text({\n                silent: true,\n                style: setTextStyle({}, titleModel, {\n                    x: x,\n                    y: y,\n                    // FIXME First data name ?\n                    text: seriesModel.getData().getName(0),\n                    textAlign: 'center',\n                    textVerticalAlign: 'middle'\n                }, {autoColor: autoColor, forceRich: true})\n            }));\n        }\n    },\n\n    _renderDetail: function (\n        seriesModel, ecModel, api, getColor, posInfo\n    ) {\n        var detailModel = seriesModel.getModel('detail');\n        var minVal = +seriesModel.get('min');\n        var maxVal = +seriesModel.get('max');\n        if (detailModel.get('show')) {\n            var offsetCenter = detailModel.get('offsetCenter');\n            var x = posInfo.cx + parsePercent$1(offsetCenter[0], posInfo.r);\n            var y = posInfo.cy + parsePercent$1(offsetCenter[1], posInfo.r);\n            var width = parsePercent$1(detailModel.get('width'), posInfo.r);\n            var height = parsePercent$1(detailModel.get('height'), posInfo.r);\n            var value = seriesModel.getData().get('value', 0);\n            var autoColor = getColor(\n                linearMap(value, [minVal, maxVal], [0, 1], true)\n            );\n\n            this.group.add(new Text({\n                silent: true,\n                style: setTextStyle({}, detailModel, {\n                    x: x,\n                    y: y,\n                    text: formatLabel(\n                        // FIXME First data name ?\n                        value, detailModel.get('formatter')\n                    ),\n                    textWidth: isNaN(width) ? null : width,\n                    textHeight: isNaN(height) ? null : height,\n                    textAlign: 'center',\n                    textVerticalAlign: 'middle'\n                }, {autoColor: autoColor, forceRich: true})\n            }));\n        }\n    }\n});\n\nvar FunnelSeries = extendSeriesModel({\n\n    type: 'series.funnel',\n\n    init: function (option) {\n        FunnelSeries.superApply(this, 'init', arguments);\n\n        // Enable legend selection for each data item\n        // Use a function instead of direct access because data reference may changed\n        this.legendDataProvider = function () {\n            return this.getRawData();\n        };\n        // Extend labelLine emphasis\n        this._defaultLabelLine(option);\n    },\n\n    getInitialData: function (option, ecModel) {\n        var dimensions = completeDimensions(['value'], option.data);\n        var list = new List(dimensions, this);\n        list.initData(option.data);\n        return list;\n    },\n\n    _defaultLabelLine: function (option) {\n        // Extend labelLine emphasis\n        defaultEmphasis(option.labelLine, ['show']);\n\n        var labelLineNormalOpt = option.labelLine.normal;\n        var labelLineEmphasisOpt = option.labelLine.emphasis;\n        // Not show label line if `label.normal.show = false`\n        labelLineNormalOpt.show = labelLineNormalOpt.show\n            && option.label.normal.show;\n        labelLineEmphasisOpt.show = labelLineEmphasisOpt.show\n            && option.label.emphasis.show;\n    },\n\n    // Overwrite\n    getDataParams: function (dataIndex) {\n        var data = this.getData();\n        var params = FunnelSeries.superCall(this, 'getDataParams', dataIndex);\n        var sum = data.getSum('value');\n        // Percent is 0 if sum is 0\n        params.percent = !sum ? 0 : +(data.get('value', dataIndex) / sum * 100).toFixed(2);\n\n        params.$vars.push('percent');\n        return params;\n    },\n\n    defaultOption: {\n        zlevel: 0,                  // \n        z: 2,                       // \n        legendHoverLink: true,\n        left: 80,\n        top: 60,\n        right: 80,\n        bottom: 60,\n        // width: {totalWidth} - left - right,\n        // height: {totalHeight} - top - bottom,\n\n        // \n        // min: 0,\n        // max: 100,\n        minSize: '0%',\n        maxSize: '100%',\n        sort: 'descending', // 'ascending', 'descending'\n        gap: 0,\n        funnelAlign: 'center',\n        label: {\n            normal: {\n                show: true,\n                position: 'outer'\n                // formatter: Tooltip.formatter\n            },\n            emphasis: {\n                show: true\n            }\n        },\n        labelLine: {\n            normal: {\n                show: true,\n                length: 20,\n                lineStyle: {\n                    // color: ,\n                    width: 1,\n                    type: 'solid'\n                }\n            },\n            emphasis: {}\n        },\n        itemStyle: {\n            normal: {\n                // color: ,\n                borderColor: '#fff',\n                borderWidth: 1\n            },\n            emphasis: {\n                // color: ,\n            }\n        }\n    }\n});\n\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\nfunction FunnelPiece(data, idx) {\n\n    Group.call(this);\n\n    var polygon = new Polygon();\n    var labelLine = new Polyline();\n    var text = new Text();\n    this.add(polygon);\n    this.add(labelLine);\n    this.add(text);\n\n    this.updateData(data, idx, true);\n\n    // Hover to change label and labelLine\n    function onEmphasis() {\n        labelLine.ignore = labelLine.hoverIgnore;\n        text.ignore = text.hoverIgnore;\n    }\n    function onNormal() {\n        labelLine.ignore = labelLine.normalIgnore;\n        text.ignore = text.normalIgnore;\n    }\n    this.on('emphasis', onEmphasis)\n        .on('normal', onNormal)\n        .on('mouseover', onEmphasis)\n        .on('mouseout', onNormal);\n}\n\nvar funnelPieceProto = FunnelPiece.prototype;\n\nvar opacityAccessPath = ['itemStyle', 'normal', 'opacity'];\nfunnelPieceProto.updateData = function (data, idx, firstCreate) {\n\n    var polygon = this.childAt(0);\n\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var opacity = data.getItemModel(idx).get(opacityAccessPath);\n    opacity = opacity == null ? 1 : opacity;\n\n    // Reset style\n    polygon.useStyle({});\n\n    if (firstCreate) {\n        polygon.setShape({\n            points: layout.points\n        });\n        polygon.setStyle({ opacity : 0 });\n        initProps(polygon, {\n            style: {\n                opacity: opacity\n            }\n        }, seriesModel, idx);\n    }\n    else {\n        updateProps(polygon, {\n            style: {\n                opacity: opacity\n            },\n            shape: {\n                points: layout.points\n            }\n        }, seriesModel, idx);\n    }\n\n    // Update common style\n    var itemStyleModel = itemModel.getModel('itemStyle');\n    var visualColor = data.getItemVisual(idx, 'color');\n\n    polygon.setStyle(\n        defaults(\n            {\n                lineJoin: 'round',\n                fill: visualColor\n            },\n            itemStyleModel.getModel('normal').getItemStyle(['opacity'])\n        )\n    );\n    polygon.hoverStyle = itemStyleModel.getModel('emphasis').getItemStyle();\n\n    this._updateLabel(data, idx);\n\n    setHoverStyle(this);\n};\n\nfunnelPieceProto._updateLabel = function (data, idx) {\n\n    var labelLine = this.childAt(1);\n    var labelText = this.childAt(2);\n\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var labelLayout = layout.label;\n    var visualColor = data.getItemVisual(idx, 'color');\n\n    updateProps(labelLine, {\n        shape: {\n            points: labelLayout.linePoints || labelLayout.linePoints\n        }\n    }, seriesModel, idx);\n\n    updateProps(labelText, {\n        style: {\n            x: labelLayout.x,\n            y: labelLayout.y\n        }\n    }, seriesModel, idx);\n    labelText.attr({\n        rotation: labelLayout.rotation,\n        origin: [labelLayout.x, labelLayout.y],\n        z2: 10\n    });\n\n    var labelModel = itemModel.getModel('label.normal');\n    var labelHoverModel = itemModel.getModel('label.emphasis');\n    var labelLineModel = itemModel.getModel('labelLine.normal');\n    var labelLineHoverModel = itemModel.getModel('labelLine.emphasis');\n    var visualColor = data.getItemVisual(idx, 'color');\n\n    setLabelStyle(\n        labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel,\n        {\n            labelFetcher: data.hostModel,\n            labelDataIndex: idx,\n            defaultText: data.getName(idx),\n            autoColor: visualColor,\n            useInsideStyle: !!labelLayout.inside\n        },\n        {\n            textAlign: labelLayout.textAlign,\n            textVerticalAlign: labelLayout.verticalAlign\n        }\n    );\n\n    labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n    labelText.hoverIgnore = !labelHoverModel.get('show');\n\n    labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n    labelLine.hoverIgnore = !labelLineHoverModel.get('show');\n\n    // Default use item visual color\n    labelLine.setStyle({\n        stroke: visualColor\n    });\n    labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n\n    labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n};\n\ninherits(FunnelPiece, Group);\n\n\nvar FunnelView = Chart.extend({\n\n    type: 'funnel',\n\n    render: function (seriesModel, ecModel, api) {\n        var data = seriesModel.getData();\n        var oldData = this._data;\n\n        var group = this.group;\n\n        data.diff(oldData)\n            .add(function (idx) {\n                var funnelPiece = new FunnelPiece(data, idx);\n\n                data.setItemGraphicEl(idx, funnelPiece);\n\n                group.add(funnelPiece);\n            })\n            .update(function (newIdx, oldIdx) {\n                var piePiece = oldData.getItemGraphicEl(oldIdx);\n\n                piePiece.updateData(data, newIdx);\n\n                group.add(piePiece);\n                data.setItemGraphicEl(newIdx, piePiece);\n            })\n            .remove(function (idx) {\n                var piePiece = oldData.getItemGraphicEl(idx);\n                group.remove(piePiece);\n            })\n            .execute();\n\n        this._data = data;\n    },\n\n    remove: function () {\n        this.group.removeAll();\n        this._data = null;\n    },\n\n    dispose: function () {}\n});\n\nfunction getViewRect$2(seriesModel, api) {\n    return getLayoutRect(\n        seriesModel.getBoxLayoutParams(), {\n            width: api.getWidth(),\n            height: api.getHeight()\n        }\n    );\n}\n\nfunction getSortedIndices(data, sort) {\n    var valueArr = data.mapArray('value', function (val) {\n        return val;\n    });\n    var indices = [];\n    var isAscending = sort === 'ascending';\n    for (var i = 0, len = data.count(); i < len; i++) {\n        indices[i] = i;\n    }\n\n    // Add custom sortable function & none sortable opetion by \"options.sort\"\n    if (typeof sort === 'function') {\n        indices.sort(sort);\n    } else if (sort !== 'none') {\n        indices.sort(function (a, b) {\n            return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n        });\n    }\n    return indices;\n}\n\nfunction labelLayout$1(data) {\n    data.each(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        var labelModel = itemModel.getModel('label.normal');\n        var labelPosition = labelModel.get('position');\n\n        var labelLineModel = itemModel.getModel('labelLine.normal');\n\n        var layout = data.getItemLayout(idx);\n        var points = layout.points;\n\n        var isLabelInside = labelPosition === 'inner'\n            || labelPosition === 'inside' || labelPosition === 'center';\n\n        var textAlign;\n        var textX;\n        var textY;\n        var linePoints;\n\n        if (isLabelInside) {\n            textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n            textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n            textAlign = 'center';\n            linePoints = [\n                [textX, textY], [textX, textY]\n            ];\n        }\n        else {\n            var x1;\n            var y1;\n            var x2;\n            var labelLineLen = labelLineModel.get('length');\n            if (labelPosition === 'left') {\n                // Left side\n                x1 = (points[3][0] + points[0][0]) / 2;\n                y1 = (points[3][1] + points[0][1]) / 2;\n                x2 = x1 - labelLineLen;\n                textX = x2 - 5;\n                textAlign = 'right';\n            }\n            else {\n                // Right side\n                x1 = (points[1][0] + points[2][0]) / 2;\n                y1 = (points[1][1] + points[2][1]) / 2;\n                x2 = x1 + labelLineLen;\n                textX = x2 + 5;\n                textAlign = 'left';\n            }\n            var y2 = y1;\n\n            linePoints = [[x1, y1], [x2, y2]];\n            textY = y2;\n        }\n\n        layout.label = {\n            linePoints: linePoints,\n            x: textX,\n            y: textY,\n            verticalAlign: 'middle',\n            textAlign: textAlign,\n            inside: isLabelInside\n        };\n    });\n}\n\nvar funnelLayout = function (ecModel, api, payload) {\n    ecModel.eachSeriesByType('funnel', function (seriesModel) {\n        var data = seriesModel.getData();\n        var sort = seriesModel.get('sort');\n        var viewRect = getViewRect$2(seriesModel, api);\n        var indices = getSortedIndices(data, sort);\n\n        var sizeExtent = [\n            parsePercent$1(seriesModel.get('minSize'), viewRect.width),\n            parsePercent$1(seriesModel.get('maxSize'), viewRect.width)\n        ];\n        var dataExtent = data.getDataExtent('value');\n        var min = seriesModel.get('min');\n        var max = seriesModel.get('max');\n        if (min == null) {\n            min = Math.min(dataExtent[0], 0);\n        }\n        if (max == null) {\n            max = dataExtent[1];\n        }\n\n        var funnelAlign = seriesModel.get('funnelAlign');\n        var gap = seriesModel.get('gap');\n        var itemHeight = (viewRect.height - gap * (data.count() - 1)) / data.count();\n\n        var y = viewRect.y;\n\n        var getLinePoints = function (idx, offY) {\n            // End point index is data.count() and we assign it 0\n            var val = data.get('value', idx) || 0;\n            var itemWidth = linearMap(val, [min, max], sizeExtent, true);\n            var x0;\n            switch (funnelAlign) {\n                case 'left':\n                    x0 = viewRect.x;\n                    break;\n                case 'center':\n                    x0 = viewRect.x + (viewRect.width - itemWidth) / 2;\n                    break;\n                case 'right':\n                    x0 = viewRect.x + viewRect.width - itemWidth;\n                    break;\n            }\n            return [\n                [x0, offY],\n                [x0 + itemWidth, offY]\n            ];\n        };\n\n        if (sort === 'ascending') {\n            // From bottom to top\n            itemHeight = -itemHeight;\n            gap = -gap;\n            y += viewRect.height;\n            indices = indices.reverse();\n        }\n\n        for (var i = 0; i < indices.length; i++) {\n            var idx = indices[i];\n            var nextIdx = indices[i + 1];\n            var start = getLinePoints(idx, y);\n            var end = getLinePoints(nextIdx, y + itemHeight);\n\n            y += itemHeight + gap;\n\n            data.setItemLayout(idx, {\n                points: start.concat(end.slice().reverse())\n            });\n        }\n\n        labelLayout$1(data);\n    });\n};\n\nregisterVisual(curry(dataColor, 'funnel'));\nregisterLayout(funnelLayout);\nregisterProcessor(curry(dataFilter, 'funnel'));\n\nvar parallelPreprocessor = function (option) {\n    createParallelIfNeeded(option);\n    mergeAxisOptionFromParallel(option);\n};\n\n/**\n * Create a parallel coordinate if not exists.\n * @inner\n */\nfunction createParallelIfNeeded(option) {\n    if (option.parallel) {\n        return;\n    }\n\n    var hasParallelSeries = false;\n\n    each$1(option.series, function (seriesOpt) {\n        if (seriesOpt && seriesOpt.type === 'parallel') {\n            hasParallelSeries = true;\n        }\n    });\n\n    if (hasParallelSeries) {\n        option.parallel = [{}];\n    }\n}\n\n/**\n * Merge aixs definition from parallel option (if exists) to axis option.\n * @inner\n */\nfunction mergeAxisOptionFromParallel(option) {\n    var axes = normalizeToArray(option.parallelAxis);\n\n    each$1(axes, function (axisOption) {\n        if (!isObject(axisOption)) {\n            return;\n        }\n\n        var parallelIndex = axisOption.parallelIndex || 0;\n        var parallelOption = normalizeToArray(option.parallel)[parallelIndex];\n\n        if (parallelOption && parallelOption.parallelAxisDefault) {\n            merge(axisOption, parallelOption.parallelAxisDefault, false);\n        }\n    });\n}\n\n/**\n * @constructor module:echarts/coord/parallel/ParallelAxis\n * @extends {module:echarts/coord/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n */\nvar ParallelAxis = function (dim, scale, coordExtent, axisType, axisIndex) {\n\n    Axis.call(this, dim, scale, coordExtent);\n\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n    this.type = axisType || 'value';\n\n    /**\n     * @type {number}\n     * @readOnly\n     */\n    this.axisIndex = axisIndex;\n};\n\nParallelAxis.prototype = {\n\n    constructor: ParallelAxis,\n\n    /**\n     * Axis model\n     * @param {module:echarts/coord/parallel/AxisModel}\n     */\n    model: null,\n\n    /**\n     * @override\n     */\n    isHorizontal: function () {\n        return this.coordinateSystem.getModel().get('layout') !== 'horizontal';\n    }\n\n};\n\ninherits(ParallelAxis, Axis);\n\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param {number} delta Move length.\n * @param {Array.<number>} handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param {Array.<number>} extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param {number|string} handleIndex Can be 'all', means that both move the two handleEnds,\n *              where the input minSpan and maxSpan will not work.\n * @param {number} [minSpan] The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param {number} [maxSpan] The range of dataZoom can not be larger than that.\n * @return {Array.<number>} The input handleEnds.\n */\nvar sliderMove = function (delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n    // Normalize firstly.\n    handleEnds[0] = restrict$1(handleEnds[0], extent);\n    handleEnds[1] = restrict$1(handleEnds[1], extent);\n\n    delta = delta || 0;\n\n    var extentSpan = extent[1] - extent[0];\n\n    // Notice maxSpan and minSpan can be null/undefined.\n    if (minSpan != null) {\n        minSpan = restrict$1(minSpan, [0, extentSpan]);\n    }\n    if (maxSpan != null) {\n        maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n    }\n    if (handleIndex === 'all') {\n        minSpan = maxSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n        handleIndex = 0;\n    }\n\n    var originalDistSign = getSpanSign(handleEnds, handleIndex);\n\n    handleEnds[handleIndex] += delta;\n\n    // Restrict in extent.\n    var extentMinSpan = minSpan || 0;\n    var realExtent = extent.slice();\n    originalDistSign.sign < 0 ? (realExtent[0] += extentMinSpan) : (realExtent[1] -= extentMinSpan);\n    handleEnds[handleIndex] = restrict$1(handleEnds[handleIndex], realExtent);\n\n    // Expand span.\n    var currDistSign = getSpanSign(handleEnds, handleIndex);\n    if (minSpan != null && (\n        currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan\n    )) {\n        // If minSpan exists, 'cross' is forbinden.\n        handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n    }\n\n    // Shrink span.\n    var currDistSign = getSpanSign(handleEnds, handleIndex);\n    if (maxSpan != null && currDistSign.span > maxSpan) {\n        handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n    }\n\n    return handleEnds;\n};\n\nfunction getSpanSign(handleEnds, handleIndex) {\n    var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex];\n    // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n    // is at left of handleEnds[1] for non-cross case.\n    return {span: Math.abs(dist), sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1};\n}\n\nfunction restrict$1(value, extend) {\n    return Math.min(extend[1], Math.max(extend[0], value));\n}\n\n/**\n * Parallel Coordinates\n * <https://en.wikipedia.org/wiki/Parallel_coordinates>\n */\n\nvar each$14 = each$1;\nvar mathMin$5 = Math.min;\nvar mathMax$5 = Math.max;\nvar mathFloor$2 = Math.floor;\nvar mathCeil$2 = Math.ceil;\nvar round$2 = round;\n\nvar PI$3 = Math.PI;\n\nfunction Parallel(parallelModel, ecModel, api) {\n\n    /**\n     * key: dimension\n     * @type {Object.<string, module:echarts/coord/parallel/Axis>}\n     * @private\n     */\n    this._axesMap = createHashMap();\n\n    /**\n     * key: dimension\n     * value: {position: [], rotation, }\n     * @type {Object.<string, Object>}\n     * @private\n     */\n    this._axesLayout = {};\n\n    /**\n     * Always follow axis order.\n     * @type {Array.<string>}\n     * @readOnly\n     */\n    this.dimensions = parallelModel.dimensions;\n\n    /**\n     * @type {module:zrender/core/BoundingRect}\n     */\n    this._rect;\n\n    /**\n     * @type {module:echarts/coord/parallel/ParallelModel}\n     */\n    this._model = parallelModel;\n\n    this._init(parallelModel, ecModel, api);\n}\n\nParallel.prototype = {\n\n    type: 'parallel',\n\n    constructor: Parallel,\n\n    /**\n     * Initialize cartesian coordinate systems\n     * @private\n     */\n    _init: function (parallelModel, ecModel, api) {\n\n        var dimensions = parallelModel.dimensions;\n        var parallelAxisIndex = parallelModel.parallelAxisIndex;\n\n        each$14(dimensions, function (dim, idx) {\n\n            var axisIndex = parallelAxisIndex[idx];\n            var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n\n            var axis = this._axesMap.set(dim, new ParallelAxis(\n                dim,\n                createScaleByModel(axisModel),\n                [0, 0],\n                axisModel.get('type'),\n                axisIndex\n            ));\n\n            var isCategory = axis.type === 'category';\n            axis.onBand = isCategory && axisModel.get('boundaryGap');\n            axis.inverse = axisModel.get('inverse');\n\n            // Injection\n            axisModel.axis = axis;\n            axis.model = axisModel;\n            axis.coordinateSystem = axisModel.coordinateSystem = this;\n\n        }, this);\n    },\n\n    /**\n     * Update axis scale after data processed\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    update: function (ecModel, api) {\n        this._updateAxesFromSeries(this._model, ecModel);\n    },\n\n    /**\n     * @override\n     */\n    containPoint: function (point) {\n        var layoutInfo = this._makeLayoutInfo();\n        var axisBase = layoutInfo.axisBase;\n        var layoutBase = layoutInfo.layoutBase;\n        var pixelDimIndex = layoutInfo.pixelDimIndex;\n        var pAxis = point[1 - pixelDimIndex];\n        var pLayout = point[pixelDimIndex];\n\n        return pAxis >= axisBase\n            && pAxis <= axisBase + layoutInfo.axisLength\n            && pLayout >= layoutBase\n            && pLayout <= layoutBase + layoutInfo.layoutLength;\n    },\n\n    getModel: function () {\n        return this._model;\n    },\n\n    /**\n     * Update properties from series\n     * @private\n     */\n    _updateAxesFromSeries: function (parallelModel, ecModel) {\n        ecModel.eachSeries(function (seriesModel) {\n\n            if (!parallelModel.contains(seriesModel, ecModel)) {\n                return;\n            }\n\n            var data = seriesModel.getData();\n\n            each$14(this.dimensions, function (dim) {\n                var axis = this._axesMap.get(dim);\n                axis.scale.unionExtentFromData(data, dim);\n                niceScaleExtent(axis.scale, axis.model);\n            }, this);\n        }, this);\n    },\n\n    /**\n     * Resize the parallel coordinate system.\n     * @param {module:echarts/coord/parallel/ParallelModel} parallelModel\n     * @param {module:echarts/ExtensionAPI} api\n     */\n    resize: function (parallelModel, api) {\n        this._rect = getLayoutRect(\n            parallelModel.getBoxLayoutParams(),\n            {\n                width: api.getWidth(),\n                height: api.getHeight()\n            }\n        );\n\n        this._layoutAxes();\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getRect: function () {\n        return this._rect;\n    },\n\n    /**\n     * @private\n     */\n    _makeLayoutInfo: function () {\n        var parallelModel = this._model;\n        var rect = this._rect;\n        var xy = ['x', 'y'];\n        var wh = ['width', 'height'];\n        var layout = parallelModel.get('layout');\n        var pixelDimIndex = layout === 'horizontal' ? 0 : 1;\n        var layoutLength = rect[wh[pixelDimIndex]];\n        var layoutExtent = [0, layoutLength];\n        var axisCount = this.dimensions.length;\n\n        var axisExpandWidth = restrict(parallelModel.get('axisExpandWidth'), layoutExtent);\n        var axisExpandCount = restrict(parallelModel.get('axisExpandCount') || 0, [0, axisCount]);\n        var axisExpandable = parallelModel.get('axisExpandable')\n            && axisCount > 3\n            && axisCount > axisExpandCount\n            && axisExpandCount > 1\n            && axisExpandWidth > 0\n            && layoutLength > 0;\n\n        // `axisExpandWindow` is According to the coordinates of [0, axisExpandLength],\n        // for sake of consider the case that axisCollapseWidth is 0 (when screen is narrow),\n        // where collapsed axes should be overlapped.\n        var axisExpandWindow = parallelModel.get('axisExpandWindow');\n        var winSize;\n        if (!axisExpandWindow) {\n            winSize = restrict(axisExpandWidth * (axisExpandCount - 1), layoutExtent);\n            var axisExpandCenter = parallelModel.get('axisExpandCenter') || mathFloor$2(axisCount / 2);\n            axisExpandWindow = [axisExpandWidth * axisExpandCenter - winSize / 2];\n            axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n        }\n        else {\n                winSize = restrict(axisExpandWindow[1] - axisExpandWindow[0], layoutExtent);\n                axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n        }\n\n        var axisCollapseWidth = (layoutLength - winSize) / (axisCount - axisExpandCount);\n        // Avoid axisCollapseWidth is too small.\n        axisCollapseWidth < 3 && (axisCollapseWidth = 0);\n\n        // Find the first and last indices > ewin[0] and < ewin[1].\n        var winInnerIndices = [\n            mathFloor$2(round$2(axisExpandWindow[0] / axisExpandWidth, 1)) + 1,\n            mathCeil$2(round$2(axisExpandWindow[1] / axisExpandWidth, 1)) - 1\n        ];\n\n        // Pos in ec coordinates.\n        var axisExpandWindow0Pos = axisCollapseWidth / axisExpandWidth * axisExpandWindow[0];\n\n        return {\n            layout: layout,\n            pixelDimIndex: pixelDimIndex,\n            layoutBase: rect[xy[pixelDimIndex]],\n            layoutLength: layoutLength,\n            axisBase: rect[xy[1 - pixelDimIndex]],\n            axisLength: rect[wh[1 - pixelDimIndex]],\n            axisExpandable: axisExpandable,\n            axisExpandWidth: axisExpandWidth,\n            axisCollapseWidth: axisCollapseWidth,\n            axisExpandWindow: axisExpandWindow,\n            axisCount: axisCount,\n            winInnerIndices: winInnerIndices,\n            axisExpandWindow0Pos: axisExpandWindow0Pos\n        };\n    },\n\n    /**\n     * @private\n     */\n    _layoutAxes: function () {\n        var rect = this._rect;\n        var axes = this._axesMap;\n        var dimensions = this.dimensions;\n        var layoutInfo = this._makeLayoutInfo();\n        var layout = layoutInfo.layout;\n\n        axes.each(function (axis) {\n            var axisExtent = [0, layoutInfo.axisLength];\n            var idx = axis.inverse ? 1 : 0;\n            axis.setExtent(axisExtent[idx], axisExtent[1 - idx]);\n        });\n\n        each$14(dimensions, function (dim, idx) {\n            var posInfo = (layoutInfo.axisExpandable\n                ? layoutAxisWithExpand : layoutAxisWithoutExpand\n            )(idx, layoutInfo);\n\n            var positionTable = {\n                horizontal: {\n                    x: posInfo.position,\n                    y: layoutInfo.axisLength\n                },\n                vertical: {\n                    x: 0,\n                    y: posInfo.position\n                }\n            };\n            var rotationTable = {\n                horizontal: PI$3 / 2,\n                vertical: 0\n            };\n\n            var position = [\n                positionTable[layout].x + rect.x,\n                positionTable[layout].y + rect.y\n            ];\n\n            var rotation = rotationTable[layout];\n            var transform = create$1();\n            rotate(transform, transform, rotation);\n            translate(transform, transform, position);\n\n            // TODO\n            // tick\n\n            // TODO\n            // axis order  dimensions\n\n            this._axesLayout[dim] = {\n                position: position,\n                rotation: rotation,\n                transform: transform,\n                axisNameAvailableWidth: posInfo.axisNameAvailableWidth,\n                axisLabelShow: posInfo.axisLabelShow,\n                nameTruncateMaxWidth: posInfo.nameTruncateMaxWidth,\n                tickDirection: 1,\n                labelDirection: 1,\n                labelInterval: axes.get(dim).getLabelInterval()\n            };\n        }, this);\n    },\n\n    /**\n     * Get axis by dim.\n     * @param {string} dim\n     * @return {module:echarts/coord/parallel/ParallelAxis} [description]\n     */\n    getAxis: function (dim) {\n        return this._axesMap.get(dim);\n    },\n\n    /**\n     * Convert a dim value of a single item of series data to Point.\n     * @param {*} value\n     * @param {string} dim\n     * @return {Array}\n     */\n    dataToPoint: function (value, dim) {\n        return this.axisCoordToPoint(\n            this._axesMap.get(dim).dataToCoord(value),\n            dim\n        );\n    },\n\n    /**\n     * Travel data for one time, get activeState of each data item.\n     * @param {module:echarts/data/List} data\n     * @param {Functio} cb param: {string} activeState 'active' or 'inactive' or 'normal'\n     *                            {number} dataIndex\n     * @param {Object} context\n     */\n    eachActiveState: function (data, callback, context) {\n        var dimensions = this.dimensions;\n        var axesMap = this._axesMap;\n        var hasActiveSet = this.hasAxisBrushed();\n\n        for (var i = 0, len = data.count(); i < len; i++) {\n            var values = data.getValues(dimensions, i);\n            var activeState;\n\n            if (!hasActiveSet) {\n                activeState = 'normal';\n            }\n            else {\n                activeState = 'active';\n                for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n                    var dimName = dimensions[j];\n                    var state = axesMap.get(dimName).model.getActiveState(values[j], j);\n\n                    if (state === 'inactive') {\n                        activeState = 'inactive';\n                        break;\n                    }\n                }\n            }\n\n            callback.call(context, activeState, i);\n        }\n    },\n\n    /**\n     * Whether has any activeSet.\n     * @return {boolean}\n     */\n    hasAxisBrushed: function () {\n        var dimensions = this.dimensions;\n        var axesMap = this._axesMap;\n        var hasActiveSet = false;\n\n        for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n            if (axesMap.get(dimensions[j]).model.getActiveState() !== 'normal') {\n                hasActiveSet = true;\n            }\n        }\n\n        return hasActiveSet;\n    },\n\n    /**\n     * Convert coords of each axis to Point.\n     *  Return point. For example: [10, 20]\n     * @param {Array.<number>} coords\n     * @param {string} dim\n     * @return {Array.<number>}\n     */\n    axisCoordToPoint: function (coord, dim) {\n        var axisLayout = this._axesLayout[dim];\n        return applyTransform$1([coord, 0], axisLayout.transform);\n    },\n\n    /**\n     * Get axis layout.\n     */\n    getAxisLayout: function (dim) {\n        return clone(this._axesLayout[dim]);\n    },\n\n    /**\n     * @param {Array.<number>} point\n     * @return {Object} {axisExpandWindow, delta, behavior: 'jump' | 'slide' | 'none'}.\n     */\n    getSlidedAxisExpandWindow: function (point) {\n        var layoutInfo = this._makeLayoutInfo();\n        var pixelDimIndex = layoutInfo.pixelDimIndex;\n        var axisExpandWindow = layoutInfo.axisExpandWindow.slice();\n        var winSize = axisExpandWindow[1] - axisExpandWindow[0];\n        var extent = [0, layoutInfo.axisExpandWidth * (layoutInfo.axisCount - 1)];\n\n        // Out of the area of coordinate system.\n        if (!this.containPoint(point)) {\n            return {behavior: 'none', axisExpandWindow: axisExpandWindow};\n        }\n\n        // Conver the point from global to expand coordinates.\n        var pointCoord = point[pixelDimIndex] - layoutInfo.layoutBase - layoutInfo.axisExpandWindow0Pos;\n\n        // For dragging operation convenience, the window should not be\n        // slided when mouse is the center area of the window.\n        var delta;\n        var behavior = 'slide';\n        var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n        var triggerArea = this._model.get('axisExpandSlideTriggerArea');\n        // But consider touch device, jump is necessary.\n        var useJump = triggerArea[0] != null;\n\n        if (axisCollapseWidth) {\n            if (useJump && axisCollapseWidth && pointCoord < winSize * triggerArea[0]) {\n                behavior = 'jump';\n                delta = pointCoord - winSize * triggerArea[2];\n            }\n            else if (useJump && axisCollapseWidth && pointCoord > winSize * (1 - triggerArea[0])) {\n                behavior = 'jump';\n                delta = pointCoord - winSize * (1 - triggerArea[2]);\n            }\n            else {\n                (delta = pointCoord - winSize * triggerArea[1]) >= 0\n                    && (delta = pointCoord - winSize * (1 - triggerArea[1])) <= 0\n                    && (delta = 0);\n            }\n            delta *= layoutInfo.axisExpandWidth / axisCollapseWidth;\n            delta\n                ? sliderMove(delta, axisExpandWindow, extent, 'all')\n                // Avoid nonsense triger on mousemove.\n                : (behavior = 'none');\n        }\n        // When screen is too narrow, make it visible and slidable, although it is hard to interact.\n        else {\n            var winSize = axisExpandWindow[1] - axisExpandWindow[0];\n            var pos = extent[1] * pointCoord / winSize;\n            axisExpandWindow = [mathMax$5(0, pos - winSize / 2)];\n            axisExpandWindow[1] = mathMin$5(extent[1], axisExpandWindow[0] + winSize);\n            axisExpandWindow[0] = axisExpandWindow[1] - winSize;\n        }\n\n        return {\n            axisExpandWindow: axisExpandWindow,\n            behavior: behavior\n        };\n    }\n};\n\nfunction restrict(len, extent) {\n    return mathMin$5(mathMax$5(len, extent[0]), extent[1]);\n}\n\nfunction layoutAxisWithoutExpand(axisIndex, layoutInfo) {\n    var step = layoutInfo.layoutLength / (layoutInfo.axisCount - 1);\n    return {\n        position: step * axisIndex,\n        axisNameAvailableWidth: step,\n        axisLabelShow: true\n    };\n}\n\nfunction layoutAxisWithExpand(axisIndex, layoutInfo) {\n    var layoutLength = layoutInfo.layoutLength;\n    var axisExpandWidth = layoutInfo.axisExpandWidth;\n    var axisCount = layoutInfo.axisCount;\n    var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n    var winInnerIndices = layoutInfo.winInnerIndices;\n\n    var position;\n    var axisNameAvailableWidth = axisCollapseWidth;\n    var axisLabelShow = false;\n    var nameTruncateMaxWidth;\n\n    if (axisIndex < winInnerIndices[0]) {\n        position = axisIndex * axisCollapseWidth;\n        nameTruncateMaxWidth = axisCollapseWidth;\n    }\n    else if (axisIndex <= winInnerIndices[1]) {\n        position = layoutInfo.axisExpandWindow0Pos\n            + axisIndex * axisExpandWidth - layoutInfo.axisExpandWindow[0];\n        axisNameAvailableWidth = axisExpandWidth;\n        axisLabelShow = true;\n    }\n    else {\n        position = layoutLength - (axisCount - 1 - axisIndex) * axisCollapseWidth;\n        nameTruncateMaxWidth = axisCollapseWidth;\n    }\n\n    return {\n        position: position,\n        axisNameAvailableWidth: axisNameAvailableWidth,\n        axisLabelShow: axisLabelShow,\n        nameTruncateMaxWidth: nameTruncateMaxWidth\n    };\n}\n\n/**\n * Parallel coordinate system creater.\n */\n\nfunction create$2(ecModel, api) {\n    var coordSysList = [];\n\n    ecModel.eachComponent('parallel', function (parallelModel, idx) {\n        var coordSys = new Parallel(parallelModel, ecModel, api);\n\n        coordSys.name = 'parallel_' + idx;\n        coordSys.resize(parallelModel, api);\n\n        parallelModel.coordinateSystem = coordSys;\n        coordSys.model = parallelModel;\n\n        coordSysList.push(coordSys);\n    });\n\n    // Inject the coordinateSystems into seriesModel\n    ecModel.eachSeries(function (seriesModel) {\n        if (seriesModel.get('coordinateSystem') === 'parallel') {\n            var parallelModel = ecModel.queryComponents({\n                mainType: 'parallel',\n                index: seriesModel.get('parallelIndex'),\n                id: seriesModel.get('parallelId')\n            })[0];\n            seriesModel.coordinateSystem = parallelModel.coordinateSystem;\n        }\n    });\n\n    return coordSysList;\n}\n\nCoordinateSystemManager.register('parallel', {create: create$2});\n\nvar AxisModel$2 = ComponentModel.extend({\n\n    type: 'baseParallelAxis',\n\n    /**\n     * @type {module:echarts/coord/parallel/Axis}\n     */\n    axis: null,\n\n    /**\n     * @type {Array.<Array.<number>}\n     * @readOnly\n     */\n    activeIntervals: [],\n\n    /**\n     * @return {Object}\n     */\n    getAreaSelectStyle: function () {\n        return makeStyleMapper(\n            [\n                ['fill', 'color'],\n                ['lineWidth', 'borderWidth'],\n                ['stroke', 'borderColor'],\n                ['width', 'width'],\n                ['opacity', 'opacity']\n            ]\n        )(this.getModel('areaSelectStyle'));\n    },\n\n    /**\n     * The code of this feature is put on AxisModel but not ParallelAxis,\n     * because axisModel can be alive after echarts updating but instance of\n     * ParallelAxis having been disposed. this._activeInterval should be kept\n     * when action dispatched (i.e. legend click).\n     *\n     * @param {Array.<Array<number>>} intervals interval.length === 0\n     *                                          means set all active.\n     * @public\n     */\n    setActiveIntervals: function (intervals) {\n        var activeIntervals = this.activeIntervals = clone(intervals);\n\n        // Normalize\n        if (activeIntervals) {\n            for (var i = activeIntervals.length - 1; i >= 0; i--) {\n                asc(activeIntervals[i]);\n            }\n        }\n    },\n\n    /**\n     * @param {number|string} [value] When attempting to detect 'no activeIntervals set',\n     *                         value can not be input.\n     * @return {string} 'normal': no activeIntervals set,\n     *                  'active',\n     *                  'inactive'.\n     * @public\n     */\n    getActiveState: function (value) {\n        var activeIntervals = this.activeIntervals;\n\n        if (!activeIntervals.length) {\n            return 'normal';\n        }\n\n        if (value == null) {\n            return 'inactive';\n        }\n\n        for (var i = 0, len = activeIntervals.length; i < len; i++) {\n            if (activeIntervals[i][0] <= value && value <= activeIntervals[i][1]) {\n                return 'active';\n            }\n        }\n        return 'inactive';\n    }\n\n});\n\nvar defaultOption$1 = {\n\n    type: 'value',\n\n    /**\n     * @type {Array.<number>}\n     */\n    dim: null, // 0, 1, 2, ...\n\n    // parallelIndex: null,\n\n    areaSelectStyle: {\n        width: 20,\n        borderWidth: 1,\n        borderColor: 'rgba(160,197,232)',\n        color: 'rgba(160,197,232)',\n        opacity: 0.3\n    },\n\n    realtime: true, // Whether realtime update view when select.\n\n    z: 10\n};\n\nmerge(AxisModel$2.prototype, axisModelCommonMixin);\n\nfunction getAxisType$1(axisName, option) {\n    return option.type || (option.data ? 'category' : 'value');\n}\n\naxisModelCreator('parallel', AxisModel$2, getAxisType$1, defaultOption$1);\n\nComponentModel.extend({\n\n    type: 'parallel',\n\n    dependencies: ['parallelAxis'],\n\n    /**\n     * @type {module:echarts/coord/parallel/Parallel}\n     */\n    coordinateSystem: null,\n\n    /**\n     * Each item like: 'dim0', 'dim1', 'dim2', ...\n     * @type {Array.<string>}\n     * @readOnly\n     */\n    dimensions: null,\n\n    /**\n     * Coresponding to dimensions.\n     * @type {Array.<number>}\n     * @readOnly\n     */\n    parallelAxisIndex: null,\n\n    layoutMode: 'box',\n\n    defaultOption: {\n        zlevel: 0,\n        z: 0,\n        left: 80,\n        top: 60,\n        right: 80,\n        bottom: 60,\n        // width: {totalWidth} - left - right,\n        // height: {totalHeight} - top - bottom,\n\n        layout: 'horizontal',      // 'horizontal' or 'vertical'\n\n        // FIXME\n        // naming?\n        axisExpandable: false,\n        axisExpandCenter: null,\n        axisExpandCount: 0,\n        axisExpandWidth: 50,      // FIXME '10%' ?\n        axisExpandRate: 17,\n        axisExpandDebounce: 50,\n        // [out, in, jumpTarget]. In percentage. If use [null, 0.05], null means full.\n        // Do not doc to user until necessary.\n        axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4],\n        axisExpandTriggerOn: 'click', // 'mousemove' or 'click'\n\n        parallelAxisDefault: null\n    },\n\n    /**\n     * @override\n     */\n    init: function () {\n        ComponentModel.prototype.init.apply(this, arguments);\n\n        this.mergeOption({});\n    },\n\n    /**\n     * @override\n     */\n    mergeOption: function (newOption) {\n        var thisOption = this.option;\n\n        newOption && merge(thisOption, newOption, true);\n\n        this._initDimensions();\n    },\n\n    /**\n     * Whether series or axis is in this coordinate system.\n     * @param {module:echarts/model/Series|module:echarts/coord/parallel/AxisModel} model\n     * @param {module:echarts/model/Global} ecModel\n     */\n    contains: function (model, ecModel) {\n        var parallelIndex = model.get('parallelIndex');\n        return parallelIndex != null\n            && ecModel.getComponent('parallel', parallelIndex) === this;\n    },\n\n    setAxisExpand: function (opt) {\n        each$1(\n            ['axisExpandable', 'axisExpandCenter', 'axisExpandCount', 'axisExpandWidth', 'axisExpandWindow'],\n            function (name) {\n                if (opt.hasOwnProperty(name)) {\n                    this.option[name] = opt[name];\n                }\n            },\n            this\n        );\n    },\n\n    /**\n     * @private\n     */\n    _initDimensions: function () {\n        var dimensions = this.dimensions = [];\n        var parallelAxisIndex = this.parallelAxisIndex = [];\n\n        var axisModels = filter(this.dependentModels.parallelAxis, function (axisModel) {\n            // Can not use this.contains here, because\n            // initialization has not been completed yet.\n            return (axisModel.get('parallelIndex') || 0) === this.componentIndex;\n        }, this);\n\n        each$1(axisModels, function (axisModel) {\n            dimensions.push('dim' + axisModel.get('dim'));\n            parallelAxisIndex.push(axisModel.componentIndex);\n        });\n    }\n\n});\n\n/**\n * @payload\n * @property {string} parallelAxisId\n * @property {Array.<Array.<number>>} intervals\n */\nvar actionInfo$1 = {\n    type: 'axisAreaSelect',\n    event: 'axisAreaSelected',\n    update: 'updateVisual'\n};\n\nregisterAction(actionInfo$1, function (payload, ecModel) {\n    ecModel.eachComponent(\n        {mainType: 'parallelAxis', query: payload},\n        function (parallelAxisModel) {\n            parallelAxisModel.axis.model.setActiveIntervals(payload.intervals);\n        }\n    );\n});\n\n/**\n * @payload\n */\nregisterAction('parallelAxisExpand', function (payload, ecModel) {\n    ecModel.eachComponent(\n        {mainType: 'parallel', query: payload},\n        function (parallelModel) {\n            parallelModel.setAxisExpand(payload);\n        }\n    );\n\n});\n\nvar curry$2 = curry;\nvar each$15 = each$1;\nvar map$3 = map;\nvar mathMin$6 = Math.min;\nvar mathMax$6 = Math.max;\nvar mathPow$2 = Math.pow;\n\nvar COVER_Z = 10000;\nvar UNSELECT_THRESHOLD = 6;\nvar MIN_RESIZE_LINE_WIDTH = 6;\nvar MUTEX_RESOURCE_KEY = 'globalPan';\n\nvar DIRECTION_MAP = {\n    w: [0, 0],\n    e: [0, 1],\n    n: [1, 0],\n    s: [1, 1]\n};\nvar CURSOR_MAP = {\n    w: 'ew',\n    e: 'ew',\n    n: 'ns',\n    s: 'ns',\n    ne: 'nesw',\n    sw: 'nesw',\n    nw: 'nwse',\n    se: 'nwse'\n};\nvar DEFAULT_BRUSH_OPT = {\n    brushStyle: {\n        lineWidth: 2,\n        stroke: 'rgba(0,0,0,0.3)',\n        fill: 'rgba(0,0,0,0.1)'\n    },\n    transformable: true,\n    brushMode: 'single',\n    removeOnClick: false\n};\n\nvar baseUID = 0;\n\n/**\n * @alias module:echarts/component/helper/BrushController\n * @constructor\n * @mixin {module:zrender/mixin/Eventful}\n * @event module:echarts/component/helper/BrushController#brush\n *        params:\n *            areas: Array.<Array>, coord relates to container group,\n *                                    If no container specified, to global.\n *            opt {\n *                isEnd: boolean,\n *                removeOnClick: boolean\n *            }\n *\n * @param {module:zrender/zrender~ZRender} zr\n */\nfunction BrushController(zr) {\n\n    if (__DEV__) {\n        assert(zr);\n    }\n\n    Eventful.call(this);\n\n    /**\n     * @type {module:zrender/zrender~ZRender}\n     * @private\n     */\n    this._zr = zr;\n\n    /**\n     * @type {module:zrender/container/Group}\n     * @readOnly\n     */\n    this.group = new Group();\n\n    /**\n     * Only for drawing (after enabledBrush).\n     *     'line', 'rect', 'polygon' or false\n     *     If passing false/null/undefined, disable brush.\n     *     If passing 'auto', determined by panel.defaultBrushType\n     * @private\n     * @type {string}\n     */\n    this._brushType;\n\n    /**\n     * Only for drawing (after enabledBrush).\n     *\n     * @private\n     * @type {Object}\n     */\n    this._brushOption;\n\n    /**\n     * @private\n     * @type {Object}\n     */\n    this._panels;\n\n    /**\n     * @private\n     * @type {Array.<nubmer>}\n     */\n    this._track = [];\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this._dragging;\n\n    /**\n     * @private\n     * @type {Array}\n     */\n    this._covers = [];\n\n    /**\n     * @private\n     * @type {moudule:zrender/container/Group}\n     */\n    this._creatingCover;\n\n    /**\n     * `true` means global panel\n     * @private\n     * @type {module:zrender/container/Group|boolean}\n     */\n    this._creatingPanel;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this._enableGlobalPan;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    if (__DEV__) {\n        this._mounted;\n    }\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this._uid = 'brushController_' + baseUID++;\n\n    /**\n     * @private\n     * @type {Object}\n     */\n    this._handlers = {};\n    each$15(mouseHandlers, function (handler, eventName) {\n        this._handlers[eventName] = bind(handler, this);\n    }, this);\n}\n\nBrushController.prototype = {\n\n    constructor: BrushController,\n\n    /**\n     * If set to null/undefined/false, select disabled.\n     * @param {Object} brushOption\n     * @param {string|boolean} brushOption.brushType 'line', 'rect', 'polygon' or false\n     *                          If passing false/null/undefined, disable brush.\n     *                          If passing 'auto', determined by panel.defaultBrushType.\n     *                              ('auto' can not be used in global panel)\n     * @param {number} [brushOption.brushMode='single'] 'single' or 'multiple'\n     * @param {boolean} [brushOption.transformable=true]\n     * @param {boolean} [brushOption.removeOnClick=false]\n     * @param {Object} [brushOption.brushStyle]\n     * @param {number} [brushOption.brushStyle.width]\n     * @param {number} [brushOption.brushStyle.lineWidth]\n     * @param {string} [brushOption.brushStyle.stroke]\n     * @param {string} [brushOption.brushStyle.fill]\n     * @param {number} [brushOption.z]\n     */\n    enableBrush: function (brushOption) {\n        if (__DEV__) {\n            assert(this._mounted);\n        }\n\n        this._brushType && doDisableBrush(this);\n        brushOption.brushType && doEnableBrush(this, brushOption);\n\n        return this;\n    },\n\n    /**\n     * @param {Array.<Object>} panelOpts If not pass, it is global brush.\n     *        Each items: {\n     *            panelId, // mandatory.\n     *            clipPath, // mandatory. function.\n     *            isTargetByCursor, // mandatory. function.\n     *            defaultBrushType, // optional, only used when brushType is 'auto'.\n     *            getLinearBrushOtherExtent, // optional. function.\n     *        }\n     */\n    setPanels: function (panelOpts) {\n        if (panelOpts && panelOpts.length) {\n            var panels = this._panels = {};\n            each$1(panelOpts, function (panelOpts) {\n                panels[panelOpts.panelId] = clone(panelOpts);\n            });\n        }\n        else {\n            this._panels = null;\n        }\n        return this;\n    },\n\n    /**\n     * @param {Object} [opt]\n     * @return {boolean} [opt.enableGlobalPan=false]\n     */\n    mount: function (opt) {\n        opt = opt || {};\n\n        if (__DEV__) {\n            this._mounted = true; // should be at first.\n        }\n\n        this._enableGlobalPan = opt.enableGlobalPan;\n\n        var thisGroup = this.group;\n        this._zr.add(thisGroup);\n\n        thisGroup.attr({\n            position: opt.position || [0, 0],\n            rotation: opt.rotation || 0,\n            scale: opt.scale || [1, 1]\n        });\n        this._transform = thisGroup.getLocalTransform();\n\n        return this;\n    },\n\n    eachCover: function (cb, context) {\n        each$15(this._covers, cb, context);\n    },\n\n    /**\n     * Update covers.\n     * @param {Array.<Object>} brushOptionList Like:\n     *        [\n     *            {id: 'xx', brushType: 'line', range: [23, 44], brushStyle, transformable},\n     *            {id: 'yy', brushType: 'rect', range: [[23, 44], [23, 54]]},\n     *            ...\n     *        ]\n     *        `brushType` is required in each cover info. (can not be 'auto')\n     *        `id` is not mandatory.\n     *        `brushStyle`, `transformable` is not mandatory, use DEFAULT_BRUSH_OPT by default.\n     *        If brushOptionList is null/undefined, all covers removed.\n     */\n    updateCovers: function (brushOptionList) {\n        if (__DEV__) {\n            assert(this._mounted);\n        }\n\n        brushOptionList = map(brushOptionList, function (brushOption) {\n            return merge(clone(DEFAULT_BRUSH_OPT), brushOption, true);\n        });\n\n        var tmpIdPrefix = '\\0-brush-index-';\n        var oldCovers = this._covers;\n        var newCovers = this._covers = [];\n        var controller = this;\n        var creatingCover = this._creatingCover;\n\n        (new DataDiffer(oldCovers, brushOptionList, oldGetKey, getKey))\n            .add(addOrUpdate)\n            .update(addOrUpdate)\n            .remove(remove)\n            .execute();\n\n        return this;\n\n        function getKey(brushOption, index) {\n            return (brushOption.id != null ? brushOption.id : tmpIdPrefix + index)\n                + '-' + brushOption.brushType;\n        }\n\n        function oldGetKey(cover, index) {\n            return getKey(cover.__brushOption, index);\n        }\n\n        function addOrUpdate(newIndex, oldIndex) {\n            var newBrushOption = brushOptionList[newIndex];\n            // Consider setOption in event listener of brushSelect,\n            // where updating cover when creating should be forbiden.\n            if (oldIndex != null && oldCovers[oldIndex] === creatingCover) {\n                newCovers[newIndex] = oldCovers[oldIndex];\n            }\n            else {\n                var cover = newCovers[newIndex] = oldIndex != null\n                    ? (\n                        oldCovers[oldIndex].__brushOption = newBrushOption,\n                        oldCovers[oldIndex]\n                    )\n                    : endCreating(controller, createCover(controller, newBrushOption));\n                updateCoverAfterCreation(controller, cover);\n            }\n        }\n\n        function remove(oldIndex) {\n            if (oldCovers[oldIndex] !== creatingCover) {\n                controller.group.remove(oldCovers[oldIndex]);\n            }\n        }\n    },\n\n    unmount: function () {\n        if (__DEV__) {\n            if (!this._mounted) {\n                return;\n            }\n        }\n\n        this.enableBrush(false);\n\n        // container may 'removeAll' outside.\n        clearCovers(this);\n        this._zr.remove(this.group);\n\n        if (__DEV__) {\n            this._mounted = false; // should be at last.\n        }\n\n        return this;\n    },\n\n    dispose: function () {\n        this.unmount();\n        this.off();\n    }\n};\n\nmixin(BrushController, Eventful);\n\nfunction doEnableBrush(controller, brushOption) {\n    var zr = controller._zr;\n\n    // Consider roam, which takes globalPan too.\n    if (!controller._enableGlobalPan) {\n        take(zr, MUTEX_RESOURCE_KEY, controller._uid);\n    }\n\n    each$15(controller._handlers, function (handler, eventName) {\n        zr.on(eventName, handler);\n    });\n\n    controller._brushType = brushOption.brushType;\n    controller._brushOption = merge(clone(DEFAULT_BRUSH_OPT), brushOption, true);\n}\n\nfunction doDisableBrush(controller) {\n    var zr = controller._zr;\n\n    release(zr, MUTEX_RESOURCE_KEY, controller._uid);\n\n    each$15(controller._handlers, function (handler, eventName) {\n        zr.off(eventName, handler);\n    });\n\n    controller._brushType = controller._brushOption = null;\n}\n\nfunction createCover(controller, brushOption) {\n    var cover = coverRenderers[brushOption.brushType].createCover(controller, brushOption);\n    cover.__brushOption = brushOption;\n    updateZ$1(cover, brushOption);\n    controller.group.add(cover);\n    return cover;\n}\n\nfunction endCreating(controller, creatingCover) {\n    var coverRenderer = getCoverRenderer(creatingCover);\n    if (coverRenderer.endCreating) {\n        coverRenderer.endCreating(controller, creatingCover);\n        updateZ$1(creatingCover, creatingCover.__brushOption);\n    }\n    return creatingCover;\n}\n\nfunction updateCoverShape(controller, cover) {\n    var brushOption = cover.__brushOption;\n    getCoverRenderer(cover).updateCoverShape(\n        controller, cover, brushOption.range, brushOption\n    );\n}\n\nfunction updateZ$1(cover, brushOption) {\n    var z = brushOption.z;\n    z == null && (z = COVER_Z);\n    cover.traverse(function (el) {\n        el.z = z;\n        el.z2 = z; // Consider in given container.\n    });\n}\n\nfunction updateCoverAfterCreation(controller, cover) {\n    getCoverRenderer(cover).updateCommon(controller, cover);\n    updateCoverShape(controller, cover);\n}\n\nfunction getCoverRenderer(cover) {\n    return coverRenderers[cover.__brushOption.brushType];\n}\n\n// return target panel or `true` (means global panel)\nfunction getPanelByPoint(controller, e, localCursorPoint) {\n    var panels = controller._panels;\n    if (!panels) {\n        return true; // Global panel\n    }\n    var panel;\n    var transform = controller._transform;\n    each$15(panels, function (pn) {\n        pn.isTargetByCursor(e, localCursorPoint, transform) && (panel = pn);\n    });\n    return panel;\n}\n\n// Return a panel or true\nfunction getPanelByCover(controller, cover) {\n    var panels = controller._panels;\n    if (!panels) {\n        return true; // Global panel\n    }\n    var panelId = cover.__brushOption.panelId;\n    // User may give cover without coord sys info,\n    // which is then treated as global panel.\n    return panelId != null ? panels[panelId] : true;\n}\n\nfunction clearCovers(controller) {\n    var covers = controller._covers;\n    var originalLength = covers.length;\n    each$15(covers, function (cover) {\n        controller.group.remove(cover);\n    }, controller);\n    covers.length = 0;\n\n    return !!originalLength;\n}\n\nfunction trigger(controller, opt) {\n    var areas = map$3(controller._covers, function (cover) {\n        var brushOption = cover.__brushOption;\n        var range = clone(brushOption.range);\n        return {\n            brushType: brushOption.brushType,\n            panelId: brushOption.panelId,\n            range: range\n        };\n    });\n\n    controller.trigger('brush', areas, {\n        isEnd: !!opt.isEnd,\n        removeOnClick: !!opt.removeOnClick\n    });\n}\n\nfunction shouldShowCover(controller) {\n    var track = controller._track;\n\n    if (!track.length) {\n        return false;\n    }\n\n    var p2 = track[track.length - 1];\n    var p1 = track[0];\n    var dx = p2[0] - p1[0];\n    var dy = p2[1] - p1[1];\n    var dist = mathPow$2(dx * dx + dy * dy, 0.5);\n\n    return dist > UNSELECT_THRESHOLD;\n}\n\nfunction getTrackEnds(track) {\n    var tail = track.length - 1;\n    tail < 0 && (tail = 0);\n    return [track[0], track[tail]];\n}\n\nfunction createBaseRectCover(doDrift, controller, brushOption, edgeNames) {\n    var cover = new Group();\n\n    cover.add(new Rect({\n        name: 'main',\n        style: makeStyle(brushOption),\n        silent: true,\n        draggable: true,\n        cursor: 'move',\n        drift: curry$2(doDrift, controller, cover, 'nswe'),\n        ondragend: curry$2(trigger, controller, {isEnd: true})\n    }));\n\n    each$15(\n        edgeNames,\n        function (name) {\n            cover.add(new Rect({\n                name: name,\n                style: {opacity: 0},\n                draggable: true,\n                silent: true,\n                invisible: true,\n                drift: curry$2(doDrift, controller, cover, name),\n                ondragend: curry$2(trigger, controller, {isEnd: true})\n            }));\n        }\n    );\n\n    return cover;\n}\n\nfunction updateBaseRect(controller, cover, localRange, brushOption) {\n    var lineWidth = brushOption.brushStyle.lineWidth || 0;\n    var handleSize = mathMax$6(lineWidth, MIN_RESIZE_LINE_WIDTH);\n    var x = localRange[0][0];\n    var y = localRange[1][0];\n    var xa = x - lineWidth / 2;\n    var ya = y - lineWidth / 2;\n    var x2 = localRange[0][1];\n    var y2 = localRange[1][1];\n    var x2a = x2 - handleSize + lineWidth / 2;\n    var y2a = y2 - handleSize + lineWidth / 2;\n    var width = x2 - x;\n    var height = y2 - y;\n    var widtha = width + lineWidth;\n    var heighta = height + lineWidth;\n\n    updateRectShape(controller, cover, 'main', x, y, width, height);\n\n    if (brushOption.transformable) {\n        updateRectShape(controller, cover, 'w', xa, ya, handleSize, heighta);\n        updateRectShape(controller, cover, 'e', x2a, ya, handleSize, heighta);\n        updateRectShape(controller, cover, 'n', xa, ya, widtha, handleSize);\n        updateRectShape(controller, cover, 's', xa, y2a, widtha, handleSize);\n\n        updateRectShape(controller, cover, 'nw', xa, ya, handleSize, handleSize);\n        updateRectShape(controller, cover, 'ne', x2a, ya, handleSize, handleSize);\n        updateRectShape(controller, cover, 'sw', xa, y2a, handleSize, handleSize);\n        updateRectShape(controller, cover, 'se', x2a, y2a, handleSize, handleSize);\n    }\n}\n\nfunction updateCommon(controller, cover) {\n    var brushOption = cover.__brushOption;\n    var transformable = brushOption.transformable;\n\n    var mainEl = cover.childAt(0);\n    mainEl.useStyle(makeStyle(brushOption));\n    mainEl.attr({\n        silent: !transformable,\n        cursor: transformable ? 'move' : 'default'\n    });\n\n    each$15(\n        ['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw'],\n        function (name) {\n            var el = cover.childOfName(name);\n            var globalDir = getGlobalDirection(controller, name);\n\n            el && el.attr({\n                silent: !transformable,\n                invisible: !transformable,\n                cursor: transformable ? CURSOR_MAP[globalDir] + '-resize' : null\n            });\n        }\n    );\n}\n\nfunction updateRectShape(controller, cover, name, x, y, w, h) {\n    var el = cover.childOfName(name);\n    el && el.setShape(pointsToRect(\n        clipByPanel(controller, cover, [[x, y], [x + w, y + h]])\n    ));\n}\n\nfunction makeStyle(brushOption) {\n    return defaults({strokeNoScale: true}, brushOption.brushStyle);\n}\n\nfunction formatRectRange(x, y, x2, y2) {\n    var min = [mathMin$6(x, x2), mathMin$6(y, y2)];\n    var max = [mathMax$6(x, x2), mathMax$6(y, y2)];\n\n    return [\n        [min[0], max[0]], // x range\n        [min[1], max[1]] // y range\n    ];\n}\n\nfunction getTransform$1(controller) {\n    return getTransform(controller.group);\n}\n\nfunction getGlobalDirection(controller, localDirection) {\n    if (localDirection.length > 1) {\n        localDirection = localDirection.split('');\n        var globalDir = [\n            getGlobalDirection(controller, localDirection[0]),\n            getGlobalDirection(controller, localDirection[1])\n        ];\n        (globalDir[0] === 'e' || globalDir[0] === 'w') && globalDir.reverse();\n        return globalDir.join('');\n    }\n    else {\n        var map$$1 = {w: 'left', e: 'right', n: 'top', s: 'bottom'};\n        var inverseMap = {left: 'w', right: 'e', top: 'n', bottom: 's'};\n        var globalDir = transformDirection(\n            map$$1[localDirection], getTransform$1(controller)\n        );\n        return inverseMap[globalDir];\n    }\n}\n\nfunction driftRect(toRectRange, fromRectRange, controller, cover, name, dx, dy, e) {\n    var brushOption = cover.__brushOption;\n    var rectRange = toRectRange(brushOption.range);\n    var localDelta = toLocalDelta(controller, dx, dy);\n\n    each$15(name.split(''), function (namePart) {\n        var ind = DIRECTION_MAP[namePart];\n        rectRange[ind[0]][ind[1]] += localDelta[ind[0]];\n    });\n\n    brushOption.range = fromRectRange(formatRectRange(\n        rectRange[0][0], rectRange[1][0], rectRange[0][1], rectRange[1][1]\n    ));\n\n    updateCoverAfterCreation(controller, cover);\n    trigger(controller, {isEnd: false});\n}\n\nfunction driftPolygon(controller, cover, dx, dy, e) {\n    var range = cover.__brushOption.range;\n    var localDelta = toLocalDelta(controller, dx, dy);\n\n    each$15(range, function (point) {\n        point[0] += localDelta[0];\n        point[1] += localDelta[1];\n    });\n\n    updateCoverAfterCreation(controller, cover);\n    trigger(controller, {isEnd: false});\n}\n\nfunction toLocalDelta(controller, dx, dy) {\n    var thisGroup = controller.group;\n    var localD = thisGroup.transformCoordToLocal(dx, dy);\n    var localZero = thisGroup.transformCoordToLocal(0, 0);\n\n    return [localD[0] - localZero[0], localD[1] - localZero[1]];\n}\n\nfunction clipByPanel(controller, cover, data) {\n    var panel = getPanelByCover(controller, cover);\n\n    return (panel && panel !== true)\n        ? panel.clipPath(data, controller._transform)\n        : clone(data);\n}\n\nfunction pointsToRect(points) {\n    var xmin = mathMin$6(points[0][0], points[1][0]);\n    var ymin = mathMin$6(points[0][1], points[1][1]);\n    var xmax = mathMax$6(points[0][0], points[1][0]);\n    var ymax = mathMax$6(points[0][1], points[1][1]);\n\n    return {\n        x: xmin,\n        y: ymin,\n        width: xmax - xmin,\n        height: ymax - ymin\n    };\n}\n\nfunction resetCursor(controller, e, localCursorPoint) {\n    // Check active\n    if (!controller._brushType) {\n        return;\n    }\n\n    var zr = controller._zr;\n    var covers = controller._covers;\n    var currPanel = getPanelByPoint(controller, e, localCursorPoint);\n\n    // Check whether in covers.\n    if (!controller._dragging) {\n        for (var i = 0; i < covers.length; i++) {\n            var brushOption = covers[i].__brushOption;\n            if (currPanel\n                && (currPanel === true || brushOption.panelId === currPanel.panelId)\n                && coverRenderers[brushOption.brushType].contain(\n                    covers[i], localCursorPoint[0], localCursorPoint[1]\n                )\n            ) {\n                // Use cursor style set on cover.\n                return;\n            }\n        }\n    }\n\n    currPanel && zr.setCursorStyle('crosshair');\n}\n\nfunction preventDefault(e) {\n    var rawE = e.event;\n    rawE.preventDefault && rawE.preventDefault();\n}\n\nfunction mainShapeContain(cover, x, y) {\n    return cover.childOfName('main').contain(x, y);\n}\n\nfunction updateCoverByMouse(controller, e, localCursorPoint, isEnd) {\n    var creatingCover = controller._creatingCover;\n    var panel = controller._creatingPanel;\n    var thisBrushOption = controller._brushOption;\n    var eventParams;\n\n    controller._track.push(localCursorPoint.slice());\n\n    if (shouldShowCover(controller) || creatingCover) {\n\n        if (panel && !creatingCover) {\n            thisBrushOption.brushMode === 'single' && clearCovers(controller);\n            var brushOption = clone(thisBrushOption);\n            brushOption.brushType = determineBrushType(brushOption.brushType, panel);\n            brushOption.panelId = panel === true ? null : panel.panelId;\n            creatingCover = controller._creatingCover = createCover(controller, brushOption);\n            controller._covers.push(creatingCover);\n        }\n\n        if (creatingCover) {\n            var coverRenderer = coverRenderers[determineBrushType(controller._brushType, panel)];\n            var coverBrushOption = creatingCover.__brushOption;\n\n            coverBrushOption.range = coverRenderer.getCreatingRange(\n                clipByPanel(controller, creatingCover, controller._track)\n            );\n\n            if (isEnd) {\n                endCreating(controller, creatingCover);\n                coverRenderer.updateCommon(controller, creatingCover);\n            }\n\n            updateCoverShape(controller, creatingCover);\n\n            eventParams = {isEnd: isEnd};\n        }\n    }\n    else if (\n        isEnd\n        && thisBrushOption.brushMode === 'single'\n        && thisBrushOption.removeOnClick\n    ) {\n        // Help user to remove covers easily, only by a tiny drag, in 'single' mode.\n        // But a single click do not clear covers, because user may have casual\n        // clicks (for example, click on other component and do not expect covers\n        // disappear).\n        // Only some cover removed, trigger action, but not every click trigger action.\n        if (getPanelByPoint(controller, e, localCursorPoint) && clearCovers(controller)) {\n            eventParams = {isEnd: isEnd, removeOnClick: true};\n        }\n    }\n\n    return eventParams;\n}\n\nfunction determineBrushType(brushType, panel) {\n    if (brushType === 'auto') {\n        if (__DEV__) {\n            assert(\n                panel && panel.defaultBrushType,\n                'MUST have defaultBrushType when brushType is \"atuo\"'\n            );\n        }\n        return panel.defaultBrushType;\n    }\n    return brushType;\n}\n\nvar mouseHandlers = {\n\n    mousedown: function (e) {\n        if (this._dragging) {\n            // In case some browser do not support globalOut,\n            // and release mose out side the browser.\n            handleDragEnd.call(this, e);\n        }\n        else if (!e.target || !e.target.draggable) {\n\n            preventDefault(e);\n\n            var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n\n            this._creatingCover = null;\n            var panel = this._creatingPanel = getPanelByPoint(this, e, localCursorPoint);\n\n            if (panel) {\n                this._dragging = true;\n                this._track = [localCursorPoint.slice()];\n            }\n        }\n    },\n\n    mousemove: function (e) {\n        var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n\n        resetCursor(this, e, localCursorPoint);\n\n        if (this._dragging) {\n\n            preventDefault(e);\n\n            var eventParams = updateCoverByMouse(this, e, localCursorPoint, false);\n\n            eventParams && trigger(this, eventParams);\n        }\n    },\n\n    mouseup: handleDragEnd //,\n\n    // FIXME\n    // in tooltip, globalout should not be triggered.\n    // globalout: handleDragEnd\n};\n\nfunction handleDragEnd(e) {\n    if (this._dragging) {\n\n        preventDefault(e);\n\n        var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n        var eventParams = updateCoverByMouse(this, e, localCursorPoint, true);\n\n        this._dragging = false;\n        this._track = [];\n        this._creatingCover = null;\n\n        // trigger event shoule be at final, after procedure will be nested.\n        eventParams && trigger(this, eventParams);\n    }\n}\n\n/**\n * key: brushType\n * @type {Object}\n */\nvar coverRenderers = {\n\n    lineX: getLineRenderer(0),\n\n    lineY: getLineRenderer(1),\n\n    rect: {\n        createCover: function (controller, brushOption) {\n            return createBaseRectCover(\n                curry$2(\n                    driftRect,\n                    function (range) {\n                        return range;\n                    },\n                    function (range) {\n                        return range;\n                    }\n                ),\n                controller,\n                brushOption,\n                ['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw']\n            );\n        },\n        getCreatingRange: function (localTrack) {\n            var ends = getTrackEnds(localTrack);\n            return formatRectRange(ends[1][0], ends[1][1], ends[0][0], ends[0][1]);\n        },\n        updateCoverShape: function (controller, cover, localRange, brushOption) {\n            updateBaseRect(controller, cover, localRange, brushOption);\n        },\n        updateCommon: updateCommon,\n        contain: mainShapeContain\n    },\n\n    polygon: {\n        createCover: function (controller, brushOption) {\n            var cover = new Group();\n\n            // Do not use graphic.Polygon because graphic.Polyline do not close the\n            // border of the shape when drawing, which is a better experience for user.\n            cover.add(new Polyline({\n                name: 'main',\n                style: makeStyle(brushOption),\n                silent: true\n            }));\n\n            return cover;\n        },\n        getCreatingRange: function (localTrack) {\n            return localTrack;\n        },\n        endCreating: function (controller, cover) {\n            cover.remove(cover.childAt(0));\n            // Use graphic.Polygon close the shape.\n            cover.add(new Polygon({\n                name: 'main',\n                draggable: true,\n                drift: curry$2(driftPolygon, controller, cover),\n                ondragend: curry$2(trigger, controller, {isEnd: true})\n            }));\n        },\n        updateCoverShape: function (controller, cover, localRange, brushOption) {\n            cover.childAt(0).setShape({\n                points: clipByPanel(controller, cover, localRange)\n            });\n        },\n        updateCommon: updateCommon,\n        contain: mainShapeContain\n    }\n};\n\nfunction getLineRenderer(xyIndex) {\n    return {\n        createCover: function (controller, brushOption) {\n            return createBaseRectCover(\n                curry$2(\n                    driftRect,\n                    function (range) {\n                        var rectRange = [range, [0, 100]];\n                        xyIndex && rectRange.reverse();\n                        return rectRange;\n                    },\n                    function (rectRange) {\n                        return rectRange[xyIndex];\n                    }\n                ),\n                controller,\n                brushOption,\n                [['w', 'e'], ['n', 's']][xyIndex]\n            );\n        },\n        getCreatingRange: function (localTrack) {\n            var ends = getTrackEnds(localTrack);\n            var min = mathMin$6(ends[0][xyIndex], ends[1][xyIndex]);\n            var max = mathMax$6(ends[0][xyIndex], ends[1][xyIndex]);\n\n            return [min, max];\n        },\n        updateCoverShape: function (controller, cover, localRange, brushOption) {\n            var otherExtent;\n            // If brushWidth not specified, fit the panel.\n            var panel = getPanelByCover(controller, cover);\n            if (panel !== true && panel.getLinearBrushOtherExtent) {\n                otherExtent = panel.getLinearBrushOtherExtent(\n                    xyIndex, controller._transform\n                );\n            }\n            else {\n                var zr = controller._zr;\n                otherExtent = [0, [zr.getWidth(), zr.getHeight()][1 - xyIndex]];\n            }\n            var rectRange = [localRange, otherExtent];\n            xyIndex && rectRange.reverse();\n\n            updateBaseRect(controller, cover, rectRange, brushOption);\n        },\n        updateCommon: updateCommon,\n        contain: mainShapeContain\n    };\n}\n\nfunction makeRectPanelClipPath(rect) {\n    rect = normalizeRect(rect);\n    return function (localPoints, transform) {\n        return clipPointsByRect(localPoints, rect);\n    };\n}\n\nfunction makeLinearBrushOtherExtent(rect, specifiedXYIndex) {\n    rect = normalizeRect(rect);\n    return function (xyIndex) {\n        var idx = specifiedXYIndex != null ? specifiedXYIndex : xyIndex;\n        var brushWidth = idx ? rect.width : rect.height;\n        var base = idx ? rect.x : rect.y;\n        return [base, base + (brushWidth || 0)];\n    };\n}\n\nfunction makeRectIsTargetByCursor(rect, api, targetModel) {\n    rect = normalizeRect(rect);\n    return function (e, localCursorPoint, transform) {\n        return rect.contain(localCursorPoint[0], localCursorPoint[1])\n            && !onIrrelevantElement(e, api, targetModel);\n    };\n}\n\n// Consider width/height is negative.\nfunction normalizeRect(rect) {\n    return BoundingRect.create(rect);\n}\n\nvar elementList = ['axisLine', 'axisTickLabel', 'axisName'];\n\nvar AxisView$2 = extendComponentView({\n\n    type: 'parallelAxis',\n\n    /**\n     * @override\n     */\n    init: function (ecModel, api) {\n        AxisView$2.superApply(this, 'init', arguments);\n\n        /**\n         * @type {module:echarts/component/helper/BrushController}\n         */\n        (this._brushController = new BrushController(api.getZr()))\n            .on('brush', bind(this._onBrush, this));\n    },\n\n    /**\n     * @override\n     */\n    render: function (axisModel, ecModel, api, payload) {\n        if (fromAxisAreaSelect(axisModel, ecModel, payload)) {\n            return;\n        }\n\n        this.axisModel = axisModel;\n        this.api = api;\n\n        this.group.removeAll();\n\n        var oldAxisGroup = this._axisGroup;\n        this._axisGroup = new Group();\n        this.group.add(this._axisGroup);\n\n        if (!axisModel.get('show')) {\n            return;\n        }\n\n        var coordSysModel = getCoordSysModel(axisModel, ecModel);\n        var coordSys = coordSysModel.coordinateSystem;\n\n        var areaSelectStyle = axisModel.getAreaSelectStyle();\n        var areaWidth = areaSelectStyle.width;\n\n        var dim = axisModel.axis.dim;\n        var axisLayout = coordSys.getAxisLayout(dim);\n\n        var builderOpt = extend(\n            {strokeContainThreshold: areaWidth},\n            axisLayout\n        );\n\n        var axisBuilder = new AxisBuilder(axisModel, builderOpt);\n\n        each$1(elementList, axisBuilder.add, axisBuilder);\n\n        this._axisGroup.add(axisBuilder.getGroup());\n\n        this._refreshBrushController(\n            builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api\n        );\n\n        var animationModel = (payload && payload.animation === false) ? null : axisModel;\n        groupTransition(oldAxisGroup, this._axisGroup, animationModel);\n    },\n\n    /**\n     * @override\n     */\n    updateVisual: function (axisModel, ecModel, api, payload) {\n        this._brushController && this._brushController\n            .updateCovers(getCoverInfoList(axisModel));\n    },\n\n    _refreshBrushController: function (\n        builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api\n    ) {\n        // After filtering, axis may change, select area needs to be update.\n        var extent = axisModel.axis.getExtent();\n        var extentLen = extent[1] - extent[0];\n        var extra = Math.min(30, Math.abs(extentLen) * 0.1); // Arbitrary value.\n\n        // width/height might be negative, which will be\n        // normalized in BoundingRect.\n        var rect = BoundingRect.create({\n            x: extent[0],\n            y: -areaWidth / 2,\n            width: extentLen,\n            height: areaWidth\n        });\n        rect.x -= extra;\n        rect.width += 2 * extra;\n\n        this._brushController\n            .mount({\n                enableGlobalPan: true,\n                rotation: builderOpt.rotation,\n                position: builderOpt.position\n            })\n            .setPanels([{\n                panelId: 'pl',\n                clipPath: makeRectPanelClipPath(rect),\n                isTargetByCursor: makeRectIsTargetByCursor(rect, api, coordSysModel),\n                getLinearBrushOtherExtent: makeLinearBrushOtherExtent(rect, 0)\n            }])\n            .enableBrush({\n                brushType: 'lineX',\n                brushStyle: areaSelectStyle,\n                removeOnClick: true\n            })\n            .updateCovers(getCoverInfoList(axisModel));\n    },\n\n    _onBrush: function (coverInfoList, opt) {\n        // Do not cache these object, because the mey be changed.\n        var axisModel = this.axisModel;\n        var axis = axisModel.axis;\n        var intervals = map(coverInfoList, function (coverInfo) {\n            return [\n                axis.coordToData(coverInfo.range[0], true),\n                axis.coordToData(coverInfo.range[1], true)\n            ];\n        });\n\n        // If realtime is true, action is not dispatched on drag end, because\n        // the drag end emits the same params with the last drag move event,\n        // and may have some delay when using touch pad.\n        if (!axisModel.option.realtime === opt.isEnd || opt.removeOnClick) { // jshint ignore:line\n            this.api.dispatchAction({\n                type: 'axisAreaSelect',\n                parallelAxisId: axisModel.id,\n                intervals: intervals\n            });\n        }\n    },\n\n    /**\n     * @override\n     */\n    dispose: function () {\n        this._brushController.dispose();\n    }\n});\n\nfunction fromAxisAreaSelect(axisModel, ecModel, payload) {\n    return payload\n        && payload.type === 'axisAreaSelect'\n        && ecModel.findComponents(\n            {mainType: 'parallelAxis', query: payload}\n        )[0] === axisModel;\n}\n\nfunction getCoverInfoList(axisModel) {\n    var axis = axisModel.axis;\n    return map(axisModel.activeIntervals, function (interval) {\n        return {\n            brushType: 'lineX',\n            panelId: 'pl',\n            range: [\n                axis.dataToCoord(interval[0], true),\n                axis.dataToCoord(interval[1], true)\n            ]\n        };\n    });\n}\n\nfunction getCoordSysModel(axisModel, ecModel) {\n    return ecModel.getComponent(\n        'parallel', axisModel.get('parallelIndex')\n    );\n}\n\nvar CLICK_THRESHOLD = 5; // > 4\n\n// Parallel view\nextendComponentView({\n    type: 'parallel',\n\n    render: function (parallelModel, ecModel, api) {\n        this._model = parallelModel;\n        this._api = api;\n\n        if (!this._handlers) {\n            this._handlers = {};\n            each$1(handlers, function (handler, eventName) {\n                api.getZr().on(eventName, this._handlers[eventName] = bind(handler, this));\n            }, this);\n        }\n\n        createOrUpdate(\n            this,\n            '_throttledDispatchExpand',\n            parallelModel.get('axisExpandRate'),\n            'fixRate'\n        );\n    },\n\n    dispose: function (ecModel, api) {\n        each$1(this._handlers, function (handler, eventName) {\n            api.getZr().off(eventName, handler);\n        });\n        this._handlers = null;\n    },\n\n    /**\n     * @param {Object} [opt] If null, cancle the last action triggering for debounce.\n     */\n    _throttledDispatchExpand: function (opt) {\n        this._dispatchExpand(opt);\n    },\n\n    _dispatchExpand: function (opt) {\n        opt && this._api.dispatchAction(\n            extend({type: 'parallelAxisExpand'}, opt)\n        );\n    }\n\n});\n\nvar handlers = {\n\n    mousedown: function (e) {\n        if (checkTrigger(this, 'click')) {\n            this._mouseDownPoint = [e.offsetX, e.offsetY];\n        }\n    },\n\n    mouseup: function (e) {\n        var mouseDownPoint = this._mouseDownPoint;\n\n        if (checkTrigger(this, 'click') && mouseDownPoint) {\n            var point = [e.offsetX, e.offsetY];\n            var dist = Math.pow(mouseDownPoint[0] - point[0], 2)\n                + Math.pow(mouseDownPoint[1] - point[1], 2);\n\n            if (dist > CLICK_THRESHOLD) {\n                return;\n            }\n\n            var result = this._model.coordinateSystem.getSlidedAxisExpandWindow(\n                [e.offsetX, e.offsetY]\n            );\n\n            result.behavior !== 'none' && this._dispatchExpand({\n                axisExpandWindow: result.axisExpandWindow\n            });\n        }\n\n        this._mouseDownPoint = null;\n    },\n\n    mousemove: function (e) {\n        // Should do nothing when brushing.\n        if (this._mouseDownPoint || !checkTrigger(this, 'mousemove')) {\n            return;\n        }\n        var model = this._model;\n        var result = model.coordinateSystem.getSlidedAxisExpandWindow(\n            [e.offsetX, e.offsetY]\n        );\n\n        var behavior = result.behavior;\n        behavior === 'jump' && this._throttledDispatchExpand.debounceNextCall(model.get('axisExpandDebounce'));\n        this._throttledDispatchExpand(\n            behavior === 'none'\n                ? null // Cancle the last trigger, in case that mouse slide out of the area quickly.\n                : {\n                    axisExpandWindow: result.axisExpandWindow,\n                    // Jumping uses animation, and sliding suppresses animation.\n                    animation: behavior === 'jump'  ? null : false\n                }\n        );\n    }\n};\n\nfunction checkTrigger(view, triggerOn) {\n    var model = view._model;\n    return model.get('axisExpandable') && model.get('axisExpandTriggerOn') === triggerOn;\n}\n\nregisterPreprocessor(parallelPreprocessor);\n\nSeriesModel.extend({\n\n    type: 'series.parallel',\n\n    dependencies: ['parallel'],\n\n    visualColorAccessPath: 'lineStyle.normal.color',\n\n    getInitialData: function (option, ecModel) {\n        var parallelModel = ecModel.getComponent(\n            'parallel', this.get('parallelIndex')\n        );\n        var parallelAxisIndices = parallelModel.parallelAxisIndex;\n\n        var rawData = option.data;\n        var modelDims = parallelModel.dimensions;\n\n        var dataDims = generateDataDims(modelDims, rawData);\n\n        var dataDimsInfo = map(dataDims, function (dim, dimIndex) {\n\n            var modelDimsIndex = indexOf(modelDims, dim);\n            var axisModel = modelDimsIndex >= 0 && ecModel.getComponent(\n                'parallelAxis', parallelAxisIndices[modelDimsIndex]\n            );\n\n            if (axisModel && axisModel.get('type') === 'category') {\n                translateCategoryValue(axisModel, dim, rawData);\n                return {name: dim, type: 'ordinal'};\n            }\n            else if (modelDimsIndex < 0) {\n                return completeDimensions.guessOrdinal(rawData, dimIndex)\n                    ? {name: dim, type: 'ordinal'}\n                    : dim;\n            }\n            else {\n                return dim;\n            }\n        });\n\n        var list = new List(dataDimsInfo, this);\n        list.initData(rawData);\n\n        // Anication is forbiden in progressive data mode.\n        if (this.option.progressive) {\n            this.option.animation = false;\n        }\n\n        return list;\n    },\n\n    /**\n     * User can get data raw indices on 'axisAreaSelected' event received.\n     *\n     * @public\n     * @param {string} activeState 'active' or 'inactive' or 'normal'\n     * @return {Array.<number>} Raw indices\n     */\n    getRawIndicesByActiveState: function (activeState) {\n        var coordSys = this.coordinateSystem;\n        var data = this.getData();\n        var indices = [];\n\n        coordSys.eachActiveState(data, function (theActiveState, dataIndex) {\n            if (activeState === theActiveState) {\n                indices.push(data.getRawIndex(dataIndex));\n            }\n        });\n\n        return indices;\n    },\n\n    defaultOption: {\n        zlevel: 0,                  // \n        z: 2,                       // \n\n        coordinateSystem: 'parallel',\n        parallelIndex: 0,\n\n        label: {\n            normal: {\n                show: false\n            },\n            emphasis: {\n                show: false\n            }\n        },\n\n        inactiveOpacity: 0.05,\n        activeOpacity: 1,\n\n        lineStyle: {\n            normal: {\n                width: 1,\n                opacity: 0.45,\n                type: 'solid'\n            }\n        },\n        progressive: false, // 100\n        smooth: false,\n\n        animationEasing: 'linear'\n    }\n});\n\nfunction translateCategoryValue(axisModel, dim, rawData) {\n    var axisData = axisModel.get('data');\n    var numberDim = convertDimNameToNumber(dim);\n\n    if (axisData && axisData.length) {\n        each$1(rawData, function (dataItem) {\n            if (!dataItem) {\n                return;\n            }\n            // FIXME\n            // time consuming, should use hash?\n            var index = indexOf(axisData, dataItem[numberDim]);\n            dataItem[numberDim] = index >= 0 ? index : NaN;\n        });\n    }\n    // FIXME\n    // axis data, \n}\n\nfunction convertDimNameToNumber(dimName) {\n    return +dimName.replace('dim', '');\n}\n\nfunction generateDataDims(modelDims, rawData) {\n    // parallelModel.dimension should not be regarded as data\n    // dimensions. Consider dimensions = ['dim4', 'dim2', 'dim6'];\n\n    // We detect max dim by parallelModel.dimensions and fist\n    // item in rawData arbitrarily.\n    var maxDimNum = 0;\n    each$1(modelDims, function (dimName) {\n        var numberDim = convertDimNameToNumber(dimName);\n        numberDim > maxDimNum && (maxDimNum = numberDim);\n    });\n\n    var firstItem = rawData[0];\n    if (firstItem && firstItem.length - 1 > maxDimNum) {\n        maxDimNum = firstItem.length - 1;\n    }\n\n    var dataDims = [];\n    for (var i = 0; i <= maxDimNum; i++) {\n        dataDims.push('dim' + i);\n    }\n\n    return dataDims;\n}\n\nvar SMOOTH = 0.3;\n\nvar ParallelView = Chart.extend({\n\n    type: 'parallel',\n\n    init: function () {\n\n        /**\n         * @type {module:zrender/container/Group}\n         * @private\n         */\n        this._dataGroup = new Group();\n\n        this.group.add(this._dataGroup);\n\n        /**\n         * @type {module:echarts/data/List}\n         */\n        this._data;\n    },\n\n    /**\n     * @override\n     */\n    render: function (seriesModel, ecModel, api, payload) {\n        this._renderForNormal(seriesModel, payload);\n        // this[\n        //     seriesModel.option.progressive\n        //         ? '_renderForProgressive'\n        //         : '_renderForNormal'\n        // ](seriesModel);\n    },\n\n    dispose: function () {},\n\n    /**\n     * @private\n     */\n    _renderForNormal: function (seriesModel, payload) {\n        var dataGroup = this._dataGroup;\n        var data = seriesModel.getData();\n        var oldData = this._data;\n        var coordSys = seriesModel.coordinateSystem;\n        var dimensions = coordSys.dimensions;\n        var option = seriesModel.option;\n        var smooth = option.smooth ? SMOOTH : null;\n\n        // Consider switch between progressive and not.\n        // oldData && oldData.__plProgressive && dataGroup.removeAll();\n\n        data.diff(oldData)\n            .add(add)\n            .update(update)\n            .remove(remove)\n            .execute();\n\n        // Update style\n        updateElCommon(data, smooth);\n\n        // First create\n        if (!this._data) {\n            var clipPath = createGridClipShape$1(\n                coordSys, seriesModel, function () {\n                    // Callback will be invoked immediately if there is no animation\n                    setTimeout(function () {\n                        dataGroup.removeClipPath();\n                    });\n                }\n            );\n            dataGroup.setClipPath(clipPath);\n        }\n\n        this._data = data;\n\n        function add(newDataIndex) {\n            addEl(data, dataGroup, newDataIndex, dimensions, coordSys, null, smooth);\n        }\n\n        function update(newDataIndex, oldDataIndex) {\n            var line = oldData.getItemGraphicEl(oldDataIndex);\n            var points = createLinePoints(data, newDataIndex, dimensions, coordSys);\n            data.setItemGraphicEl(newDataIndex, line);\n            var animationModel = (payload && payload.animation === false) ? null : seriesModel;\n            updateProps(line, {shape: {points: points}}, animationModel, newDataIndex);\n        }\n\n        function remove(oldDataIndex) {\n            var line = oldData.getItemGraphicEl(oldDataIndex);\n            dataGroup.remove(line);\n        }\n\n    },\n\n    /**\n     * @private\n     */\n    // _renderForProgressive: function (seriesModel) {\n    //     var dataGroup = this._dataGroup;\n    //     var data = seriesModel.getData();\n    //     var oldData = this._data;\n    //     var coordSys = seriesModel.coordinateSystem;\n    //     var dimensions = coordSys.dimensions;\n    //     var option = seriesModel.option;\n    //     var progressive = option.progressive;\n    //     var smooth = option.smooth ? SMOOTH : null;\n\n    //     // In progressive animation is disabled, so use simple data diff,\n    //     // which effects performance less.\n    //     // (Typically performance for data with length 7000+ like:\n    //     // simpleDiff: 60ms, addEl: 184ms,\n    //     // in RMBP 2.4GHz intel i7, OSX 10.9 chrome 50.0.2661.102 (64-bit))\n    //     if (simpleDiff(oldData, data, dimensions)) {\n    //         dataGroup.removeAll();\n    //         data.each(function (dataIndex) {\n    //             addEl(data, dataGroup, dataIndex, dimensions, coordSys);\n    //         });\n    //     }\n\n    //     updateElCommon(data, progressive, smooth);\n\n    //     // Consider switch between progressive and not.\n    //     data.__plProgressive = true;\n    //     this._data = data;\n    // },\n\n    /**\n     * @override\n     */\n    remove: function () {\n        this._dataGroup && this._dataGroup.removeAll();\n        this._data = null;\n    }\n});\n\nfunction createGridClipShape$1(coordSys, seriesModel, cb) {\n    var parallelModel = coordSys.model;\n    var rect = coordSys.getRect();\n    var rectEl = new Rect({\n        shape: {\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height\n        }\n    });\n\n    var dim = parallelModel.get('layout') === 'horizontal' ? 'width' : 'height';\n    rectEl.setShape(dim, 0);\n    initProps(rectEl, {\n        shape: {\n            width: rect.width,\n            height: rect.height\n        }\n    }, seriesModel, cb);\n    return rectEl;\n}\n\nfunction createLinePoints(data, dataIndex, dimensions, coordSys) {\n    var points = [];\n    for (var i = 0; i < dimensions.length; i++) {\n        var dimName = dimensions[i];\n        var value = data.get(dimName, dataIndex);\n        if (!isEmptyValue(value, coordSys.getAxis(dimName).type)) {\n            points.push(coordSys.dataToPoint(value, dimName));\n        }\n    }\n    return points;\n}\n\nfunction addEl(data, dataGroup, dataIndex, dimensions, coordSys) {\n    var points = createLinePoints(data, dataIndex, dimensions, coordSys);\n    var line = new Polyline({\n        shape: {points: points},\n        silent: true,\n        z2: 10\n    });\n    dataGroup.add(line);\n    data.setItemGraphicEl(dataIndex, line);\n}\n\nfunction updateElCommon(data, smooth) {\n    var seriesStyleModel = data.hostModel.getModel('lineStyle.normal');\n    var lineStyle = seriesStyleModel.getLineStyle();\n    data.eachItemGraphicEl(function (line, dataIndex) {\n        if (data.hasItemOption) {\n            var itemModel = data.getItemModel(dataIndex);\n            var lineStyleModel = itemModel.getModel('lineStyle.normal', seriesStyleModel);\n            lineStyle = lineStyleModel.getLineStyle(['color', 'stroke']);\n        }\n\n        line.useStyle(extend(lineStyle, {\n            fill: null,\n            // lineStyle.color have been set to itemVisual in module:echarts/visual/seriesColor.\n            stroke: data.getItemVisual(dataIndex, 'color'),\n            // lineStyle.opacity have been set to itemVisual in parallelVisual.\n            opacity: data.getItemVisual(dataIndex, 'opacity')\n        }));\n\n        line.shape.smooth = smooth;\n    });\n}\n\n// function simpleDiff(oldData, newData, dimensions) {\n//     var oldLen;\n//     if (!oldData\n//         || !oldData.__plProgressive\n//         || (oldLen = oldData.count()) !== newData.count()\n//     ) {\n//         return true;\n//     }\n\n//     var dimLen = dimensions.length;\n//     for (var i = 0; i < oldLen; i++) {\n//         for (var j = 0; j < dimLen; j++) {\n//             if (oldData.get(dimensions[j], i) !== newData.get(dimensions[j], i)) {\n//                 return true;\n//             }\n//         }\n//     }\n\n//     return false;\n// }\n\n// FIXME\n// ?\nfunction isEmptyValue(val, axisType) {\n    return axisType === 'category'\n        ? val == null\n        : (val == null || isNaN(val)); // axisType === 'value'\n}\n\nvar opacityAccessPath$1 = ['lineStyle', 'normal', 'opacity'];\n\nvar parallelVisual = function (ecModel) {\n\n    ecModel.eachSeriesByType('parallel', function (seriesModel) {\n\n        var itemStyleModel = seriesModel.getModel('itemStyle.normal');\n        var lineStyleModel = seriesModel.getModel('lineStyle.normal');\n        var globalColors = ecModel.get('color');\n\n        var color = lineStyleModel.get('color')\n            || itemStyleModel.get('color')\n            || globalColors[seriesModel.seriesIndex % globalColors.length];\n        var inactiveOpacity = seriesModel.get('inactiveOpacity');\n        var activeOpacity = seriesModel.get('activeOpacity');\n        var lineStyle = seriesModel.getModel('lineStyle.normal').getLineStyle();\n\n        var coordSys = seriesModel.coordinateSystem;\n        var data = seriesModel.getData();\n\n        var opacityMap = {\n            normal: lineStyle.opacity,\n            active: activeOpacity,\n            inactive: inactiveOpacity\n        };\n\n        coordSys.eachActiveState(data, function (activeState, dataIndex) {\n            var itemModel = data.getItemModel(dataIndex);\n            var opacity = opacityMap[activeState];\n            if (activeState === 'normal') {\n                var itemOpacity = itemModel.get(opacityAccessPath$1, true);\n                itemOpacity != null && (opacity = itemOpacity);\n            }\n            data.setItemVisual(dataIndex, 'opacity', opacity);\n        });\n\n        data.setVisual('color', color);\n    });\n};\n\nregisterVisual(parallelVisual);\n\n/**\n * @file Get initial data and define sankey view's series model\n * @author Deqing Li(annong035@gmail.com)\n */\n\nvar SankeySeries = SeriesModel.extend({\n\n    type: 'series.sankey',\n\n    layoutInfo: null,\n\n    /**\n     * Init a graph data structure from data in option series\n     *\n     * @param  {Object} option  the object used to config echarts view\n     * @return {module:echarts/data/List} storage initial data\n     */\n    getInitialData: function (option) {\n        var links = option.edges || option.links;\n        var nodes = option.data || option.nodes;\n        if (nodes && links) {\n            var graph = createGraphFromNodeEdge(nodes, links, this, true);\n            return graph.data;\n        }\n    },\n\n    /**\n     * Return the graphic data structure\n     *\n     * @return {module:echarts/data/Graph} graphic data structure\n     */\n    getGraph: function () {\n        return this.getData().graph;\n    },\n\n    /**\n     * Get edge data of graphic data structure\n     *\n     * @return {module:echarts/data/List} data structure of list\n     */\n    getEdgeData: function () {\n        return this.getGraph().edgeData;\n    },\n\n    /**\n     * @override\n     */\n    formatTooltip: function (dataIndex, multipleSeries, dataType) {\n        // dataType === 'node' or empty do not show tooltip by default\n        if (dataType === 'edge') {\n            var params = this.getDataParams(dataIndex, dataType);\n            var rawDataOpt = params.data;\n            var html = rawDataOpt.source + ' -- ' + rawDataOpt.target;\n            if (params.value) {\n                html += ' : ' + params.value;\n            }\n            return encodeHTML(html);\n        }\n\n        return SankeySeries.superCall(this, 'formatTooltip', dataIndex, multipleSeries);\n    },\n\n    defaultOption: {\n        zlevel: 0,\n        z: 2,\n\n        coordinateSystem: 'view',\n\n        layout: null,\n\n        // the position of the whole view\n        left: '5%',\n        top: '5%',\n        right: '20%',\n        bottom: '5%',\n\n        // the dx of the node\n        nodeWidth: 20,\n\n        // the vertical distance between two nodes\n        nodeGap: 8,\n\n        // the number of iterations to change the position of the node\n        layoutIterations: 32,\n\n        label: {\n            normal: {\n                show: true,\n                position: 'right',\n                color: '#000',\n                fontSize: 12\n            },\n            emphasis: {\n                show: true\n            }\n        },\n\n        itemStyle: {\n            normal: {\n                borderWidth: 1,\n                borderColor: '#333'\n            }\n        },\n\n        lineStyle: {\n            normal: {\n                color: '#314656',\n                opacity: 0.2,\n                curveness: 0.5\n            },\n            emphasis: {\n                opacity: 0.6\n            }\n        },\n\n        animationEasing: 'linear',\n\n        animationDuration: 1000\n    }\n\n});\n\n/**\n * @file  The file used to draw sankey view\n * @author  Deqing Li(annong035@gmail.com)\n */\n\nvar SankeyShape = extendShape({\n    shape: {\n        x1: 0, y1: 0,\n        x2: 0, y2: 0,\n        cpx1: 0, cpy1: 0,\n        cpx2: 0, cpy2: 0,\n\n        extent: 0\n    },\n\n    buildPath: function (ctx, shape) {\n        var halfExtent = shape.extent / 2;\n        ctx.moveTo(shape.x1, shape.y1 - halfExtent);\n        ctx.bezierCurveTo(\n            shape.cpx1, shape.cpy1 - halfExtent,\n            shape.cpx2, shape.cpy2 - halfExtent,\n            shape.x2, shape.y2 - halfExtent\n        );\n        ctx.lineTo(shape.x2, shape.y2 + halfExtent);\n        ctx.bezierCurveTo(\n            shape.cpx2, shape.cpy2 + halfExtent,\n            shape.cpx1, shape.cpy1 + halfExtent,\n            shape.x1, shape.y1 + halfExtent\n        );\n        ctx.closePath();\n    }\n});\n\nextendChartView({\n\n    type: 'sankey',\n\n    /**\n     * @private\n     * @type {module:echarts/chart/sankey/SankeySeries}\n     */\n    _model: null,\n\n    render: function (seriesModel, ecModel, api) {\n        var graph = seriesModel.getGraph();\n        var group = this.group;\n        var layoutInfo = seriesModel.layoutInfo;\n        var nodeData = seriesModel.getData();\n        var edgeData = seriesModel.getData('edge');\n\n        this._model = seriesModel;\n\n        group.removeAll();\n\n        group.attr('position', [layoutInfo.x, layoutInfo.y]);\n\n        // generate a bezire Curve for each edge\n        graph.eachEdge(function (edge) {\n            var curve = new SankeyShape();\n\n            curve.dataIndex = edge.dataIndex;\n            curve.seriesIndex = seriesModel.seriesIndex;\n            curve.dataType = 'edge';\n\n            var lineStyleModel = edge.getModel('lineStyle.normal');\n            var curvature = lineStyleModel.get('curveness');\n            var n1Layout = edge.node1.getLayout();\n            var n2Layout = edge.node2.getLayout();\n            var edgeLayout = edge.getLayout();\n\n            curve.shape.extent = Math.max(1, edgeLayout.dy);\n\n            var x1 = n1Layout.x + n1Layout.dx;\n            var y1 = n1Layout.y + edgeLayout.sy + edgeLayout.dy / 2;\n            var x2 = n2Layout.x;\n            var y2 = n2Layout.y + edgeLayout.ty + edgeLayout.dy / 2;\n            var cpx1 = x1 * (1 - curvature) + x2 * curvature;\n            var cpy1 = y1;\n            var cpx2 = x1 * curvature + x2 * (1 - curvature);\n            var cpy2 = y2;\n\n            curve.setShape({\n                x1: x1,\n                y1: y1,\n                x2: x2,\n                y2: y2,\n                cpx1: cpx1,\n                cpy1: cpy1,\n                cpx2: cpx2,\n                cpy2: cpy2\n            });\n\n            curve.setStyle(lineStyleModel.getItemStyle());\n            // Special color, use source node color or target node color\n            switch (curve.style.fill) {\n                case 'source':\n                    curve.style.fill = edge.node1.getVisual('color');\n                    break;\n                case 'target':\n                    curve.style.fill = edge.node2.getVisual('color');\n                    break;\n            }\n\n            setHoverStyle(curve, edge.getModel('lineStyle.emphasis').getItemStyle());\n\n            group.add(curve);\n\n            edgeData.setItemGraphicEl(edge.dataIndex, curve);\n        });\n\n        // generate a rect  for each node\n        graph.eachNode(function (node) {\n            var layout = node.getLayout();\n            var itemModel = node.getModel();\n            var labelModel = itemModel.getModel('label.normal');\n            var labelHoverModel = itemModel.getModel('label.emphasis');\n\n            var rect = new Rect({\n                shape: {\n                    x: layout.x,\n                    y: layout.y,\n                    width: node.getLayout().dx,\n                    height: node.getLayout().dy\n                },\n                style: itemModel.getModel('itemStyle.normal').getItemStyle()\n            });\n\n            var hoverStyle = node.getModel('itemStyle.emphasis').getItemStyle();\n\n            setLabelStyle(\n                rect.style, hoverStyle, labelModel, labelHoverModel,\n                {\n                    labelFetcher: seriesModel,\n                    labelDataIndex: node.dataIndex,\n                    defaultText: node.id,\n                    isRectText: true\n                }\n            );\n\n            rect.setStyle('fill', node.getVisual('color'));\n\n            setHoverStyle(rect, hoverStyle);\n\n            group.add(rect);\n\n            nodeData.setItemGraphicEl(node.dataIndex, rect);\n\n            rect.dataType = 'node';\n        });\n\n        if (!this._data && seriesModel.get('animation')) {\n            group.setClipPath(createGridClipShape$2(group.getBoundingRect(), seriesModel, function () {\n                group.removeClipPath();\n            }));\n        }\n\n        this._data = seriesModel.getData();\n    },\n\n    dispose: function () {}\n});\n\n// add animation to the view\nfunction createGridClipShape$2(rect, seriesModel, cb) {\n    var rectEl = new Rect({\n        shape: {\n            x: rect.x - 10,\n            y: rect.y - 10,\n            width: 0,\n            height: rect.height + 20\n        }\n    });\n    initProps(rectEl, {\n        shape: {\n            width: rect.width + 20,\n            height: rect.height + 20\n        }\n    }, seriesModel, cb);\n\n    return rectEl;\n}\n\n/**\n * nest helper used to group by the array.\n * can specified the keys and sort the keys.\n */\nfunction nest() {\n\n    var keysFunction = [];\n    var sortKeysFunction = [];\n\n    /**\n     * map an Array into the mapObject.\n     * @param {Array} array\n     * @param {number} depth\n     */\n    function map$$1(array, depth) {\n        if (depth >= keysFunction.length) {\n            return array;\n        }\n        var i = -1;\n        var n = array.length;\n        var keyFunction = keysFunction[depth++];\n        var mapObject = {};\n        var valuesByKey = {};\n\n        while (++i < n) {\n            var keyValue = keyFunction(array[i]);\n            var values = valuesByKey[keyValue];\n\n            if (values) {\n                values.push(array[i]);\n            }\n            else {\n                valuesByKey[keyValue] = [array[i]];\n            }\n        }\n\n        each$1(valuesByKey, function (value, key) {\n            mapObject[key] = map$$1(value, depth);\n        });\n\n        return mapObject;\n    }\n\n    /**\n     * transform the Map Object to multidimensional Array\n     * @param {Object} map\n     * @param {number} depth\n     */\n    function entriesMap(mapObject, depth) {\n        if (depth >= keysFunction.length) {\n            return mapObject;\n        }\n        var array = [];\n        var sortKeyFunction = sortKeysFunction[depth++];\n\n        each$1(mapObject, function (value, key) {\n            array.push({\n                key: key, values: entriesMap(value, depth)\n            });\n        });\n\n        if (sortKeyFunction) {\n            return array.sort(function (a, b) {\n                return sortKeyFunction(a.key, b.key);\n            });\n        }\n        else {\n            return array;\n        }\n    }\n\n    return {\n        /**\n         * specified the key to groupby the arrays.\n         * users can specified one more keys.\n         * @param {Function} d\n         */\n        key: function (d) {\n            keysFunction.push(d);\n            return this;\n        },\n\n        /**\n         * specified the comparator to sort the keys\n         * @param {Function} order\n         */\n        sortKeys: function (order) {\n            sortKeysFunction[keysFunction.length - 1] = order;\n            return this;\n        },\n\n        /**\n         * the array to be grouped by.\n         * @param {Array} array\n         */\n        entries: function (array) {\n            return entriesMap(map$$1(array, 0), 0);\n        }\n    };\n}\n\n/**\n * @file The layout algorithm of sankey view\n * @author  Deqing Li(annong035@gmail.com)\n */\n\nvar sankeyLayout = function (ecModel, api, payload) {\n\n    ecModel.eachSeriesByType('sankey', function (seriesModel) {\n\n        var nodeWidth = seriesModel.get('nodeWidth');\n        var nodeGap = seriesModel.get('nodeGap');\n\n        var layoutInfo = getViewRect$3(seriesModel, api);\n\n        seriesModel.layoutInfo = layoutInfo;\n\n        var width = layoutInfo.width;\n        var height = layoutInfo.height;\n\n        var graph = seriesModel.getGraph();\n\n        var nodes = graph.nodes;\n        var edges = graph.edges;\n\n        computeNodeValues(nodes);\n\n        var filteredNodes = filter(nodes, function (node) {\n            return node.getLayout().value === 0;\n        });\n\n        var iterations = filteredNodes.length !== 0\n            ? 0 : seriesModel.get('layoutIterations');\n\n        layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations);\n    });\n};\n\n/**\n * Get the layout position of the whole view\n *\n * @param {module:echarts/model/Series} seriesModel  the model object of sankey series\n * @param {module:echarts/ExtensionAPI} api  provide the API list that the developer can call\n * @return {module:zrender/core/BoundingRect}  size of rect to draw the sankey view\n */\nfunction getViewRect$3(seriesModel, api) {\n    return getLayoutRect(\n        seriesModel.getBoxLayoutParams(), {\n            width: api.getWidth(),\n            height: api.getHeight()\n        }\n    );\n}\n\nfunction layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations) {\n    computeNodeBreadths(nodes, nodeWidth, width);\n    computeNodeDepths(nodes, edges, height, nodeGap, iterations);\n    computeEdgeDepths(nodes);\n}\n\n/**\n * Compute the value of each node by summing the associated edge's value\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n */\nfunction computeNodeValues(nodes) {\n    each$1(nodes, function (node) {\n        var value1 = sum(node.outEdges, getEdgeValue);\n        var value2 = sum(node.inEdges, getEdgeValue);\n        var value = Math.max(value1, value2);\n        node.setLayout({value: value}, true);\n    });\n}\n\n/**\n * Compute the x-position for each node\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param  {number} nodeWidth  the dx of the node\n * @param  {number} width  the whole width of the area to draw the view\n */\nfunction computeNodeBreadths(nodes, nodeWidth, width) {\n    var remainNodes = nodes;\n    var nextNode = null;\n    var x = 0;\n    var kx = 0;\n\n    while (remainNodes.length) {\n        nextNode = [];\n        for (var i = 0, len = remainNodes.length; i < len; i++) {\n            var node = remainNodes[i];\n            node.setLayout({x: x}, true);\n            node.setLayout({dx: nodeWidth}, true);\n            for (var j = 0, lenj = node.outEdges.length; j < lenj; j++) {\n                nextNode.push(node.outEdges[j].node2);\n            }\n        }\n        remainNodes = nextNode;\n        ++x;\n    }\n\n    moveSinksRight(nodes, x);\n    kx = (width - nodeWidth) / (x - 1);\n\n    scaleNodeBreadths(nodes, kx);\n}\n\n/**\n * All the node without outEgdes are assigned maximum x-position and\n *     be aligned in the last column.\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {number} x  value (x-1) use to assign to node without outEdges\n *     as x-position\n */\nfunction moveSinksRight(nodes, x) {\n    each$1(nodes, function (node) {\n        if (!node.outEdges.length) {\n            node.setLayout({x: x - 1}, true);\n        }\n    });\n}\n\n/**\n * Scale node x-position to the width\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {number} kx   multiple used to scale nodes\n */\nfunction scaleNodeBreadths(nodes, kx) {\n    each$1(nodes, function (node) {\n        var nodeX = node.getLayout().x * kx;\n        node.setLayout({x: nodeX}, true);\n    });\n}\n\n/**\n * Using Gauss-Seidel iterations method to compute the node depth(y-position)\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {module:echarts/data/Graph~Edge} edges  edge of sankey view\n * @param {number} height  the whole height of the area to draw the view\n * @param {number} nodeGap  the vertical distance between two nodes\n *     in the same column.\n * @param {number} iterations  the number of iterations for the algorithm\n */\nfunction computeNodeDepths(nodes, edges, height, nodeGap, iterations) {\n    var nodesByBreadth = nest()\n        .key(function (d) {\n            return d.getLayout().x;\n        })\n        .sortKeys(ascending)\n        .entries(nodes)\n        .map(function (d) {\n            return d.values;\n        });\n\n    initializeNodeDepth(nodes, nodesByBreadth, edges, height, nodeGap);\n    resolveCollisions(nodesByBreadth, nodeGap, height);\n\n    for (var alpha = 1; iterations > 0; iterations--) {\n        // 0.99 is a experience parameter, ensure that each iterations of\n        // changes as small as possible.\n        alpha *= 0.99;\n        relaxRightToLeft(nodesByBreadth, alpha);\n        resolveCollisions(nodesByBreadth, nodeGap, height);\n        relaxLeftToRight(nodesByBreadth, alpha);\n        resolveCollisions(nodesByBreadth, nodeGap, height);\n    }\n}\n\n/**\n * Compute the original y-position for each node\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the nodes x-position.\n * @param {module:echarts/data/Graph~Edge} edges  edge of sankey view\n * @param {number} height  the whole height of the area to draw the view\n * @param {number} nodeGap  the vertical distance between two nodes\n */\nfunction initializeNodeDepth(nodes, nodesByBreadth, edges, height, nodeGap) {\n    var kyArray = [];\n    each$1(nodesByBreadth, function (nodes) {\n        var n = nodes.length;\n        var sum = 0;\n        each$1(nodes, function (node) {\n            sum += node.getLayout().value;\n        });\n        var ky = (height - (n - 1) * nodeGap) / sum;\n        kyArray.push(ky);\n    });\n\n    kyArray.sort(function (a, b) {\n        return a - b;\n    });\n    var ky0 = kyArray[0];\n\n    each$1(nodesByBreadth, function (nodes) {\n        each$1(nodes, function (node, i) {\n            node.setLayout({y: i}, true);\n            var nodeDy = node.getLayout().value * ky0;\n            node.setLayout({dy: nodeDy}, true);\n        });\n    });\n\n    each$1(edges, function (edge) {\n        var edgeDy = +edge.getValue() * ky0;\n        edge.setLayout({dy: edgeDy}, true);\n    });\n}\n\n/**\n * Resolve the collision of initialized depth (y-position)\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the nodes x-position.\n * @param {number} nodeGap  the vertical distance between two nodes\n * @param {number} height  the whole height of the area to draw the view\n */\nfunction resolveCollisions(nodesByBreadth, nodeGap, height) {\n    each$1(nodesByBreadth, function (nodes) {\n        var node;\n        var dy;\n        var y0 = 0;\n        var n = nodes.length;\n        var i;\n\n        nodes.sort(ascendingDepth);\n\n        for (i = 0; i < n; i++) {\n            node = nodes[i];\n            dy = y0 - node.getLayout().y;\n            if (dy > 0) {\n                var nodeY = node.getLayout().y + dy;\n                node.setLayout({y: nodeY}, true);\n            }\n            y0 = node.getLayout().y + node.getLayout().dy + nodeGap;\n        }\n\n        // if the bottommost node goes outside the bounds, push it back up\n        dy = y0 - nodeGap - height;\n        if (dy > 0) {\n            var nodeY = node.getLayout().y - dy;\n            node.setLayout({y: nodeY}, true);\n            y0 = node.getLayout().y;\n            for (i = n - 2; i >= 0; --i) {\n                node = nodes[i];\n                dy = node.getLayout().y + node.getLayout().dy + nodeGap - y0;\n                if (dy > 0) {\n                    nodeY = node.getLayout().y - dy;\n                    node.setLayout({y: nodeY}, true);\n                }\n                y0 = node.getLayout().y;\n            }\n        }\n    });\n}\n\n/**\n * Change the y-position of the nodes, except most the right side nodes\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the node x-position.\n * @param {number} alpha  parameter used to adjust the nodes y-position\n */\nfunction relaxRightToLeft(nodesByBreadth, alpha) {\n    each$1(nodesByBreadth.slice().reverse(), function (nodes) {\n        each$1(nodes, function (node) {\n            if (node.outEdges.length) {\n                var y = sum(node.outEdges, weightedTarget) / sum(node.outEdges, getEdgeValue);\n                var nodeY = node.getLayout().y + (y - center$1(node)) * alpha;\n                node.setLayout({y: nodeY}, true);\n            }\n        });\n    });\n}\n\nfunction weightedTarget(edge) {\n    return center$1(edge.node2) * edge.getValue();\n}\n\n/**\n * Change the y-position of the nodes, except most the left side nodes\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the node x-position.\n * @param {number} alpha  parameter used to adjust the nodes y-position\n */\nfunction relaxLeftToRight(nodesByBreadth, alpha) {\n    each$1(nodesByBreadth, function (nodes) {\n        each$1(nodes, function (node) {\n            if (node.inEdges.length) {\n                var y = sum(node.inEdges, weightedSource) / sum(node.inEdges, getEdgeValue);\n                var nodeY = node.getLayout().y + (y - center$1(node)) * alpha;\n                node.setLayout({y: nodeY}, true);\n            }\n        });\n    });\n}\n\nfunction weightedSource(edge) {\n    return center$1(edge.node1) * edge.getValue();\n}\n\n/**\n * Compute the depth(y-position) of each edge\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n */\nfunction computeEdgeDepths(nodes) {\n    each$1(nodes, function (node) {\n        node.outEdges.sort(ascendingTargetDepth);\n        node.inEdges.sort(ascendingSourceDepth);\n    });\n    each$1(nodes, function (node) {\n        var sy = 0;\n        var ty = 0;\n        each$1(node.outEdges, function (edge) {\n            edge.setLayout({sy: sy}, true);\n            sy += edge.getLayout().dy;\n        });\n        each$1(node.inEdges, function (edge) {\n            edge.setLayout({ty: ty}, true);\n            ty += edge.getLayout().dy;\n        });\n    });\n}\n\nfunction ascendingTargetDepth(a, b) {\n    return a.node2.getLayout().y - b.node2.getLayout().y;\n}\n\nfunction ascendingSourceDepth(a, b) {\n    return a.node1.getLayout().y - b.node1.getLayout().y;\n}\n\nfunction sum(array, f) {\n    var sum = 0;\n    var len = array.length;\n    var i = -1;\n    while (++i < len) {\n        var value = +f.call(array, array[i], i);\n        if (!isNaN(value)) {\n            sum += value;\n        }\n    }\n    return sum;\n}\n\nfunction center$1(node) {\n    return node.getLayout().y + node.getLayout().dy / 2;\n}\n\nfunction ascendingDepth(a, b) {\n    return a.getLayout().y - b.getLayout().y;\n}\n\nfunction ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a === b ? 0 : NaN;\n}\n\nfunction getEdgeValue(edge) {\n    return edge.getValue();\n}\n\n/**\n * @file Visual encoding for sankey view\n * @author  Deqing Li(annong035@gmail.com)\n */\n\nvar sankeyVisual = function (ecModel, payload) {\n    ecModel.eachSeriesByType('sankey', function (seriesModel) {\n        var graph = seriesModel.getGraph();\n        var nodes = graph.nodes;\n\n        nodes.sort(function (a, b) {\n            return a.getLayout().value - b.getLayout().value;\n        });\n\n        var minValue = nodes[0].getLayout().value;\n        var maxValue = nodes[nodes.length - 1].getLayout().value;\n\n        each$1(nodes, function (node) {\n            var mapping = new VisualMapping({\n                type: 'color',\n                mappingMethod: 'linear',\n                dataExtent: [minValue, maxValue],\n                visual: seriesModel.get('color')\n            });\n\n            var mapValueToColor = mapping.mapValueToVisual(node.getLayout().value);\n            node.setVisual('color', mapValueToColor);\n            // If set itemStyle.normal.color\n            var itemModel = node.getModel();\n            var customColor = itemModel.get('itemStyle.normal.color');\n            if (customColor != null) {\n                node.setVisual('color', customColor);\n            }\n        });\n\n    });\n};\n\nregisterLayout(sankeyLayout);\nregisterVisual(sankeyVisual);\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\nvar WhiskerPath = Path.extend({\n\n    type: 'whiskerInBox',\n\n    shape: {},\n\n    buildPath: function (ctx, shape) {\n        for (var i in shape) {\n            if (shape.hasOwnProperty(i) && i.indexOf('ends') === 0) {\n                var pts = shape[i];\n                ctx.moveTo(pts[0][0], pts[0][1]);\n                ctx.lineTo(pts[1][0], pts[1][1]);\n            }\n        }\n    }\n});\n\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/WhiskerBox}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Function} styleUpdater\n * @param {boolean} isInit\n * @extends {module:zrender/graphic/Group}\n */\nfunction WhiskerBox(data, idx, styleUpdater, isInit) {\n    Group.call(this);\n\n    /**\n     * @type {number}\n     * @readOnly\n     */\n    this.bodyIndex;\n\n    /**\n     * @type {number}\n     * @readOnly\n     */\n    this.whiskerIndex;\n\n    /**\n     * @type {Function}\n     */\n    this.styleUpdater = styleUpdater;\n\n    this._createContent(data, idx, isInit);\n\n    this.updateData(data, idx, isInit);\n\n    /**\n     * Last series model.\n     * @type {module:echarts/model/Series}\n     */\n    this._seriesModel;\n}\n\nvar whiskerBoxProto = WhiskerBox.prototype;\n\nwhiskerBoxProto._createContent = function (data, idx, isInit) {\n    var itemLayout = data.getItemLayout(idx);\n    var constDim = itemLayout.chartLayout === 'horizontal' ? 1 : 0;\n    var count = 0;\n\n    // Whisker element.\n    this.add(new Polygon({\n        shape: {\n            points: isInit\n                ? transInit(itemLayout.bodyEnds, constDim, itemLayout)\n                : itemLayout.bodyEnds\n        },\n        style: {strokeNoScale: true},\n        z2: 100\n    }));\n    this.bodyIndex = count++;\n\n    // Box element.\n    var whiskerEnds = map(itemLayout.whiskerEnds, function (ends) {\n        return isInit ? transInit(ends, constDim, itemLayout) : ends;\n    });\n    this.add(new WhiskerPath({\n        shape: makeWhiskerEndsShape(whiskerEnds),\n        style: {strokeNoScale: true},\n        z2: 100\n    }));\n    this.whiskerIndex = count++;\n};\n\nfunction transInit(points, dim, itemLayout) {\n    return map(points, function (point) {\n        point = point.slice();\n        point[dim] = itemLayout.initBaseline;\n        return point;\n    });\n}\n\nfunction makeWhiskerEndsShape(whiskerEnds) {\n    // zr animation only support 2-dim array.\n    var shape = {};\n    each$1(whiskerEnds, function (ends, i) {\n        shape['ends' + i] = ends;\n    });\n    return shape;\n}\n\n/**\n * Update symbol properties\n * @param  {module:echarts/data/List} data\n * @param  {number} idx\n */\nwhiskerBoxProto.updateData = function (data, idx, isInit) {\n    var seriesModel = this._seriesModel = data.hostModel;\n    var itemLayout = data.getItemLayout(idx);\n    var updateMethod = graphic[isInit ? 'initProps' : 'updateProps'];\n    // this.childAt(this.bodyIndex).stopAnimation(true);\n    // this.childAt(this.whiskerIndex).stopAnimation(true);\n    updateMethod(\n        this.childAt(this.bodyIndex),\n        {shape: {points: itemLayout.bodyEnds}},\n        seriesModel, idx\n    );\n    updateMethod(\n        this.childAt(this.whiskerIndex),\n        {shape: makeWhiskerEndsShape(itemLayout.whiskerEnds)},\n        seriesModel, idx\n    );\n\n    this.styleUpdater.call(null, this, data, idx);\n};\n\ninherits(WhiskerBox, Group);\n\n\n/**\n * @constructor\n * @alias module:echarts/chart/helper/WhiskerBoxDraw\n */\nfunction WhiskerBoxDraw(styleUpdater) {\n    this.group = new Group();\n    this.styleUpdater = styleUpdater;\n}\n\nvar whiskerBoxDrawProto = WhiskerBoxDraw.prototype;\n\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n */\nwhiskerBoxDrawProto.updateData = function (data) {\n    var group = this.group;\n    var oldData = this._data;\n    var styleUpdater = this.styleUpdater;\n\n    data.diff(oldData)\n        .add(function (newIdx) {\n            if (data.hasValue(newIdx)) {\n                var symbolEl = new WhiskerBox(data, newIdx, styleUpdater, true);\n                data.setItemGraphicEl(newIdx, symbolEl);\n                group.add(symbolEl);\n            }\n        })\n        .update(function (newIdx, oldIdx) {\n            var symbolEl = oldData.getItemGraphicEl(oldIdx);\n\n            // Empty data\n            if (!data.hasValue(newIdx)) {\n                group.remove(symbolEl);\n                return;\n            }\n\n            if (!symbolEl) {\n                symbolEl = new WhiskerBox(data, newIdx, styleUpdater);\n            }\n            else {\n                symbolEl.updateData(data, newIdx);\n            }\n\n            // Add back\n            group.add(symbolEl);\n\n            data.setItemGraphicEl(newIdx, symbolEl);\n        })\n        .remove(function (oldIdx) {\n            var el = oldData.getItemGraphicEl(oldIdx);\n            el && group.remove(el);\n        })\n        .execute();\n\n    this._data = data;\n};\n\n/**\n * Remove symbols.\n * @param {module:echarts/data/List} data\n */\nwhiskerBoxDrawProto.remove = function () {\n    var group = this.group;\n    var data = this._data;\n    this._data = null;\n    data && data.eachItemGraphicEl(function (el) {\n        el && group.remove(el);\n    });\n};\n\nvar seriesModelMixin = {\n\n    /**\n     * @private\n     * @type {string}\n     */\n    _baseAxisDim: null,\n\n    /**\n     * @override\n     */\n    getInitialData: function (option, ecModel) {\n        // When both types of xAxis and yAxis are 'value', layout is\n        // needed to be specified by user. Otherwise, layout can be\n        // judged by which axis is category.\n\n        var categories;\n\n        var xAxisModel = ecModel.getComponent('xAxis', this.get('xAxisIndex'));\n        var yAxisModel = ecModel.getComponent('yAxis', this.get('yAxisIndex'));\n        var xAxisType = xAxisModel.get('type');\n        var yAxisType = yAxisModel.get('type');\n        var addOrdinal;\n\n        // FIXME\n        // \n\n        if (xAxisType === 'category') {\n            option.layout = 'horizontal';\n            categories = xAxisModel.getCategories();\n            addOrdinal = true;\n        }\n        else if (yAxisType  === 'category') {\n            option.layout = 'vertical';\n            categories = yAxisModel.getCategories();\n            addOrdinal = true;\n        }\n        else {\n            option.layout = option.layout || 'horizontal';\n        }\n\n        var coordDims = ['x', 'y'];\n        var baseAxisDimIndex = option.layout === 'horizontal' ? 0 : 1;\n        var baseAxisDim = this._baseAxisDim = coordDims[baseAxisDimIndex];\n        var otherAxisDim = coordDims[1 - baseAxisDimIndex];\n        var data = option.data;\n\n        addOrdinal && each$1(data, function (item, index) {\n            if (item.value && isArray(item.value)) {\n                item.value.unshift(index);\n            } else {\n                isArray(item) && item.unshift(index);\n            }\n        });\n\n        var defaultValueDimensions = this.defaultValueDimensions;\n        var dimensions = [{\n            name: baseAxisDim,\n            otherDims: {\n                tooltip: false\n            },\n            dimsDef: ['base']\n        }, {\n            name: otherAxisDim,\n            dimsDef: defaultValueDimensions.slice()\n        }];\n\n        dimensions = completeDimensions(dimensions, data, {\n            encodeDef: this.get('encode'),\n            dimsDef: this.get('dimensions'),\n            // Consider empty data entry.\n            dimCount: defaultValueDimensions.length + 1\n        });\n\n        var list = new List(dimensions, this);\n        list.initData(data, categories ? categories.slice() : null);\n\n        return list;\n    },\n\n    /**\n     * If horizontal, base axis is x, otherwise y.\n     * @override\n     */\n    getBaseAxis: function () {\n        var dim = this._baseAxisDim;\n        return this.ecModel.getComponent(dim + 'Axis', this.get(dim + 'AxisIndex')).axis;\n    }\n\n};\n\nvar viewMixin = {\n\n    init: function () {\n        /**\n         * Old data.\n         * @private\n         * @type {module:echarts/chart/helper/WhiskerBoxDraw}\n         */\n        var whiskerBoxDraw = this._whiskerBoxDraw = new WhiskerBoxDraw(\n            this.getStyleUpdater()\n        );\n        this.group.add(whiskerBoxDraw.group);\n    },\n\n    render: function (seriesModel, ecModel, api) {\n        this._whiskerBoxDraw.updateData(seriesModel.getData());\n    },\n\n    remove: function (ecModel) {\n        this._whiskerBoxDraw.remove();\n    }\n};\n\nvar BoxplotSeries = SeriesModel.extend({\n\n    type: 'series.boxplot',\n\n    dependencies: ['xAxis', 'yAxis', 'grid'],\n\n    // TODO\n    // box width represents group size, so dimension should have 'size'.\n\n    /**\n     * @see <https://en.wikipedia.org/wiki/Box_plot>\n     * The meanings of 'min' and 'max' depend on user,\n     * and echarts do not need to know it.\n     * @readOnly\n     */\n    defaultValueDimensions: ['min', 'Q1', 'median', 'Q3', 'max'],\n\n    /**\n     * @type {Array.<string>}\n     * @readOnly\n     */\n    dimensions: null,\n\n    /**\n     * @override\n     */\n    defaultOption: {\n        zlevel: 0,                  // \n        z: 2,                       // \n        coordinateSystem: 'cartesian2d',\n        legendHoverLink: true,\n\n        hoverAnimation: true,\n\n        // xAxisIndex: 0,\n        // yAxisIndex: 0,\n\n        layout: null,               // 'horizontal' or 'vertical'\n        boxWidth: [7, 50],       // [min, max] can be percent of band width.\n\n        itemStyle: {\n            normal: {\n                color: '#fff',\n                borderWidth: 1\n            },\n            emphasis: {\n                borderWidth: 2,\n                shadowBlur: 5,\n                shadowOffsetX: 2,\n                shadowOffsetY: 2,\n                shadowColor: 'rgba(0,0,0,0.4)'\n            }\n        },\n\n        animationEasing: 'elasticOut',\n        animationDuration: 800\n    }\n});\n\nmixin(BoxplotSeries, seriesModelMixin, true);\n\nvar BoxplotView = Chart.extend({\n\n    type: 'boxplot',\n\n    getStyleUpdater: function () {\n        return updateStyle$1;\n    },\n\n    dispose: noop\n});\n\nmixin(BoxplotView, viewMixin, true);\n\n// Update common properties\nvar normalStyleAccessPath$1 = ['itemStyle', 'normal'];\nvar emphasisStyleAccessPath$1 = ['itemStyle', 'emphasis'];\n\nfunction updateStyle$1(itemGroup, data, idx) {\n    var itemModel = data.getItemModel(idx);\n    var normalItemStyleModel = itemModel.getModel(normalStyleAccessPath$1);\n    var borderColor = data.getItemVisual(idx, 'color');\n\n    // Exclude borderColor.\n    var itemStyle = normalItemStyleModel.getItemStyle(['borderColor']);\n\n    var whiskerEl = itemGroup.childAt(itemGroup.whiskerIndex);\n    whiskerEl.style.set(itemStyle);\n    whiskerEl.style.stroke = borderColor;\n    whiskerEl.dirty();\n\n    var bodyEl = itemGroup.childAt(itemGroup.bodyIndex);\n    bodyEl.style.set(itemStyle);\n    bodyEl.style.stroke = borderColor;\n    bodyEl.dirty();\n\n    var hoverStyle = itemModel.getModel(emphasisStyleAccessPath$1).getItemStyle();\n    setHoverStyle(itemGroup, hoverStyle);\n}\n\nvar borderColorQuery = ['itemStyle', 'normal', 'borderColor'];\n\nvar boxplotVisual = function (ecModel, api) {\n\n    var globalColors = ecModel.get('color');\n\n    ecModel.eachRawSeriesByType('boxplot', function (seriesModel) {\n\n        var defaulColor = globalColors[seriesModel.seriesIndex % globalColors.length];\n        var data = seriesModel.getData();\n\n        data.setVisual({\n            legendSymbol: 'roundRect',\n            // Use name 'color' but not 'borderColor' for legend usage and\n            // visual coding from other component like dataRange.\n            color: seriesModel.get(borderColorQuery) || defaulColor\n        });\n\n        // Only visible series has each data be visual encoded\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n            data.each(function (idx) {\n                var itemModel = data.getItemModel(idx);\n                data.setItemVisual(\n                    idx,\n                    {color: itemModel.get(borderColorQuery, true)}\n                );\n            });\n        }\n    });\n\n};\n\nvar each$16 = each$1;\n\nvar boxplotLayout = function (ecModel) {\n\n    var groupResult = groupSeriesByAxis(ecModel);\n\n    each$16(groupResult, function (groupItem) {\n        var seriesModels = groupItem.seriesModels;\n\n        if (!seriesModels.length) {\n            return;\n        }\n\n        calculateBase(groupItem);\n\n        each$16(seriesModels, function (seriesModel, idx) {\n            layoutSingleSeries(\n                seriesModel,\n                groupItem.boxOffsetList[idx],\n                groupItem.boxWidthList[idx]\n            );\n        });\n    });\n};\n\n/**\n * Group series by axis.\n */\nfunction groupSeriesByAxis(ecModel) {\n    var result = [];\n    var axisList = [];\n\n    ecModel.eachSeriesByType('boxplot', function (seriesModel) {\n        var baseAxis = seriesModel.getBaseAxis();\n        var idx = indexOf(axisList, baseAxis);\n\n        if (idx < 0) {\n            idx = axisList.length;\n            axisList[idx] = baseAxis;\n            result[idx] = {axis: baseAxis, seriesModels: []};\n        }\n\n        result[idx].seriesModels.push(seriesModel);\n    });\n\n    return result;\n}\n\n/**\n * Calculate offset and box width for each series.\n */\nfunction calculateBase(groupItem) {\n    var extent;\n    var baseAxis = groupItem.axis;\n    var seriesModels = groupItem.seriesModels;\n    var seriesCount = seriesModels.length;\n\n    var boxWidthList = groupItem.boxWidthList = [];\n    var boxOffsetList = groupItem.boxOffsetList = [];\n    var boundList = [];\n\n    var bandWidth;\n    if (baseAxis.type === 'category') {\n        bandWidth = baseAxis.getBandWidth();\n    }\n    else {\n        var maxDataCount = 0;\n        each$16(seriesModels, function (seriesModel) {\n            maxDataCount = Math.max(maxDataCount, seriesModel.getData().count());\n        });\n        extent = baseAxis.getExtent(),\n        Math.abs(extent[1] - extent[0]) / maxDataCount;\n    }\n\n    each$16(seriesModels, function (seriesModel) {\n        var boxWidthBound = seriesModel.get('boxWidth');\n        if (!isArray(boxWidthBound)) {\n            boxWidthBound = [boxWidthBound, boxWidthBound];\n        }\n        boundList.push([\n            parsePercent$1(boxWidthBound[0], bandWidth) || 0,\n            parsePercent$1(boxWidthBound[1], bandWidth) || 0\n        ]);\n    });\n\n    var availableWidth = bandWidth * 0.8 - 2;\n    var boxGap = availableWidth / seriesCount * 0.3;\n    var boxWidth = (availableWidth - boxGap * (seriesCount - 1)) / seriesCount;\n    var base = boxWidth / 2 - availableWidth / 2;\n\n    each$16(seriesModels, function (seriesModel, idx) {\n        boxOffsetList.push(base);\n        base += boxGap + boxWidth;\n\n        boxWidthList.push(\n            Math.min(Math.max(boxWidth, boundList[idx][0]), boundList[idx][1])\n        );\n    });\n}\n\n/**\n * Calculate points location for each series.\n */\nfunction layoutSingleSeries(seriesModel, offset, boxWidth) {\n    var coordSys = seriesModel.coordinateSystem;\n    var data = seriesModel.getData();\n    var halfWidth = boxWidth / 2;\n    var chartLayout = seriesModel.get('layout');\n    var variableDim = chartLayout === 'horizontal' ? 0 : 1;\n    var constDim = 1 - variableDim;\n    var coordDims = ['x', 'y'];\n    var vDims = [];\n    var cDim;\n\n    each$1(data.dimensions, function (dimName) {\n        var dimInfo = data.getDimensionInfo(dimName);\n        var coordDim = dimInfo.coordDim;\n        if (coordDim === coordDims[constDim]) {\n            vDims.push(dimName);\n        }\n        else if (coordDim === coordDims[variableDim]) {\n            cDim = dimName;\n        }\n    });\n\n    if (cDim == null || vDims.length < 5) {\n        return;\n    }\n\n    data.each([cDim].concat(vDims), function () {\n        var args = arguments;\n        var axisDimVal = args[0];\n        var idx = args[vDims.length + 1];\n\n        var median = getPoint(args[3]);\n        var end1 = getPoint(args[1]);\n        var end5 = getPoint(args[5]);\n        var whiskerEnds = [\n            [end1, getPoint(args[2])],\n            [end5, getPoint(args[4])]\n        ];\n        layEndLine(end1);\n        layEndLine(end5);\n        layEndLine(median);\n\n        var bodyEnds = [];\n        addBodyEnd(whiskerEnds[0][1], 0);\n        addBodyEnd(whiskerEnds[1][1], 1);\n\n        data.setItemLayout(idx, {\n            chartLayout: chartLayout,\n            initBaseline: median[constDim],\n            median: median,\n            bodyEnds: bodyEnds,\n            whiskerEnds: whiskerEnds\n        });\n\n        function getPoint(val) {\n            var p = [];\n            p[variableDim] = axisDimVal;\n            p[constDim] = val;\n            var point;\n            if (isNaN(axisDimVal) || isNaN(val)) {\n                point = [NaN, NaN];\n            }\n            else {\n                point = coordSys.dataToPoint(p);\n                point[variableDim] += offset;\n            }\n            return point;\n        }\n\n        function addBodyEnd(point, start) {\n            var point1 = point.slice();\n            var point2 = point.slice();\n            point1[variableDim] += halfWidth;\n            point2[variableDim] -= halfWidth;\n            start\n                ? bodyEnds.push(point1, point2)\n                : bodyEnds.push(point2, point1);\n        }\n\n        function layEndLine(endCenter) {\n            var line = [endCenter.slice(), endCenter.slice()];\n            line[0][variableDim] -= halfWidth;\n            line[1][variableDim] += halfWidth;\n            whiskerEnds.push(line);\n        }\n    });\n}\n\nregisterVisual(boxplotVisual);\nregisterLayout(boxplotLayout);\n\nvar CandlestickSeries = SeriesModel.extend({\n\n    type: 'series.candlestick',\n\n    dependencies: ['xAxis', 'yAxis', 'grid'],\n\n    /**\n     * @readOnly\n     */\n    defaultValueDimensions: ['open', 'close', 'lowest', 'highest'],\n\n    /**\n     * @type {Array.<string>}\n     * @readOnly\n     */\n    dimensions: null,\n\n    /**\n     * @override\n     */\n    defaultOption: {\n        zlevel: 0,                  // \n        z: 2,                       // \n        coordinateSystem: 'cartesian2d',\n        legendHoverLink: true,\n\n        hoverAnimation: true,\n\n        // xAxisIndex: 0,\n        // yAxisIndex: 0,\n\n        layout: null, // 'horizontal' or 'vertical'\n\n        itemStyle: {\n            normal: {\n                color: '#c23531', //  positive\n                color0: '#314656', //  negative     '#c23531', '#314656'\n                borderWidth: 1,\n                // FIXME\n                // ec2lineStyle.color  lineStyle.color0\n                borderColor: '#c23531',\n                borderColor0: '#314656'\n            },\n            emphasis: {\n                borderWidth: 2\n            }\n        },\n\n        barMaxWidth: null,\n        barMinWidth: null,\n        barWidth: null,\n\n        animationUpdate: false,\n        animationEasing: 'linear',\n        animationDuration: 300\n    },\n\n    /**\n     * Get dimension for shadow in dataZoom\n     * @return {string} dimension name\n     */\n    getShadowDim: function () {\n        return 'open';\n    },\n\n    brushSelector: function (dataIndex, data, selectors) {\n        var itemLayout = data.getItemLayout(dataIndex);\n        return selectors.rect(itemLayout.brushRect);\n    }\n\n});\n\nmixin(CandlestickSeries, seriesModelMixin, true);\n\nvar CandlestickView = Chart.extend({\n\n    type: 'candlestick',\n\n    getStyleUpdater: function () {\n        return updateStyle$2;\n    },\n\n    dispose: noop\n});\n\nmixin(CandlestickView, viewMixin, true);\n\n// Update common properties\nvar normalStyleAccessPath$2 = ['itemStyle', 'normal'];\nvar emphasisStyleAccessPath$2 = ['itemStyle', 'emphasis'];\n\nfunction updateStyle$2(itemGroup, data, idx) {\n    var itemModel = data.getItemModel(idx);\n    var normalItemStyleModel = itemModel.getModel(normalStyleAccessPath$2);\n    var color = data.getItemVisual(idx, 'color');\n    var borderColor = data.getItemVisual(idx, 'borderColor') || color;\n\n    // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n    var itemStyle = normalItemStyleModel.getItemStyle(\n        ['color', 'color0', 'borderColor', 'borderColor0']\n    );\n\n    var whiskerEl = itemGroup.childAt(itemGroup.whiskerIndex);\n    whiskerEl.useStyle(itemStyle);\n    whiskerEl.style.stroke = borderColor;\n\n    var bodyEl = itemGroup.childAt(itemGroup.bodyIndex);\n    bodyEl.useStyle(itemStyle);\n    bodyEl.style.fill = color;\n    bodyEl.style.stroke = borderColor;\n\n    var hoverStyle = itemModel.getModel(emphasisStyleAccessPath$2).getItemStyle();\n    setHoverStyle(itemGroup, hoverStyle);\n}\n\nvar preprocessor = function (option) {\n    if (!option || !isArray(option.series)) {\n        return;\n    }\n\n    // Translate 'k' to 'candlestick'.\n    each$1(option.series, function (seriesItem) {\n        if (isObject(seriesItem) && seriesItem.type === 'k') {\n            seriesItem.type = 'candlestick';\n        }\n    });\n};\n\nvar positiveBorderColorQuery = ['itemStyle', 'normal', 'borderColor'];\nvar negativeBorderColorQuery = ['itemStyle', 'normal', 'borderColor0'];\nvar positiveColorQuery = ['itemStyle', 'normal', 'color'];\nvar negativeColorQuery = ['itemStyle', 'normal', 'color0'];\n\nvar candlestickVisual = function (ecModel, api) {\n\n    ecModel.eachRawSeriesByType('candlestick', function (seriesModel) {\n\n        var data = seriesModel.getData();\n\n        data.setVisual({\n            legendSymbol: 'roundRect'\n        });\n\n        // Only visible series has each data be visual encoded\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n            data.each(function (idx) {\n                var itemModel = data.getItemModel(idx);\n                var sign = data.getItemLayout(idx).sign;\n\n                data.setItemVisual(\n                    idx,\n                    {\n                        color: itemModel.get(\n                            sign > 0 ? positiveColorQuery : negativeColorQuery\n                        ),\n                        borderColor: itemModel.get(\n                            sign > 0 ? positiveBorderColorQuery : negativeBorderColorQuery\n                        )\n                    }\n                );\n            });\n        }\n    });\n\n};\n\nvar retrieve2$1 = retrieve2;\n\nvar candlestickLayout = function (ecModel) {\n\n    ecModel.eachSeriesByType('candlestick', function (seriesModel) {\n\n        var coordSys = seriesModel.coordinateSystem;\n        var data = seriesModel.getData();\n        var candleWidth = calculateCandleWidth(seriesModel, data);\n        var chartLayout = seriesModel.get('layout');\n        var variableDim = chartLayout === 'horizontal' ? 0 : 1;\n        var constDim = 1 - variableDim;\n        var coordDims = ['x', 'y'];\n        var vDims = [];\n        var cDim;\n\n        each$1(data.dimensions, function (dimName) {\n            var dimInfo = data.getDimensionInfo(dimName);\n            var coordDim = dimInfo.coordDim;\n            if (coordDim === coordDims[constDim]) {\n                vDims.push(dimName);\n            }\n            else if (coordDim === coordDims[variableDim]) {\n                cDim = dimName;\n            }\n        });\n\n        if (cDim == null || vDims.length < 4) {\n            return;\n        }\n\n        var dataIndex = 0;\n\n        data.each([cDim].concat(vDims), function () {\n            var args = arguments;\n            var axisDimVal = args[0];\n            var idx = args[vDims.length + 1];\n\n            var openVal = args[1];\n            var closeVal = args[2];\n            var lowestVal = args[3];\n            var highestVal = args[4];\n\n            var ocLow = Math.min(openVal, closeVal);\n            var ocHigh = Math.max(openVal, closeVal);\n\n            var ocLowPoint = getPoint(ocLow);\n            var ocHighPoint = getPoint(ocHigh);\n            var lowestPoint = getPoint(lowestVal);\n            var highestPoint = getPoint(highestVal);\n\n            var whiskerEnds = [\n                [\n                    subPixelOptimizePoint(highestPoint),\n                    subPixelOptimizePoint(ocHighPoint)\n                ],\n                [\n                    subPixelOptimizePoint(lowestPoint),\n                    subPixelOptimizePoint(ocLowPoint)\n                ]\n            ];\n\n            var bodyEnds = [];\n            addBodyEnd(ocHighPoint, 0);\n            addBodyEnd(ocLowPoint, 1);\n\n            var sign;\n            if (openVal > closeVal) {\n                sign = -1;\n            }\n            else if (openVal < closeVal) {\n                sign = 1;\n            }\n            else {\n                // If close === open, compare with close of last record\n                if (dataIndex > 0) {\n                    sign = data.getItemModel(dataIndex - 1).get()[2]\n                        <= closeVal\n                            ? 1\n                            : -1;\n                }\n                else {\n                    // No record of previous, set to be positive\n                    sign = 1;\n                }\n            }\n\n            data.setItemLayout(idx, {\n                chartLayout: chartLayout,\n                sign: sign,\n                initBaseline: openVal > closeVal\n                    ? ocHighPoint[constDim] : ocLowPoint[constDim], // open point.\n                bodyEnds: bodyEnds,\n                whiskerEnds: whiskerEnds,\n                brushRect: makeBrushRect()\n            });\n\n            ++dataIndex;\n\n            function getPoint(val) {\n                var p = [];\n                p[variableDim] = axisDimVal;\n                p[constDim] = val;\n                return (isNaN(axisDimVal) || isNaN(val))\n                    ? [NaN, NaN]\n                    : coordSys.dataToPoint(p);\n            }\n\n            function addBodyEnd(point, start) {\n                var point1 = point.slice();\n                var point2 = point.slice();\n\n                point1[variableDim] = subPixelOptimize(\n                    point1[variableDim] + candleWidth / 2, 1, false\n                );\n                point2[variableDim] = subPixelOptimize(\n                    point2[variableDim] - candleWidth / 2, 1, true\n                );\n\n                start\n                    ? bodyEnds.push(point1, point2)\n                    : bodyEnds.push(point2, point1);\n            }\n\n            function makeBrushRect() {\n                var pmin = getPoint(Math.min(openVal, closeVal, lowestVal, highestVal));\n                var pmax = getPoint(Math.max(openVal, closeVal, lowestVal, highestVal));\n\n                pmin[variableDim] -= candleWidth / 2;\n                pmax[variableDim] -= candleWidth / 2;\n\n                return {\n                    x: pmin[0],\n                    y: pmin[1],\n                    width: constDim ? candleWidth : pmax[0] - pmin[0],\n                    height: constDim ? pmax[1] - pmin[1] : candleWidth\n                };\n            }\n\n            function subPixelOptimizePoint(point) {\n                point[variableDim] = subPixelOptimize(point[variableDim], 1);\n                return point;\n            }\n\n        }, true);\n    });\n};\n\nfunction calculateCandleWidth(seriesModel, data) {\n    var baseAxis = seriesModel.getBaseAxis();\n    var extent;\n\n    var bandWidth = baseAxis.type === 'category'\n        ? baseAxis.getBandWidth()\n        : (\n            extent = baseAxis.getExtent(),\n            Math.abs(extent[1] - extent[0]) / data.count()\n        );\n\n    var barMaxWidth = parsePercent$1(\n        retrieve2$1(seriesModel.get('barMaxWidth'), bandWidth),\n        bandWidth\n    );\n    var barMinWidth = parsePercent$1(\n        retrieve2$1(seriesModel.get('barMinWidth'), 1),\n        bandWidth\n    );\n    var barWidth = seriesModel.get('barWidth');\n    return barWidth != null\n        ? parsePercent$1(barWidth, bandWidth)\n        // Put max outer to ensure bar visible in spite of overlap.\n        : Math.max(Math.min(bandWidth / 2, barMaxWidth), barMinWidth);\n}\n\nregisterPreprocessor(preprocessor);\nregisterVisual(candlestickVisual);\nregisterLayout(candlestickLayout);\n\nSeriesModel.extend({\n\n    type: 'series.effectScatter',\n\n    dependencies: ['grid', 'polar'],\n\n    getInitialData: function (option, ecModel) {\n        var list = createListFromArray(option.data, this, ecModel);\n        return list;\n    },\n\n    brushSelector: 'point',\n\n    defaultOption: {\n        coordinateSystem: 'cartesian2d',\n        zlevel: 0,\n        z: 2,\n        legendHoverLink: true,\n\n        effectType: 'ripple',\n\n        progressive: 0,\n\n        // When to show the effect, option: 'render'|'emphasis'\n        showEffectOn: 'render',\n\n        // Ripple effect config\n        rippleEffect: {\n            period: 4,\n            // Scale of ripple\n            scale: 2.5,\n            // Brush type can be fill or stroke\n            brushType: 'fill'\n        },\n\n        // Cartesian coordinate system\n        // xAxisIndex: 0,\n        // yAxisIndex: 0,\n\n        // Polar coordinate system\n        // polarIndex: 0,\n\n        // Geo coordinate system\n        // geoIndex: 0,\n\n        // symbol: null,        // \n        symbolSize: 10          // symbolSize * 2\n        // symbolRotate: null,  // \n\n        // large: false,\n        // Available when large is true\n        // largeThreshold: 2000,\n\n        // itemStyle: {\n        //     normal: {\n        //         opacity: 1\n        //     }\n        // }\n    }\n\n});\n\n/**\n * Symbol with ripple effect\n * @module echarts/chart/helper/EffectSymbol\n */\n\nvar EFFECT_RIPPLE_NUMBER = 3;\n\nfunction normalizeSymbolSize$1(symbolSize) {\n    if (!isArray(symbolSize)) {\n        symbolSize = [+symbolSize, +symbolSize];\n    }\n    return symbolSize;\n}\n\nfunction updateRipplePath(rippleGroup, effectCfg) {\n    rippleGroup.eachChild(function (ripplePath) {\n        ripplePath.attr({\n            z: effectCfg.z,\n            zlevel: effectCfg.zlevel,\n            style: {\n                stroke: effectCfg.brushType === 'stroke' ? effectCfg.color : null,\n                fill: effectCfg.brushType === 'fill' ? effectCfg.color : null\n            }\n        });\n    });\n}\n/**\n * @constructor\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\nfunction EffectSymbol(data, idx) {\n    Group.call(this);\n\n    var symbol = new SymbolClz$1(data, idx);\n    var rippleGroup = new Group();\n    this.add(symbol);\n    this.add(rippleGroup);\n\n    rippleGroup.beforeUpdate = function () {\n        this.attr(symbol.getScale());\n    };\n    this.updateData(data, idx);\n}\n\nvar effectSymbolProto = EffectSymbol.prototype;\n\neffectSymbolProto.stopEffectAnimation = function () {\n    this.childAt(1).removeAll();\n};\n\neffectSymbolProto.startEffectAnimation = function (effectCfg) {\n    var symbolType = effectCfg.symbolType;\n    var color = effectCfg.color;\n    var rippleGroup = this.childAt(1);\n\n    for (var i = 0; i < EFFECT_RIPPLE_NUMBER; i++) {\n        // var ripplePath = createSymbol(\n        //     symbolType, -0.5, -0.5, 1, 1, color\n        // );\n        // If width/height are set too small (e.g., set to 1) on ios10\n        // and macOS Sierra, a circle stroke become a rect, no matter what\n        // the scale is set. So we set width/height as 2. See #4136.\n        var ripplePath = createSymbol(\n            symbolType, -1, -1, 2, 2, color\n        );\n        ripplePath.attr({\n            style: {\n                strokeNoScale: true\n            },\n            z2: 99,\n            silent: true,\n            scale: [0.5, 0.5]\n        });\n\n        var delay = -i / EFFECT_RIPPLE_NUMBER * effectCfg.period + effectCfg.effectOffset;\n        // TODO Configurable effectCfg.period\n        ripplePath.animate('', true)\n            .when(effectCfg.period, {\n                scale: [effectCfg.rippleScale / 2, effectCfg.rippleScale / 2]\n            })\n            .delay(delay)\n            .start();\n        ripplePath.animateStyle(true)\n            .when(effectCfg.period, {\n                opacity: 0\n            })\n            .delay(delay)\n            .start();\n\n        rippleGroup.add(ripplePath);\n    }\n\n    updateRipplePath(rippleGroup, effectCfg);\n};\n\n/**\n * Update effect symbol\n */\neffectSymbolProto.updateEffectAnimation = function (effectCfg) {\n    var oldEffectCfg = this._effectCfg;\n    var rippleGroup = this.childAt(1);\n\n    // Must reinitialize effect if following configuration changed\n    var DIFFICULT_PROPS = ['symbolType', 'period', 'rippleScale'];\n    for (var i = 0; i < DIFFICULT_PROPS.length; i++) {\n        var propName = DIFFICULT_PROPS[i];\n        if (oldEffectCfg[propName] !== effectCfg[propName]) {\n            this.stopEffectAnimation();\n            this.startEffectAnimation(effectCfg);\n            return;\n        }\n    }\n\n    updateRipplePath(rippleGroup, effectCfg);\n};\n\n/**\n * Highlight symbol\n */\neffectSymbolProto.highlight = function () {\n    this.trigger('emphasis');\n};\n\n/**\n * Downplay symbol\n */\neffectSymbolProto.downplay = function () {\n    this.trigger('normal');\n};\n\n/**\n * Update symbol properties\n * @param  {module:echarts/data/List} data\n * @param  {number} idx\n */\neffectSymbolProto.updateData = function (data, idx) {\n    var seriesModel = data.hostModel;\n\n    this.childAt(0).updateData(data, idx);\n\n    var rippleGroup = this.childAt(1);\n    var itemModel = data.getItemModel(idx);\n    var symbolType = data.getItemVisual(idx, 'symbol');\n    var symbolSize = normalizeSymbolSize$1(data.getItemVisual(idx, 'symbolSize'));\n    var color = data.getItemVisual(idx, 'color');\n\n    rippleGroup.attr('scale', symbolSize);\n\n    rippleGroup.traverse(function (ripplePath) {\n        ripplePath.attr({\n            fill: color\n        });\n    });\n\n    var symbolOffset = itemModel.getShallow('symbolOffset');\n    if (symbolOffset) {\n        var pos = rippleGroup.position;\n        pos[0] = parsePercent$1(symbolOffset[0], symbolSize[0]);\n        pos[1] = parsePercent$1(symbolOffset[1], symbolSize[1]);\n    }\n    rippleGroup.rotation = (itemModel.getShallow('symbolRotate') || 0) * Math.PI / 180 || 0;\n\n    var effectCfg = {};\n\n    effectCfg.showEffectOn = seriesModel.get('showEffectOn');\n    effectCfg.rippleScale = itemModel.get('rippleEffect.scale');\n    effectCfg.brushType = itemModel.get('rippleEffect.brushType');\n    effectCfg.period = itemModel.get('rippleEffect.period') * 1000;\n    effectCfg.effectOffset = idx / data.count();\n    effectCfg.z = itemModel.getShallow('z') || 0;\n    effectCfg.zlevel = itemModel.getShallow('zlevel') || 0;\n    effectCfg.symbolType = symbolType;\n    effectCfg.color = color;\n\n    this.off('mouseover').off('mouseout').off('emphasis').off('normal');\n\n    if (effectCfg.showEffectOn === 'render') {\n        this._effectCfg\n            ? this.updateEffectAnimation(effectCfg)\n            : this.startEffectAnimation(effectCfg);\n\n        this._effectCfg = effectCfg;\n    }\n    else {\n        // Not keep old effect config\n        this._effectCfg = null;\n\n        this.stopEffectAnimation();\n        var symbol = this.childAt(0);\n        var onEmphasis = function () {\n            symbol.highlight();\n            if (effectCfg.showEffectOn !== 'render') {\n                this.startEffectAnimation(effectCfg);\n            }\n        };\n        var onNormal = function () {\n            symbol.downplay();\n            if (effectCfg.showEffectOn !== 'render') {\n                this.stopEffectAnimation();\n            }\n        };\n        this.on('mouseover', onEmphasis, this)\n            .on('mouseout', onNormal, this)\n            .on('emphasis', onEmphasis, this)\n            .on('normal', onNormal, this);\n    }\n\n    this._effectCfg = effectCfg;\n};\n\neffectSymbolProto.fadeOut = function (cb) {\n    this.off('mouseover').off('mouseout').off('emphasis').off('normal');\n    cb && cb();\n};\n\ninherits(EffectSymbol, Group);\n\nextendChartView({\n\n    type: 'effectScatter',\n\n    init: function () {\n        this._symbolDraw = new SymbolDraw(EffectSymbol);\n    },\n\n    render: function (seriesModel, ecModel, api) {\n        var data = seriesModel.getData();\n        var effectSymbolDraw = this._symbolDraw;\n        effectSymbolDraw.updateData(data);\n        this.group.add(effectSymbolDraw.group);\n    },\n\n    updateLayout: function () {\n        this._symbolDraw.updateLayout();\n    },\n\n    remove: function (ecModel, api) {\n        this._symbolDraw && this._symbolDraw.remove(api);\n    },\n\n    dispose: function () {}\n});\n\nregisterVisual(curry(\n    visualSymbol, 'effectScatter', 'circle', null\n));\nregisterLayout(curry(\n    layoutPoints, 'effectScatter'\n));\n\n// Convert [ [{coord: []}, {coord: []}] ]\n// to [ { coords: [[]] } ]\nfunction preprocessOption(seriesOpt) {\n    var data = seriesOpt.data;\n    if (data && data[0] && data[0][0] && data[0][0].coord) {\n        if (__DEV__) {\n            console.warn('Lines data configuration has been changed to'\n                + ' { coords:[[1,2],[2,3]] }');\n        }\n        seriesOpt.data = map(data, function (itemOpt) {\n            var coords = [\n                itemOpt[0].coord, itemOpt[1].coord\n            ];\n            var target = {\n                coords: coords\n            };\n            if (itemOpt[0].name) {\n                target.fromName = itemOpt[0].name;\n            }\n            if (itemOpt[1].name) {\n                target.toName = itemOpt[1].name;\n            }\n            return mergeAll([target, itemOpt[0], itemOpt[1]]);\n        });\n    }\n}\n\nvar LinesSeries = SeriesModel.extend({\n\n    type: 'series.lines',\n\n    dependencies: ['grid', 'polar'],\n\n    visualColorAccessPath: 'lineStyle.normal.color',\n\n    init: function (option) {\n        // Not using preprocessor because mergeOption may not have series.type\n        preprocessOption(option);\n\n        LinesSeries.superApply(this, 'init', arguments);\n    },\n\n    mergeOption: function (option) {\n        preprocessOption(option);\n\n        LinesSeries.superApply(this, 'mergeOption', arguments);\n    },\n\n    getInitialData: function (option, ecModel) {\n        if (__DEV__) {\n            var CoordSys = CoordinateSystemManager.get(option.coordinateSystem);\n            if (!CoordSys) {\n                throw new Error('Unkown coordinate system ' + option.coordinateSystem);\n            }\n        }\n\n        var lineData = new List(['value'], this);\n        lineData.hasItemOption = false;\n        lineData.initData(option.data, [], function (dataItem, dimName, dataIndex, dimIndex) {\n            // dataItem is simply coords\n            if (dataItem instanceof Array) {\n                return NaN;\n            }\n            else {\n                lineData.hasItemOption = true;\n                var value = dataItem.value;\n                if (value != null) {\n                    return value instanceof Array ? value[dimIndex] : value;\n                }\n            }\n        });\n\n        return lineData;\n    },\n\n    formatTooltip: function (dataIndex) {\n        var data = this.getData();\n        var itemModel = data.getItemModel(dataIndex);\n        var name = itemModel.get('name');\n        if (name) {\n            return name;\n        }\n        var fromName = itemModel.get('fromName');\n        var toName = itemModel.get('toName');\n        var html = [];\n        fromName != null && html.push(fromName);\n        toName != null && html.push(toName);\n\n        return encodeHTML(html.join(' > '));\n    },\n\n    defaultOption: {\n        coordinateSystem: 'geo',\n        zlevel: 0,\n        z: 2,\n        legendHoverLink: true,\n\n        hoverAnimation: true,\n        // Cartesian coordinate system\n        xAxisIndex: 0,\n        yAxisIndex: 0,\n\n        symbol: ['none', 'none'],\n        symbolSize: [10, 10],\n        // Geo coordinate system\n        geoIndex: 0,\n\n        effect: {\n            show: false,\n            period: 4,\n            // Animation delay. support callback\n            // delay: 0,\n            // If move with constant speed px/sec\n            // period will be ignored if this property is > 0,\n            constantSpeed: 0,\n            symbol: 'circle',\n            symbolSize: 3,\n            loop: true,\n            // Length of trail, 0 - 1\n            trailLength: 0.2\n            // Same with lineStyle.normal.color\n            // color\n        },\n\n        large: false,\n        // Available when large is true\n        largeThreshold: 2000,\n\n        // If lines are polyline\n        // polyline not support curveness, label, animation\n        polyline: false,\n\n        label: {\n            normal: {\n                show: false,\n                position: 'end'\n                // distance: 5,\n                // formatter: Tooltip.formatter\n            }\n        },\n\n        lineStyle: {\n            normal: {\n                opacity: 0.5\n            }\n        }\n    }\n});\n\n/**\n * Provide effect for line\n * @module echarts/chart/helper/EffectLine\n */\n\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Line}\n */\nfunction EffectLine(lineData, idx, seriesScope) {\n    Group.call(this);\n\n    this.add(this.createLine(lineData, idx, seriesScope));\n\n    this._updateEffectSymbol(lineData, idx);\n}\n\nvar effectLineProto = EffectLine.prototype;\n\neffectLineProto.createLine = function (lineData, idx, seriesScope) {\n    return new Line$1(lineData, idx, seriesScope);\n};\n\neffectLineProto._updateEffectSymbol = function (lineData, idx) {\n    var itemModel = lineData.getItemModel(idx);\n    var effectModel = itemModel.getModel('effect');\n    var size = effectModel.get('symbolSize');\n    var symbolType = effectModel.get('symbol');\n    if (!isArray(size)) {\n        size = [size, size];\n    }\n    var color = effectModel.get('color') || lineData.getItemVisual(idx, 'color');\n    var symbol = this.childAt(1);\n\n    if (this._symbolType !== symbolType) {\n        // Remove previous\n        this.remove(symbol);\n\n        symbol = createSymbol(\n            symbolType, -0.5, -0.5, 1, 1, color\n        );\n        symbol.z2 = 100;\n        symbol.culling = true;\n\n        this.add(symbol);\n    }\n\n    // Symbol may be removed if loop is false\n    if (!symbol) {\n        return;\n    }\n\n    // Shadow color is same with color in default\n    symbol.setStyle('shadowColor', color);\n    symbol.setStyle(effectModel.getItemStyle(['color']));\n\n    symbol.attr('scale', size);\n\n    symbol.setColor(color);\n    symbol.attr('scale', size);\n\n    this._symbolType = symbolType;\n\n    this._updateEffectAnimation(lineData, effectModel, idx);\n};\n\neffectLineProto._updateEffectAnimation = function (lineData, effectModel, idx) {\n\n    var symbol = this.childAt(1);\n    if (!symbol) {\n        return;\n    }\n\n    var self = this;\n\n    var points = lineData.getItemLayout(idx);\n\n    var period = effectModel.get('period') * 1000;\n    var loop = effectModel.get('loop');\n    var constantSpeed = effectModel.get('constantSpeed');\n    var delayExpr = retrieve(effectModel.get('delay'), function (idx) {\n        return idx / lineData.count() * period / 3;\n    });\n    var isDelayFunc = typeof delayExpr === 'function';\n\n    // Ignore when updating\n    symbol.ignore = true;\n\n    this.updateAnimationPoints(symbol, points);\n\n    if (constantSpeed > 0) {\n        period = this.getLineLength(symbol) / constantSpeed * 1000;\n    }\n\n    if (period !== this._period || loop !== this._loop) {\n\n        symbol.stopAnimation();\n\n        var delay = delayExpr;\n        if (isDelayFunc) {\n            delay = delayExpr(idx);\n        }\n        if (symbol.__t > 0) {\n            delay = -period * symbol.__t;\n        }\n        symbol.__t = 0;\n        var animator = symbol.animate('', loop)\n            .when(period, {\n                __t: 1\n            })\n            .delay(delay)\n            .during(function () {\n                self.updateSymbolPosition(symbol);\n            });\n        if (!loop) {\n            animator.done(function () {\n                self.remove(symbol);\n            });\n        }\n        animator.start();\n    }\n\n    this._period = period;\n    this._loop = loop;\n};\n\neffectLineProto.getLineLength = function (symbol) {\n    // Not so accurate\n    return (dist(symbol.__p1, symbol.__cp1)\n        + dist(symbol.__cp1, symbol.__p2));\n};\n\neffectLineProto.updateAnimationPoints = function (symbol, points) {\n    symbol.__p1 = points[0];\n    symbol.__p2 = points[1];\n    symbol.__cp1 = points[2] || [\n        (points[0][0] + points[1][0]) / 2,\n        (points[0][1] + points[1][1]) / 2\n    ];\n};\n\neffectLineProto.updateData = function (lineData, idx, seriesScope) {\n    this.childAt(0).updateData(lineData, idx, seriesScope);\n    this._updateEffectSymbol(lineData, idx);\n};\n\neffectLineProto.updateSymbolPosition = function (symbol) {\n    var p1 = symbol.__p1;\n    var p2 = symbol.__p2;\n    var cp1 = symbol.__cp1;\n    var t = symbol.__t;\n    var pos = symbol.position;\n    var quadraticAt$$1 = quadraticAt;\n    var quadraticDerivativeAt$$1 = quadraticDerivativeAt;\n    pos[0] = quadraticAt$$1(p1[0], cp1[0], p2[0], t);\n    pos[1] = quadraticAt$$1(p1[1], cp1[1], p2[1], t);\n\n    // Tangent\n    var tx = quadraticDerivativeAt$$1(p1[0], cp1[0], p2[0], t);\n    var ty = quadraticDerivativeAt$$1(p1[1], cp1[1], p2[1], t);\n\n    symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n\n    symbol.ignore = false;\n};\n\n\neffectLineProto.updateLayout = function (lineData, idx) {\n    this.childAt(0).updateLayout(lineData, idx);\n\n    var effectModel = lineData.getItemModel(idx).getModel('effect');\n    this._updateEffectAnimation(lineData, effectModel, idx);\n};\n\ninherits(EffectLine, Group);\n\n/**\n * @module echarts/chart/helper/Line\n */\n\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Polyline}\n */\nfunction Polyline$2(lineData, idx, seriesScope) {\n    Group.call(this);\n\n    this._createPolyline(lineData, idx, seriesScope);\n}\n\nvar polylineProto = Polyline$2.prototype;\n\npolylineProto._createPolyline = function (lineData, idx, seriesScope) {\n    // var seriesModel = lineData.hostModel;\n    var points = lineData.getItemLayout(idx);\n\n    var line = new Polyline({\n        shape: {\n            points: points\n        }\n    });\n\n    this.add(line);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n};\n\npolylineProto.updateData = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n\n    var line = this.childAt(0);\n    var target = {\n        shape: {\n            points: lineData.getItemLayout(idx)\n        }\n    };\n    updateProps(line, target, seriesModel, idx);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n};\n\npolylineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n    var line = this.childAt(0);\n    var itemModel = lineData.getItemModel(idx);\n\n    var visualColor = lineData.getItemVisual(idx, 'color');\n\n    var lineStyle = seriesScope && seriesScope.lineStyle;\n    var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n\n    if (!seriesScope || lineData.hasItemOption) {\n        lineStyle = itemModel.getModel('lineStyle.normal').getLineStyle();\n        hoverLineStyle = itemModel.getModel('lineStyle.emphasis').getLineStyle();\n    }\n    line.useStyle(defaults(\n        {\n            strokeNoScale: true,\n            fill: 'none',\n            stroke: visualColor\n        },\n        lineStyle\n    ));\n    line.hoverStyle = hoverLineStyle;\n\n    setHoverStyle(this);\n};\n\npolylineProto.updateLayout = function (lineData, idx) {\n    var polyline = this.childAt(0);\n    polyline.setShape('points', lineData.getItemLayout(idx));\n};\n\ninherits(Polyline$2, Group);\n\n/**\n * Provide effect for line\n * @module echarts/chart/helper/EffectLine\n */\n\n/**\n * @constructor\n * @extends {module:echarts/chart/helper/EffectLine}\n * @alias {module:echarts/chart/helper/Polyline}\n */\nfunction EffectPolyline(lineData, idx, seriesScope) {\n    EffectLine.call(this, lineData, idx, seriesScope);\n    this._lastFrame = 0;\n    this._lastFramePercent = 0;\n}\n\nvar effectPolylineProto = EffectPolyline.prototype;\n\n// Overwrite\neffectPolylineProto.createLine = function (lineData, idx, seriesScope) {\n    return new Polyline$2(lineData, idx, seriesScope);\n};\n\n// Overwrite\neffectPolylineProto.updateAnimationPoints = function (symbol, points) {\n    this._points = points;\n    var accLenArr = [0];\n    var len$$1 = 0;\n    for (var i = 1; i < points.length; i++) {\n        var p1 = points[i - 1];\n        var p2 = points[i];\n        len$$1 += dist(p1, p2);\n        accLenArr.push(len$$1);\n    }\n    if (len$$1 === 0) {\n        return;\n    }\n\n    for (var i = 0; i < accLenArr.length; i++) {\n        accLenArr[i] /= len$$1;\n    }\n    this._offsets = accLenArr;\n    this._length = len$$1;\n};\n\n// Overwrite\neffectPolylineProto.getLineLength = function (symbol) {\n    return this._length;\n};\n\n// Overwrite\neffectPolylineProto.updateSymbolPosition = function (symbol) {\n    var t = symbol.__t;\n    var points = this._points;\n    var offsets = this._offsets;\n    var len$$1 = points.length;\n\n    if (!offsets) {\n        // Has length 0\n        return;\n    }\n\n    var lastFrame = this._lastFrame;\n    var frame;\n\n    if (t < this._lastFramePercent) {\n        // Start from the next frame\n        // PENDING start from lastFrame ?\n        var start = Math.min(lastFrame + 1, len$$1 - 1);\n        for (frame = start; frame >= 0; frame--) {\n            if (offsets[frame] <= t) {\n                break;\n            }\n        }\n        // PENDING really need to do this ?\n        frame = Math.min(frame, len$$1 - 2);\n    }\n    else {\n        for (var frame = lastFrame; frame < len$$1; frame++) {\n            if (offsets[frame] > t) {\n                break;\n            }\n        }\n        frame = Math.min(frame - 1, len$$1 - 2);\n    }\n\n    lerp(\n        symbol.position, points[frame], points[frame + 1],\n        (t - offsets[frame]) / (offsets[frame + 1] - offsets[frame])\n    );\n\n    var tx = points[frame + 1][0] - points[frame][0];\n    var ty = points[frame + 1][1] - points[frame][1];\n    symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n\n    this._lastFrame = frame;\n    this._lastFramePercent = t;\n\n    symbol.ignore = false;\n};\n\ninherits(EffectPolyline, EffectLine);\n\n// TODO Batch by color\n\nvar LargeLineShape = extendShape({\n    shape: {\n        polyline: false,\n\n        segs: []\n    },\n\n    buildPath: function (path, shape) {\n        var segs = shape.segs;\n        var isPolyline = shape.polyline;\n\n        for (var i = 0; i < segs.length; i++) {\n            var seg = segs[i];\n            if (isPolyline) {\n                path.moveTo(seg[0][0], seg[0][1]);\n                for (var j = 1; j < seg.length; j++) {\n                    path.lineTo(seg[j][0], seg[j][1]);\n                }\n            }\n            else {\n                path.moveTo(seg[0][0], seg[0][1]);\n                if (seg.length > 2) {\n                    path.quadraticCurveTo(seg[2][0], seg[2][1], seg[1][0], seg[1][1]);\n                }\n                else {\n                    path.lineTo(seg[1][0], seg[1][1]);\n                }\n            }\n        }\n    },\n\n    findDataIndex: function (x, y) {\n        var shape = this.shape;\n        var segs = shape.segs;\n        var isPolyline = shape.polyline;\n        var lineWidth = Math.max(this.style.lineWidth, 1);\n\n        // Not consider transform\n        for (var i = 0; i < segs.length; i++) {\n            var seg = segs[i];\n            if (isPolyline) {\n                for (var j = 1; j < seg.length; j++) {\n                    if (containStroke$1(\n                        seg[j - 1][0], seg[j - 1][1], seg[j][0], seg[j][1], lineWidth, x, y\n                    )) {\n                        return i;\n                    }\n                }\n            }\n            else {\n                if (seg.length > 2) {\n                    if (containStroke$3(\n                        seg[0][0], seg[0][1], seg[2][0], seg[2][1], seg[1][0], seg[1][1], lineWidth, x, y\n                    )) {\n                        return i;\n                    }\n                }\n                else {\n                    if (containStroke$1(\n                        seg[0][0], seg[0][1], seg[1][0], seg[1][1], lineWidth, x, y\n                    )) {\n                        return i;\n                    }\n                }\n            }\n        }\n\n        return -1;\n    }\n});\n\nfunction LargeLineDraw() {\n    this.group = new Group();\n\n    this._lineEl = new LargeLineShape();\n}\n\nvar largeLineProto = LargeLineDraw.prototype;\n\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n */\nlargeLineProto.updateData = function (data) {\n    this.group.removeAll();\n\n    var lineEl = this._lineEl;\n\n    var seriesModel = data.hostModel;\n\n    lineEl.setShape({\n        segs: data.mapArray(data.getItemLayout),\n        polyline: seriesModel.get('polyline')\n    });\n\n    lineEl.useStyle(\n        seriesModel.getModel('lineStyle.normal').getLineStyle()\n    );\n\n    var visualColor = data.getVisual('color');\n    if (visualColor) {\n        lineEl.setStyle('stroke', visualColor);\n    }\n    lineEl.setStyle('fill');\n\n    // Enable tooltip\n    // PENDING May have performance issue when path is extremely large\n    lineEl.seriesIndex = seriesModel.seriesIndex;\n    lineEl.on('mousemove', function (e) {\n        lineEl.dataIndex = null;\n        var dataIndex = lineEl.findDataIndex(e.offsetX, e.offsetY);\n        if (dataIndex > 0) {\n            // Provide dataIndex for tooltip\n            lineEl.dataIndex = dataIndex;\n        }\n    });\n\n    // Add back\n    this.group.add(lineEl);\n};\n\nlargeLineProto.updateLayout = function (seriesModel) {\n    var data = seriesModel.getData();\n    this._lineEl.setShape({\n        segs: data.mapArray(data.getItemLayout)\n    });\n};\n\nlargeLineProto.remove = function () {\n    this.group.removeAll();\n};\n\nextendChartView({\n\n    type: 'lines',\n\n    init: function () {},\n\n    render: function (seriesModel, ecModel, api) {\n        var data = seriesModel.getData();\n        var lineDraw = this._lineDraw;\n\n        var hasEffect = seriesModel.get('effect.show');\n        var isPolyline = seriesModel.get('polyline');\n        var isLarge = seriesModel.get('large') && data.count() >= seriesModel.get('largeThreshold');\n\n        if (__DEV__) {\n            if (hasEffect && isLarge) {\n                console.warn('Large lines not support effect');\n            }\n        }\n        if (hasEffect !== this._hasEffet || isPolyline !== this._isPolyline || isLarge !== this._isLarge) {\n            if (lineDraw) {\n                lineDraw.remove();\n            }\n            lineDraw = this._lineDraw = isLarge\n                ? new LargeLineDraw()\n                : new LineDraw(\n                    isPolyline\n                        ? (hasEffect ? EffectPolyline : Polyline$2)\n                        : (hasEffect ? EffectLine : Line$1)\n                );\n            this._hasEffet = hasEffect;\n            this._isPolyline = isPolyline;\n            this._isLarge = isLarge;\n        }\n\n        var zlevel = seriesModel.get('zlevel');\n        var trailLength = seriesModel.get('effect.trailLength');\n\n        var zr = api.getZr();\n        // Avoid the drag cause ghost shadow\n        // FIXME Better way ?\n        // SVG doesn't support\n        var isSvg = zr.painter.getType() === 'svg';\n        if (!isSvg) {\n            zr.painter.getLayer(zlevel).clear(true);\n        }\n        // Config layer with motion blur\n        if (this._lastZlevel != null && !isSvg) {\n            zr.configLayer(this._lastZlevel, {\n                motionBlur: false\n            });\n        }\n        if (hasEffect && trailLength) {\n            if (__DEV__) {\n                var notInIndividual = false;\n                ecModel.eachSeries(function (otherSeriesModel) {\n                    if (otherSeriesModel !== seriesModel && otherSeriesModel.get('zlevel') === zlevel) {\n                        notInIndividual = true;\n                    }\n                });\n                notInIndividual && console.warn('Lines with trail effect should have an individual zlevel');\n            }\n\n            if (!isSvg) {\n                zr.configLayer(zlevel, {\n                    motionBlur: true,\n                    lastFrameAlpha: Math.max(Math.min(trailLength / 10 + 0.9, 1), 0)\n                });\n            }\n        }\n\n        this.group.add(lineDraw.group);\n\n        lineDraw.updateData(data);\n\n        this._lastZlevel = zlevel;\n    },\n\n    updateLayout: function (seriesModel, ecModel, api) {\n        this._lineDraw.updateLayout(seriesModel);\n        // Not use motion when dragging or zooming\n        var zr = api.getZr();\n        var isSvg = zr.painter.getType() === 'svg';\n        if (!isSvg) {\n            zr.painter.getLayer(this._lastZlevel).clear(true);\n        }\n    },\n\n    remove: function (ecModel, api) {\n        this._lineDraw && this._lineDraw.remove(api, true);\n        // Clear motion when lineDraw is removed\n        var zr = api.getZr();\n        var isSvg = zr.painter.getType() === 'svg';\n        if (!isSvg) {\n            zr.painter.getLayer(this._lastZlevel).clear(true);\n        }\n    },\n\n    dispose: function () {}\n});\n\nvar linesLayout = function (ecModel) {\n    ecModel.eachSeriesByType('lines', function (seriesModel) {\n        var coordSys = seriesModel.coordinateSystem;\n        var lineData = seriesModel.getData();\n\n        // FIXME Use data dimensions ?\n        lineData.each(function (idx) {\n            var itemModel = lineData.getItemModel(idx);\n\n            var coords = (itemModel.option instanceof Array) ?\n                itemModel.option : itemModel.get('coords');\n\n            if (__DEV__) {\n                if (!(coords instanceof Array && coords.length > 0 && coords[0] instanceof Array)) {\n                    throw new Error('Invalid coords ' + JSON.stringify(coords) + '. Lines must have 2d coords array in data item.');\n                }\n            }\n            var pts = [];\n\n            if (seriesModel.get('polyline')) {\n                for (var i = 0; i < coords.length; i++) {\n                    pts.push(coordSys.dataToPoint(coords[i]));\n                }\n            }\n            else {\n                pts[0] = coordSys.dataToPoint(coords[0]);\n                pts[1] = coordSys.dataToPoint(coords[1]);\n\n                var curveness = itemModel.get('lineStyle.normal.curveness');\n                if (+curveness) {\n                    pts[2] = [\n                        (pts[0][0] + pts[1][0]) / 2 - (pts[0][1] - pts[1][1]) * curveness,\n                        (pts[0][1] + pts[1][1]) / 2 - (pts[1][0] - pts[0][0]) * curveness\n                    ];\n                }\n            }\n            lineData.setItemLayout(idx, pts);\n        });\n    });\n};\n\nfunction normalize$2(a) {\n    if (!(a instanceof Array)) {\n        a = [a, a];\n    }\n    return a;\n}\n\nvar linesVisual = function (ecModel) {\n    ecModel.eachSeriesByType('lines', function (seriesModel) {\n        var data = seriesModel.getData();\n        var symbolType = normalize$2(seriesModel.get('symbol'));\n        var symbolSize = normalize$2(seriesModel.get('symbolSize'));\n\n        var opacityQuery = 'lineStyle.normal.opacity'.split('.');\n\n        data.setVisual('fromSymbol', symbolType && symbolType[0]);\n        data.setVisual('toSymbol', symbolType && symbolType[1]);\n        data.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n        data.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n        data.setVisual('opacity', seriesModel.get(opacityQuery));\n\n        data.each(function (idx) {\n            var itemModel = data.getItemModel(idx);\n            var symbolType = normalize$2(itemModel.getShallow('symbol', true));\n            var symbolSize = normalize$2(itemModel.getShallow('symbolSize', true));\n            var opacity = itemModel.get(opacityQuery);\n\n            symbolType[0] && data.setItemVisual(idx, 'fromSymbol', symbolType[0]);\n            symbolType[1] && data.setItemVisual(idx, 'toSymbol', symbolType[1]);\n            symbolSize[0] && data.setItemVisual(idx, 'fromSymbolSize', symbolSize[0]);\n            symbolSize[1] && data.setItemVisual(idx, 'toSymbolSize', symbolSize[1]);\n\n            data.setItemVisual(idx, 'opacity', opacity);\n        });\n    });\n};\n\nregisterLayout(linesLayout);\nregisterVisual(linesVisual);\n\nSeriesModel.extend({\n    type: 'series.heatmap',\n\n    getInitialData: function (option, ecModel) {\n        return createListFromArray(option.data, this, ecModel);\n    },\n\n    defaultOption: {\n\n        // Cartesian2D or geo\n        coordinateSystem: 'cartesian2d',\n\n        zlevel: 0,\n\n        z: 2,\n\n        // Cartesian coordinate system\n        // xAxisIndex: 0,\n        // yAxisIndex: 0,\n\n        // Geo coordinate system\n        geoIndex: 0,\n\n        blurSize: 30,\n\n        pointSize: 20,\n\n        maxOpacity: 1,\n\n        minOpacity: 0\n    }\n});\n\n/**\n * @file defines echarts Heatmap Chart\n * @author Ovilia (me@zhangwenli.com)\n * Inspired by https://github.com/mourner/simpleheat\n *\n * @module\n */\n\nvar GRADIENT_LEVELS = 256;\n\n/**\n * Heatmap Chart\n *\n * @class\n */\nfunction Heatmap() {\n    var canvas = createCanvas();\n    this.canvas = canvas;\n\n    this.blurSize = 30;\n    this.pointSize = 20;\n\n    this.maxOpacity = 1;\n    this.minOpacity = 0;\n\n    this._gradientPixels = {};\n}\n\nHeatmap.prototype = {\n    /**\n     * Renders Heatmap and returns the rendered canvas\n     * @param {Array} data array of data, each has x, y, value\n     * @param {number} width canvas width\n     * @param {number} height canvas height\n     */\n    update: function(data, width, height, normalize, colorFunc, isInRange) {\n        var brush = this._getBrush();\n        var gradientInRange = this._getGradient(data, colorFunc, 'inRange');\n        var gradientOutOfRange = this._getGradient(data, colorFunc, 'outOfRange');\n        var r = this.pointSize + this.blurSize;\n\n        var canvas = this.canvas;\n        var ctx = canvas.getContext('2d');\n        var len = data.length;\n        canvas.width = width;\n        canvas.height = height;\n        for (var i = 0; i < len; ++i) {\n            var p = data[i];\n            var x = p[0];\n            var y = p[1];\n            var value = p[2];\n\n            // calculate alpha using value\n            var alpha = normalize(value);\n\n            // draw with the circle brush with alpha\n            ctx.globalAlpha = alpha;\n            ctx.drawImage(brush, x - r, y - r);\n        }\n\n        if (!canvas.width || !canvas.height) {\n            // Avoid \"Uncaught DOMException: Failed to execute 'getImageData' on\n            // 'CanvasRenderingContext2D': The source height is 0.\"\n            return canvas;\n        }\n\n        // colorize the canvas using alpha value and set with gradient\n        var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\n        var pixels = imageData.data;\n        var offset = 0;\n        var pixelLen = pixels.length;\n        var minOpacity = this.minOpacity;\n        var maxOpacity = this.maxOpacity;\n        var diffOpacity = maxOpacity - minOpacity;\n\n        while(offset < pixelLen) {\n            var alpha = pixels[offset + 3] / 256;\n            var gradientOffset = Math.floor(alpha * (GRADIENT_LEVELS - 1)) * 4;\n            // Simple optimize to ignore the empty data\n            if (alpha > 0) {\n                var gradient = isInRange(alpha) ? gradientInRange : gradientOutOfRange;\n                // Any alpha > 0 will be mapped to [minOpacity, maxOpacity]\n                alpha > 0 && (alpha = alpha * diffOpacity + minOpacity);\n                pixels[offset++] = gradient[gradientOffset];\n                pixels[offset++] = gradient[gradientOffset + 1];\n                pixels[offset++] = gradient[gradientOffset + 2];\n                pixels[offset++] = gradient[gradientOffset + 3] * alpha * 256;\n            }\n            else {\n                offset += 4;\n            }\n        }\n        ctx.putImageData(imageData, 0, 0);\n\n        return canvas;\n    },\n\n    /**\n     * get canvas of a black circle brush used for canvas to draw later\n     * @private\n     * @returns {Object} circle brush canvas\n     */\n    _getBrush: function() {\n        var brushCanvas = this._brushCanvas || (this._brushCanvas = createCanvas());\n        // set brush size\n        var r = this.pointSize + this.blurSize;\n        var d = r * 2;\n        brushCanvas.width = d;\n        brushCanvas.height = d;\n\n        var ctx = brushCanvas.getContext('2d');\n        ctx.clearRect(0, 0, d, d);\n\n        // in order to render shadow without the distinct circle,\n        // draw the distinct circle in an invisible place,\n        // and use shadowOffset to draw shadow in the center of the canvas\n        ctx.shadowOffsetX = d;\n        ctx.shadowBlur = this.blurSize;\n        // draw the shadow in black, and use alpha and shadow blur to generate\n        // color in color map\n        ctx.shadowColor = '#000';\n\n        // draw circle in the left to the canvas\n        ctx.beginPath();\n        ctx.arc(-r, r, this.pointSize, 0, Math.PI * 2, true);\n        ctx.closePath();\n        ctx.fill();\n        return brushCanvas;\n    },\n\n    /**\n     * get gradient color map\n     * @private\n     */\n    _getGradient: function (data, colorFunc, state) {\n        var gradientPixels = this._gradientPixels;\n        var pixelsSingleState = gradientPixels[state] || (gradientPixels[state] = new Uint8ClampedArray(256 * 4));\n        var color = [0, 0, 0, 0];\n        var off = 0;\n        for (var i = 0; i < 256; i++) {\n            colorFunc[state](i / 255, true, color);\n            pixelsSingleState[off++] = color[0];\n            pixelsSingleState[off++] = color[1];\n            pixelsSingleState[off++] = color[2];\n            pixelsSingleState[off++] = color[3];\n        }\n        return pixelsSingleState;\n    }\n};\n\nfunction getIsInPiecewiseRange(dataExtent, pieceList, selected) {\n    var dataSpan = dataExtent[1] - dataExtent[0];\n    pieceList = map(pieceList, function (piece) {\n        return {\n            interval: [\n                (piece.interval[0] - dataExtent[0]) / dataSpan,\n                (piece.interval[1] - dataExtent[0]) / dataSpan\n            ]\n        };\n    });\n    var len = pieceList.length;\n    var lastIndex = 0;\n\n    return function (val) {\n        // Try to find in the location of the last found\n        for (var i = lastIndex; i < len; i++) {\n            var interval = pieceList[i].interval;\n            if (interval[0] <= val && val <= interval[1]) {\n                lastIndex = i;\n                break;\n            }\n        }\n        if (i === len) { // Not found, back interation\n            for (var i = lastIndex - 1; i >= 0; i--) {\n                var interval = pieceList[i].interval;\n                if (interval[0] <= val && val <= interval[1]) {\n                    lastIndex = i;\n                    break;\n                }\n            }\n        }\n        return i >= 0 && i < len && selected[i];\n    };\n}\n\nfunction getIsInContinuousRange(dataExtent, range) {\n    var dataSpan = dataExtent[1] - dataExtent[0];\n    range = [\n        (range[0] - dataExtent[0]) / dataSpan,\n        (range[1] - dataExtent[0]) / dataSpan\n    ];\n    return function (val) {\n        return val >= range[0] && val <= range[1];\n    };\n}\n\nfunction isGeoCoordSys(coordSys) {\n    var dimensions = coordSys.dimensions;\n    // Not use coorSys.type === 'geo' because coordSys maybe extended\n    return dimensions[0] === 'lng' && dimensions[1] === 'lat';\n}\n\nextendChartView({\n\n    type: 'heatmap',\n\n    render: function (seriesModel, ecModel, api) {\n        var visualMapOfThisSeries;\n        ecModel.eachComponent('visualMap', function (visualMap) {\n            visualMap.eachTargetSeries(function (targetSeries) {\n                if (targetSeries === seriesModel) {\n                    visualMapOfThisSeries = visualMap;\n                }\n            });\n        });\n\n        if (__DEV__) {\n            if (!visualMapOfThisSeries) {\n                throw new Error('Heatmap must use with visualMap');\n            }\n        }\n\n        this.group.removeAll();\n        var coordSys = seriesModel.coordinateSystem;\n        if (coordSys.type === 'cartesian2d' || coordSys.type === 'calendar') {\n            this._renderOnCartesianAndCalendar(coordSys, seriesModel, api);\n        }\n        else if (isGeoCoordSys(coordSys)) {\n            this._renderOnGeo(\n                coordSys, seriesModel, visualMapOfThisSeries, api\n            );\n        }\n    },\n\n    dispose: function () {},\n\n    _renderOnCartesianAndCalendar: function (coordSys, seriesModel, api) {\n\n        if (coordSys.type === 'cartesian2d') {\n            var xAxis = coordSys.getAxis('x');\n            var yAxis = coordSys.getAxis('y');\n\n            if (__DEV__) {\n                if (!(xAxis.type === 'category' && yAxis.type === 'category')) {\n                    throw new Error('Heatmap on cartesian must have two category axes');\n                }\n                if (!(xAxis.onBand && yAxis.onBand)) {\n                    throw new Error('Heatmap on cartesian must have two axes with boundaryGap true');\n                }\n            }\n\n            var width = xAxis.getBandWidth();\n            var height = yAxis.getBandWidth();\n\n        }\n\n        var group = this.group;\n        var data = seriesModel.getData();\n\n        var itemStyleQuery = 'itemStyle.normal';\n        var hoverItemStyleQuery = 'itemStyle.emphasis';\n        var labelQuery = 'label.normal';\n        var hoverLabelQuery = 'label.emphasis';\n        var style = seriesModel.getModel(itemStyleQuery).getItemStyle(['color']);\n        var hoverStl = seriesModel.getModel(hoverItemStyleQuery).getItemStyle();\n        var labelModel = seriesModel.getModel('label.normal');\n        var hoverLabelModel = seriesModel.getModel('label.emphasis');\n        var coordSysType = coordSys.type;\n\n        var dataDims = coordSysType === 'cartesian2d'\n            ? [\n                seriesModel.coordDimToDataDim('x')[0],\n                seriesModel.coordDimToDataDim('y')[0],\n                seriesModel.coordDimToDataDim('value')[0]\n            ]\n            : [\n                seriesModel.coordDimToDataDim('time')[0],\n                seriesModel.coordDimToDataDim('value')[0]\n            ];\n\n        data.each(function (idx) {\n            var rect;\n\n            if (coordSysType === 'cartesian2d') {\n                // Ignore empty data\n                if (isNaN(data.get(dataDims[2], idx))) {\n                    return;\n                }\n\n                var point = coordSys.dataToPoint([\n                    data.get(dataDims[0], idx),\n                    data.get(dataDims[1], idx)\n                ]);\n\n                rect = new Rect({\n                    shape: {\n                        x: point[0] - width / 2,\n                        y: point[1] - height / 2,\n                        width: width,\n                        height: height\n                    },\n                    style: {\n                        fill: data.getItemVisual(idx, 'color'),\n                        opacity: data.getItemVisual(idx, 'opacity')\n                    }\n                });\n            }\n            else {\n                // Ignore empty data\n                if (isNaN(data.get(dataDims[1], idx))) {\n                    return;\n                }\n\n                rect = new Rect({\n                    z2: 1,\n                    shape: coordSys.dataToRect([data.get(dataDims[0], idx)]).contentShape,\n                    style: {\n                        fill: data.getItemVisual(idx, 'color'),\n                        opacity: data.getItemVisual(idx, 'opacity')\n                    }\n                });\n            }\n\n            var itemModel = data.getItemModel(idx);\n\n            // Optimization for large datset\n            if (data.hasItemOption) {\n                style = itemModel.getModel(itemStyleQuery).getItemStyle(['color']);\n                hoverStl = itemModel.getModel(hoverItemStyleQuery).getItemStyle();\n                labelModel = itemModel.getModel(labelQuery);\n                hoverLabelModel = itemModel.getModel(hoverLabelQuery);\n            }\n\n            var rawValue = seriesModel.getRawValue(idx);\n            var defaultText = '-';\n            if (rawValue && rawValue[2] != null) {\n                defaultText = rawValue[2];\n            }\n\n            setLabelStyle(\n                style, hoverStl, labelModel, hoverLabelModel,\n                {\n                    labelFetcher: seriesModel,\n                    labelDataIndex: idx,\n                    defaultText: defaultText,\n                    isRectText: true\n                }\n            );\n\n            rect.setStyle(style);\n            setHoverStyle(rect, data.hasItemOption ? hoverStl : extend({}, hoverStl));\n\n            group.add(rect);\n            data.setItemGraphicEl(idx, rect);\n        });\n    },\n\n    _renderOnGeo: function (geo, seriesModel, visualMapModel, api) {\n        var inRangeVisuals = visualMapModel.targetVisuals.inRange;\n        var outOfRangeVisuals = visualMapModel.targetVisuals.outOfRange;\n        // if (!visualMapping) {\n        //     throw new Error('Data range must have color visuals');\n        // }\n\n        var data = seriesModel.getData();\n        var hmLayer = this._hmLayer || (this._hmLayer || new Heatmap());\n        hmLayer.blurSize = seriesModel.get('blurSize');\n        hmLayer.pointSize = seriesModel.get('pointSize');\n        hmLayer.minOpacity = seriesModel.get('minOpacity');\n        hmLayer.maxOpacity = seriesModel.get('maxOpacity');\n\n        var rect = geo.getViewRect().clone();\n        var roamTransform = geo.getRoamTransform().transform;\n        rect.applyTransform(roamTransform);\n\n        // Clamp on viewport\n        var x = Math.max(rect.x, 0);\n        var y = Math.max(rect.y, 0);\n        var x2 = Math.min(rect.width + rect.x, api.getWidth());\n        var y2 = Math.min(rect.height + rect.y, api.getHeight());\n        var width = x2 - x;\n        var height = y2 - y;\n\n        var points = data.mapArray(['lng', 'lat', 'value'], function (lng, lat, value) {\n            var pt = geo.dataToPoint([lng, lat]);\n            pt[0] -= x;\n            pt[1] -= y;\n            pt.push(value);\n            return pt;\n        });\n\n        var dataExtent = visualMapModel.getExtent();\n        var isInRange = visualMapModel.type === 'visualMap.continuous'\n            ? getIsInContinuousRange(dataExtent, visualMapModel.option.range)\n            : getIsInPiecewiseRange(\n                dataExtent, visualMapModel.getPieceList(), visualMapModel.option.selected\n            );\n\n        hmLayer.update(\n            points, width, height,\n            inRangeVisuals.color.getNormalizer(),\n            {\n                inRange: inRangeVisuals.color.getColorMapper(),\n                outOfRange: outOfRangeVisuals.color.getColorMapper()\n            },\n            isInRange\n        );\n        var img = new ZImage({\n            style: {\n                width: width,\n                height: height,\n                x: x,\n                y: y,\n                image: hmLayer.canvas\n            },\n            silent: true\n        });\n        this.group.add(img);\n    }\n});\n\nvar PictorialBarSeries = BaseBarSeries.extend({\n\n    type: 'series.pictorialBar',\n\n    dependencies: ['grid'],\n\n    defaultOption: {\n        symbol: 'circle',     // Customized bar shape\n        symbolSize: null,     // Can be ['100%', '100%'], null means auto.\n        symbolRotate: null,\n\n        symbolPosition: null, // 'start' or 'end' or 'center', null means auto.\n        symbolOffset: null,\n        symbolMargin: null,   // start margin and end margin. Can be a number or a percent string.\n                                // Auto margin by defualt.\n        symbolRepeat: false,  // false/null/undefined, means no repeat.\n                                // Can be true, means auto calculate repeat times and cut by data.\n                                // Can be a number, specifies repeat times, and do not cut by data.\n                                // Can be 'fixed', means auto calculate repeat times but do not cut by data.\n        symbolRepeatDirection: 'end', // 'end' means from 'start' to 'end'.\n\n        symbolClip: false,\n        symbolBoundingData: null, // Can be 60 or -40 or [-40, 60]\n        symbolPatternSize: 400, // 400 * 400 px\n\n        barGap: '-100%',      // In most case, overlap is needed.\n\n        // z can be set in data item, which is z2 actually.\n\n        // Disable progressive\n        progressive: 0,\n        hoverAnimation: false // Open only when needed.\n    },\n\n    getInitialData: function (option) {\n        // Disable stack.\n        option.stack = null;\n        return PictorialBarSeries.superApply(this, 'getInitialData', arguments);\n    }\n});\n\nvar BAR_BORDER_WIDTH_QUERY$1 = ['itemStyle', 'normal', 'borderWidth'];\n\n// index: +isHorizontal\nvar LAYOUT_ATTRS = [\n    {xy: 'x', wh: 'width', index: 0, posDesc: ['left', 'right']},\n    {xy: 'y', wh: 'height', index: 1, posDesc: ['top', 'bottom']}\n];\n\nvar pathForLineWidth = new Circle();\n\nvar BarView$1 = extendChartView({\n\n    type: 'pictorialBar',\n\n    render: function (seriesModel, ecModel, api) {\n        var group = this.group;\n        var data = seriesModel.getData();\n        var oldData = this._data;\n\n        var cartesian = seriesModel.coordinateSystem;\n        var baseAxis = cartesian.getBaseAxis();\n        var isHorizontal = !!baseAxis.isHorizontal();\n        var coordSysRect = cartesian.grid.getRect();\n\n        var opt = {\n            ecSize: {width: api.getWidth(), height: api.getHeight()},\n            seriesModel: seriesModel,\n            coordSys: cartesian,\n            coordSysExtent: [\n                [coordSysRect.x, coordSysRect.x + coordSysRect.width],\n                [coordSysRect.y, coordSysRect.y + coordSysRect.height]\n            ],\n            isHorizontal: isHorizontal,\n            valueDim: LAYOUT_ATTRS[+isHorizontal],\n            categoryDim: LAYOUT_ATTRS[1 - isHorizontal]\n        };\n\n        data.diff(oldData)\n            .add(function (dataIndex) {\n                if (!data.hasValue(dataIndex)) {\n                    return;\n                }\n\n                var itemModel = getItemModel(data, dataIndex);\n                var symbolMeta = getSymbolMeta(data, dataIndex, itemModel, opt);\n\n                var bar = createBar(data, opt, symbolMeta);\n\n                data.setItemGraphicEl(dataIndex, bar);\n                group.add(bar);\n\n                updateCommon$1(bar, opt, symbolMeta);\n            })\n            .update(function (newIndex, oldIndex) {\n                var bar = oldData.getItemGraphicEl(oldIndex);\n\n                if (!data.hasValue(newIndex)) {\n                    group.remove(bar);\n                    return;\n                }\n\n                var itemModel = getItemModel(data, newIndex);\n                var symbolMeta = getSymbolMeta(data, newIndex, itemModel, opt);\n\n                var pictorialShapeStr = getShapeStr(data, symbolMeta);\n                if (bar && pictorialShapeStr !== bar.__pictorialShapeStr) {\n                    group.remove(bar);\n                    data.setItemGraphicEl(newIndex, null);\n                    bar = null;\n                }\n\n                if (bar) {\n                    updateBar(bar, opt, symbolMeta);\n                }\n                else {\n                    bar = createBar(data, opt, symbolMeta, true);\n                }\n\n                data.setItemGraphicEl(newIndex, bar);\n                bar.__pictorialSymbolMeta = symbolMeta;\n                // Add back\n                group.add(bar);\n\n                updateCommon$1(bar, opt, symbolMeta);\n            })\n            .remove(function (dataIndex) {\n                var bar = oldData.getItemGraphicEl(dataIndex);\n                bar && removeBar(oldData, dataIndex, bar.__pictorialSymbolMeta.animationModel, bar);\n            })\n            .execute();\n\n        this._data = data;\n\n        return this.group;\n    },\n\n    dispose: noop,\n\n    remove: function (ecModel, api) {\n        var group = this.group;\n        var data = this._data;\n        if (ecModel.get('animation')) {\n            if (data) {\n                data.eachItemGraphicEl(function (bar) {\n                    removeBar(data, bar.dataIndex, ecModel, bar);\n                });\n            }\n        }\n        else {\n            group.removeAll();\n        }\n    }\n});\n\n\n// Set or calculate default value about symbol, and calculate layout info.\nfunction getSymbolMeta(data, dataIndex, itemModel, opt) {\n    var layout = data.getItemLayout(dataIndex);\n    var symbolRepeat = itemModel.get('symbolRepeat');\n    var symbolClip = itemModel.get('symbolClip');\n    var symbolPosition = itemModel.get('symbolPosition') || 'start';\n    var symbolRotate = itemModel.get('symbolRotate');\n    var rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n    var symbolPatternSize = itemModel.get('symbolPatternSize') || 2;\n    var isAnimationEnabled = itemModel.isAnimationEnabled();\n\n    var symbolMeta = {\n        dataIndex: dataIndex,\n        layout: layout,\n        itemModel: itemModel,\n        symbolType: data.getItemVisual(dataIndex, 'symbol') || 'circle',\n        color: data.getItemVisual(dataIndex, 'color'),\n        symbolClip: symbolClip,\n        symbolRepeat: symbolRepeat,\n        symbolRepeatDirection: itemModel.get('symbolRepeatDirection'),\n        symbolPatternSize: symbolPatternSize,\n        rotation: rotation,\n        animationModel: isAnimationEnabled ? itemModel : null,\n        hoverAnimation: isAnimationEnabled && itemModel.get('hoverAnimation'),\n        z2: itemModel.getShallow('z', true) || 0\n    };\n\n    prepareBarLength(itemModel, symbolRepeat, layout, opt, symbolMeta);\n\n    prepareSymbolSize(\n        data, dataIndex, layout, symbolRepeat, symbolClip, symbolMeta.boundingLength,\n        symbolMeta.pxSign, symbolPatternSize, opt, symbolMeta\n    );\n\n    prepareLineWidth(itemModel, symbolMeta.symbolScale, rotation, opt, symbolMeta);\n\n    var symbolSize = symbolMeta.symbolSize;\n    var symbolOffset = itemModel.get('symbolOffset');\n    if (isArray(symbolOffset)) {\n        symbolOffset = [\n            parsePercent$1(symbolOffset[0], symbolSize[0]),\n            parsePercent$1(symbolOffset[1], symbolSize[1])\n        ];\n    }\n\n    prepareLayoutInfo(\n        itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset,\n        symbolPosition, symbolMeta.valueLineWidth, symbolMeta.boundingLength, symbolMeta.repeatCutLength,\n        opt, symbolMeta\n    );\n\n    return symbolMeta;\n}\n\n// bar length can be negative.\nfunction prepareBarLength(itemModel, symbolRepeat, layout, opt, output) {\n    var valueDim = opt.valueDim;\n    var symbolBoundingData = itemModel.get('symbolBoundingData');\n    var valueAxis = opt.coordSys.getOtherAxis(opt.coordSys.getBaseAxis());\n    var zeroPx = valueAxis.toGlobalCoord(valueAxis.dataToCoord(0));\n    var pxSignIdx = 1 - +(layout[valueDim.wh] <= 0);\n    var boundingLength;\n\n    if (isArray(symbolBoundingData)) {\n        var symbolBoundingExtent = [\n            convertToCoordOnAxis(valueAxis, symbolBoundingData[0]) - zeroPx,\n            convertToCoordOnAxis(valueAxis, symbolBoundingData[1]) - zeroPx\n        ];\n        symbolBoundingExtent[1] < symbolBoundingExtent[0] && (symbolBoundingExtent.reverse());\n        boundingLength = symbolBoundingExtent[pxSignIdx];\n    }\n    else if (symbolBoundingData != null) {\n        boundingLength = convertToCoordOnAxis(valueAxis, symbolBoundingData) - zeroPx;\n    }\n    else if (symbolRepeat) {\n        boundingLength = opt.coordSysExtent[valueDim.index][pxSignIdx] - zeroPx;\n    }\n    else {\n        boundingLength = layout[valueDim.wh];\n    }\n\n    output.boundingLength = boundingLength;\n\n    if (symbolRepeat) {\n        output.repeatCutLength = layout[valueDim.wh];\n    }\n\n    output.pxSign = boundingLength > 0 ? 1 : boundingLength < 0 ? -1 : 0;\n}\n\nfunction convertToCoordOnAxis(axis, value) {\n    return axis.toGlobalCoord(axis.dataToCoord(axis.scale.parse(value)));\n}\n\n// Support ['100%', '100%']\nfunction prepareSymbolSize(\n    data, dataIndex, layout, symbolRepeat, symbolClip, boundingLength,\n    pxSign, symbolPatternSize, opt, output\n) {\n    var valueDim = opt.valueDim;\n    var categoryDim = opt.categoryDim;\n    var categorySize = Math.abs(layout[categoryDim.wh]);\n\n    var symbolSize = data.getItemVisual(dataIndex, 'symbolSize');\n    if (isArray(symbolSize)) {\n        symbolSize = symbolSize.slice();\n    }\n    else {\n        if (symbolSize == null) {\n            symbolSize = '100%';\n        }\n        symbolSize = [symbolSize, symbolSize];\n    }\n\n    // Note: percentage symbolSize (like '100%') do not consider lineWidth, because it is\n    // to complicated to calculate real percent value if considering scaled lineWidth.\n    // So the actual size will bigger than layout size if lineWidth is bigger than zero,\n    // which can be tolerated in pictorial chart.\n\n    symbolSize[categoryDim.index] = parsePercent$1(\n        symbolSize[categoryDim.index],\n        categorySize\n    );\n    symbolSize[valueDim.index] = parsePercent$1(\n        symbolSize[valueDim.index],\n        symbolRepeat ? categorySize : Math.abs(boundingLength)\n    );\n\n    output.symbolSize = symbolSize;\n\n    // If x or y is less than zero, show reversed shape.\n    var symbolScale = output.symbolScale = [\n        symbolSize[0] / symbolPatternSize,\n        symbolSize[1] / symbolPatternSize\n    ];\n    // Follow convention, 'right' and 'top' is the normal scale.\n    symbolScale[valueDim.index] *= (opt.isHorizontal ? -1 : 1) * pxSign;\n}\n\nfunction prepareLineWidth(itemModel, symbolScale, rotation, opt, output) {\n    // In symbols are drawn with scale, so do not need to care about the case that width\n    // or height are too small. But symbol use strokeNoScale, where acture lineWidth should\n    // be calculated.\n    var valueLineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY$1) || 0;\n\n    if (valueLineWidth) {\n        pathForLineWidth.attr({\n            scale: symbolScale.slice(),\n            rotation: rotation\n        });\n        pathForLineWidth.updateTransform();\n        valueLineWidth /= pathForLineWidth.getLineScale();\n        valueLineWidth *= symbolScale[opt.valueDim.index];\n    }\n\n    output.valueLineWidth = valueLineWidth;\n}\n\nfunction prepareLayoutInfo(\n    itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset,\n    symbolPosition, valueLineWidth, boundingLength, repeatCutLength, opt, output\n) {\n    var categoryDim = opt.categoryDim;\n    var valueDim = opt.valueDim;\n    var pxSign = output.pxSign;\n\n    var unitLength = Math.max(symbolSize[valueDim.index] + valueLineWidth, 0);\n    var pathLen = unitLength;\n\n    // Note: rotation will not effect the layout of symbols, because user may\n    // want symbols to rotate on its center, which should not be translated\n    // when rotating.\n\n    if (symbolRepeat) {\n        var absBoundingLength = Math.abs(boundingLength);\n\n        var symbolMargin = retrieve(itemModel.get('symbolMargin'), '15%') + '';\n        var hasEndGap = false;\n        if (symbolMargin.lastIndexOf('!') === symbolMargin.length - 1) {\n            hasEndGap = true;\n            symbolMargin = symbolMargin.slice(0, symbolMargin.length - 1);\n        }\n        symbolMargin = parsePercent$1(symbolMargin, symbolSize[valueDim.index]);\n\n        var uLenWithMargin = Math.max(unitLength + symbolMargin * 2, 0);\n\n        // When symbol margin is less than 0, margin at both ends will be subtracted\n        // to ensure that all of the symbols will not be overflow the given area.\n        var endFix = hasEndGap ? 0 : symbolMargin * 2;\n\n        // Both final repeatTimes and final symbolMargin area calculated based on\n        // boundingLength.\n        var repeatSpecified = isNumeric(symbolRepeat);\n        var repeatTimes = repeatSpecified\n            ? symbolRepeat\n            : toIntTimes((absBoundingLength + endFix) / uLenWithMargin);\n\n        // Adjust calculate margin, to ensure each symbol is displayed\n        // entirely in the given layout area.\n        var mDiff = absBoundingLength - repeatTimes * unitLength;\n        symbolMargin = mDiff / 2 / (hasEndGap ? repeatTimes : repeatTimes - 1);\n        uLenWithMargin = unitLength + symbolMargin * 2;\n        endFix = hasEndGap ? 0 : symbolMargin * 2;\n\n        // Update repeatTimes when not all symbol will be shown.\n        if (!repeatSpecified && symbolRepeat !== 'fixed') {\n            repeatTimes = repeatCutLength\n                ? toIntTimes((Math.abs(repeatCutLength) + endFix) / uLenWithMargin)\n                : 0;\n        }\n\n        pathLen = repeatTimes * uLenWithMargin - endFix;\n        output.repeatTimes = repeatTimes;\n        output.symbolMargin = symbolMargin;\n    }\n\n    var sizeFix = pxSign * (pathLen / 2);\n    var pathPosition = output.pathPosition = [];\n    pathPosition[categoryDim.index] = layout[categoryDim.wh] / 2;\n    pathPosition[valueDim.index] = symbolPosition === 'start'\n        ? sizeFix\n        : symbolPosition === 'end'\n        ? boundingLength - sizeFix\n        : boundingLength / 2; // 'center'\n    if (symbolOffset) {\n        pathPosition[0] += symbolOffset[0];\n        pathPosition[1] += symbolOffset[1];\n    }\n\n    var bundlePosition = output.bundlePosition = [];\n    bundlePosition[categoryDim.index] = layout[categoryDim.xy];\n    bundlePosition[valueDim.index] = layout[valueDim.xy];\n\n    var barRectShape = output.barRectShape = extend({}, layout);\n    barRectShape[valueDim.wh] = pxSign * Math.max(\n        Math.abs(layout[valueDim.wh]), Math.abs(pathPosition[valueDim.index] + sizeFix)\n    );\n    barRectShape[categoryDim.wh] = layout[categoryDim.wh];\n\n    var clipShape = output.clipShape = {};\n    // Consider that symbol may be overflow layout rect.\n    clipShape[categoryDim.xy] = -layout[categoryDim.xy];\n    clipShape[categoryDim.wh] = opt.ecSize[categoryDim.wh];\n    clipShape[valueDim.xy] = 0;\n    clipShape[valueDim.wh] = layout[valueDim.wh];\n}\n\nfunction createPath(symbolMeta) {\n    var symbolPatternSize = symbolMeta.symbolPatternSize;\n    var path = createSymbol(\n        // Consider texture img, make a big size.\n        symbolMeta.symbolType,\n        -symbolPatternSize / 2,\n        -symbolPatternSize / 2,\n        symbolPatternSize,\n        symbolPatternSize,\n        symbolMeta.color\n    );\n    path.attr({\n        culling: true\n    });\n    path.type !== 'image' && path.setStyle({\n        strokeNoScale: true\n    });\n\n    return path;\n}\n\nfunction createOrUpdateRepeatSymbols(bar, opt, symbolMeta, isUpdate) {\n    var bundle = bar.__pictorialBundle;\n    var symbolSize = symbolMeta.symbolSize;\n    var valueLineWidth = symbolMeta.valueLineWidth;\n    var pathPosition = symbolMeta.pathPosition;\n    var valueDim = opt.valueDim;\n    var repeatTimes = symbolMeta.repeatTimes || 0;\n\n    var index = 0;\n    var unit = symbolSize[opt.valueDim.index] + valueLineWidth + symbolMeta.symbolMargin * 2;\n\n    eachPath(bar, function (path) {\n        path.__pictorialAnimationIndex = index;\n        path.__pictorialRepeatTimes = repeatTimes;\n        if (index < repeatTimes) {\n            updateAttr(path, null, makeTarget(index), symbolMeta, isUpdate);\n        }\n        else {\n            updateAttr(path, null, {scale: [0, 0]}, symbolMeta, isUpdate, function () {\n                bundle.remove(path);\n            });\n        }\n\n        updateHoverAnimation(path, symbolMeta);\n\n        index++;\n    });\n\n    for (; index < repeatTimes; index++) {\n        var path = createPath(symbolMeta);\n        path.__pictorialAnimationIndex = index;\n        path.__pictorialRepeatTimes = repeatTimes;\n        bundle.add(path);\n\n        var target = makeTarget(index);\n\n        updateAttr(\n            path,\n            {\n                position: target.position,\n                scale: [0, 0]\n            },\n            {\n                scale: target.scale,\n                rotation: target.rotation\n            },\n            symbolMeta,\n            isUpdate\n        );\n\n        // FIXME\n        // If all emphasis/normal through action.\n        path\n            .on('mouseover', onMouseOver)\n            .on('mouseout', onMouseOut);\n\n        updateHoverAnimation(path, symbolMeta);\n    }\n\n    function makeTarget(index) {\n        var position = pathPosition.slice();\n        // (start && pxSign > 0) || (end && pxSign < 0): i = repeatTimes - index\n        // Otherwise: i = index;\n        var pxSign = symbolMeta.pxSign;\n        var i = index;\n        if (symbolMeta.symbolRepeatDirection === 'start' ? pxSign > 0 : pxSign < 0) {\n            i = repeatTimes - 1 - index;\n        }\n        position[valueDim.index] = unit * (i - repeatTimes / 2 + 0.5) + pathPosition[valueDim.index];\n\n        return {\n            position: position,\n            scale: symbolMeta.symbolScale.slice(),\n            rotation: symbolMeta.rotation\n        };\n    }\n\n    function onMouseOver() {\n        eachPath(bar, function (path) {\n            path.trigger('emphasis');\n        });\n    }\n\n    function onMouseOut() {\n        eachPath(bar, function (path) {\n            path.trigger('normal');\n        });\n    }\n}\n\nfunction createOrUpdateSingleSymbol(bar, opt, symbolMeta, isUpdate) {\n    var bundle = bar.__pictorialBundle;\n    var mainPath = bar.__pictorialMainPath;\n\n    if (!mainPath) {\n        mainPath = bar.__pictorialMainPath = createPath(symbolMeta);\n        bundle.add(mainPath);\n\n        updateAttr(\n            mainPath,\n            {\n                position: symbolMeta.pathPosition.slice(),\n                scale: [0, 0],\n                rotation: symbolMeta.rotation\n            },\n            {\n                scale: symbolMeta.symbolScale.slice()\n            },\n            symbolMeta,\n            isUpdate\n        );\n\n        mainPath\n            .on('mouseover', onMouseOver)\n            .on('mouseout', onMouseOut);\n    }\n    else {\n        updateAttr(\n            mainPath,\n            null,\n            {\n                position: symbolMeta.pathPosition.slice(),\n                scale: symbolMeta.symbolScale.slice(),\n                rotation: symbolMeta.rotation\n            },\n            symbolMeta,\n            isUpdate\n        );\n    }\n\n    updateHoverAnimation(mainPath, symbolMeta);\n\n    function onMouseOver() {\n        this.trigger('emphasis');\n    }\n\n    function onMouseOut() {\n        this.trigger('normal');\n    }\n}\n\n// bar rect is used for label.\nfunction createOrUpdateBarRect(bar, symbolMeta, isUpdate) {\n    var rectShape = extend({}, symbolMeta.barRectShape);\n\n    var barRect = bar.__pictorialBarRect;\n    if (!barRect) {\n        barRect = bar.__pictorialBarRect = new Rect({\n            z2: 2,\n            shape: rectShape,\n            silent: true,\n            style: {\n                stroke: 'transparent',\n                fill: 'transparent',\n                lineWidth: 0\n            }\n        });\n\n        bar.add(barRect);\n    }\n    else {\n        updateAttr(barRect, null, {shape: rectShape}, symbolMeta, isUpdate);\n    }\n}\n\nfunction createOrUpdateClip(bar, opt, symbolMeta, isUpdate) {\n    // If not clip, symbol will be remove and rebuilt.\n    if (symbolMeta.symbolClip) {\n        var clipPath = bar.__pictorialClipPath;\n        var clipShape = extend({}, symbolMeta.clipShape);\n        var valueDim = opt.valueDim;\n        var animationModel = symbolMeta.animationModel;\n        var dataIndex = symbolMeta.dataIndex;\n\n        if (clipPath) {\n            updateProps(\n                clipPath, {shape: clipShape}, animationModel, dataIndex\n            );\n        }\n        else {\n            clipShape[valueDim.wh] = 0;\n            clipPath = new Rect({shape: clipShape});\n            bar.__pictorialBundle.setClipPath(clipPath);\n            bar.__pictorialClipPath = clipPath;\n\n            var target = {};\n            target[valueDim.wh] = symbolMeta.clipShape[valueDim.wh];\n\n            graphic[isUpdate ? 'updateProps' : 'initProps'](\n                clipPath, {shape: target}, animationModel, dataIndex\n            );\n        }\n    }\n}\n\nfunction getItemModel(data, dataIndex) {\n    var itemModel = data.getItemModel(dataIndex);\n    itemModel.getAnimationDelayParams = getAnimationDelayParams;\n    itemModel.isAnimationEnabled = isAnimationEnabled;\n    return itemModel;\n}\n\nfunction getAnimationDelayParams(path) {\n    // The order is the same as the z-order, see `symbolRepeatDiretion`.\n    return {\n        index: path.__pictorialAnimationIndex,\n        count: path.__pictorialRepeatTimes\n    };\n}\n\nfunction isAnimationEnabled() {\n    // `animation` prop can be set on itemModel in pictorial bar chart.\n    return this.parentModel.isAnimationEnabled() && !!this.getShallow('animation');\n}\n\nfunction updateHoverAnimation(path, symbolMeta) {\n    path.off('emphasis').off('normal');\n\n    var scale = symbolMeta.symbolScale.slice();\n\n    symbolMeta.hoverAnimation && path\n        .on('emphasis', function() {\n            this.animateTo({\n                scale: [scale[0] * 1.1, scale[1] * 1.1]\n            }, 400, 'elasticOut');\n        })\n        .on('normal', function() {\n            this.animateTo({\n                scale: scale.slice()\n            }, 400, 'elasticOut');\n        });\n}\n\nfunction createBar(data, opt, symbolMeta, isUpdate) {\n    // bar is the main element for each data.\n    var bar = new Group();\n    // bundle is used for location and clip.\n    var bundle = new Group();\n    bar.add(bundle);\n    bar.__pictorialBundle = bundle;\n    bundle.attr('position', symbolMeta.bundlePosition.slice());\n\n    if (symbolMeta.symbolRepeat) {\n        createOrUpdateRepeatSymbols(bar, opt, symbolMeta);\n    }\n    else {\n        createOrUpdateSingleSymbol(bar, opt, symbolMeta);\n    }\n\n    createOrUpdateBarRect(bar, symbolMeta, isUpdate);\n\n    createOrUpdateClip(bar, opt, symbolMeta, isUpdate);\n\n    bar.__pictorialShapeStr = getShapeStr(data, symbolMeta);\n    bar.__pictorialSymbolMeta = symbolMeta;\n\n    return bar;\n}\n\nfunction updateBar(bar, opt, symbolMeta) {\n    var animationModel = symbolMeta.animationModel;\n    var dataIndex = symbolMeta.dataIndex;\n    var bundle = bar.__pictorialBundle;\n\n    updateProps(\n        bundle, {position: symbolMeta.bundlePosition.slice()}, animationModel, dataIndex\n    );\n\n    if (symbolMeta.symbolRepeat) {\n        createOrUpdateRepeatSymbols(bar, opt, symbolMeta, true);\n    }\n    else {\n        createOrUpdateSingleSymbol(bar, opt, symbolMeta, true);\n    }\n\n    createOrUpdateBarRect(bar, symbolMeta, true);\n\n    createOrUpdateClip(bar, opt, symbolMeta, true);\n}\n\nfunction removeBar(data, dataIndex, animationModel, bar) {\n    // Not show text when animating\n    var labelRect = bar.__pictorialBarRect;\n    labelRect && (labelRect.style.text = null);\n\n    var pathes = [];\n    eachPath(bar, function (path) {\n        pathes.push(path);\n    });\n    bar.__pictorialMainPath && pathes.push(bar.__pictorialMainPath);\n\n    // I do not find proper remove animation for clip yet.\n    bar.__pictorialClipPath && (animationModel = null);\n\n    each$1(pathes, function (path) {\n        updateProps(\n            path, {scale: [0, 0]}, animationModel, dataIndex,\n            function () {\n                bar.parent && bar.parent.remove(bar);\n            }\n        );\n    });\n\n    data.setItemGraphicEl(dataIndex, null);\n}\n\nfunction getShapeStr(data, symbolMeta) {\n    return [\n        data.getItemVisual(symbolMeta.dataIndex, 'symbol') || 'none',\n        !!symbolMeta.symbolRepeat,\n        !!symbolMeta.symbolClip\n    ].join(':');\n}\n\nfunction eachPath(bar, cb, context) {\n    // Do not use Group#eachChild, because it do not support remove.\n    each$1(bar.__pictorialBundle.children(), function (el) {\n        el !== bar.__pictorialBarRect && cb.call(context, el);\n    });\n}\n\nfunction updateAttr(el, immediateAttrs, animationAttrs, symbolMeta, isUpdate, cb) {\n    immediateAttrs && el.attr(immediateAttrs);\n    // when symbolCip used, only clip path has init animation, otherwise it would be weird effect.\n    if (symbolMeta.symbolClip && !isUpdate) {\n        animationAttrs && el.attr(animationAttrs);\n    }\n    else {\n        animationAttrs && graphic[isUpdate ? 'updateProps' : 'initProps'](\n            el, animationAttrs, symbolMeta.animationModel, symbolMeta.dataIndex, cb\n        );\n    }\n}\n\nfunction updateCommon$1(bar, opt, symbolMeta) {\n    var color = symbolMeta.color;\n    var dataIndex = symbolMeta.dataIndex;\n    var itemModel = symbolMeta.itemModel;\n    // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n    var normalStyle = itemModel.getModel('itemStyle.normal').getItemStyle(['color']);\n    var hoverStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n    var cursorStyle = itemModel.getShallow('cursor');\n\n    eachPath(bar, function (path) {\n        // PENDING setColor should be before setStyle!!!\n        path.setColor(color);\n        path.setStyle(defaults(\n            {\n                fill: color,\n                opacity: symbolMeta.opacity\n            },\n            normalStyle\n        ));\n        setHoverStyle(path, hoverStyle);\n\n        cursorStyle && (path.cursor = cursorStyle);\n        path.z2 = symbolMeta.z2;\n    });\n\n    var barRectHoverStyle = {};\n    var barPositionOutside = opt.valueDim.posDesc[+(symbolMeta.boundingLength > 0)];\n    var barRect = bar.__pictorialBarRect;\n\n    setLabel(\n        barRect.style, barRectHoverStyle, itemModel,\n        color, opt.seriesModel, dataIndex, barPositionOutside\n    );\n\n    setHoverStyle(barRect, barRectHoverStyle);\n}\n\nfunction toIntTimes(times) {\n    var roundedTimes = Math.round(times);\n    // Escapse accurate error\n    return Math.abs(times - roundedTimes) < 1e-4\n        ? roundedTimes\n        : Math.ceil(times);\n}\n\n// In case developer forget to include grid component\nregisterLayout(curry(\n    barLayoutGrid, 'pictorialBar'\n));\nregisterVisual(curry(\n    visualSymbol, 'pictorialBar', 'roundRect', null\n));\n\n/**\n * @constructor  module:echarts/coord/single/SingleAxis\n * @extends {module:echarts/coord/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar SingleAxis = function (dim, scale, coordExtent, axisType, position) {\n\n    Axis.call(this, dim, scale, coordExtent);\n\n    /**\n     * Axis type\n     * - 'category'\n     * - 'value'\n     * - 'time'\n     * - 'log'\n     * @type {string}\n     */\n    this.type = axisType || 'value';\n\n    /**\n     * Axis position\n     *  - 'top'\n     *  - 'bottom'\n     *  - 'left'\n     *  - 'right'\n     *  @type {string}\n     */\n    this.position = position || 'bottom';\n\n    /**\n     * Axis orient\n     *  - 'horizontal'\n     *  - 'vertical'\n     * @type {[type]}\n     */\n    this.orient = null;\n\n    /**\n     * @type {number}\n     */\n    this._labelInterval = null;\n\n};\n\nSingleAxis.prototype = {\n\n    constructor: SingleAxis,\n\n    /**\n     * Axis model\n     * @type {module:echarts/coord/single/AxisModel}\n     */\n    model: null,\n\n    /**\n     * Judge the orient of the axis.\n     * @return {boolean}\n     */\n    isHorizontal: function () {\n        var position = this.position;\n        return position === 'top' || position === 'bottom';\n\n    },\n\n    /**\n     * @override\n     */\n    pointToData: function (point, clamp) {\n        return this.coordinateSystem.pointToData(point, clamp)[0];\n    },\n\n    /**\n     * Convert the local coord(processed by dataToCoord())\n     * to global coord(concrete pixel coord).\n     * designated by module:echarts/coord/single/Single.\n     * @type {Function}\n     */\n    toGlobalCoord: null,\n\n    /**\n     * Convert the global coord to local coord.\n     * designated by module:echarts/coord/single/Single.\n     * @type {Function}\n     */\n    toLocalCoord: null\n\n};\n\ninherits(SingleAxis, Axis);\n\n/**\n * Single coordinates system.\n */\n\n/**\n * Create a single coordinates system.\n *\n * @param {module:echarts/coord/single/AxisModel} axisModel\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction Single(axisModel, ecModel, api) {\n\n    /**\n     * @type {string}\n     * @readOnly\n     */\n    this.dimension = 'single';\n\n    /**\n     * Add it just for draw tooltip.\n     *\n     * @type {Array.<string>}\n     * @readOnly\n     */\n    this.dimensions = ['single'];\n\n    /**\n     * @private\n     * @type {module:echarts/coord/single/SingleAxis}.\n     */\n    this._axis = null;\n\n    /**\n     * @private\n     * @type {module:zrender/core/BoundingRect}\n     */\n    this._rect;\n\n    this._init(axisModel, ecModel, api);\n\n    /**\n     * @type {module:echarts/coord/single/AxisModel}\n     */\n    this.model = axisModel;\n}\n\nSingle.prototype = {\n\n    type: 'singleAxis',\n\n    axisPointerEnabled: true,\n\n    constructor: Single,\n\n    /**\n     * Initialize single coordinate system.\n     *\n     * @param  {module:echarts/coord/single/AxisModel} axisModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @private\n     */\n    _init: function (axisModel, ecModel, api) {\n\n        var dim = this.dimension;\n\n        var axis = new SingleAxis(\n            dim,\n            createScaleByModel(axisModel),\n            [0, 0],\n            axisModel.get('type'),\n            axisModel.get('position')\n        );\n\n        var isCategory = axis.type === 'category';\n        axis.onBand = isCategory && axisModel.get('boundaryGap');\n        axis.inverse = axisModel.get('inverse');\n        axis.orient = axisModel.get('orient');\n\n        axisModel.axis = axis;\n        axis.model = axisModel;\n        axis.coordinateSystem = this;\n        this._axis = axis;\n    },\n\n    /**\n     * Update axis scale after data processed\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    update: function (ecModel, api) {\n        ecModel.eachSeries(function (seriesModel) {\n            if (seriesModel.coordinateSystem === this) {\n                var data = seriesModel.getData();\n                var dim = this.dimension;\n                this._axis.scale.unionExtentFromData(\n                    data, seriesModel.coordDimToDataDim(dim)\n                );\n                niceScaleExtent(this._axis.scale, this._axis.model);\n            }\n        }, this);\n    },\n\n    /**\n     * Resize the single coordinate system.\n     *\n     * @param  {module:echarts/coord/single/AxisModel} axisModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    resize: function (axisModel, api) {\n        this._rect = getLayoutRect(\n            {\n                left: axisModel.get('left'),\n                top: axisModel.get('top'),\n                right: axisModel.get('right'),\n                bottom: axisModel.get('bottom'),\n                width: axisModel.get('width'),\n                height: axisModel.get('height')\n            },\n            {\n                width: api.getWidth(),\n                height: api.getHeight()\n            }\n        );\n\n        this._adjustAxis();\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getRect: function () {\n        return this._rect;\n    },\n\n    /**\n     * @private\n     */\n    _adjustAxis: function () {\n\n        var rect = this._rect;\n        var axis = this._axis;\n\n        var isHorizontal = axis.isHorizontal();\n        var extent = isHorizontal ? [0, rect.width] : [0, rect.height];\n        var idx =  axis.reverse ? 1 : 0;\n\n        axis.setExtent(extent[idx], extent[1 - idx]);\n\n        this._updateAxisTransform(axis, isHorizontal ? rect.x : rect.y);\n\n    },\n\n    /**\n     * @param  {module:echarts/coord/single/SingleAxis} axis\n     * @param  {number} coordBase\n     */\n    _updateAxisTransform: function (axis, coordBase) {\n\n        var axisExtent = axis.getExtent();\n        var extentSum = axisExtent[0] + axisExtent[1];\n        var isHorizontal = axis.isHorizontal();\n\n        axis.toGlobalCoord = isHorizontal\n            ? function (coord) {\n                return coord + coordBase;\n            }\n            : function (coord) {\n                return extentSum - coord + coordBase;\n            };\n\n        axis.toLocalCoord = isHorizontal\n            ? function (coord) {\n                return coord - coordBase;\n            }\n            : function (coord) {\n                return extentSum - coord + coordBase;\n            };\n    },\n\n    /**\n     * Get axis.\n     *\n     * @return {module:echarts/coord/single/SingleAxis}\n     */\n    getAxis: function () {\n        return this._axis;\n    },\n\n    /**\n     * Get axis, add it just for draw tooltip.\n     *\n     * @return {[type]} [description]\n     */\n    getBaseAxis: function () {\n        return this._axis;\n    },\n\n    /**\n     * @return {Array.<module:echarts/coord/Axis>}\n     */\n    getAxes: function () {\n        return [this._axis];\n    },\n\n    /**\n     * @return {Object} {baseAxes: [], otherAxes: []}\n     */\n    getTooltipAxes: function () {\n        return {baseAxes: [this.getAxis()]};\n    },\n\n    /**\n     * If contain point.\n     *\n     * @param  {Array.<number>} point\n     * @return {boolean}\n     */\n    containPoint: function (point) {\n        var rect = this.getRect();\n        var axis = this.getAxis();\n        var orient = axis.orient;\n        if (orient === 'horizontal') {\n            return axis.contain(axis.toLocalCoord(point[0]))\n            && (point[1] >= rect.y && point[1] <= (rect.y + rect.height));\n        }\n        else {\n            return axis.contain(axis.toLocalCoord(point[1]))\n            && (point[0] >= rect.y && point[0] <= (rect.y + rect.height));\n        }\n    },\n\n    /**\n     * @param {Array.<number>} point\n     * @return {Array.<number>}\n     */\n    pointToData: function (point) {\n        var axis = this.getAxis();\n        return [axis.coordToData(axis.toLocalCoord(\n            point[axis.orient === 'horizontal' ? 0 : 1]\n        ))];\n    },\n\n    /**\n     * Convert the series data to concrete point.\n     *\n     * @param  {number|Array.<number>} val\n     * @return {Array.<number>}\n     */\n    dataToPoint: function (val) {\n        var axis = this.getAxis();\n        var rect = this.getRect();\n        var pt = [];\n        var idx = axis.orient === 'horizontal' ? 0 : 1;\n\n        if (val instanceof Array) {\n            val = val[0];\n        }\n\n        pt[idx] = axis.toGlobalCoord(axis.dataToCoord(+val));\n        pt[1 - idx] = idx === 0 ? (rect.y + rect.height / 2) : (rect.x + rect.width / 2);\n        return pt;\n    }\n\n};\n\n/**\n * Single coordinate system creator.\n */\n\n/**\n * Create single coordinate system and inject it into seriesModel.\n *\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n * @return {Array.<module:echarts/coord/single/Single>}\n */\nfunction create$3(ecModel, api) {\n    var singles = [];\n\n    ecModel.eachComponent('singleAxis', function(axisModel, idx) {\n\n        var single = new Single(axisModel, ecModel, api);\n        single.name = 'single_' + idx;\n        single.resize(axisModel, api);\n        axisModel.coordinateSystem = single;\n        singles.push(single);\n\n    });\n\n    ecModel.eachSeries(function (seriesModel) {\n        if (seriesModel.get('coordinateSystem') === 'singleAxis') {\n            var singleAxisModel = ecModel.queryComponents({\n                mainType: 'singleAxis',\n                index: seriesModel.get('singleAxisIndex'),\n                id: seriesModel.get('singleAxisId')\n            })[0];\n            seriesModel.coordinateSystem = singleAxisModel && singleAxisModel.coordinateSystem;\n        }\n    });\n\n    return singles;\n}\n\nCoordinateSystemManager.register('single', {\n    create: create$3,\n    dimensions: Single.prototype.dimensions\n});\n\n/**\n * @param {Object} opt {labelInside}\n * @return {Object} {\n *  position, rotation, labelDirection, labelOffset,\n *  tickDirection, labelRotate, labelInterval, z2\n * }\n */\nfunction layout$1 (axisModel, opt) {\n    opt = opt || {};\n    var single = axisModel.coordinateSystem;\n    var axis = axisModel.axis;\n    var layout = {};\n\n    var axisPosition = axis.position;\n    var orient = axis.orient;\n\n    var rect = single.getRect();\n    var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n\n    var positionMap = {\n        horizontal: {top: rectBound[2], bottom: rectBound[3]},\n        vertical: {left: rectBound[0], right: rectBound[1]}\n    };\n\n    layout.position = [\n        orient === 'vertical'\n            ? positionMap.vertical[axisPosition]\n            : rectBound[0],\n        orient === 'horizontal'\n            ? positionMap.horizontal[axisPosition]\n            : rectBound[3]\n    ];\n\n    var r = {horizontal: 0, vertical: 1};\n    layout.rotation = Math.PI / 2 * r[orient];\n\n    var directionMap = {top: -1, bottom: 1, right: 1, left: -1};\n\n    layout.labelDirection = layout.tickDirection\n        = layout.nameDirection\n        = directionMap[axisPosition];\n\n    if (axisModel.get('axisTick.inside')) {\n        layout.tickDirection = -layout.tickDirection;\n    }\n\n    if (retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n        layout.labelDirection = -layout.labelDirection;\n    }\n\n    var labelRotation = opt.rotate;\n    labelRotation == null && (labelRotation = axisModel.get('axisLabel.rotate'));\n    layout.labelRotation = axisPosition === 'top' ? -labelRotation : labelRotation;\n\n    layout.labelInterval = axis.getLabelInterval();\n\n    layout.z2 = 1;\n\n    return layout;\n}\n\nvar getInterval$2 = AxisBuilder.getInterval;\nvar ifIgnoreOnTick$2 = AxisBuilder.ifIgnoreOnTick;\n\nvar axisBuilderAttrs$2 = [\n    'axisLine', 'axisTickLabel', 'axisName'\n];\n\nvar selfBuilderAttr = 'splitLine';\n\nvar SingleAxisView = AxisView.extend({\n\n    type: 'singleAxis',\n\n    axisPointerClass: 'SingleAxisPointer',\n\n    render: function (axisModel, ecModel, api, payload) {\n\n        var group = this.group;\n\n        group.removeAll();\n\n        var layout =  layout$1(axisModel);\n\n        var axisBuilder = new AxisBuilder(axisModel, layout);\n\n        each$1(axisBuilderAttrs$2, axisBuilder.add, axisBuilder);\n\n        group.add(axisBuilder.getGroup());\n\n        if (axisModel.get(selfBuilderAttr + '.show')) {\n            this['_' + selfBuilderAttr](axisModel, layout.labelInterval);\n        }\n\n        SingleAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n    },\n\n    _splitLine: function(axisModel, labelInterval) {\n        var axis = axisModel.axis;\n\n        if (axis.scale.isBlank()) {\n            return;\n        }\n\n        var splitLineModel = axisModel.getModel('splitLine');\n        var lineStyleModel = splitLineModel.getModel('lineStyle');\n        var lineWidth = lineStyleModel.get('width');\n        var lineColors = lineStyleModel.get('color');\n        var lineInterval = getInterval$2(splitLineModel, labelInterval);\n\n        lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n\n        var gridRect = axisModel.coordinateSystem.getRect();\n        var isHorizontal = axis.isHorizontal();\n\n        var splitLines = [];\n        var lineCount = 0;\n\n        var ticksCoords = axis.getTicksCoords();\n\n        var p1 = [];\n        var p2 = [];\n\n        var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n        var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n\n        for (var i = 0; i < ticksCoords.length; ++i) {\n            if (ifIgnoreOnTick$2(\n                axis, i, lineInterval, ticksCoords.length,\n                showMinLabel, showMaxLabel\n            )) {\n                continue;\n            }\n            var tickCoord = axis.toGlobalCoord(ticksCoords[i]);\n            if (isHorizontal) {\n                p1[0] = tickCoord;\n                p1[1] = gridRect.y;\n                p2[0] = tickCoord;\n                p2[1] = gridRect.y + gridRect.height;\n            }\n            else {\n                p1[0] = gridRect.x;\n                p1[1] = tickCoord;\n                p2[0] = gridRect.x + gridRect.width;\n                p2[1] = tickCoord;\n            }\n            var colorIndex = (lineCount++) % lineColors.length;\n            splitLines[colorIndex] = splitLines[colorIndex] || [];\n            splitLines[colorIndex].push(new Line(\n                subPixelOptimizeLine({\n                    shape: {\n                        x1: p1[0],\n                        y1: p1[1],\n                        x2: p2[0],\n                        y2: p2[1]\n                    },\n                    style: {\n                        lineWidth: lineWidth\n                    },\n                    silent: true\n                })));\n        }\n\n        for (var i = 0; i < splitLines.length; ++i) {\n            this.group.add(mergePath(splitLines[i], {\n                style: {\n                    stroke: lineColors[i % lineColors.length],\n                    lineDash: lineStyleModel.getLineDash(lineWidth),\n                    lineWidth: lineWidth\n                },\n                silent: true\n            }));\n        }\n    }\n});\n\nvar AxisModel$4 = ComponentModel.extend({\n\n    type: 'singleAxis',\n\n    layoutMode: 'box',\n\n    /**\n     * @type {module:echarts/coord/single/SingleAxis}\n     */\n    axis: null,\n\n    /**\n     * @type {module:echarts/coord/single/Single}\n     */\n    coordinateSystem: null,\n\n    /**\n     * @override\n     */\n    getCoordSysModel: function () {\n        return this;\n    }\n\n});\n\nvar defaultOption$2 = {\n\n    left: '5%',\n    top: '5%',\n    right: '5%',\n    bottom: '5%',\n\n    type: 'value',\n\n    position: 'bottom',\n\n    orient: 'horizontal',\n\n    axisLine: {\n        show: true,\n        lineStyle: {\n            width: 2,\n            type: 'solid'\n        }\n    },\n\n    // Single coordinate system and single axis is the,\n    // which is used as the parent tooltip model.\n    // same model, so we set default tooltip show as true.\n    tooltip: {\n        show: true\n    },\n\n    axisTick: {\n        show: true,\n        length: 6,\n        lineStyle: {\n            width: 2\n        }\n    },\n\n    axisLabel: {\n        show: true,\n        interval: 'auto'\n    },\n\n    splitLine: {\n        show: true,\n        lineStyle: {\n            type: 'dashed',\n            opacity: 0.2\n        }\n    }\n};\n\nfunction getAxisType$2(axisName, option) {\n    return option.type || (option.data ? 'category' : 'value');\n}\n\nmerge(AxisModel$4.prototype, axisModelCommonMixin);\n\naxisModelCreator('single', AxisModel$4, getAxisType$2, defaultOption$2);\n\n/**\n * @param {Object} finder contains {seriesIndex, dataIndex, dataIndexInside}\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} {point: [x, y], el: ...} point Will not be null.\n */\nvar findPointFromSeries = function (finder, ecModel) {\n    var point = [];\n    var seriesIndex = finder.seriesIndex;\n    var seriesModel;\n    if (seriesIndex == null || !(\n        seriesModel = ecModel.getSeriesByIndex(seriesIndex)\n    )) {\n        return {point: []};\n    }\n\n    var data = seriesModel.getData();\n    var dataIndex = queryDataIndex(data, finder);\n    if (dataIndex == null || isArray(dataIndex)) {\n        return {point: []};\n    }\n\n    var el = data.getItemGraphicEl(dataIndex);\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (seriesModel.getTooltipPosition) {\n        point = seriesModel.getTooltipPosition(dataIndex) || [];\n    }\n    else if (coordSys && coordSys.dataToPoint) {\n        point = coordSys.dataToPoint(\n            data.getValues(\n                map(coordSys.dimensions, function (dim) {\n                    return seriesModel.coordDimToDataDim(dim)[0];\n                }), dataIndex, true\n            )\n        ) || [];\n    }\n    else if (el) {\n        // Use graphic bounding rect\n        var rect = el.getBoundingRect().clone();\n        rect.applyTransform(el.transform);\n        point = [\n            rect.x + rect.width / 2,\n            rect.y + rect.height / 2\n        ];\n    }\n\n    return {point: point, el: el};\n};\n\nvar each$17 = each$1;\nvar curry$3 = curry;\nvar get$2 = makeGetter();\n\n/**\n * Basic logic: check all axis, if they do not demand show/highlight,\n * then hide/downplay them.\n *\n * @param {Object} coordSysAxesInfo\n * @param {Object} payload\n * @param {string} [payload.currTrigger] 'click' | 'mousemove' | 'leave'\n * @param {Array.<number>} [payload.x] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Array.<number>} [payload.y] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Object} [payload.seriesIndex] finder, optional, restrict target axes.\n * @param {Object} [payload.dataIndex] finder, restrict target axes.\n * @param {Object} [payload.axesInfo] finder, restrict target axes.\n *        [{\n *          axisDim: 'x'|'y'|'angle'|...,\n *          axisIndex: ...,\n *          value: ...\n *        }, ...]\n * @param {Function} [payload.dispatchAction]\n * @param {Object} [payload.tooltipOption]\n * @param {Object|Array.<number>|Function} [payload.position] Tooltip position,\n *        which can be specified in dispatchAction\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n * @return {Object} content of event obj for echarts.connect.\n */\nvar axisTrigger = function (payload, ecModel, api) {\n    var currTrigger = payload.currTrigger;\n    var point = [payload.x, payload.y];\n    var finder = payload;\n    var dispatchAction = payload.dispatchAction || bind(api.dispatchAction, api);\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n    // Pending\n    // See #6121. But we are not able to reproduce it yet.\n    if (!coordSysAxesInfo) {\n        return;\n    }\n\n    if (illegalPoint(point)) {\n        // Used in the default behavior of `connection`: use the sample seriesIndex\n        // and dataIndex. And also used in the tooltipView trigger.\n        point = findPointFromSeries({\n            seriesIndex: finder.seriesIndex,\n            // Do not use dataIndexInside from other ec instance.\n            // FIXME: auto detect it?\n            dataIndex: finder.dataIndex\n        }, ecModel).point;\n    }\n    var isIllegalPoint = illegalPoint(point);\n\n    // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n    // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n    // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n    // and dataIndex.\n    var inputAxesInfo = finder.axesInfo;\n\n    var axesInfo = coordSysAxesInfo.axesInfo;\n    var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n    var outputFinder = {};\n\n    var showValueMap = {};\n    var dataByCoordSys = {list: [], map: {}};\n    var updaters = {\n        showPointer: curry$3(showPointer, showValueMap),\n        showTooltip: curry$3(showTooltip, dataByCoordSys)\n    };\n\n    // Process for triggered axes.\n    each$17(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n        // If a point given, it must be contained by the coordinate system.\n        var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n\n        each$17(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n            var axis = axisInfo.axis;\n            var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo);\n            // If no inputAxesInfo, no axis is restricted.\n            if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n                var val = inputAxisInfo && inputAxisInfo.value;\n                if (val == null && !isIllegalPoint) {\n                    val = axis.pointToData(point);\n                }\n                val != null && processOnAxis(axisInfo, val, updaters, false, outputFinder);\n            }\n        });\n    });\n\n    // Process for linked axes.\n    var linkTriggers = {};\n    each$17(axesInfo, function (tarAxisInfo, tarKey) {\n        var linkGroup = tarAxisInfo.linkGroup;\n\n        // If axis has been triggered in the previous stage, it should not be triggered by link.\n        if (linkGroup && !showValueMap[tarKey]) {\n            each$17(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n                var srcValItem = showValueMap[srcKey];\n                // If srcValItem exist, source axis is triggered, so link to target axis.\n                if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n                    var val = srcValItem.value;\n                    linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(\n                        val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo)\n                    )));\n                    linkTriggers[tarAxisInfo.key] = val;\n                }\n            });\n        }\n    });\n    each$17(linkTriggers, function (val, tarKey) {\n        processOnAxis(axesInfo[tarKey], val, updaters, true, outputFinder);\n    });\n\n    updateModelActually(showValueMap, axesInfo, outputFinder);\n    dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n    dispatchHighDownActually(axesInfo, dispatchAction, api);\n\n    return outputFinder;\n};\n\nfunction processOnAxis(axisInfo, newValue, updaters, dontSnap, outputFinder) {\n    var axis = axisInfo.axis;\n\n    if (axis.scale.isBlank() || !axis.containData(newValue)) {\n        return;\n    }\n\n    if (!axisInfo.involveSeries) {\n        updaters.showPointer(axisInfo, newValue);\n        return;\n    }\n\n    // Heavy calculation. So put it after axis.containData checking.\n    var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n    var payloadBatch = payloadInfo.payloadBatch;\n    var snapToValue = payloadInfo.snapToValue;\n\n    // Fill content of event obj for echarts.connect.\n    // By defualt use the first involved series data as a sample to connect.\n    if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n        extend(outputFinder, payloadBatch[0]);\n    }\n\n    // If no linkSource input, this process is for collecting link\n    // target, where snap should not be accepted.\n    if (!dontSnap && axisInfo.snap) {\n        if (axis.containData(snapToValue) && snapToValue != null) {\n            newValue = snapToValue;\n        }\n    }\n\n    updaters.showPointer(axisInfo, newValue, payloadBatch, outputFinder);\n    // Tooltip should always be snapToValue, otherwise there will be\n    // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n    updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n}\n\nfunction buildPayloadsBySeries(value, axisInfo) {\n    var axis = axisInfo.axis;\n    var dim = axis.dim;\n    var snapToValue = value;\n    var payloadBatch = [];\n    var minDist = Number.MAX_VALUE;\n    var minDiff = -1;\n\n    each$17(axisInfo.seriesModels, function (series, idx) {\n        var dataDim = series.coordDimToDataDim(dim);\n        var seriesNestestValue;\n        var dataIndices;\n\n        if (series.getAxisTooltipData) {\n            var result = series.getAxisTooltipData(dataDim, value, axis);\n            dataIndices = result.dataIndices;\n            seriesNestestValue = result.nestestValue;\n        }\n        else {\n            dataIndices = series.getData().indicesOfNearest(\n                dataDim[0],\n                value,\n                // Add a threshold to avoid find the wrong dataIndex\n                // when data length is not same.\n                false, axis.type === 'category' ? 0.5 : null\n            );\n            if (!dataIndices.length) {\n                return;\n            }\n            seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n        }\n\n        if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n            return;\n        }\n\n        var diff = value - seriesNestestValue;\n        var dist = Math.abs(diff);\n        // Consider category case\n        if (dist <= minDist) {\n            if (dist < minDist || (diff >= 0 && minDiff < 0)) {\n                minDist = dist;\n                minDiff = diff;\n                snapToValue = seriesNestestValue;\n                payloadBatch.length = 0;\n            }\n            each$17(dataIndices, function (dataIndex) {\n                payloadBatch.push({\n                    seriesIndex: series.seriesIndex,\n                    dataIndexInside: dataIndex,\n                    dataIndex: series.getData().getRawIndex(dataIndex)\n                });\n            });\n        }\n    });\n\n    return {\n        payloadBatch: payloadBatch,\n        snapToValue: snapToValue\n    };\n}\n\nfunction showPointer(showValueMap, axisInfo, value, payloadBatch) {\n    showValueMap[axisInfo.key] = {value: value, payloadBatch: payloadBatch};\n}\n\nfunction showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n    var payloadBatch = payloadInfo.payloadBatch;\n    var axis = axisInfo.axis;\n    var axisModel = axis.model;\n    var axisPointerModel = axisInfo.axisPointerModel;\n\n    // If no data, do not create anything in dataByCoordSys,\n    // whose length will be used to judge whether dispatch action.\n    if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n        return;\n    }\n\n    var coordSysModel = axisInfo.coordSys.model;\n    var coordSysKey = makeKey(coordSysModel);\n    var coordSysItem = dataByCoordSys.map[coordSysKey];\n    if (!coordSysItem) {\n        coordSysItem = dataByCoordSys.map[coordSysKey] = {\n            coordSysId: coordSysModel.id,\n            coordSysIndex: coordSysModel.componentIndex,\n            coordSysType: coordSysModel.type,\n            coordSysMainType: coordSysModel.mainType,\n            dataByAxis: []\n        };\n        dataByCoordSys.list.push(coordSysItem);\n    }\n\n    coordSysItem.dataByAxis.push({\n        axisDim: axis.dim,\n        axisIndex: axisModel.componentIndex,\n        axisType: axisModel.type,\n        axisId: axisModel.id,\n        value: value,\n        // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n        // depends that all models have been updated. So it should not be performed\n        // here. Considering axisPointerModel used here is volatile, which is hard\n        // to be retrieve in TooltipView, we prepare parameters here.\n        valueLabelOpt: {\n            precision: axisPointerModel.get('label.precision'),\n            formatter: axisPointerModel.get('label.formatter')\n        },\n        seriesDataIndices: payloadBatch.slice()\n    });\n}\n\nfunction updateModelActually(showValueMap, axesInfo, outputFinder) {\n    var outputAxesInfo = outputFinder.axesInfo = [];\n    // Basic logic: If no 'show' required, 'hide' this axisPointer.\n    each$17(axesInfo, function (axisInfo, key) {\n        var option = axisInfo.axisPointerModel.option;\n        var valItem = showValueMap[key];\n\n        if (valItem) {\n            !axisInfo.useHandle && (option.status = 'show');\n            option.value = valItem.value;\n            // For label formatter param and highlight.\n            option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n        }\n        // When always show (e.g., handle used), remain\n        // original value and status.\n        else {\n            // If hide, value still need to be set, consider\n            // click legend to toggle axis blank.\n            !axisInfo.useHandle && (option.status = 'hide');\n        }\n\n        // If status is 'hide', should be no info in payload.\n        option.status === 'show' && outputAxesInfo.push({\n            axisDim: axisInfo.axis.dim,\n            axisIndex: axisInfo.axis.model.componentIndex,\n            value: option.value\n        });\n    });\n}\n\nfunction dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n    // Basic logic: If no showTip required, hideTip will be dispatched.\n    if (illegalPoint(point) || !dataByCoordSys.list.length) {\n        dispatchAction({type: 'hideTip'});\n        return;\n    }\n\n    // In most case only one axis (or event one series is used). It is\n    // convinient to fetch payload.seriesIndex and payload.dataIndex\n    // dirtectly. So put the first seriesIndex and dataIndex of the first\n    // axis on the payload.\n    var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n\n    dispatchAction({\n        type: 'showTip',\n        escapeConnect: true,\n        x: point[0],\n        y: point[1],\n        tooltipOption: payload.tooltipOption,\n        position: payload.position,\n        dataIndexInside: sampleItem.dataIndexInside,\n        dataIndex: sampleItem.dataIndex,\n        seriesIndex: sampleItem.seriesIndex,\n        dataByCoordSys: dataByCoordSys.list\n    });\n}\n\nfunction dispatchHighDownActually(axesInfo, dispatchAction, api) {\n    // FIXME\n    // highlight status modification shoule be a stage of main process?\n    // (Consider confilct (e.g., legend and axisPointer) and setOption)\n\n    var zr = api.getZr();\n    var highDownKey = 'axisPointerLastHighlights';\n    var lastHighlights = get$2(zr)[highDownKey] || {};\n    var newHighlights = get$2(zr)[highDownKey] = {};\n\n    // Update highlight/downplay status according to axisPointer model.\n    // Build hash map and remove duplicate incidentally.\n    each$17(axesInfo, function (axisInfo, key) {\n        var option = axisInfo.axisPointerModel.option;\n        option.status === 'show' && each$17(option.seriesDataIndices, function (batchItem) {\n            var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n            newHighlights[key] = batchItem;\n        });\n    });\n\n    // Diff.\n    var toHighlight = [];\n    var toDownplay = [];\n    each$1(lastHighlights, function (batchItem, key) {\n        !newHighlights[key] && toDownplay.push(batchItem);\n    });\n    each$1(newHighlights, function (batchItem, key) {\n        !lastHighlights[key] && toHighlight.push(batchItem);\n    });\n\n    toDownplay.length && api.dispatchAction({\n        type: 'downplay', escapeConnect: true, batch: toDownplay\n    });\n    toHighlight.length && api.dispatchAction({\n        type: 'highlight', escapeConnect: true, batch: toHighlight\n    });\n}\n\nfunction findInputAxisInfo(inputAxesInfo, axisInfo) {\n    for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n        var inputAxisInfo = inputAxesInfo[i];\n        if (axisInfo.axis.dim === inputAxisInfo.axisDim\n            && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex\n        ) {\n            return inputAxisInfo;\n        }\n    }\n}\n\nfunction makeMapperParam(axisInfo) {\n    var axisModel = axisInfo.axis.model;\n    var item = {};\n    var dim = item.axisDim = axisInfo.axis.dim;\n    item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n    item.axisName = item[dim + 'AxisName'] = axisModel.name;\n    item.axisId = item[dim + 'AxisId'] = axisModel.id;\n    return item;\n}\n\nfunction illegalPoint(point) {\n    return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n}\n\nvar AxisPointerModel = extendComponentModel({\n\n    type: 'axisPointer',\n\n    coordSysAxesInfo: null,\n\n    defaultOption: {\n        // 'auto' means that show when triggered by tooltip or handle.\n        show: 'auto',\n        // 'click' | 'mousemove' | 'none'\n        triggerOn: null, // set default in AxisPonterView.js\n\n        zlevel: 0,\n        z: 50,\n\n        type: 'line',\n        // axispointer triggered by tootip determine snap automatically,\n        // see `modelHelper`.\n        snap: false,\n        triggerTooltip: true,\n\n        value: null,\n        status: null, // Init value depends on whether handle is used.\n\n        // [group0, group1, ...]\n        // Each group can be: {\n        //      mapper: function () {},\n        //      singleTooltip: 'multiple',  // 'multiple' or 'single'\n        //      xAxisId: ...,\n        //      yAxisName: ...,\n        //      angleAxisIndex: ...\n        // }\n        // mapper: can be ignored.\n        //      input: {axisInfo, value}\n        //      output: {axisInfo, value}\n        link: [],\n\n        // Do not set 'auto' here, otherwise global animation: false\n        // will not effect at this axispointer.\n        animation: null,\n        animationDurationUpdate: 200,\n\n        lineStyle: {\n            color: '#aaa',\n            width: 1,\n            type: 'solid'\n        },\n\n        shadowStyle: {\n            color: 'rgba(150,150,150,0.3)'\n        },\n\n        label: {\n            show: true,\n            formatter: null, // string | Function\n            precision: 'auto', // Or a number like 0, 1, 2 ...\n            margin: 3,\n            color: '#fff',\n            padding: [5, 7, 5, 7],\n            backgroundColor: 'auto', // default: axis line color\n            borderColor: null,\n            borderWidth: 0,\n            shadowBlur: 3,\n            shadowColor: '#aaa'\n            // Considering applicability, common style should\n            // better not have shadowOffset.\n            // shadowOffsetX: 0,\n            // shadowOffsetY: 2\n        },\n\n        handle: {\n            show: false,\n            icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z', // jshint ignore:line\n            size: 45,\n            // handle margin is from symbol center to axis, which is stable when circular move.\n            margin: 50,\n            // color: '#1b8bbd'\n            // color: '#2f4554'\n            color: '#333',\n            shadowBlur: 3,\n            shadowColor: '#aaa',\n            shadowOffsetX: 0,\n            shadowOffsetY: 2,\n\n            // For mobile performance\n            throttle: 40\n        }\n    }\n\n});\n\nvar get$3 = makeGetter();\nvar each$18 = each$1;\n\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\nfunction register(key, api, handler) {\n    if (env$1.node) {\n        return;\n    }\n\n    var zr = api.getZr();\n    get$3(zr).records || (get$3(zr).records = {});\n\n    initGlobalListeners(zr, api);\n\n    var record = get$3(zr).records[key] || (get$3(zr).records[key] = {});\n    record.handler = handler;\n}\n\nfunction initGlobalListeners(zr, api) {\n    if (get$3(zr).initialized) {\n        return;\n    }\n\n    get$3(zr).initialized = true;\n\n    useHandler('click', curry(doEnter, 'click'));\n    useHandler('mousemove', curry(doEnter, 'mousemove'));\n    // useHandler('mouseout', onLeave);\n    useHandler('globalout', onLeave);\n\n    function useHandler(eventType, cb) {\n        zr.on(eventType, function (e) {\n            var dis = makeDispatchAction(api);\n\n            each$18(get$3(zr).records, function (record) {\n                record && cb(record, e, dis.dispatchAction);\n            });\n\n            dispatchTooltipFinally(dis.pendings, api);\n        });\n    }\n}\n\nfunction dispatchTooltipFinally(pendings, api) {\n    var showLen = pendings.showTip.length;\n    var hideLen = pendings.hideTip.length;\n\n    var actuallyPayload;\n    if (showLen) {\n        actuallyPayload = pendings.showTip[showLen - 1];\n    }\n    else if (hideLen) {\n        actuallyPayload = pendings.hideTip[hideLen - 1];\n    }\n    if (actuallyPayload) {\n        actuallyPayload.dispatchAction = null;\n        api.dispatchAction(actuallyPayload);\n    }\n}\n\nfunction onLeave(record, e, dispatchAction) {\n    record.handler('leave', null, dispatchAction);\n}\n\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n    record.handler(currTrigger, e, dispatchAction);\n}\n\nfunction makeDispatchAction(api) {\n    var pendings = {\n        showTip: [],\n        hideTip: []\n    };\n    // FIXME\n    // better approach?\n    // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n    // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n    // So we have to add \"final stage\" to merge those dispatched actions.\n    var dispatchAction = function (payload) {\n        var pendingList = pendings[payload.type];\n        if (pendingList) {\n            pendingList.push(payload);\n        }\n        else {\n            payload.dispatchAction = dispatchAction;\n            api.dispatchAction(payload);\n        }\n    };\n\n    return {\n        dispatchAction: dispatchAction,\n        pendings: pendings\n    };\n}\n\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction unregister(key, api) {\n    if (env$1.node) {\n        return;\n    }\n    var zr = api.getZr();\n    var record = (get$3(zr).records || {})[key];\n    if (record) {\n        get$3(zr).records[key] = null;\n    }\n}\n\nvar AxisPointerView = extendComponentView({\n\n    type: 'axisPointer',\n\n    render: function (globalAxisPointerModel, ecModel, api) {\n        var globalTooltipModel = ecModel.getComponent('tooltip');\n        var triggerOn = globalAxisPointerModel.get('triggerOn')\n            || (globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click');\n\n        // Register global listener in AxisPointerView to enable\n        // AxisPointerView to be independent to Tooltip.\n        register(\n            'axisPointer',\n            api,\n            function (currTrigger, e, dispatchAction) {\n                // If 'none', it is not controlled by mouse totally.\n                if (triggerOn !== 'none'\n                    && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)\n                ) {\n                    dispatchAction({\n                        type: 'updateAxisPointer',\n                        currTrigger: currTrigger,\n                        x: e && e.offsetX,\n                        y: e && e.offsetY\n                    });\n                }\n            }\n        );\n    },\n\n    /**\n     * @override\n     */\n    remove: function (ecModel, api) {\n        unregister(api.getZr(), 'axisPointer');\n        AxisPointerView.superApply(this._model, 'remove', arguments);\n    },\n\n    /**\n     * @override\n     */\n    dispose: function (ecModel, api) {\n        unregister('axisPointer', api);\n        AxisPointerView.superApply(this._model, 'dispose', arguments);\n    }\n\n});\n\nvar get$4 = makeGetter();\nvar clone$3 = clone;\nvar bind$2 = bind;\n\n/**\n * Base axis pointer class in 2D.\n * Implemenents {module:echarts/component/axis/IAxisPointer}.\n */\nfunction BaseAxisPointer () {\n}\n\nBaseAxisPointer.prototype = {\n\n    /**\n     * @private\n     */\n    _group: null,\n\n    /**\n     * @private\n     */\n    _lastGraphicKey: null,\n\n    /**\n     * @private\n     */\n    _handle: null,\n\n    /**\n     * @private\n     */\n    _dragging: false,\n\n    /**\n     * @private\n     */\n    _lastValue: null,\n\n    /**\n     * @private\n     */\n    _lastStatus: null,\n\n    /**\n     * @private\n     */\n    _payloadInfo: null,\n\n    /**\n     * In px, arbitrary value. Do not set too small,\n     * no animation is ok for most cases.\n     * @protected\n     */\n    animationThreshold: 15,\n\n    /**\n     * @implement\n     */\n    render: function (axisModel, axisPointerModel, api, forceRender) {\n        var value = axisPointerModel.get('value');\n        var status = axisPointerModel.get('status');\n\n        // Bind them to `this`, not in closure, otherwise they will not\n        // be replaced when user calling setOption in not merge mode.\n        this._axisModel = axisModel;\n        this._axisPointerModel = axisPointerModel;\n        this._api = api;\n\n        // Optimize: `render` will be called repeatly during mouse move.\n        // So it is power consuming if performing `render` each time,\n        // especially on mobile device.\n        if (!forceRender\n            && this._lastValue === value\n            && this._lastStatus === status\n        ) {\n            return;\n        }\n        this._lastValue = value;\n        this._lastStatus = status;\n\n        var group = this._group;\n        var handle = this._handle;\n\n        if (!status || status === 'hide') {\n            // Do not clear here, for animation better.\n            group && group.hide();\n            handle && handle.hide();\n            return;\n        }\n        group && group.show();\n        handle && handle.show();\n\n        // Otherwise status is 'show'\n        var elOption = {};\n        this.makeElOption(elOption, value, axisModel, axisPointerModel, api);\n\n        // Enable change axis pointer type.\n        var graphicKey = elOption.graphicKey;\n        if (graphicKey !== this._lastGraphicKey) {\n            this.clear(api);\n        }\n        this._lastGraphicKey = graphicKey;\n\n        var moveAnimation = this._moveAnimation =\n            this.determineAnimation(axisModel, axisPointerModel);\n\n        if (!group) {\n            group = this._group = new Group();\n            this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n            this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n            api.getZr().add(group);\n        }\n        else {\n            var doUpdateProps = curry(updateProps$1, axisPointerModel, moveAnimation);\n            this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n            this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n        }\n\n        updateMandatoryProps(group, axisPointerModel, true);\n\n        this._renderHandle(value);\n    },\n\n    /**\n     * @implement\n     */\n    remove: function (api) {\n        this.clear(api);\n    },\n\n    /**\n     * @implement\n     */\n    dispose: function (api) {\n        this.clear(api);\n    },\n\n    /**\n     * @protected\n     */\n    determineAnimation: function (axisModel, axisPointerModel) {\n        var animation = axisPointerModel.get('animation');\n        var axis = axisModel.axis;\n        var isCategoryAxis = axis.type === 'category';\n        var useSnap = axisPointerModel.get('snap');\n\n        // Value axis without snap always do not snap.\n        if (!useSnap && !isCategoryAxis) {\n            return false;\n        }\n\n        if (animation === 'auto' || animation == null) {\n            var animationThreshold = this.animationThreshold;\n            if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n                return true;\n            }\n\n            // It is important to auto animation when snap used. Consider if there is\n            // a dataZoom, animation will be disabled when too many points exist, while\n            // it will be enabled for better visual effect when little points exist.\n            if (useSnap) {\n                var seriesDataCount = getAxisInfo(axisModel).seriesDataCount;\n                var axisExtent = axis.getExtent();\n                // Approximate band width\n                return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n            }\n\n            return false;\n        }\n\n        return animation === true;\n    },\n\n    /**\n     * add {pointer, label, graphicKey} to elOption\n     * @protected\n     */\n    makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n        // Shoule be implemenented by sub-class.\n    },\n\n    /**\n     * @protected\n     */\n    createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n        var pointerOption = elOption.pointer;\n        if (pointerOption) {\n            var pointerEl = get$4(group).pointerEl = new graphic[pointerOption.type](\n                clone$3(elOption.pointer)\n            );\n            group.add(pointerEl);\n        }\n    },\n\n    /**\n     * @protected\n     */\n    createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n        if (elOption.label) {\n            var labelEl = get$4(group).labelEl = new Rect(\n                clone$3(elOption.label)\n            );\n\n            group.add(labelEl);\n            updateLabelShowHide(labelEl, axisPointerModel);\n        }\n    },\n\n    /**\n     * @protected\n     */\n    updatePointerEl: function (group, elOption, updateProps$$1) {\n        var pointerEl = get$4(group).pointerEl;\n        if (pointerEl) {\n            pointerEl.setStyle(elOption.pointer.style);\n            updateProps$$1(pointerEl, {shape: elOption.pointer.shape});\n        }\n    },\n\n    /**\n     * @protected\n     */\n    updateLabelEl: function (group, elOption, updateProps$$1, axisPointerModel) {\n        var labelEl = get$4(group).labelEl;\n        if (labelEl) {\n            labelEl.setStyle(elOption.label.style);\n            updateProps$$1(labelEl, {\n                // Consider text length change in vertical axis, animation should\n                // be used on shape, otherwise the effect will be weird.\n                shape: elOption.label.shape,\n                position: elOption.label.position\n            });\n\n            updateLabelShowHide(labelEl, axisPointerModel);\n        }\n    },\n\n    /**\n     * @private\n     */\n    _renderHandle: function (value) {\n        if (this._dragging || !this.updateHandleTransform) {\n            return;\n        }\n\n        var axisPointerModel = this._axisPointerModel;\n        var zr = this._api.getZr();\n        var handle = this._handle;\n        var handleModel = axisPointerModel.getModel('handle');\n\n        var status = axisPointerModel.get('status');\n        if (!handleModel.get('show') || !status || status === 'hide') {\n            handle && zr.remove(handle);\n            this._handle = null;\n            return;\n        }\n\n        var isInit;\n        if (!this._handle) {\n            isInit = true;\n            handle = this._handle = createIcon(\n                handleModel.get('icon'),\n                {\n                    cursor: 'move',\n                    draggable: true,\n                    onmousemove: function (e) {\n                        // Fot mobile devicem, prevent screen slider on the button.\n                        stop(e.event);\n                    },\n                    onmousedown: bind$2(this._onHandleDragMove, this, 0, 0),\n                    drift: bind$2(this._onHandleDragMove, this),\n                    ondragend: bind$2(this._onHandleDragEnd, this)\n                }\n            );\n            zr.add(handle);\n        }\n\n        updateMandatoryProps(handle, axisPointerModel, false);\n\n        // update style\n        var includeStyles = [\n            'color', 'borderColor', 'borderWidth', 'opacity',\n            'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'\n        ];\n        handle.setStyle(handleModel.getItemStyle(null, includeStyles));\n\n        // update position\n        var handleSize = handleModel.get('size');\n        if (!isArray(handleSize)) {\n            handleSize = [handleSize, handleSize];\n        }\n        handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n\n        createOrUpdate(\n            this,\n            '_doDispatchAxisPointer',\n            handleModel.get('throttle') || 0,\n            'fixRate'\n        );\n\n        this._moveHandleToValue(value, isInit);\n    },\n\n    /**\n     * @private\n     */\n    _moveHandleToValue: function (value, isInit) {\n        updateProps$1(\n            this._axisPointerModel,\n            !isInit && this._moveAnimation,\n            this._handle,\n            getHandleTransProps(this.getHandleTransform(\n                value, this._axisModel, this._axisPointerModel\n            ))\n        );\n    },\n\n    /**\n     * @private\n     */\n    _onHandleDragMove: function (dx, dy) {\n        var handle = this._handle;\n        if (!handle) {\n            return;\n        }\n\n        this._dragging = true;\n\n        // Persistent for throttle.\n        var trans = this.updateHandleTransform(\n            getHandleTransProps(handle),\n            [dx, dy],\n            this._axisModel,\n            this._axisPointerModel\n        );\n        this._payloadInfo = trans;\n\n        handle.stopAnimation();\n        handle.attr(getHandleTransProps(trans));\n        get$4(handle).lastProp = null;\n\n        this._doDispatchAxisPointer();\n    },\n\n    /**\n     * Throttled method.\n     * @private\n     */\n    _doDispatchAxisPointer: function () {\n        var handle = this._handle;\n        if (!handle) {\n            return;\n        }\n\n        var payloadInfo = this._payloadInfo;\n        var axisModel = this._axisModel;\n        this._api.dispatchAction({\n            type: 'updateAxisPointer',\n            x: payloadInfo.cursorPoint[0],\n            y: payloadInfo.cursorPoint[1],\n            tooltipOption: payloadInfo.tooltipOption,\n            axesInfo: [{\n                axisDim: axisModel.axis.dim,\n                axisIndex: axisModel.componentIndex\n            }]\n        });\n    },\n\n    /**\n     * @private\n     */\n    _onHandleDragEnd: function (moveAnimation) {\n        this._dragging = false;\n        var handle = this._handle;\n        if (!handle) {\n            return;\n        }\n\n        var value = this._axisPointerModel.get('value');\n        // Consider snap or categroy axis, handle may be not consistent with\n        // axisPointer. So move handle to align the exact value position when\n        // drag ended.\n        this._moveHandleToValue(value);\n\n        // For the effect: tooltip will be shown when finger holding on handle\n        // button, and will be hidden after finger left handle button.\n        this._api.dispatchAction({\n            type: 'hideTip'\n        });\n    },\n\n    /**\n     * Should be implemenented by sub-class if support `handle`.\n     * @protected\n     * @param {number} value\n     * @param {module:echarts/model/Model} axisModel\n     * @param {module:echarts/model/Model} axisPointerModel\n     * @return {Object} {position: [x, y], rotation: 0}\n     */\n    getHandleTransform: null,\n\n    /**\n     * * Should be implemenented by sub-class if support `handle`.\n     * @protected\n     * @param {Object} transform {position, rotation}\n     * @param {Array.<number>} delta [dx, dy]\n     * @param {module:echarts/model/Model} axisModel\n     * @param {module:echarts/model/Model} axisPointerModel\n     * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n     */\n    updateHandleTransform: null,\n\n    /**\n     * @private\n     */\n    clear: function (api) {\n        this._lastValue = null;\n        this._lastStatus = null;\n\n        var zr = api.getZr();\n        var group = this._group;\n        var handle = this._handle;\n        if (zr && group) {\n            this._lastGraphicKey = null;\n            group && zr.remove(group);\n            handle && zr.remove(handle);\n            this._group = null;\n            this._handle = null;\n            this._payloadInfo = null;\n        }\n    },\n\n    /**\n     * @protected\n     */\n    doClear: function () {\n        // Implemented by sub-class if necessary.\n    },\n\n    /**\n     * @protected\n     * @param {Array.<number>} xy\n     * @param {Array.<number>} wh\n     * @param {number} [xDimIndex=0] or 1\n     */\n    buildLabel: function (xy, wh, xDimIndex) {\n        xDimIndex = xDimIndex || 0;\n        return {\n            x: xy[xDimIndex],\n            y: xy[1 - xDimIndex],\n            width: wh[xDimIndex],\n            height: wh[1 - xDimIndex]\n        };\n    }\n};\n\nBaseAxisPointer.prototype.constructor = BaseAxisPointer;\n\n\nfunction updateProps$1(animationModel, moveAnimation, el, props) {\n    // Animation optimize.\n    if (!propsEqual(get$4(el).lastProp, props)) {\n        get$4(el).lastProp = props;\n        moveAnimation\n            ? updateProps(el, props, animationModel)\n            : (el.stopAnimation(), el.attr(props));\n    }\n}\n\nfunction propsEqual(lastProps, newProps) {\n    if (isObject(lastProps) && isObject(newProps)) {\n        var equals = true;\n        each$1(newProps, function (item, key) {\n            equals = equals && propsEqual(lastProps[key], item);\n        });\n        return !!equals;\n    }\n    else {\n        return lastProps === newProps;\n    }\n}\n\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n    labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n}\n\nfunction getHandleTransProps(trans) {\n    return {\n        position: trans.position.slice(),\n        rotation: trans.rotation || 0\n    };\n}\n\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n    var z = axisPointerModel.get('z');\n    var zlevel = axisPointerModel.get('zlevel');\n\n    group && group.traverse(function (el) {\n        if (el.type !== 'group') {\n            z != null && (el.z = z);\n            zlevel != null && (el.zlevel = zlevel);\n            el.silent = silent;\n        }\n    });\n}\n\nenableClassExtend(BaseAxisPointer);\n\n/**\n * @param {module:echarts/model/Model} axisPointerModel\n */\nfunction buildElStyle(axisPointerModel) {\n    var axisPointerType = axisPointerModel.get('type');\n    var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n    var style;\n    if (axisPointerType === 'line') {\n        style = styleModel.getLineStyle();\n        style.fill = null;\n    }\n    else if (axisPointerType === 'shadow') {\n        style = styleModel.getAreaStyle();\n        style.stroke = null;\n    }\n    return style;\n}\n\n/**\n * @param {Function} labelPos {align, verticalAlign, position}\n */\nfunction buildLabelElOption(\n    elOption, axisModel, axisPointerModel, api, labelPos\n) {\n    var value = axisPointerModel.get('value');\n    var text = getValueLabel(\n        value, axisModel.axis, axisModel.ecModel,\n        axisPointerModel.get('seriesDataIndices'),\n        {\n            precision: axisPointerModel.get('label.precision'),\n            formatter: axisPointerModel.get('label.formatter')\n        }\n    );\n    var labelModel = axisPointerModel.getModel('label');\n    var paddings = normalizeCssArray$1(labelModel.get('padding') || 0);\n\n    var font = labelModel.getFont();\n    var textRect = getBoundingRect(text, font);\n\n    var position = labelPos.position;\n    var width = textRect.width + paddings[1] + paddings[3];\n    var height = textRect.height + paddings[0] + paddings[2];\n\n    // Adjust by align.\n    var align = labelPos.align;\n    align === 'right' && (position[0] -= width);\n    align === 'center' && (position[0] -= width / 2);\n    var verticalAlign = labelPos.verticalAlign;\n    verticalAlign === 'bottom' && (position[1] -= height);\n    verticalAlign === 'middle' && (position[1] -= height / 2);\n\n    // Not overflow ec container\n    confineInContainer(position, width, height, api);\n\n    var bgColor = labelModel.get('backgroundColor');\n    if (!bgColor || bgColor === 'auto') {\n        bgColor = axisModel.get('axisLine.lineStyle.color');\n    }\n\n    elOption.label = {\n        shape: {x: 0, y: 0, width: width, height: height, r: labelModel.get('borderRadius')},\n        position: position.slice(),\n        // TODO: rich\n        style: {\n            text: text,\n            textFont: font,\n            textFill: labelModel.getTextColor(),\n            textPosition: 'inside',\n            fill: bgColor,\n            stroke: labelModel.get('borderColor') || 'transparent',\n            lineWidth: labelModel.get('borderWidth') || 0,\n            shadowBlur: labelModel.get('shadowBlur'),\n            shadowColor: labelModel.get('shadowColor'),\n            shadowOffsetX: labelModel.get('shadowOffsetX'),\n            shadowOffsetY: labelModel.get('shadowOffsetY')\n        },\n        // Lable should be over axisPointer.\n        z2: 10\n    };\n}\n\n// Do not overflow ec container\nfunction confineInContainer(position, width, height, api) {\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n    position[0] = Math.min(position[0] + width, viewWidth) - width;\n    position[1] = Math.min(position[1] + height, viewHeight) - height;\n    position[0] = Math.max(position[0], 0);\n    position[1] = Math.max(position[1], 0);\n}\n\n/**\n * @param {number} value\n * @param {module:echarts/coord/Axis} axis\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} opt\n * @param {Array.<Object>} seriesDataIndices\n * @param {number|string} opt.precision 'auto' or a number\n * @param {string|Function} opt.formatter label formatter\n */\nfunction getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n    var text = axis.scale.getLabel(\n        // If `precision` is set, width can be fixed (like '12.00500'), which\n        // helps to debounce when when moving label.\n        value, {precision: opt.precision}\n    );\n    var formatter = opt.formatter;\n\n    if (formatter) {\n        var params = {\n            value: getAxisRawValue(axis, value),\n            seriesData: []\n        };\n        each$1(seriesDataIndices, function (idxItem) {\n            var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n            var dataIndex = idxItem.dataIndexInside;\n            var dataParams = series && series.getDataParams(dataIndex);\n            dataParams && params.seriesData.push(dataParams);\n        });\n\n        if (isString(formatter)) {\n            text = formatter.replace('{value}', text);\n        }\n        else if (isFunction(formatter)) {\n            text = formatter(params);\n        }\n    }\n\n    return text;\n}\n\n/**\n * @param {module:echarts/coord/Axis} axis\n * @param {number} value\n * @param {Object} layoutInfo {\n *  rotation, position, labelOffset, labelDirection, labelMargin\n * }\n */\nfunction getTransformedPosition (axis, value, layoutInfo) {\n    var transform = create$1();\n    rotate(transform, transform, layoutInfo.rotation);\n    translate(transform, transform, layoutInfo.position);\n\n    return applyTransform$1([\n        axis.dataToCoord(value),\n        (layoutInfo.labelOffset || 0)\n            + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)\n    ], transform);\n}\n\nfunction buildCartesianSingleLabelElOption(\n    value, elOption, layoutInfo, axisModel, axisPointerModel, api\n) {\n    var textLayout = AxisBuilder.innerTextLayout(\n        layoutInfo.rotation, 0, layoutInfo.labelDirection\n    );\n    layoutInfo.labelMargin = axisPointerModel.get('label.margin');\n    buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n        position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n        align: textLayout.textAlign,\n        verticalAlign: textLayout.textVerticalAlign\n    });\n}\n\n/**\n * @param {Array.<number>} p1\n * @param {Array.<number>} p2\n * @param {number} [xDimIndex=0] or 1\n */\nfunction makeLineShape(p1, p2, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n        x1: p1[xDimIndex],\n        y1: p1[1 - xDimIndex],\n        x2: p2[xDimIndex],\n        y2: p2[1 - xDimIndex]\n    };\n}\n\n/**\n * @param {Array.<number>} xy\n * @param {Array.<number>} wh\n * @param {number} [xDimIndex=0] or 1\n */\nfunction makeRectShape(xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n        x: xy[xDimIndex],\n        y: xy[1 - xDimIndex],\n        width: wh[xDimIndex],\n        height: wh[1 - xDimIndex]\n    };\n}\n\nfunction makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n    return {\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: r,\n        startAngle: startAngle,\n        endAngle: endAngle,\n        clockwise: true\n    };\n}\n\nvar CartesianAxisPointer = BaseAxisPointer.extend({\n\n    /**\n     * @override\n     */\n    makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n        var axis = axisModel.axis;\n        var grid = axis.grid;\n        var axisPointerType = axisPointerModel.get('type');\n        var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n        var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n\n        if (axisPointerType && axisPointerType !== 'none') {\n            var elStyle = buildElStyle(axisPointerModel);\n            var pointerOption = pointerShapeBuilder[axisPointerType](\n                axis, pixelValue, otherExtent, elStyle\n            );\n            pointerOption.style = elStyle;\n            elOption.graphicKey = pointerOption.type;\n            elOption.pointer = pointerOption;\n        }\n\n        var layoutInfo = layout(grid.model, axisModel);\n        buildCartesianSingleLabelElOption(\n            value, elOption, layoutInfo, axisModel, axisPointerModel, api\n        );\n    },\n\n    /**\n     * @override\n     */\n    getHandleTransform: function (value, axisModel, axisPointerModel) {\n        var layoutInfo = layout(axisModel.axis.grid.model, axisModel, {\n            labelInside: false\n        });\n        layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n        return {\n            position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n            rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n        };\n    },\n\n    /**\n     * @override\n     */\n    updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n        var axis = axisModel.axis;\n        var grid = axis.grid;\n        var axisExtent = axis.getGlobalExtent(true);\n        var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n        var dimIndex = axis.dim === 'x' ? 0 : 1;\n\n        var currPosition = transform.position;\n        currPosition[dimIndex] += delta[dimIndex];\n        currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n        currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n\n        var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n        var cursorPoint = [cursorOtherValue, cursorOtherValue];\n        cursorPoint[dimIndex] = currPosition[dimIndex];\n\n        // Make tooltip do not overlap axisPointer and in the middle of the grid.\n        var tooltipOptions = [{verticalAlign: 'middle'}, {align: 'center'}];\n\n        return {\n            position: currPosition,\n            rotation: transform.rotation,\n            cursorPoint: cursorPoint,\n            tooltipOption: tooltipOptions[dimIndex]\n        };\n    }\n\n});\n\nfunction getCartesian(grid, axis) {\n    var opt = {};\n    opt[axis.dim + 'AxisIndex'] = axis.index;\n    return grid.getCartesian(opt);\n}\n\nvar pointerShapeBuilder = {\n\n    line: function (axis, pixelValue, otherExtent, elStyle) {\n        var targetShape = makeLineShape(\n            [pixelValue, otherExtent[0]],\n            [pixelValue, otherExtent[1]],\n            getAxisDimIndex(axis)\n        );\n        subPixelOptimizeLine({\n            shape: targetShape,\n            style: elStyle\n        });\n        return {\n            type: 'Line',\n            shape: targetShape\n        };\n    },\n\n    shadow: function (axis, pixelValue, otherExtent, elStyle) {\n        var bandWidth = axis.getBandWidth();\n        var span = otherExtent[1] - otherExtent[0];\n        return {\n            type: 'Rect',\n            shape: makeRectShape(\n                [pixelValue - bandWidth / 2, otherExtent[0]],\n                [bandWidth, span],\n                getAxisDimIndex(axis)\n            )\n        };\n    }\n};\n\nfunction getAxisDimIndex(axis) {\n    return axis.dim === 'x' ? 0 : 1;\n}\n\nAxisView.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\n\n// CartesianAxisPointer is not supposed to be required here. But consider\n// echarts.simple.js and online build tooltip, which only require gridSimple,\n// CartesianAxisPointer should be able to required somewhere.\nregisterPreprocessor(function (option) {\n    // Always has a global axisPointerModel for default setting.\n    if (option) {\n        (!option.axisPointer || option.axisPointer.length === 0)\n            && (option.axisPointer = {});\n\n        var link = option.axisPointer.link;\n        // Normalize to array to avoid object mergin. But if link\n        // is not set, remain null/undefined, otherwise it will\n        // override existent link setting.\n        if (link && !isArray(link)) {\n            option.axisPointer.link = [link];\n        }\n    }\n});\n\n// This process should proformed after coordinate systems created\n// and series data processed. So put it on statistic processing stage.\nregisterProcessor(PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n    // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n    // allAxesInfo should be updated when setOption performed.\n    ecModel.getComponent('axisPointer').coordSysAxesInfo\n        = collect(ecModel, api);\n});\n\n// Broadcast to all views.\nregisterAction({\n    type: 'updateAxisPointer',\n    event: 'updateAxisPointer',\n    update: ':updateAxisPointer'\n}, axisTrigger);\n\nvar XY = ['x', 'y'];\nvar WH = ['width', 'height'];\n\nvar SingleAxisPointer = BaseAxisPointer.extend({\n\n    /**\n     * @override\n     */\n    makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n        var axis = axisModel.axis;\n        var coordSys = axis.coordinateSystem;\n        var otherExtent = getGlobalExtent(coordSys, 1 - getPointDimIndex(axis));\n        var pixelValue = coordSys.dataToPoint(value)[0];\n\n        var axisPointerType = axisPointerModel.get('type');\n        if (axisPointerType && axisPointerType !== 'none') {\n            var elStyle = buildElStyle(axisPointerModel);\n            var pointerOption = pointerShapeBuilder$1[axisPointerType](\n                axis, pixelValue, otherExtent, elStyle\n            );\n            pointerOption.style = elStyle;\n\n            elOption.graphicKey = pointerOption.type;\n            elOption.pointer = pointerOption;\n        }\n\n        var layoutInfo = layout$1(axisModel);\n        buildCartesianSingleLabelElOption(\n            value, elOption, layoutInfo, axisModel, axisPointerModel, api\n        );\n    },\n\n    /**\n     * @override\n     */\n    getHandleTransform: function (value, axisModel, axisPointerModel) {\n        var layoutInfo = layout$1(axisModel, {labelInside: false});\n        layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n        return {\n            position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n            rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n        };\n    },\n\n    /**\n     * @override\n     */\n    updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n        var axis = axisModel.axis;\n        var coordSys = axis.coordinateSystem;\n        var dimIndex = getPointDimIndex(axis);\n        var axisExtent = getGlobalExtent(coordSys, dimIndex);\n        var currPosition = transform.position;\n        currPosition[dimIndex] += delta[dimIndex];\n        currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n        currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n        var otherExtent = getGlobalExtent(coordSys, 1 - dimIndex);\n        var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n        var cursorPoint = [cursorOtherValue, cursorOtherValue];\n        cursorPoint[dimIndex] = currPosition[dimIndex];\n\n        return {\n            position: currPosition,\n            rotation: transform.rotation,\n            cursorPoint: cursorPoint,\n            tooltipOption: {\n                verticalAlign: 'middle'\n            }\n        };\n    }\n});\n\nvar pointerShapeBuilder$1 = {\n\n    line: function (axis, pixelValue, otherExtent, elStyle) {\n        var targetShape = makeLineShape(\n            [pixelValue, otherExtent[0]],\n            [pixelValue, otherExtent[1]],\n            getPointDimIndex(axis)\n        );\n        subPixelOptimizeLine({\n            shape: targetShape,\n            style: elStyle\n        });\n        return {\n            type: 'Line',\n            shape: targetShape\n        };\n    },\n\n    shadow: function (axis, pixelValue, otherExtent, elStyle) {\n        var bandWidth = axis.getBandWidth();\n        var span = otherExtent[1] - otherExtent[0];\n        return {\n            type: 'Rect',\n            shape: makeRectShape(\n                [pixelValue - bandWidth / 2, otherExtent[0]],\n                [bandWidth, span],\n                getPointDimIndex(axis)\n            )\n        };\n    }\n};\n\nfunction getPointDimIndex(axis) {\n    return axis.isHorizontal() ? 0 : 1;\n}\n\nfunction getGlobalExtent(coordSys, dimIndex) {\n    var rect = coordSys.getRect();\n    return [rect[XY[dimIndex]], rect[XY[dimIndex]] + rect[WH[dimIndex]]];\n}\n\nAxisView.registerAxisPointerClass('SingleAxisPointer', SingleAxisPointer);\n\nextendComponentView({\n    type: 'single'\n});\n\n/**\n * @file  Define the themeRiver view's series model\n * @author Deqing Li(annong035@gmail.com)\n */\n\nvar DATA_NAME_INDEX = 2;\n\nvar ThemeRiverSeries = SeriesModel.extend({\n\n    type: 'series.themeRiver',\n\n    dependencies: ['singleAxis'],\n\n    /**\n     * @readOnly\n     * @type {module:zrender/core/util#HashMap}\n     */\n    nameMap: null,\n\n    /**\n     * @override\n     */\n    init: function (option) {\n        ThemeRiverSeries.superApply(this, 'init', arguments);\n\n        // Put this function here is for the sake of consistency of code style.\n        // Enable legend selection for each data item\n        // Use a function instead of direct access because data reference may changed\n        this.legendDataProvider = function () {\n            return this.getRawData();\n        };\n    },\n\n    /**\n     * If there is no value of a certain point in the time for some event,set it value to 0.\n     *\n     * @param {Array} data  initial data in the option\n     * @return {Array}\n     */\n    fixData: function (data) {\n        var rawDataLength = data.length;\n\n        // grouped data by name\n        var dataByName = nest()\n            .key(function (dataItem) {\n                return dataItem[2];\n            })\n            .entries(data);\n\n        // data group in each layer\n        var layData = map(dataByName, function (d) {\n            return {\n                name: d.key,\n                dataList: d.values\n            };\n        });\n\n        var layerNum = layData.length;\n        var largestLayer = -1;\n        var index = -1;\n        for (var i = 0; i < layerNum; ++i) {\n            var len = layData[i].dataList.length;\n            if (len > largestLayer) {\n                largestLayer = len;\n                index = i;\n            }\n        }\n\n        for (var k = 0; k < layerNum; ++k) {\n            if (k === index) {\n                continue;\n            }\n            var name = layData[k].name;\n            for (var j = 0; j < largestLayer; ++j) {\n                var timeValue = layData[index].dataList[j][0];\n                var length = layData[k].dataList.length;\n                var keyIndex = -1;\n                for (var l = 0; l < length; ++l) {\n                    var value = layData[k].dataList[l][0];\n                    if (value === timeValue) {\n                        keyIndex = l;\n                        break;\n                    }\n                }\n                if (keyIndex === -1) {\n                    data[rawDataLength] = [];\n                    data[rawDataLength][0] = timeValue;\n                    data[rawDataLength][1] = 0;\n                    data[rawDataLength][2] = name;\n                    rawDataLength++;\n\n                }\n            }\n        }\n        return data;\n    },\n\n    /**\n     * @override\n     * @param  {Object} option  the initial option that user gived\n     * @param  {module:echarts/model/Model} ecModel  the model object for themeRiver option\n     * @return {module:echarts/data/List}\n     */\n    getInitialData: function (option, ecModel) {\n\n        var dimensions = [];\n\n        var singleAxisModel = ecModel.queryComponents({\n            mainType: 'singleAxis',\n            index: this.get('singleAxisIndex'),\n            id: this.get('singleAxisId')\n        })[0];\n\n        var axisType = singleAxisModel.get('type');\n\n        dimensions = [\n            {\n                name: 'time',\n                // FIXME common?\n                type: axisType === 'category'\n                    ? 'ordinal'\n                    : axisType === 'time'\n                    ? 'time'\n                    : 'float'\n            },\n            {\n                name: 'value',\n                type: 'float'\n            },\n            {\n                name: 'name',\n                type: 'ordinal'\n            }\n        ];\n\n        // filter the data item with the value of label is undefined\n        var filterData = filter(option.data, function (dataItem) {\n            return dataItem[2] !== undefined;\n        });\n\n        var data = this.fixData(filterData || []);\n        var nameList = [];\n        var nameMap = this.nameMap = createHashMap();\n        var count = 0;\n\n        for (var i = 0; i < data.length; ++i) {\n            nameList.push(data[i][DATA_NAME_INDEX]);\n            if (!nameMap.get(data[i][DATA_NAME_INDEX])) {\n                nameMap.set(data[i][DATA_NAME_INDEX], count);\n                count++;\n            }\n        }\n\n        dimensions = completeDimensions(dimensions, data);\n\n        var list = new List(dimensions, this);\n\n        list.initData(data, nameList);\n\n        return list;\n    },\n\n    /**\n     * Used by single coordinate\n     *\n     * @param {string} axisDim  the dimension for single coordinate\n     * @return {Array.<string> } specified dimensions on the axis.\n     */\n    coordDimToDataDim: function (axisDim) {\n        return ['time'];\n    },\n\n    /**\n     * The raw data is divided into multiple layers and each layer\n     *     has same name.\n     *\n     * @return {Array.<Array.<number>>}\n     */\n    getLayerSeries: function () {\n        var data = this.getData();\n        var lenCount = data.count();\n        var indexArr = [];\n\n        for (var i = 0; i < lenCount; ++i) {\n            indexArr[i] = i;\n        }\n        // data group by name\n        var dataByName = nest()\n            .key(function (index) {\n                return data.get('name', index);\n            })\n            .entries(indexArr);\n\n        var layerSeries = map(dataByName, function (d) {\n            return {\n                name: d.key,\n                indices: d.values\n            };\n        });\n\n        for (var j = 0; j < layerSeries.length; ++j) {\n            layerSeries[j].indices.sort(comparer);\n        }\n\n        function comparer(index1, index2) {\n            return data.get('time', index1) - data.get('time', index2);\n        }\n\n        return layerSeries;\n    },\n\n    /**\n     * Get data indices for show tooltip content\n     *\n     * @param {Array.<string>|string} dim  single coordinate dimension\n     * @param {number} value axis value\n     * @param {module:echarts/coord/single/SingleAxis} baseAxis  single Axis used\n     *     the themeRiver.\n     * @return {Object} {dataIndices, nestestValue}\n     */\n    getAxisTooltipData: function (dim, value, baseAxis) {\n        if (!isArray(dim)) {\n            dim = dim ? [dim] : [];\n        }\n\n        var data = this.getData();\n        var layerSeries = this.getLayerSeries();\n        var indices = [];\n        var layerNum = layerSeries.length;\n        var nestestValue;\n\n        for (var i = 0; i < layerNum; ++i) {\n            var minDist = Number.MAX_VALUE;\n            var nearestIdx = -1;\n            var pointNum = layerSeries[i].indices.length;\n            for (var j = 0; j < pointNum; ++j) {\n                var theValue = data.get(dim[0], layerSeries[i].indices[j]);\n                var dist = Math.abs(theValue - value);\n                if (dist <= minDist) {\n                    nestestValue = theValue;\n                    minDist = dist;\n                    nearestIdx = layerSeries[i].indices[j];\n                }\n            }\n            indices.push(nearestIdx);\n        }\n\n        return {dataIndices: indices, nestestValue: nestestValue};\n    },\n\n    /**\n     * @override\n     * @param {number} dataIndex  index of data\n     */\n    formatTooltip: function (dataIndex) {\n        var data = this.getData();\n        var htmlName = data.get('name', dataIndex);\n        var htmlValue = data.get('value', dataIndex);\n        if (isNaN(htmlValue) || htmlValue == null) {\n            htmlValue = '-';\n        }\n        return encodeHTML(htmlName + ' : ' + htmlValue);\n    },\n\n    defaultOption: {\n        zlevel: 0,\n        z: 2,\n\n        coordinateSystem: 'singleAxis',\n\n        // gap in axis's orthogonal orientation\n        boundaryGap: ['10%', '10%'],\n\n        // legendHoverLink: true,\n\n        singleAxisIndex: 0,\n\n        animationEasing: 'linear',\n\n        label: {\n            normal: {\n                margin: 4,\n                textAlign: 'right',\n                show: true,\n                position: 'left',\n                color: '#000',\n                fontSize: 11\n            },\n            emphasis: {\n                show: true\n            }\n        }\n    }\n});\n\n/**\n * @file  The file used to draw themeRiver view\n * @author  Deqing Li(annong035@gmail.com)\n */\n\nextendChartView({\n\n    type: 'themeRiver',\n\n    init: function () {\n        this._layers = [];\n    },\n\n    render: function (seriesModel, ecModel, api) {\n        var data = seriesModel.getData();\n\n        var group = this.group;\n\n        var layerSeries = seriesModel.getLayerSeries();\n\n        var layoutInfo = data.getLayout('layoutInfo');\n        var rect = layoutInfo.rect;\n        var boundaryGap = layoutInfo.boundaryGap;\n\n        group.attr('position', [0, rect.y + boundaryGap[0]]);\n\n        function keyGetter(item) {\n            return item.name;\n        }\n        var dataDiffer = new DataDiffer(\n            this._layersSeries || [], layerSeries,\n            keyGetter, keyGetter\n        );\n\n        var newLayersGroups = {};\n\n        dataDiffer\n            .add(bind(process, this, 'add'))\n            .update(bind(process, this, 'update'))\n            .remove(bind(process, this, 'remove'))\n            .execute();\n\n        function process(status, idx, oldIdx) {\n            var oldLayersGroups = this._layers;\n            if (status === 'remove') {\n                group.remove(oldLayersGroups[idx]);\n                return;\n            }\n            var points0 = [];\n            var points1 = [];\n            var color;\n            var indices = layerSeries[idx].indices;\n            for (var j = 0; j < indices.length; j++) {\n                var layout = data.getItemLayout(indices[j]);\n                var x = layout.x;\n                var y0 = layout.y0;\n                var y = layout.y;\n\n                points0.push([x, y0]);\n                points1.push([x, y0 + y]);\n\n                color = data.getItemVisual(indices[j], 'color');\n            }\n\n            var polygon;\n            var text;\n            var textLayout = data.getItemLayout(indices[0]);\n            var itemModel = data.getItemModel(indices[j - 1]);\n            var labelModel = itemModel.getModel('label.normal');\n            var margin = labelModel.get('margin');\n            if (status === 'add') {\n                var layerGroup = newLayersGroups[idx] = new Group();\n                polygon = new Polygon$1({\n                    shape: {\n                        points: points0,\n                        stackedOnPoints: points1,\n                        smooth: 0.4,\n                        stackedOnSmooth: 0.4,\n                        smoothConstraint: false\n                    },\n                    z2: 0\n                });\n                text = new Text({\n                    style: {\n                        x: textLayout.x - margin,\n                        y: textLayout.y0 + textLayout.y / 2\n                    }\n                });\n                layerGroup.add(polygon);\n                layerGroup.add(text);\n                group.add(layerGroup);\n\n                polygon.setClipPath(createGridClipShape$3(polygon.getBoundingRect(), seriesModel, function () {\n                    polygon.removeClipPath();\n                }));\n            }\n            else {\n                var layerGroup = oldLayersGroups[oldIdx];\n                polygon = layerGroup.childAt(0);\n                text = layerGroup.childAt(1);\n                group.add(layerGroup);\n\n                newLayersGroups[idx] = layerGroup;\n\n                updateProps(polygon, {\n                    shape: {\n                        points: points0,\n                        stackedOnPoints: points1\n                    }\n                }, seriesModel);\n\n                updateProps(text, {\n                    style: {\n                        x: textLayout.x - margin,\n                        y: textLayout.y0 + textLayout.y / 2\n                    }\n                }, seriesModel);\n            }\n\n            var hoverItemStyleModel = itemModel.getModel('itemStyle.emphasis');\n            var itemStyleModel = itemModel.getModel('itemStyle.normal');\n\n            setTextStyle(text.style, labelModel, {\n                text: labelModel.get('show')\n                    ? seriesModel.getFormattedLabel(indices[j - 1], 'normal')\n                        || data.getName(indices[j - 1])\n                    : null,\n                textVerticalAlign: 'middle'\n            });\n\n            polygon.setStyle(extend({\n                fill: color\n            }, itemStyleModel.getItemStyle(['color'])));\n\n            setHoverStyle(polygon, hoverItemStyleModel.getItemStyle());\n        }\n\n        this._layersSeries = layerSeries;\n        this._layers = newLayersGroups;\n    },\n\n    dispose: function () {}\n});\n\n// add animation to the view\nfunction createGridClipShape$3(rect, seriesModel, cb) {\n    var rectEl = new Rect({\n        shape: {\n            x: rect.x - 10,\n            y: rect.y - 10,\n            width: 0,\n            height: rect.height + 20\n        }\n    });\n    initProps(rectEl, {\n        shape: {\n            width: rect.width + 20,\n            height: rect.height + 20\n        }\n    }, seriesModel, cb);\n\n    return rectEl;\n}\n\n/**\n * @file  Using layout algorithm transform the raw data to layout information.\n * @author Deqing Li(annong035@gmail.com)\n */\n\nvar themeRiverLayout = function (ecModel, api) {\n\n    ecModel.eachSeriesByType('themeRiver', function (seriesModel) {\n\n        var data = seriesModel.getData();\n\n        var single = seriesModel.coordinateSystem;\n\n        var layoutInfo = {};\n\n        // use the axis boundingRect for view\n        var rect = single.getRect();\n\n        layoutInfo.rect = rect;\n\n        var boundaryGap = seriesModel.get('boundaryGap');\n\n        var axis = single.getAxis();\n\n        layoutInfo.boundaryGap = boundaryGap;\n\n        if (axis.orient === 'horizontal') {\n            boundaryGap[0] = parsePercent$1(boundaryGap[0], rect.height);\n            boundaryGap[1] = parsePercent$1(boundaryGap[1], rect.height);\n            var height = rect.height - boundaryGap[0] - boundaryGap[1];\n            themeRiverLayout$1(data, seriesModel, height);\n        }\n        else {\n            boundaryGap[0] = parsePercent$1(boundaryGap[0], rect.width);\n            boundaryGap[1] = parsePercent$1(boundaryGap[1], rect.width);\n            var width = rect.width - boundaryGap[0] - boundaryGap[1];\n            themeRiverLayout$1(data, seriesModel, width);\n        }\n\n        data.setLayout('layoutInfo', layoutInfo);\n    });\n};\n\n/**\n * The layout information about themeriver\n *\n * @param {module:echarts/data/List} data  data in the series\n * @param {module:echarts/model/Series} seriesModel  the model object of themeRiver series\n * @param {number} height  value used to compute every series height\n */\nfunction themeRiverLayout$1(data, seriesModel, height) {\n    if (!data.count()) {\n        return;\n    }\n    var coordSys = seriesModel.coordinateSystem;\n    // the data in each layer are organized into a series.\n    var layerSeries = seriesModel.getLayerSeries();\n\n    // the points in each layer.\n    var layerPoints = map(layerSeries, function (singleLayer) {\n        return map(singleLayer.indices, function (idx) {\n            var pt = coordSys.dataToPoint(data.get('time', idx));\n            pt[1] = data.get('value', idx);\n            return pt;\n        });\n    });\n\n    var base = computeBaseline(layerPoints);\n    var baseLine = base.y0;\n    var ky = height / base.max;\n\n    // set layout information for each item.\n    var n = layerSeries.length;\n    var m = layerSeries[0].indices.length;\n    var baseY0;\n    for (var j = 0; j < m; ++j) {\n        baseY0 = baseLine[j] * ky;\n        data.setItemLayout(layerSeries[0].indices[j], {\n            layerIndex: 0,\n            x: layerPoints[0][j][0],\n            y0: baseY0,\n            y: layerPoints[0][j][1] * ky\n        });\n        for (var i = 1; i < n; ++i) {\n            baseY0 += layerPoints[i - 1][j][1] * ky;\n            data.setItemLayout(layerSeries[i].indices[j], {\n                layerIndex: i,\n                x: layerPoints[i][j][0],\n                y0: baseY0,\n                y: layerPoints[i][j][1] * ky\n            });\n        }\n    }\n}\n\n/**\n * Compute the baseLine of the rawdata\n * Inspired by Lee Byron's paper Stacked Graphs - Geometry & Aesthetics\n *\n * @param  {Array.<Array>} data  the points in each layer\n * @return {Object}\n */\nfunction computeBaseline(data) {\n    var layerNum = data.length;\n    var pointNum = data[0].length;\n    var sums = [];\n    var y0 = [];\n    var max = 0;\n    var temp;\n    var base = {};\n\n    for (var i = 0; i < pointNum; ++i) {\n        for (var j = 0, temp = 0; j < layerNum; ++j) {\n            temp += data[j][i][1];\n        }\n        if (temp > max) {\n            max = temp;\n        }\n        sums.push(temp);\n    }\n\n    for (var k = 0; k < pointNum; ++k) {\n        y0[k] = (max - sums[k]) / 2;\n    }\n    max = 0;\n\n    for (var l = 0; l < pointNum; ++l) {\n        var sum = sums[l] + y0[l];\n        if (sum > max) {\n            max = sum;\n        }\n    }\n    base.y0 = y0;\n    base.max = max;\n\n    return base;\n}\n\n/**\n * @file Visual encoding for themeRiver view\n * @author  Deqing Li(annong035@gmail.com)\n */\n\nvar themeRiverVisual = function (ecModel) {\n    ecModel.eachSeriesByType('themeRiver', function (seriesModel) {\n        var data = seriesModel.getData();\n        var rawData = seriesModel.getRawData();\n        var colorList = seriesModel.get('color');\n        var idxMap = createHashMap();\n\n        data.each(function (idx) {\n            idxMap.set(data.getRawIndex(idx), idx);\n        });\n\n        rawData.each(function (rawIndex) {\n            var name = rawData.getName(rawIndex);\n            var color = colorList[(seriesModel.nameMap.get(name) - 1) % colorList.length];\n\n            rawData.setItemVisual(rawIndex, 'color', color);\n\n            var idx = idxMap.get(rawIndex);\n\n            if (idx != null) {\n                data.setItemVisual(idx, 'color', color);\n            }\n        });\n    });\n};\n\nregisterLayout(themeRiverLayout);\nregisterVisual(themeRiverVisual);\nregisterProcessor(curry(dataFilter, 'themeRiver'));\n\nfunction dataToCoordSize(dataSize, dataItem) {\n    // dataItem is necessary in log axis.\n    dataItem = dataItem || [0, 0];\n    return map(['x', 'y'], function (dim, dimIdx) {\n        var axis = this.getAxis(dim);\n        var val = dataItem[dimIdx];\n        var halfSize = dataSize[dimIdx] / 2;\n        return axis.type === 'category'\n            ? axis.getBandWidth()\n            : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n    }, this);\n}\n\nvar prepareCartesian2d = function (coordSys) {\n    var rect = coordSys.grid.getRect();\n    return {\n        coordSys: {\n            // The name exposed to user is always 'cartesian2d' but not 'grid'.\n            type: 'cartesian2d',\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height\n        },\n        api: {\n            coord: bind(coordSys.dataToPoint, coordSys),\n            size: bind(dataToCoordSize, coordSys)\n        }\n    };\n};\n\nfunction dataToCoordSize$1(dataSize, dataItem) {\n    dataItem = dataItem || [0, 0];\n    return map([0, 1], function (dimIdx) {\n        var val = dataItem[dimIdx];\n        var halfSize = dataSize[dimIdx] / 2;\n        var p1 = [];\n        var p2 = [];\n        p1[dimIdx] = val - halfSize;\n        p2[dimIdx] = val + halfSize;\n        p1[1 - dimIdx] = p2[1 - dimIdx] = dataItem[1 - dimIdx];\n        return Math.abs(this.dataToPoint(p1)[dimIdx] - this.dataToPoint(p2)[dimIdx]);\n    }, this);\n}\n\nvar prepareGeo = function (coordSys) {\n    var rect = coordSys.getBoundingRect();\n    return {\n        coordSys: {\n            type: 'geo',\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height\n        },\n        api: {\n            coord: bind(coordSys.dataToPoint, coordSys),\n            size: bind(dataToCoordSize$1, coordSys)\n        }\n    };\n};\n\nfunction dataToCoordSize$2(dataSize, dataItem) {\n    // dataItem is necessary in log axis.\n    var axis = this.getAxis();\n    var val = dataItem instanceof Array ? dataItem[0] : dataItem;\n    var halfSize = (dataSize instanceof Array ? dataSize[0] : dataSize) / 2;\n    return axis.type === 'category'\n        ? axis.getBandWidth()\n        : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n}\n\nvar prepareSingleAxis = function (coordSys) {\n    var rect = coordSys.getRect();\n\n    return {\n        coordSys: {\n            type: 'singleAxis',\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height\n        },\n        api: {\n            coord: bind(coordSys.dataToPoint, coordSys),\n            size: bind(dataToCoordSize$2, coordSys)\n        }\n    };\n};\n\nfunction dataToCoordSize$3(dataSize, dataItem) {\n    // dataItem is necessary in log axis.\n    return map(['Radius', 'Angle'], function (dim, dimIdx) {\n        var axis = this['get' + dim + 'Axis']();\n        var val = dataItem[dimIdx];\n        var halfSize = dataSize[dimIdx] / 2;\n        var method = 'dataTo' + dim;\n\n        var result = axis.type === 'category'\n            ? axis.getBandWidth()\n            : Math.abs(axis[method](val - halfSize) - axis[method](val + halfSize));\n\n        if (dim === 'Angle') {\n            result = result * Math.PI / 180;\n        }\n\n        return result;\n\n    }, this);\n}\n\nvar preparePolar = function (coordSys) {\n    var radiusAxis = coordSys.getRadiusAxis();\n    var angleAxis = coordSys.getAngleAxis();\n    var radius = radiusAxis.getExtent();\n    radius[0] > radius[1] && radius.reverse();\n\n    return {\n        coordSys: {\n            type: 'polar',\n            cx: coordSys.cx,\n            cy: coordSys.cy,\n            r: radius[1],\n            r0: radius[0]\n        },\n        api: {\n            coord: bind(function (data) {\n                var radius = radiusAxis.dataToRadius(data[0]);\n                var angle = angleAxis.dataToAngle(data[1]);\n                var coord = coordSys.coordToPoint([radius, angle]);\n                coord.push(radius, angle * Math.PI / 180);\n                return coord;\n            }),\n            size: bind(dataToCoordSize$3, coordSys)\n        }\n    };\n};\n\nvar prepareCalendar = function (coordSys) {\n    var rect = coordSys.getRect();\n    var rangeInfo = coordSys.getRangeInfo();\n\n    return {\n        coordSys: {\n            type: 'calendar',\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height,\n            cellWidth: coordSys.getCellWidth(),\n            cellHeight: coordSys.getCellHeight(),\n            rangeInfo: {\n                start: rangeInfo.start,\n                end: rangeInfo.end,\n                weeks: rangeInfo.weeks,\n                dayCount: rangeInfo.allDay\n            }\n        },\n        api: {\n            coord: bind(coordSys.dataToPoint, coordSys)\n        }\n    };\n};\n\nvar ITEM_STYLE_NORMAL_PATH = ['itemStyle', 'normal'];\nvar ITEM_STYLE_EMPHASIS_PATH = ['itemStyle', 'emphasis'];\nvar LABEL_NORMAL = ['label', 'normal'];\nvar LABEL_EMPHASIS = ['label', 'emphasis'];\n// Use prefix to avoid index to be the same as el.name,\n// which will cause weird udpate animation.\nvar GROUP_DIFF_PREFIX = 'e\\0\\0';\n\n/**\n * To reduce total package size of each coordinate systems, the modules `prepareCustom`\n * of each coordinate systems are not required by each coordinate systems directly, but\n * required by the module `custom`.\n *\n * prepareInfoForCustomSeries {Function}: optional\n *     @return {Object} {coordSys: {...}, api: {\n *         coord: function (data, clamp) {}, // return point in global.\n *         size: function (dataSize, dataItem) {} // return size of each axis in coordSys.\n *     }}\n */\nvar prepareCustoms = {\n    cartesian2d: prepareCartesian2d,\n    geo: prepareGeo,\n    singleAxis: prepareSingleAxis,\n    polar: preparePolar,\n    calendar: prepareCalendar\n};\n\n// ------\n// Model\n// ------\n\nextendSeriesModel({\n\n    type: 'series.custom',\n\n    dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'],\n\n    defaultOption: {\n        coordinateSystem: 'cartesian2d', // Can be set as 'none'\n        zlevel: 0,\n        z: 2,\n        legendHoverLink: true\n\n        // Cartesian coordinate system\n        // xAxisIndex: 0,\n        // yAxisIndex: 0,\n\n        // Polar coordinate system\n        // polarIndex: 0,\n\n        // Geo coordinate system\n        // geoIndex: 0,\n\n        // label: {}\n        // itemStyle: {}\n    },\n\n    getInitialData: function (option, ecModel) {\n        return createListFromArray(option.data, this, ecModel);\n    }\n});\n\n// -----\n// View\n// -----\n\nextendChartView({\n\n    type: 'custom',\n\n    /**\n     * @private\n     * @type {module:echarts/data/List}\n     */\n    _data: null,\n\n    /**\n     * @override\n     */\n    render: function (customSeries, ecModel, api) {\n        var oldData = this._data;\n        var data = customSeries.getData();\n        var group = this.group;\n        var renderItem = makeRenderItem(customSeries, data, ecModel, api);\n\n        data.diff(oldData)\n            .add(function (newIdx) {\n                data.hasValue(newIdx) && createOrUpdate$1(\n                    null, newIdx, renderItem(newIdx), customSeries, group, data\n                );\n            })\n            .update(function (newIdx, oldIdx) {\n                var el = oldData.getItemGraphicEl(oldIdx);\n                data.hasValue(newIdx)\n                    ? createOrUpdate$1(\n                        el, newIdx, renderItem(newIdx), customSeries, group, data\n                    )\n                    : (el && group.remove(el));\n            })\n            .remove(function (oldIdx) {\n                var el = oldData.getItemGraphicEl(oldIdx);\n                el && group.remove(el);\n            })\n            .execute();\n\n        this._data = data;\n    },\n\n    /**\n     * @override\n     */\n    dispose: noop\n});\n\n\nfunction createEl(elOption) {\n    var graphicType = elOption.type;\n    var el;\n\n    if (graphicType === 'path') {\n        var shape = elOption.shape;\n        el = makePath(\n            shape.pathData,\n            null,\n            {\n                x: shape.x || 0,\n                y: shape.y || 0,\n                width: shape.width || 0,\n                height: shape.height || 0\n            },\n            'center'\n        );\n        el.__customPathData = elOption.pathData;\n    }\n    else if (graphicType === 'image') {\n        el = new ZImage({\n        });\n        el.__customImagePath = elOption.style.image;\n    }\n    else if (graphicType === 'text') {\n        el = new Text({\n        });\n        el.__customText = elOption.style.text;\n    }\n    else {\n        var Clz = graphic[graphicType.charAt(0).toUpperCase() + graphicType.slice(1)];\n\n        if (__DEV__) {\n            assert(Clz, 'graphic type \"' + graphicType + '\" can not be found.');\n        }\n\n        el = new Clz();\n    }\n\n    el.__customGraphicType = graphicType;\n    el.name = elOption.name;\n\n    return el;\n}\n\nfunction updateEl(el, dataIndex, elOption, animatableModel, data, isInit) {\n    var targetProps = {};\n    var elOptionStyle = elOption.style || {};\n\n    elOption.shape && (targetProps.shape = clone(elOption.shape));\n    elOption.position && (targetProps.position = elOption.position.slice());\n    elOption.scale && (targetProps.scale = elOption.scale.slice());\n    elOption.origin && (targetProps.origin = elOption.origin.slice());\n    elOption.rotation && (targetProps.rotation = elOption.rotation);\n\n    if (el.type === 'image' && elOption.style) {\n        var targetStyle = targetProps.style = {};\n        each$1(['x', 'y', 'width', 'height'], function (prop) {\n            prepareStyleTransition(prop, targetStyle, elOptionStyle, el.style, isInit);\n        });\n    }\n\n    if (el.type === 'text' && elOption.style) {\n        var targetStyle = targetProps.style = {};\n        each$1(['x', 'y'], function (prop) {\n            prepareStyleTransition(prop, targetStyle, elOptionStyle, el.style, isInit);\n        });\n        // Compatible with previous: both support\n        // textFill and fill, textStroke and stroke in 'text' element.\n        !elOptionStyle.hasOwnProperty('textFill') && elOptionStyle.fill && (\n            elOptionStyle.textFill = elOptionStyle.fill\n        );\n        !elOptionStyle.hasOwnProperty('textStroke') && elOptionStyle.stroke && (\n            elOptionStyle.textStroke = elOptionStyle.stroke\n        );\n    }\n\n    if (el.type !== 'group') {\n        el.useStyle(elOptionStyle);\n\n        // Init animation.\n        if (isInit) {\n            el.style.opacity = 0;\n            var targetOpacity = elOptionStyle.opacity;\n            targetOpacity == null && (targetOpacity = 1);\n            initProps(el, {style: {opacity: targetOpacity}}, animatableModel, dataIndex);\n        }\n    }\n\n    if (isInit) {\n        el.attr(targetProps);\n    }\n    else {\n        updateProps(el, targetProps, animatableModel, dataIndex);\n    }\n\n    // z2 must not be null/undefined, otherwise sort error may occur.\n    el.attr({z2: elOption.z2 || 0, silent: elOption.silent});\n\n    elOption.styleEmphasis !== false && setHoverStyle(el, elOption.styleEmphasis);\n}\n\nfunction prepareStyleTransition(prop, targetStyle, elOptionStyle, oldElStyle, isInit) {\n    if (elOptionStyle[prop] != null && !isInit) {\n        targetStyle[prop] = elOptionStyle[prop];\n        elOptionStyle[prop] = oldElStyle[prop];\n    }\n}\n\nfunction makeRenderItem(customSeries, data, ecModel, api) {\n    var renderItem = customSeries.get('renderItem');\n    var coordSys = customSeries.coordinateSystem;\n    var prepareResult = {};\n\n    if (coordSys) {\n        if (__DEV__) {\n            assert(renderItem, 'series.render is required.');\n            assert(\n                coordSys.prepareCustoms || prepareCustoms[coordSys.type],\n                'This coordSys does not support custom series.'\n            );\n        }\n\n        prepareResult = coordSys.prepareCustoms\n            ? coordSys.prepareCustoms()\n            : prepareCustoms[coordSys.type](coordSys);\n    }\n\n    var userAPI = defaults({\n        getWidth: api.getWidth,\n        getHeight: api.getHeight,\n        getZr: api.getZr,\n        getDevicePixelRatio: api.getDevicePixelRatio,\n        value: value,\n        style: style,\n        styleEmphasis: styleEmphasis,\n        visual: visual,\n        barLayout: barLayout,\n        currentSeriesIndices: currentSeriesIndices,\n        font: font\n    }, prepareResult.api || {});\n\n    var userParams = {\n        context: {},\n        seriesId: customSeries.id,\n        seriesName: customSeries.name,\n        seriesIndex: customSeries.seriesIndex,\n        coordSys: prepareResult.coordSys,\n        dataInsideLength: data.count(),\n        encode: wrapEncodeDef(customSeries.getData())\n    };\n\n    // Do not support call `api` asynchronously without dataIndexInside input.\n    var currDataIndexInside;\n    var currDirty = true;\n    var currItemModel;\n    var currLabelNormalModel;\n    var currLabelEmphasisModel;\n    var currLabelValueDim;\n    var currVisualColor;\n\n    return function (dataIndexInside) {\n        currDataIndexInside = dataIndexInside;\n        currDirty = true;\n        return renderItem && renderItem(\n            defaults({\n                dataIndexInside: dataIndexInside,\n                dataIndex: data.getRawIndex(dataIndexInside)\n            }, userParams),\n            userAPI\n        ) || {};\n    };\n\n    // Do not update cache until api called.\n    function updateCache(dataIndexInside) {\n        dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n        if (currDirty) {\n            currItemModel = data.getItemModel(dataIndexInside);\n            currLabelNormalModel = currItemModel.getModel(LABEL_NORMAL);\n            currLabelEmphasisModel = currItemModel.getModel(LABEL_EMPHASIS);\n            currLabelValueDim = findLabelValueDim(data);\n            currVisualColor = data.getItemVisual(dataIndexInside, 'color');\n\n            currDirty = false;\n        }\n    }\n\n    /**\n     * @public\n     * @param {number|string} dim\n     * @param {number} [dataIndexInside=currDataIndexInside]\n     * @return {number|string} value\n     */\n    function value(dim, dataIndexInside) {\n        dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n        return data.get(data.getDimension(dim || 0), dataIndexInside);\n    }\n\n    /**\n     * By default, `visual` is applied to style (to support visualMap).\n     * `visual.color` is applied at `fill`. If user want apply visual.color on `stroke`,\n     * it can be implemented as:\n     * `api.style({stroke: api.visual('color'), fill: null})`;\n     * @public\n     * @param {Object} [extra]\n     * @param {number} [dataIndexInside=currDataIndexInside]\n     */\n    function style(extra, dataIndexInside) {\n        dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n        updateCache(dataIndexInside);\n\n        var itemStyle = currItemModel.getModel(ITEM_STYLE_NORMAL_PATH).getItemStyle();\n\n        currVisualColor != null && (itemStyle.fill = currVisualColor);\n        var opacity = data.getItemVisual(dataIndexInside, 'opacity');\n        opacity != null && (itemStyle.opacity = opacity);\n\n        if (currLabelValueDim != null) {\n            setTextStyle(itemStyle, currLabelNormalModel, null, {\n                autoColor: currVisualColor,\n                isRectText: true\n            });\n\n            itemStyle.text = currLabelNormalModel.getShallow('show')\n                ? retrieve2(\n                    customSeries.getFormattedLabel(dataIndexInside, 'normal'),\n                    data.get(currLabelValueDim, dataIndexInside)\n                )\n                : null;\n        }\n\n        extra && extend(itemStyle, extra);\n        return itemStyle;\n    }\n\n    /**\n     * @public\n     * @param {Object} [extra]\n     * @param {number} [dataIndexInside=currDataIndexInside]\n     */\n    function styleEmphasis(extra, dataIndexInside) {\n        dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n        updateCache(dataIndexInside);\n\n        var itemStyle = currItemModel.getModel(ITEM_STYLE_EMPHASIS_PATH).getItemStyle();\n\n        if (currLabelValueDim != null) {\n            setTextStyle(itemStyle, currLabelEmphasisModel, null, {\n                isRectText: true\n            }, true);\n\n            itemStyle.text = currLabelEmphasisModel.getShallow('show')\n                ? retrieve3(\n                    customSeries.getFormattedLabel(dataIndexInside, 'emphasis'),\n                    customSeries.getFormattedLabel(dataIndexInside, 'normal'),\n                    data.get(currLabelValueDim, dataIndexInside)\n                )\n                : null;\n        }\n\n        extra && extend(itemStyle, extra);\n        return itemStyle;\n    }\n\n    /**\n     * @public\n     * @param {string} visualType\n     * @param {number} [dataIndexInside=currDataIndexInside]\n     */\n    function visual(visualType, dataIndexInside) {\n        dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n        return data.getItemVisual(dataIndexInside, visualType);\n    }\n\n    /**\n     * @public\n     * @param {number} opt.count Positive interger.\n     * @param {number} [opt.barWidth]\n     * @param {number} [opt.barMaxWidth]\n     * @param {number} [opt.barGap]\n     * @param {number} [opt.barCategoryGap]\n     * @return {Object} {width, offset, offsetCenter} is not support, return undefined.\n     */\n    function barLayout(opt) {\n        if (coordSys.getBaseAxis) {\n            var baseAxis = coordSys.getBaseAxis();\n            return barLayoutGrid.getLayoutOnAxis(defaults({axis: baseAxis}, opt), api);\n        }\n    }\n\n    /**\n     * @public\n     * @return {Array.<number>}\n     */\n    function currentSeriesIndices() {\n        return ecModel.getCurrentSeriesIndices();\n    }\n\n    /**\n     * @public\n     * @param {Object} opt\n     * @param {string} [opt.fontStyle]\n     * @param {number} [opt.fontWeight]\n     * @param {number} [opt.fontSize]\n     * @param {string} [opt.fontFamily]\n     * @return {string} font string\n     */\n    function font(opt) {\n        return getFont(opt, ecModel);\n    }\n}\n\nfunction wrapEncodeDef(data) {\n    var encodeDef = {};\n    each$1(data.dimensions, function (dimName, dataDimIndex) {\n        var dimInfo = data.getDimensionInfo(dimName);\n        if (!dimInfo.isExtraCoord) {\n            var coordDim = dimInfo.coordDim;\n            var dataDims = encodeDef[coordDim] = encodeDef[coordDim] || [];\n            dataDims[dimInfo.coordDimIndex] = dataDimIndex;\n        }\n    });\n    return encodeDef;\n}\n\nfunction createOrUpdate$1(el, dataIndex, elOption, animatableModel, group, data) {\n    el = doCreateOrUpdate(el, dataIndex, elOption, animatableModel, group, data);\n    el && data.setItemGraphicEl(dataIndex, el);\n}\n\nfunction doCreateOrUpdate(el, dataIndex, elOption, animatableModel, group, data) {\n    var elOptionType = elOption.type;\n    if (el\n        && elOptionType !== el.__customGraphicType\n        && (elOptionType !== 'path' || elOption.pathData !== el.__customPathData)\n        && (elOptionType !== 'image' || elOption.style.image !== el.__customImagePath)\n        && (elOptionType !== 'text' || elOption.style.text !== el.__customText)\n    ) {\n        group.remove(el);\n        el = null;\n    }\n\n    // `elOption.type` is undefined when `renderItem` returns nothing.\n    if (elOptionType == null) {\n        return;\n    }\n\n    var isInit = !el;\n    !el && (el = createEl(elOption));\n    updateEl(el, dataIndex, elOption, animatableModel, data, isInit);\n\n    if (elOptionType === 'group') {\n        var oldChildren = el.children() || [];\n        var newChildren = elOption.children || [];\n\n        if (elOption.diffChildrenByName) {\n            // lower performance.\n            diffGroupChildren({\n                oldChildren: oldChildren,\n                newChildren: newChildren,\n                dataIndex: dataIndex,\n                animatableModel: animatableModel,\n                group: el,\n                data: data\n            });\n        }\n        else {\n            // better performance.\n            var index = 0;\n            for (; index < newChildren.length; index++) {\n                doCreateOrUpdate(\n                    el.childAt(index),\n                    dataIndex,\n                    newChildren[index],\n                    animatableModel,\n                    el,\n                    data\n                );\n            }\n            for (; index < oldChildren.length; index++) {\n                oldChildren[index] && el.remove(oldChildren[index]);\n            }\n        }\n    }\n\n    group.add(el);\n\n    return el;\n}\n\nfunction diffGroupChildren(context) {\n    (new DataDiffer(\n        context.oldChildren,\n        context.newChildren,\n        getKey,\n        getKey,\n        context\n    ))\n        .add(processAddUpdate)\n        .update(processAddUpdate)\n        .remove(processRemove)\n        .execute();\n}\n\nfunction getKey(item, idx) {\n    var name = item && item.name;\n    return name != null ? name : GROUP_DIFF_PREFIX + idx;\n}\n\nfunction processAddUpdate(newIndex, oldIndex) {\n    var context = this.context;\n    var childOption = newIndex != null ? context.newChildren[newIndex] : null;\n    var child = oldIndex != null ? context.oldChildren[oldIndex] : null;\n\n    doCreateOrUpdate(\n        child,\n        context.dataIndex,\n        childOption,\n        context.animatableModel,\n        context.group,\n        context.data\n    );\n}\n\nfunction processRemove(oldIndex) {\n    var context = this.context;\n    var child = context.oldChildren[oldIndex];\n    child && context.group.remove(child);\n}\n\n// -------------\n// Preprocessor\n// -------------\n\nregisterPreprocessor(function (option) {\n    var graphicOption = option.graphic;\n\n    // Convert\n    // {graphic: [{left: 10, type: 'circle'}, ...]}\n    // or\n    // {graphic: {left: 10, type: 'circle'}}\n    // to\n    // {graphic: [{elements: [{left: 10, type: 'circle'}, ...]}]}\n    if (isArray(graphicOption)) {\n        if (!graphicOption[0] || !graphicOption[0].elements) {\n            option.graphic = [{elements: graphicOption}];\n        }\n        else {\n            // Only one graphic instance can be instantiated. (We dont\n            // want that too many views are created in echarts._viewMap)\n            option.graphic = [option.graphic[0]];\n        }\n    }\n    else if (graphicOption && !graphicOption.elements) {\n        option.graphic = [{elements: [graphicOption]}];\n    }\n});\n\n// ------\n// Model\n// ------\n\nvar GraphicModel = extendComponentModel({\n\n    type: 'graphic',\n\n    defaultOption: {\n\n        // Extra properties for each elements:\n        //\n        // left/right/top/bottom: (like 12, '22%', 'center', default undefined)\n        //      If left/rigth is set, shape.x/shape.cx/position will not be used.\n        //      If top/bottom is set, shape.y/shape.cy/position will not be used.\n        //      This mechanism is useful when you want to position a group/element\n        //      against the right side or the center of this container.\n        //\n        // width/height: (can only be pixel value, default 0)\n        //      Only be used to specify contianer(group) size, if needed. And\n        //      can not be percentage value (like '33%'). See the reason in the\n        //      layout algorithm below.\n        //\n        // bounding: (enum: 'all' (default) | 'raw')\n        //      Specify how to calculate boundingRect when locating.\n        //      'all': Get uioned and transformed boundingRect\n        //          from both itself and its descendants.\n        //          This mode simplies confining a group of elements in the bounding\n        //          of their ancester container (e.g., using 'right: 0').\n        //      'raw': Only use the boundingRect of itself and before transformed.\n        //          This mode is similar to css behavior, which is useful when you\n        //          want an element to be able to overflow its container. (Consider\n        //          a rotated circle needs to be located in a corner.)\n\n        // Note: elements is always behind its ancestors in this elements array.\n        elements: [],\n        parentId: null\n    },\n\n    /**\n     * Save el options for the sake of the performance (only update modified graphics).\n     * The order is the same as those in option. (ancesters -> descendants)\n     *\n     * @private\n     * @type {Array.<Object>}\n     */\n    _elOptionsToUpdate: null,\n\n    /**\n     * @override\n     */\n    mergeOption: function (option) {\n        // Prevent default merge to elements\n        var elements = this.option.elements;\n        this.option.elements = null;\n\n        GraphicModel.superApply(this, 'mergeOption', arguments);\n\n        this.option.elements = elements;\n    },\n\n    /**\n     * @override\n     */\n    optionUpdated: function (newOption, isInit) {\n        var thisOption = this.option;\n        var newList = (isInit ? thisOption : newOption).elements;\n        var existList = thisOption.elements = isInit ? [] : thisOption.elements;\n\n        var flattenedList = [];\n        this._flatten(newList, flattenedList);\n\n        var mappingResult = mappingToExists(existList, flattenedList);\n        makeIdAndName(mappingResult);\n\n        // Clear elOptionsToUpdate\n        var elOptionsToUpdate = this._elOptionsToUpdate = [];\n\n        each$1(mappingResult, function (resultItem, index) {\n            var newElOption = resultItem.option;\n\n            if (__DEV__) {\n                assert(\n                    isObject(newElOption) || resultItem.exist,\n                    'Empty graphic option definition'\n                );\n            }\n\n            if (!newElOption) {\n                return;\n            }\n\n            elOptionsToUpdate.push(newElOption);\n\n            setKeyInfoToNewElOption(resultItem, newElOption);\n\n            mergeNewElOptionToExist(existList, index, newElOption);\n\n            setLayoutInfoToExist(existList[index], newElOption);\n\n        }, this);\n\n        // Clean\n        for (var i = existList.length - 1; i >= 0; i--) {\n            if (existList[i] == null) {\n                existList.splice(i, 1);\n            }\n            else {\n                // $action should be volatile, otherwise option gotten from\n                // `getOption` will contain unexpected $action.\n                delete existList[i].$action;\n            }\n        }\n    },\n\n    /**\n     * Convert\n     * [{\n     *  type: 'group',\n     *  id: 'xx',\n     *  children: [{type: 'circle'}, {type: 'polygon'}]\n     * }]\n     * to\n     * [\n     *  {type: 'group', id: 'xx'},\n     *  {type: 'circle', parentId: 'xx'},\n     *  {type: 'polygon', parentId: 'xx'}\n     * ]\n     *\n     * @private\n     * @param {Array.<Object>} optionList option list\n     * @param {Array.<Object>} result result of flatten\n     * @param {Object} parentOption parent option\n     */\n    _flatten: function (optionList, result, parentOption) {\n        each$1(optionList, function (option) {\n            if (!option) {\n                return;\n            }\n\n            if (parentOption) {\n                option.parentOption = parentOption;\n            }\n\n            result.push(option);\n\n            var children = option.children;\n            if (option.type === 'group' && children) {\n                this._flatten(children, result, option);\n            }\n            // Deleting for JSON output, and for not affecting group creation.\n            delete option.children;\n        }, this);\n    },\n\n    // FIXME\n    // Pass to view using payload? setOption has a payload?\n    useElOptionsToUpdate: function () {\n        var els = this._elOptionsToUpdate;\n        // Clear to avoid render duplicately when zooming.\n        this._elOptionsToUpdate = null;\n        return els;\n    }\n});\n\n// -----\n// View\n// -----\n\nextendComponentView({\n\n    type: 'graphic',\n\n    /**\n     * @override\n     */\n    init: function (ecModel, api) {\n\n        /**\n         * @private\n         * @type {module:zrender/core/util.HashMap}\n         */\n        this._elMap = createHashMap();\n\n        /**\n         * @private\n         * @type {module:echarts/graphic/GraphicModel}\n         */\n        this._lastGraphicModel;\n    },\n\n    /**\n     * @override\n     */\n    render: function (graphicModel, ecModel, api) {\n\n        // Having leveraged between use cases and algorithm complexity, a very\n        // simple layout mechanism is used:\n        // The size(width/height) can be determined by itself or its parent (not\n        // implemented yet), but can not by its children. (Top-down travel)\n        // The location(x/y) can be determined by the bounding rect of itself\n        // (can including its descendants or not) and the size of its parent.\n        // (Bottom-up travel)\n\n        // When `chart.clear()` or `chart.setOption({...}, true)` with the same id,\n        // view will be reused.\n        if (graphicModel !== this._lastGraphicModel) {\n            this._clear();\n        }\n        this._lastGraphicModel = graphicModel;\n\n        this._updateElements(graphicModel, api);\n        this._relocate(graphicModel, api);\n    },\n\n    /**\n     * Update graphic elements.\n     *\n     * @private\n     * @param {Object} graphicModel graphic model\n     * @param {module:echarts/ExtensionAPI} api extension API\n     */\n    _updateElements: function (graphicModel, api) {\n        var elOptionsToUpdate = graphicModel.useElOptionsToUpdate();\n\n        if (!elOptionsToUpdate) {\n            return;\n        }\n\n        var elMap = this._elMap;\n        var rootGroup = this.group;\n\n        // Top-down tranverse to assign graphic settings to each elements.\n        each$1(elOptionsToUpdate, function (elOption) {\n            var $action = elOption.$action;\n            var id = elOption.id;\n            var existEl = elMap.get(id);\n            var parentId = elOption.parentId;\n            var targetElParent = parentId != null ? elMap.get(parentId) : rootGroup;\n\n            if (elOption.type === 'text') {\n                var elOptionStyle = elOption.style;\n\n                // In top/bottom mode, textVerticalAlign should not be used, which cause\n                // inaccurately locating.\n                if (elOption.hv && elOption.hv[1]) {\n                    elOptionStyle.textVerticalAlign = elOptionStyle.textBaseline = null;\n                }\n\n                // Compatible with previous setting: both support fill and textFill,\n                // stroke and textStroke.\n                !elOptionStyle.hasOwnProperty('textFill') && elOptionStyle.fill && (\n                    elOptionStyle.textFill = elOptionStyle.fill\n                );\n                !elOptionStyle.hasOwnProperty('textStroke') && elOptionStyle.stroke && (\n                    elOptionStyle.textStroke = elOptionStyle.stroke\n                );\n            }\n\n            // Remove unnecessary props to avoid potential problems.\n            var elOptionCleaned = getCleanedElOption(elOption);\n\n            // For simple, do not support parent change, otherwise reorder is needed.\n            if (__DEV__) {\n                existEl && assert(\n                    targetElParent === existEl.parent,\n                    'Changing parent is not supported.'\n                );\n            }\n\n            if (!$action || $action === 'merge') {\n                existEl\n                    ? existEl.attr(elOptionCleaned)\n                    : createEl$1(id, targetElParent, elOptionCleaned, elMap);\n            }\n            else if ($action === 'replace') {\n                removeEl(existEl, elMap);\n                createEl$1(id, targetElParent, elOptionCleaned, elMap);\n            }\n            else if ($action === 'remove') {\n                removeEl(existEl, elMap);\n            }\n\n            var el = elMap.get(id);\n            if (el) {\n                el.__ecGraphicWidth = elOption.width;\n                el.__ecGraphicHeight = elOption.height;\n            }\n        });\n    },\n\n    /**\n     * Locate graphic elements.\n     *\n     * @private\n     * @param {Object} graphicModel graphic model\n     * @param {module:echarts/ExtensionAPI} api extension API\n     */\n    _relocate: function (graphicModel, api) {\n        var elOptions = graphicModel.option.elements;\n        var rootGroup = this.group;\n        var elMap = this._elMap;\n\n        // Bottom-up tranvese all elements (consider ec resize) to locate elements.\n        for (var i = elOptions.length - 1; i >= 0; i--) {\n            var elOption = elOptions[i];\n            var el = elMap.get(elOption.id);\n\n            if (!el) {\n                continue;\n            }\n\n            var parentEl = el.parent;\n            var containerInfo = parentEl === rootGroup\n                ? {\n                    width: api.getWidth(),\n                    height: api.getHeight()\n                }\n                : { // Like 'position:absolut' in css, default 0.\n                    width: parentEl.__ecGraphicWidth || 0,\n                    height: parentEl.__ecGraphicHeight || 0\n                };\n\n            positionElement(\n                el, elOption, containerInfo, null,\n                {hv: elOption.hv, boundingMode: elOption.bounding}\n            );\n        }\n    },\n\n    /**\n     * Clear all elements.\n     *\n     * @private\n     */\n    _clear: function () {\n        var elMap = this._elMap;\n        elMap.each(function (el) {\n            removeEl(el, elMap);\n        });\n        this._elMap = createHashMap();\n    },\n\n    /**\n     * @override\n     */\n    dispose: function () {\n        this._clear();\n    }\n});\n\nfunction createEl$1(id, targetElParent, elOption, elMap) {\n    var graphicType = elOption.type;\n\n    if (__DEV__) {\n        assert(graphicType, 'graphic type MUST be set');\n    }\n\n    var Clz = graphic[graphicType.charAt(0).toUpperCase() + graphicType.slice(1)];\n\n    if (__DEV__) {\n        assert(Clz, 'graphic type can not be found');\n    }\n\n    var el = new Clz(elOption);\n    targetElParent.add(el);\n    elMap.set(id, el);\n    el.__ecGraphicId = id;\n}\n\nfunction removeEl(existEl, elMap) {\n    var existElParent = existEl && existEl.parent;\n    if (existElParent) {\n        existEl.type === 'group' && existEl.traverse(function (el) {\n            removeEl(el, elMap);\n        });\n        elMap.removeKey(existEl.__ecGraphicId);\n        existElParent.remove(existEl);\n    }\n}\n\n// Remove unnecessary props to avoid potential problems.\nfunction getCleanedElOption(elOption) {\n    elOption = extend({}, elOption);\n    each$1(\n        ['id', 'parentId', '$action', 'hv', 'bounding'].concat(LOCATION_PARAMS),\n        function (name) {\n            delete elOption[name];\n        }\n    );\n    return elOption;\n}\n\nfunction isSetLoc(obj, props) {\n    var isSet;\n    each$1(props, function (prop) {\n        obj[prop] != null && obj[prop] !== 'auto' && (isSet = true);\n    });\n    return isSet;\n}\n\nfunction setKeyInfoToNewElOption(resultItem, newElOption) {\n    var existElOption = resultItem.exist;\n\n    // Set id and type after id assigned.\n    newElOption.id = resultItem.keyInfo.id;\n    !newElOption.type && existElOption && (newElOption.type = existElOption.type);\n\n    // Set parent id if not specified\n    if (newElOption.parentId == null) {\n        var newElParentOption = newElOption.parentOption;\n        if (newElParentOption) {\n            newElOption.parentId = newElParentOption.id;\n        }\n        else if (existElOption) {\n            newElOption.parentId = existElOption.parentId;\n        }\n    }\n\n    // Clear\n    newElOption.parentOption = null;\n}\n\nfunction mergeNewElOptionToExist(existList, index, newElOption) {\n    // Update existing options, for `getOption` feature.\n    var newElOptCopy = extend({}, newElOption);\n    var existElOption = existList[index];\n\n    var $action = newElOption.$action || 'merge';\n    if ($action === 'merge') {\n        if (existElOption) {\n\n            if (__DEV__) {\n                var newType = newElOption.type;\n                assert(\n                    !newType || existElOption.type === newType,\n                    'Please set $action: \"replace\" to change `type`'\n                );\n            }\n\n            // We can ensure that newElOptCopy and existElOption are not\n            // the same object, so `merge` will not change newElOptCopy.\n            merge(existElOption, newElOptCopy, true);\n            // Rigid body, use ignoreSize.\n            mergeLayoutParam(existElOption, newElOptCopy, {ignoreSize: true});\n            // Will be used in render.\n            copyLayoutParams(newElOption, existElOption);\n        }\n        else {\n            existList[index] = newElOptCopy;\n        }\n    }\n    else if ($action === 'replace') {\n        existList[index] = newElOptCopy;\n    }\n    else if ($action === 'remove') {\n        // null will be cleaned later.\n        existElOption && (existList[index] = null);\n    }\n}\n\nfunction setLayoutInfoToExist(existItem, newElOption) {\n    if (!existItem) {\n        return;\n    }\n    existItem.hv = newElOption.hv = [\n        // Rigid body, dont care `width`.\n        isSetLoc(newElOption, ['left', 'right']),\n        // Rigid body, dont care `height`.\n        isSetLoc(newElOption, ['top', 'bottom'])\n    ];\n    // Give default group size. Otherwise layout error may occur.\n    if (existItem.type === 'group') {\n        existItem.width == null && (existItem.width = newElOption.width = 0);\n        existItem.height == null && (existItem.height = newElOption.height = 0);\n    }\n}\n\nvar LegendModel = extendComponentModel({\n\n    type: 'legend.plain',\n\n    dependencies: ['series'],\n\n    layoutMode: {\n        type: 'box',\n        // legend.width/height are maxWidth/maxHeight actually,\n        // whereas realy width/height is calculated by its content.\n        // (Setting {left: 10, right: 10} does not make sense).\n        // So consider the case:\n        // `setOption({legend: {left: 10});`\n        // then `setOption({legend: {right: 10});`\n        // The previous `left` should be cleared by setting `ignoreSize`.\n        ignoreSize: true\n    },\n\n    init: function (option, parentModel, ecModel) {\n        this.mergeDefaultAndTheme(option, ecModel);\n\n        option.selected = option.selected || {};\n    },\n\n    mergeOption: function (option) {\n        LegendModel.superCall(this, 'mergeOption', option);\n    },\n\n    optionUpdated: function () {\n        this._updateData(this.ecModel);\n\n        var legendData = this._data;\n\n        // If selectedMode is single, try to select one\n        if (legendData[0] && this.get('selectedMode') === 'single') {\n            var hasSelected = false;\n            // If has any selected in option.selected\n            for (var i = 0; i < legendData.length; i++) {\n                var name = legendData[i].get('name');\n                if (this.isSelected(name)) {\n                    // Force to unselect others\n                    this.select(name);\n                    hasSelected = true;\n                    break;\n                }\n            }\n            // Try select the first if selectedMode is single\n            !hasSelected && this.select(legendData[0].get('name'));\n        }\n    },\n\n    _updateData: function (ecModel) {\n        var legendData = map(this.get('data') || [], function (dataItem) {\n            // Can be string or number\n            if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n                dataItem = {\n                    name: dataItem\n                };\n            }\n            return new Model(dataItem, this, this.ecModel);\n        }, this);\n        this._data = legendData;\n\n        var availableNames = map(ecModel.getSeries(), function (series) {\n            return series.name;\n        });\n        ecModel.eachSeries(function (seriesModel) {\n            if (seriesModel.legendDataProvider) {\n                var data = seriesModel.legendDataProvider();\n                availableNames = availableNames.concat(data.mapArray(data.getName));\n            }\n        });\n        /**\n         * @type {Array.<string>}\n         * @private\n         */\n        this._availableNames = availableNames;\n    },\n\n    /**\n     * @return {Array.<module:echarts/model/Model>}\n     */\n    getData: function () {\n        return this._data;\n    },\n\n    /**\n     * @param {string} name\n     */\n    select: function (name) {\n        var selected = this.option.selected;\n        var selectedMode = this.get('selectedMode');\n        if (selectedMode === 'single') {\n            var data = this._data;\n            each$1(data, function (dataItem) {\n                selected[dataItem.get('name')] = false;\n            });\n        }\n        selected[name] = true;\n    },\n\n    /**\n     * @param {string} name\n     */\n    unSelect: function (name) {\n        if (this.get('selectedMode') !== 'single') {\n            this.option.selected[name] = false;\n        }\n    },\n\n    /**\n     * @param {string} name\n     */\n    toggleSelected: function (name) {\n        var selected = this.option.selected;\n        // Default is true\n        if (!selected.hasOwnProperty(name)) {\n            selected[name] = true;\n        }\n        this[selected[name] ? 'unSelect' : 'select'](name);\n    },\n\n    /**\n     * @param {string} name\n     */\n    isSelected: function (name) {\n        var selected = this.option.selected;\n        return !(selected.hasOwnProperty(name) && !selected[name])\n            && indexOf(this._availableNames, name) >= 0;\n    },\n\n    defaultOption: {\n        // \n        zlevel: 0,\n        // \n        z: 4,\n        show: true,\n\n        // \n        // 'horizontal' | 'vertical'\n        orient: 'horizontal',\n\n        left: 'center',\n        // right: 'center',\n\n        top: 0,\n        // bottom: null,\n\n        // \n        // 'auto' | 'left' | 'right'\n        //  'auto',  x \n        align: 'auto',\n\n        backgroundColor: 'rgba(0,0,0,0)',\n        // \n        borderColor: '#ccc',\n        borderRadius: 0,\n        // px0\n        borderWidth: 0,\n        // px5\n        // css\n        padding: 5,\n        // itempx10\n        // \n        itemGap: 10,\n        // \n        itemWidth: 25,\n        // \n        itemHeight: 14,\n\n        // \n        inactiveColor: '#ccc',\n\n        textStyle: {\n            // \n            color: '#333'\n        },\n        // formatter: '',\n        // \n        selectedMode: true,\n        // LEGEND.SELECTED\n        // selected: null,\n        // legend.dataitem\n        // data: [],\n\n        // Tooltip \n        tooltip: {\n            show: false\n        }\n    }\n});\n\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n    var selectedMap = {};\n    var isToggleSelect = methodName === 'toggleSelected';\n    var isSelected;\n    // Update all legend components\n    ecModel.eachComponent('legend', function (legendModel) {\n        if (isToggleSelect && isSelected != null) {\n            // Force other legend has same selected status\n            // Or the first is toggled to true and other are toggled to false\n            // In the case one legend has some item unSelected in option. And if other legend\n            // doesn't has the item, they will assume it is selected.\n            legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n        }\n        else {\n            legendModel[methodName](payload.name);\n            isSelected = legendModel.isSelected(payload.name);\n        }\n        var legendData = legendModel.getData();\n        each$1(legendData, function (model) {\n            var name = model.get('name');\n            // Wrap element\n            if (name === '\\n' || name === '') {\n                return;\n            }\n            var isItemSelected = legendModel.isSelected(name);\n            if (selectedMap.hasOwnProperty(name)) {\n                // Unselected if any legend is unselected\n                selectedMap[name] = selectedMap[name] && isItemSelected;\n            }\n            else {\n                selectedMap[name] = isItemSelected;\n            }\n        });\n    });\n    // Return the event explicitly\n    return {\n        name: payload.name,\n        selected: selectedMap\n    };\n}\n/**\n * @event legendToggleSelect\n * @type {Object}\n * @property {string} type 'legendToggleSelect'\n * @property {string} [from]\n * @property {string} name Series name or data item name\n */\nregisterAction(\n    'legendToggleSelect', 'legendselectchanged',\n    curry(legendSelectActionHandler, 'toggleSelected')\n);\n\n/**\n * @event legendSelect\n * @type {Object}\n * @property {string} type 'legendSelect'\n * @property {string} name Series name or data item name\n */\nregisterAction(\n    'legendSelect', 'legendselected',\n    curry(legendSelectActionHandler, 'select')\n);\n\n/**\n * @event legendUnSelect\n * @type {Object}\n * @property {string} type 'legendUnSelect'\n * @property {string} name Series name or data item name\n */\nregisterAction(\n    'legendUnSelect', 'legendunselected',\n    curry(legendSelectActionHandler, 'unSelect')\n);\n\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\nfunction layout$2(group, componentModel, api) {\n    var boxLayoutParams = componentModel.getBoxLayoutParams();\n    var padding = componentModel.get('padding');\n    var viewportSize = {width: api.getWidth(), height: api.getHeight()};\n\n    var rect = getLayoutRect(\n        boxLayoutParams,\n        viewportSize,\n        padding\n    );\n\n    box(\n        componentModel.get('orient'),\n        group,\n        componentModel.get('itemGap'),\n        rect.width,\n        rect.height\n    );\n\n    positionElement(\n        group,\n        boxLayoutParams,\n        viewportSize,\n        padding\n    );\n}\n\nfunction makeBackground(rect, componentModel) {\n    var padding = normalizeCssArray$1(\n        componentModel.get('padding')\n    );\n    var style = componentModel.getItemStyle(['color', 'opacity']);\n    style.fill = componentModel.get('backgroundColor');\n    var rect = new Rect({\n        shape: {\n            x: rect.x - padding[3],\n            y: rect.y - padding[0],\n            width: rect.width + padding[1] + padding[3],\n            height: rect.height + padding[0] + padding[2],\n            r: componentModel.get('borderRadius')\n        },\n        style: style,\n        silent: true,\n        z2: -1\n    });\n    // FIXME\n    // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n    // and background rect when setting like `left: 0`, `top: 0`.\n    // graphic.subPixelOptimizeRect(rect);\n\n    return rect;\n}\n\nvar curry$4 = curry;\nvar each$19 = each$1;\nvar Group$3 = Group;\n\nvar LegendView = extendComponentView({\n\n    type: 'legend.plain',\n\n    newlineDisabled: false,\n\n    /**\n     * @override\n     */\n    init: function () {\n\n        /**\n         * @private\n         * @type {module:zrender/container/Group}\n         */\n        this.group.add(this._contentGroup = new Group$3());\n\n        /**\n         * @private\n         * @type {module:zrender/Element}\n         */\n        this._backgroundEl;\n    },\n\n    /**\n     * @protected\n     */\n    getContentGroup: function () {\n        return this._contentGroup;\n    },\n\n    /**\n     * @override\n     */\n    render: function (legendModel, ecModel, api) {\n\n        this.resetInner();\n\n        if (!legendModel.get('show', true)) {\n            return;\n        }\n\n        var itemAlign = legendModel.get('align');\n        if (!itemAlign || itemAlign === 'auto') {\n            itemAlign = (\n                legendModel.get('left') === 'right'\n                && legendModel.get('orient') === 'vertical'\n            ) ? 'right' : 'left';\n        }\n\n        this.renderInner(itemAlign, legendModel, ecModel, api);\n\n        // Perform layout.\n        var positionInfo = legendModel.getBoxLayoutParams();\n        var viewportSize = {width: api.getWidth(), height: api.getHeight()};\n        var padding = legendModel.get('padding');\n\n        var maxSize = getLayoutRect(positionInfo, viewportSize, padding);\n        var mainRect = this.layoutInner(legendModel, itemAlign, maxSize);\n\n        // Place mainGroup, based on the calculated `mainRect`.\n        var layoutRect = getLayoutRect(\n            defaults({width: mainRect.width, height: mainRect.height}, positionInfo),\n            viewportSize,\n            padding\n        );\n        this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]);\n\n        // Render background after group is layout.\n        this.group.add(\n            this._backgroundEl = makeBackground(mainRect, legendModel)\n        );\n    },\n\n    /**\n     * @protected\n     */\n    resetInner: function () {\n        this.getContentGroup().removeAll();\n        this._backgroundEl && this.group.remove(this._backgroundEl);\n    },\n\n    /**\n     * @protected\n     */\n    renderInner: function (itemAlign, legendModel, ecModel, api) {\n        var contentGroup = this.getContentGroup();\n        var legendDrawnMap = createHashMap();\n        var selectMode = legendModel.get('selectedMode');\n\n        each$19(legendModel.getData(), function (itemModel, dataIndex) {\n            var name = itemModel.get('name');\n\n            // Use empty string or \\n as a newline string\n            if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n                contentGroup.add(new Group$3({\n                    newline: true\n                }));\n                return;\n            }\n\n            var seriesModel = ecModel.getSeriesByName(name)[0];\n\n            if (legendDrawnMap.get(name)) {\n                // Have been drawed\n                return;\n            }\n\n            // Series legend\n            if (seriesModel) {\n                var data = seriesModel.getData();\n                var color = data.getVisual('color');\n\n                // If color is a callback function\n                if (typeof color === 'function') {\n                    // Use the first data\n                    color = color(seriesModel.getDataParams(0));\n                }\n\n                // Using rect symbol defaultly\n                var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n                var symbolType = data.getVisual('symbol');\n\n                var itemGroup = this._createItem(\n                    name, dataIndex, itemModel, legendModel,\n                    legendSymbolType, symbolType,\n                    itemAlign, color,\n                    selectMode\n                );\n\n                itemGroup.on('click', curry$4(dispatchSelectAction, name, api))\n                    .on('mouseover', curry$4(dispatchHighlightAction, seriesModel, null, api))\n                    .on('mouseout', curry$4(dispatchDownplayAction, seriesModel, null, api));\n\n                legendDrawnMap.set(name, true);\n            }\n            else {\n                // Data legend of pie, funnel\n                ecModel.eachRawSeries(function (seriesModel) {\n                    // In case multiple series has same data name\n                    if (legendDrawnMap.get(name)) {\n                        return;\n                    }\n                    if (seriesModel.legendDataProvider) {\n                        var data = seriesModel.legendDataProvider();\n                        var idx = data.indexOfName(name);\n                        if (idx < 0) {\n                            return;\n                        }\n\n                        var color = data.getItemVisual(idx, 'color');\n\n                        var legendSymbolType = 'roundRect';\n\n                        var itemGroup = this._createItem(\n                            name, dataIndex, itemModel, legendModel,\n                            legendSymbolType, null,\n                            itemAlign, color,\n                            selectMode\n                        );\n\n                        itemGroup.on('click', curry$4(dispatchSelectAction, name, api))\n                            // FIXME Should not specify the series name\n                            .on('mouseover', curry$4(dispatchHighlightAction, seriesModel, name, api))\n                            .on('mouseout', curry$4(dispatchDownplayAction, seriesModel, name, api));\n\n                        legendDrawnMap.set(name, true);\n                    }\n                }, this);\n            }\n\n            if (__DEV__) {\n                if (!legendDrawnMap.get(name)) {\n                    console.warn(name + ' series not exists. Legend data should be same with series name or data name.');\n                }\n            }\n        }, this);\n    },\n\n    _createItem: function (\n        name, dataIndex, itemModel, legendModel,\n        legendSymbolType, symbolType,\n        itemAlign, color, selectMode\n    ) {\n        var itemWidth = legendModel.get('itemWidth');\n        var itemHeight = legendModel.get('itemHeight');\n        var inactiveColor = legendModel.get('inactiveColor');\n\n        var isSelected = legendModel.isSelected(name);\n        var itemGroup = new Group$3();\n\n        var textStyleModel = itemModel.getModel('textStyle');\n\n        var itemIcon = itemModel.get('icon');\n\n        var tooltipModel = itemModel.getModel('tooltip');\n        var legendGlobalTooltipModel = tooltipModel.parentModel;\n\n        // Use user given icon first\n        legendSymbolType = itemIcon || legendSymbolType;\n        itemGroup.add(createSymbol(\n            legendSymbolType,\n            0,\n            0,\n            itemWidth,\n            itemHeight,\n            isSelected ? color : inactiveColor,\n            true\n        ));\n\n        // Compose symbols\n        // PENDING\n        if (!itemIcon && symbolType\n            // At least show one symbol, can't be all none\n            && ((symbolType !== legendSymbolType) || symbolType == 'none')\n        ) {\n            var size = itemHeight * 0.8;\n            if (symbolType === 'none') {\n                symbolType = 'circle';\n            }\n            // Put symbol in the center\n            itemGroup.add(createSymbol(\n                symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size,\n                isSelected ? color : inactiveColor\n            ));\n        }\n\n        var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n        var textAlign = itemAlign;\n\n        var formatter = legendModel.get('formatter');\n        var content = name;\n        if (typeof formatter === 'string' && formatter) {\n            content = formatter.replace('{name}', name != null ? name : '');\n        }\n        else if (typeof formatter === 'function') {\n            content = formatter(name);\n        }\n\n        itemGroup.add(new Text({\n            style: setTextStyle({}, textStyleModel, {\n                text: content,\n                x: textX,\n                y: itemHeight / 2,\n                textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n                textAlign: textAlign,\n                textVerticalAlign: 'middle'\n            })\n        }));\n\n        // Add a invisible rect to increase the area of mouse hover\n        var hitRect = new Rect({\n            shape: itemGroup.getBoundingRect(),\n            invisible: true,\n            tooltip: tooltipModel.get('show') ? extend({\n                content: name,\n                // Defaul formatter\n                formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n                    return name;\n                },\n                formatterParams: {\n                    componentType: 'legend',\n                    legendIndex: legendModel.componentIndex,\n                    name: name,\n                    $vars: ['name']\n                }\n            }, tooltipModel.option) : null\n        });\n        itemGroup.add(hitRect);\n\n        itemGroup.eachChild(function (child) {\n            child.silent = true;\n        });\n\n        hitRect.silent = !selectMode;\n\n        this.getContentGroup().add(itemGroup);\n\n        setHoverStyle(itemGroup);\n\n        itemGroup.__legendDataIndex = dataIndex;\n\n        return itemGroup;\n    },\n\n    /**\n     * @protected\n     */\n    layoutInner: function (legendModel, itemAlign, maxSize) {\n        var contentGroup = this.getContentGroup();\n\n        // Place items in contentGroup.\n        box(\n            legendModel.get('orient'),\n            contentGroup,\n            legendModel.get('itemGap'),\n            maxSize.width,\n            maxSize.height\n        );\n\n        var contentRect = contentGroup.getBoundingRect();\n        contentGroup.attr('position', [-contentRect.x, -contentRect.y]);\n\n        return this.group.getBoundingRect();\n    }\n\n});\n\nfunction dispatchSelectAction(name, api) {\n    api.dispatchAction({\n        type: 'legendToggleSelect',\n        name: name\n    });\n}\n\nfunction dispatchHighlightAction(seriesModel, dataName, api) {\n    // If element hover will move to a hoverLayer.\n    var el = api.getZr().storage.getDisplayList()[0];\n    if (!(el && el.useHoverLayer)) {\n        seriesModel.get('legendHoverLink') && api.dispatchAction({\n            type: 'highlight',\n            seriesName: seriesModel.name,\n            name: dataName\n        });\n    }\n}\n\nfunction dispatchDownplayAction(seriesModel, dataName, api) {\n    // If element hover will move to a hoverLayer.\n    var el = api.getZr().storage.getDisplayList()[0];\n    if (!(el && el.useHoverLayer)) {\n        seriesModel.get('legendHoverLink') && api.dispatchAction({\n            type: 'downplay',\n            seriesName: seriesModel.name,\n            name: dataName\n        });\n    }\n}\n\nvar legendFilter = function (ecModel) {\n\n    var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n    });\n    if (legendModels && legendModels.length) {\n        ecModel.filterSeries(function (series) {\n            // If in any legend component the status is not selected.\n            // Because in legend series is assumed selected when it is not in the legend data.\n            for (var i = 0; i < legendModels.length; i++) {\n                if (!legendModels[i].isSelected(series.name)) {\n                    return false;\n                }\n            }\n            return true;\n        });\n    }\n\n};\n\n// Do not contain scrollable legend, for sake of file size.\n\n// Series Filter\nregisterProcessor(legendFilter);\n\nComponentModel.registerSubTypeDefaulter('legend', function () {\n    // Default 'plain' when no type specified.\n    return 'plain';\n});\n\nvar ScrollableLegendModel = LegendModel.extend({\n\n    type: 'legend.scroll',\n\n    /**\n     * @param {number} scrollDataIndex\n     */\n    setScrollDataIndex: function (scrollDataIndex) {\n        this.option.scrollDataIndex = scrollDataIndex;\n    },\n\n    defaultOption: {\n        scrollDataIndex: 0,\n        pageButtonItemGap: 5,\n        pageButtonGap: null,\n        pageButtonPosition: 'end', // 'start' or 'end'\n        pageFormatter: '{current}/{total}', // If null/undefined, do not show page.\n        pageIcons: {\n            horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n            vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n        },\n        pageIconColor: '#2f4554',\n        pageIconInactiveColor: '#aaa',\n        pageIconSize: 15, // Can be [10, 3], which represents [width, height]\n        pageTextStyle: {\n            color: '#333'\n        },\n\n        animationDurationUpdate: 800\n    },\n\n    /**\n     * @override\n     */\n    init: function (option, parentModel, ecModel, extraOpt) {\n        var inputPositionParams = getLayoutParams(option);\n\n        ScrollableLegendModel.superCall(this, 'init', option, parentModel, ecModel, extraOpt);\n\n        mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n    },\n\n    /**\n     * @override\n     */\n    mergeOption: function (option, extraOpt) {\n        ScrollableLegendModel.superCall(this, 'mergeOption', option, extraOpt);\n\n        mergeAndNormalizeLayoutParams(this, this.option, option);\n    },\n\n    getOrient: function () {\n        return this.get('orient') === 'vertical'\n            ? {index: 1, name: 'vertical'}\n            : {index: 0, name: 'horizontal'};\n    }\n\n});\n\n// Do not `ignoreSize` to enable setting {left: 10, right: 10}.\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n    var orient = legendModel.getOrient();\n    var ignoreSize = [1, 1];\n    ignoreSize[orient.index] = 0;\n    mergeLayoutParam(target, raw, {\n        type: 'box', ignoreSize: ignoreSize\n    });\n}\n\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\n\nvar Group$4 = Group;\n\nvar WH$1 = ['width', 'height'];\nvar XY$1 = ['x', 'y'];\n\nvar ScrollableLegendView = LegendView.extend({\n\n    type: 'legend.scroll',\n\n    newlineDisabled: true,\n\n    init: function () {\n\n        ScrollableLegendView.superCall(this, 'init');\n\n        /**\n         * @private\n         * @type {number} For `scroll`.\n         */\n        this._currentIndex = 0;\n\n        /**\n         * @private\n         * @type {module:zrender/container/Group}\n         */\n        this.group.add(this._containerGroup = new Group$4());\n        this._containerGroup.add(this.getContentGroup());\n\n        /**\n         * @private\n         * @type {module:zrender/container/Group}\n         */\n        this.group.add(this._controllerGroup = new Group$4());\n\n        /**\n         *\n         * @private\n         */\n        this._showController;\n    },\n\n    /**\n     * @override\n     */\n    resetInner: function () {\n        ScrollableLegendView.superCall(this, 'resetInner');\n\n        this._controllerGroup.removeAll();\n        this._containerGroup.removeClipPath();\n        this._containerGroup.__rectSize = null;\n    },\n\n    /**\n     * @override\n     */\n    renderInner: function (itemAlign, legendModel, ecModel, api) {\n        var me = this;\n\n        // Render content items.\n        ScrollableLegendView.superCall(this, 'renderInner', itemAlign, legendModel, ecModel, api);\n\n        var controllerGroup = this._controllerGroup;\n\n        var pageIconSize = legendModel.get('pageIconSize', true);\n        if (!isArray(pageIconSize)) {\n            pageIconSize = [pageIconSize, pageIconSize];\n        }\n\n        createPageButton('pagePrev', 0);\n\n        var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n        controllerGroup.add(new Text({\n            name: 'pageText',\n            style: {\n                textFill: pageTextStyleModel.getTextColor(),\n                font: pageTextStyleModel.getFont(),\n                textVerticalAlign: 'middle',\n                textAlign: 'center'\n            },\n            silent: true\n        }));\n\n        createPageButton('pageNext', 1);\n\n        function createPageButton(name, iconIdx) {\n            var pageDataIndexName = name + 'DataIndex';\n            var icon = createIcon(\n                legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx],\n                {\n                    // Buttons will be created in each render, so we do not need\n                    // to worry about avoiding using legendModel kept in scope.\n                    onclick: bind(\n                        me._pageGo, me, pageDataIndexName, legendModel, api\n                    )\n                },\n                {\n                    x: -pageIconSize[0] / 2,\n                    y: -pageIconSize[1] / 2,\n                    width: pageIconSize[0],\n                    height: pageIconSize[1]\n                }\n            );\n            icon.name = name;\n            controllerGroup.add(icon);\n        }\n    },\n\n    /**\n     * @override\n     */\n    layoutInner: function (legendModel, itemAlign, maxSize) {\n        var contentGroup = this.getContentGroup();\n        var containerGroup = this._containerGroup;\n        var controllerGroup = this._controllerGroup;\n\n        var orientIdx = legendModel.getOrient().index;\n        var wh = WH$1[orientIdx];\n        var hw = WH$1[1 - orientIdx];\n        var yx = XY$1[1 - orientIdx];\n\n        // Place items in contentGroup.\n        box(\n            legendModel.get('orient'),\n            contentGroup,\n            legendModel.get('itemGap'),\n            !orientIdx ? null : maxSize.width,\n            orientIdx ? null : maxSize.height\n        );\n\n        box(\n            // Buttons in controller are layout always horizontally.\n            'horizontal',\n            controllerGroup,\n            legendModel.get('pageButtonItemGap', true)\n        );\n\n        var contentRect = contentGroup.getBoundingRect();\n        var controllerRect = controllerGroup.getBoundingRect();\n        var showController = this._showController = contentRect[wh] > maxSize[wh];\n\n        var contentPos = [-contentRect.x, -contentRect.y];\n        // Remain contentPos when scroll animation perfroming.\n        contentPos[orientIdx] = contentGroup.position[orientIdx];\n\n        // Layout container group based on 0.\n        var containerPos = [0, 0];\n        var controllerPos = [-controllerRect.x, -controllerRect.y];\n        var pageButtonGap = retrieve2(\n            legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true)\n        );\n\n        // Place containerGroup and controllerGroup and contentGroup.\n        if (showController) {\n            var pageButtonPosition = legendModel.get('pageButtonPosition', true);\n            // controller is on the right / bottom.\n            if (pageButtonPosition === 'end') {\n                controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n            }\n            // controller is on the left / top.\n            else {\n                containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n            }\n        }\n\n        // Always align controller to content as 'middle'.\n        controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n\n        contentGroup.attr('position', contentPos);\n        containerGroup.attr('position', containerPos);\n        controllerGroup.attr('position', controllerPos);\n\n        // Calculate `mainRect` and set `clipPath`.\n        // mainRect should not be calculated by `this.group.getBoundingRect()`\n        // for sake of the overflow.\n        var mainRect = this.group.getBoundingRect();\n        var mainRect = {x: 0, y: 0};\n        // Consider content may be overflow (should be clipped).\n        mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n        mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]);\n        // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n        mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n\n        containerGroup.__rectSize = maxSize[wh];\n        if (showController) {\n            var clipShape = {x: 0, y: 0};\n            clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n            clipShape[hw] = mainRect[hw];\n            containerGroup.setClipPath(new Rect({shape: clipShape}));\n            // Consider content may be larger than container, container rect\n            // can not be obtained from `containerGroup.getBoundingRect()`.\n            containerGroup.__rectSize = clipShape[wh];\n        }\n        else {\n            // Do not remove or ignore controller. Keep them set as place holders.\n            controllerGroup.eachChild(function (child) {\n                child.attr({invisible: true, silent: true});\n            });\n        }\n\n        // Content translate animation.\n        var pageInfo = this._getPageInfo(legendModel);\n        pageInfo.pageIndex != null && updateProps(\n            contentGroup,\n            {position: pageInfo.contentPosition},\n            // When switch from \"show controller\" to \"not show controller\", view should be\n            // updated immediately without animation, otherwise causes weird efffect.\n            showController ? legendModel : false\n        );\n\n        this._updatePageInfoView(legendModel, pageInfo);\n\n        return mainRect;\n    },\n\n    _pageGo: function (to, legendModel, api) {\n        var scrollDataIndex = this._getPageInfo(legendModel)[to];\n\n        scrollDataIndex != null && api.dispatchAction({\n            type: 'legendScroll',\n            scrollDataIndex: scrollDataIndex,\n            legendId: legendModel.id\n        });\n    },\n\n    _updatePageInfoView: function (legendModel, pageInfo) {\n        var controllerGroup = this._controllerGroup;\n\n        each$1(['pagePrev', 'pageNext'], function (name) {\n            var canJump = pageInfo[name + 'DataIndex'] != null;\n            var icon = controllerGroup.childOfName(name);\n            if (icon) {\n                icon.setStyle(\n                    'fill',\n                    canJump\n                        ? legendModel.get('pageIconColor', true)\n                        : legendModel.get('pageIconInactiveColor', true)\n                );\n                icon.cursor = canJump ? 'pointer' : 'default';\n            }\n        });\n\n        var pageText = controllerGroup.childOfName('pageText');\n        var pageFormatter = legendModel.get('pageFormatter');\n        var pageIndex = pageInfo.pageIndex;\n        var current = pageIndex != null ? pageIndex + 1 : 0;\n        var total = pageInfo.pageCount;\n\n        pageText && pageFormatter && pageText.setStyle(\n            'text',\n            isString(pageFormatter)\n                ? pageFormatter.replace('{current}', current).replace('{total}', total)\n                : pageFormatter({current: current, total: total})\n        );\n    },\n\n    /**\n     * @param {module:echarts/model/Model} legendModel\n     * @return {Object} {\n     *  contentPosition: Array.<number>, null when data item not found.\n     *  pageIndex: number, null when data item not found.\n     *  pageCount: number, always be a number, can be 0.\n     *  pagePrevDataIndex: number, null when no next page.\n     *  pageNextDataIndex: number, null when no previous page.\n     * }\n     */\n    _getPageInfo: function (legendModel) {\n        // Align left or top by the current dataIndex.\n        var currDataIndex = legendModel.get('scrollDataIndex', true);\n        var contentGroup = this.getContentGroup();\n        var contentRect = contentGroup.getBoundingRect();\n        var containerRectSize = this._containerGroup.__rectSize;\n\n        var orientIdx = legendModel.getOrient().index;\n        var wh = WH$1[orientIdx];\n        var hw = WH$1[1 - orientIdx];\n        var xy = XY$1[orientIdx];\n        var contentPos = contentGroup.position.slice();\n\n        var pageIndex;\n        var pagePrevDataIndex;\n        var pageNextDataIndex;\n\n        var targetItemGroup;\n        if (this._showController) {\n            contentGroup.eachChild(function (child) {\n                if (child.__legendDataIndex === currDataIndex) {\n                    targetItemGroup = child;\n                }\n            });\n        }\n        else {\n            targetItemGroup = contentGroup.childAt(0);\n        }\n\n        var pageCount = containerRectSize ? Math.ceil(contentRect[wh] / containerRectSize) : 0;\n\n        if (targetItemGroup) {\n            var itemRect = targetItemGroup.getBoundingRect();\n            var itemLoc = targetItemGroup.position[orientIdx] + itemRect[xy];\n            contentPos[orientIdx] = -itemLoc - contentRect[xy];\n            pageIndex = Math.floor(\n                pageCount * (itemLoc + itemRect[xy] + containerRectSize / 2) / contentRect[wh]\n            );\n            pageIndex = (contentRect[wh] && pageCount)\n                ? Math.max(0, Math.min(pageCount - 1, pageIndex))\n                : -1;\n\n            var winRect = {x: 0, y: 0};\n            winRect[wh] = containerRectSize;\n            winRect[hw] = contentRect[hw];\n            winRect[xy] = -contentPos[orientIdx] - contentRect[xy];\n\n            var startIdx;\n            var children = contentGroup.children();\n\n            contentGroup.eachChild(function (child, index) {\n                var itemRect = getItemRect(child);\n\n                if (itemRect.intersect(winRect)) {\n                    startIdx == null && (startIdx = index);\n                    // It is user-friendly that the last item shown in the\n                    // current window is shown at the begining of next window.\n                    pageNextDataIndex = child.__legendDataIndex;\n                }\n\n                // If the last item is shown entirely, no next page.\n                if (index === children.length - 1\n                    && itemRect[xy] + itemRect[wh] <= winRect[xy] + winRect[wh]\n                ) {\n                    pageNextDataIndex = null;\n                }\n            });\n\n            // Always align based on the left/top most item, so the left/top most\n            // item in the previous window is needed to be found here.\n            if (startIdx != null) {\n                var startItem = children[startIdx];\n                var startRect = getItemRect(startItem);\n                winRect[xy] = startRect[xy] + startRect[wh] - winRect[wh];\n\n                // If the first item is shown entirely, no previous page.\n                if (startIdx <= 0 && startRect[xy] >= winRect[xy]) {\n                    pagePrevDataIndex = null;\n                }\n                else {\n                    while (startIdx > 0 && getItemRect(children[startIdx - 1]).intersect(winRect)) {\n                        startIdx--;\n                    }\n                    pagePrevDataIndex = children[startIdx].__legendDataIndex;\n                }\n            }\n        }\n\n        return {\n            contentPosition: contentPos,\n            pageIndex: pageIndex,\n            pageCount: pageCount,\n            pagePrevDataIndex: pagePrevDataIndex,\n            pageNextDataIndex: pageNextDataIndex\n        };\n\n        function getItemRect(el) {\n            var itemRect = el.getBoundingRect().clone();\n            itemRect[xy] += el.position[orientIdx];\n            return itemRect;\n        }\n    }\n\n});\n\n/**\n * @event legendScroll\n * @type {Object}\n * @property {string} type 'legendScroll'\n * @property {string} scrollDataIndex\n */\nregisterAction(\n    'legendScroll', 'legendscroll',\n    function (payload, ecModel) {\n        var scrollDataIndex = payload.scrollDataIndex;\n\n        scrollDataIndex != null && ecModel.eachComponent(\n            {mainType: 'legend', subType: 'scroll', query: payload},\n            function (legendModel) {\n                legendModel.setScrollDataIndex(scrollDataIndex);\n            }\n        );\n    }\n);\n\n/**\n * Legend component entry file8\n */\n\nextendComponentModel({\n\n    type: 'tooltip',\n\n    dependencies: ['axisPointer'],\n\n    defaultOption: {\n        zlevel: 0,\n\n        z: 8,\n\n        show: true,\n\n        // tooltip\n        showContent: true,\n\n        // 'trigger' only works on coordinate system.\n        // 'item' | 'axis' | 'none'\n        trigger: 'item',\n\n        // 'click' | 'mousemove' | 'none'\n        triggerOn: 'mousemove|click',\n\n        alwaysShowContent: false,\n\n        displayMode: 'single', // 'single' | 'multipleByCoordSys'\n\n        //  {Array} | {Function}\n        // position: null\n        // Consider triggered from axisPointer handle, verticalAlign should be 'middle'\n        // align: null,\n        // verticalAlign: null,\n\n        //  content  viewRect  false \n        confine: false,\n\n        // {string}Template  {Function}\n        // formatter: null\n\n        showDelay: 0,\n\n        // ms\n        hideDelay: 100,\n\n        // s\n        transitionDuration: 0.4,\n\n        enterable: false,\n\n        // 0.7\n        backgroundColor: 'rgba(50,50,50,0.7)',\n\n        // \n        borderColor: '#333',\n\n        // px4\n        borderRadius: 4,\n\n        // px0\n        borderWidth: 0,\n\n        // px5\n        // css\n        padding: 5,\n\n        // Extra css text\n        extraCssText: '',\n\n        // \n        axisPointer: {\n            // \n            // 'line' | 'shadow' | 'cross'\n            type: 'line',\n\n            // type  line  tooltip line \n            //  'x' | 'y' | 'angle' | 'radius' | 'auto'\n            //  'auto' cateogry  x \n            //  angle \n            axis: 'auto',\n\n            animation: 'auto',\n            animationDurationUpdate: 200,\n            animationEasingUpdate: 'exponentialOut',\n\n            crossStyle: {\n                color: '#999',\n                width: 1,\n                type: 'dashed',\n\n                // TODO formatter\n                textStyle: {}\n            }\n\n            // lineStyle and shadowStyle should not be specified here,\n            // otherwise it will always override those styles on option.axisPointer.\n        },\n        textStyle: {\n            color: '#fff',\n            fontSize: 14\n        }\n    }\n});\n\nvar each$21 = each$1;\nvar toCamelCase$1 = toCamelCase;\n\nvar vendors = ['', '-webkit-', '-moz-', '-o-'];\n\nvar gCssText = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;';\n\n/**\n * @param {number} duration\n * @return {string}\n * @inner\n */\nfunction assembleTransition(duration) {\n    var transitionCurve = 'cubic-bezier(0.23, 1, 0.32, 1)';\n    var transitionText = 'left ' + duration + 's ' + transitionCurve + ','\n                        + 'top ' + duration + 's ' + transitionCurve;\n    return map(vendors, function (vendorPrefix) {\n        return vendorPrefix + 'transition:' + transitionText;\n    }).join(';');\n}\n\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\nfunction assembleFont(textStyleModel) {\n    var cssText = [];\n\n    var fontSize = textStyleModel.get('fontSize');\n    var color = textStyleModel.getTextColor();\n\n    color && cssText.push('color:' + color);\n\n    cssText.push('font:' + textStyleModel.getFont());\n\n    fontSize &&\n        cssText.push('line-height:' + Math.round(fontSize * 3 / 2) + 'px');\n\n    each$21(['decoration', 'align'], function (name) {\n        var val = textStyleModel.get(name);\n        val && cssText.push('text-' + name + ':' + val);\n    });\n\n    return cssText.join(';');\n}\n\n/**\n * @param {Object} tooltipModel\n * @return {string}\n * @inner\n */\nfunction assembleCssText(tooltipModel) {\n\n    var cssText = [];\n\n    var transitionDuration = tooltipModel.get('transitionDuration');\n    var backgroundColor = tooltipModel.get('backgroundColor');\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    var padding = tooltipModel.get('padding');\n\n    // Animation transition. Do not animate when transitionDuration is 0.\n    transitionDuration &&\n        cssText.push(assembleTransition(transitionDuration));\n\n    if (backgroundColor) {\n        if (env$1.canvasSupported) {\n            cssText.push('background-Color:' + backgroundColor);\n        }\n        else {\n            // for ie\n            cssText.push(\n                'background-Color:#' + toHex(backgroundColor)\n            );\n            cssText.push('filter:alpha(opacity=70)');\n        }\n    }\n\n    // Border style\n    each$21(['width', 'color', 'radius'], function (name) {\n        var borderName = 'border-' + name;\n        var camelCase = toCamelCase$1(borderName);\n        var val = tooltipModel.get(camelCase);\n        val != null &&\n            cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n    });\n\n    // Text style\n    cssText.push(assembleFont(textStyleModel));\n\n    // Padding\n    if (padding != null) {\n        cssText.push('padding:' + normalizeCssArray$1(padding).join('px ') + 'px');\n    }\n\n    return cssText.join(';') + ';';\n}\n\n/**\n * @alias module:echarts/component/tooltip/TooltipContent\n * @constructor\n */\nfunction TooltipContent(container, api) {\n    var el = document.createElement('div');\n    var zr = this._zr = api.getZr();\n\n    this.el = el;\n\n    this._x = api.getWidth() / 2;\n    this._y = api.getHeight() / 2;\n\n    container.appendChild(el);\n\n    this._container = container;\n\n    this._show = false;\n\n    /**\n     * @private\n     */\n    this._hideTimeout;\n\n    var self = this;\n    el.onmouseenter = function () {\n        // clear the timeout in hideLater and keep showing tooltip\n        if (self._enterable) {\n            clearTimeout(self._hideTimeout);\n            self._show = true;\n        }\n        self._inContent = true;\n    };\n    el.onmousemove = function (e) {\n        e = e || window.event;\n        if (!self._enterable) {\n            // Try trigger zrender event to avoid mouse\n            // in and out shape too frequently\n            var handler = zr.handler;\n            normalizeEvent(container, e, true);\n            handler.dispatch('mousemove', e);\n        }\n    };\n    el.onmouseleave = function () {\n        if (self._enterable) {\n            if (self._show) {\n                self.hideLater(self._hideDelay);\n            }\n        }\n        self._inContent = false;\n    };\n}\n\nTooltipContent.prototype = {\n\n    constructor: TooltipContent,\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _enterable: true,\n\n    /**\n     * Update when tooltip is rendered\n     */\n    update: function () {\n        // FIXME\n        // Move this logic to ec main?\n        var container = this._container;\n        var stl = container.currentStyle\n            || document.defaultView.getComputedStyle(container);\n        var domStyle = container.style;\n        if (domStyle.position !== 'absolute' && stl.position !== 'absolute') {\n            domStyle.position = 'relative';\n        }\n        // Hide the tooltip\n        // PENDING\n        // this.hide();\n    },\n\n    show: function (tooltipModel) {\n        clearTimeout(this._hideTimeout);\n        var el = this.el;\n\n        el.style.cssText = gCssText + assembleCssText(tooltipModel)\n            // http://stackoverflow.com/questions/21125587/css3-transition-not-working-in-chrome-anymore\n            + ';left:' + this._x + 'px;top:' + this._y + 'px;'\n            + (tooltipModel.get('extraCssText') || '');\n\n        el.style.display = el.innerHTML ?  'block' : 'none';\n\n        this._show = true;\n    },\n\n    setContent: function (content) {\n        this.el.innerHTML = content == null ? '' : content;\n    },\n\n    setEnterable: function (enterable) {\n        this._enterable = enterable;\n    },\n\n    getSize: function () {\n        var el = this.el;\n        return [el.clientWidth, el.clientHeight];\n    },\n\n    moveTo: function (x, y) {\n        // xy should be based on canvas root. But tooltipContent is\n        // the sibling of canvas root. So padding of ec container\n        // should be considered here.\n        var zr = this._zr;\n        var viewportRootOffset;\n        if (zr && zr.painter && (viewportRootOffset = zr.painter.getViewportRootOffset())) {\n            x += viewportRootOffset.offsetLeft;\n            y += viewportRootOffset.offsetTop;\n        }\n\n        var style = this.el.style;\n        style.left = x + 'px';\n        style.top = y + 'px';\n\n        this._x = x;\n        this._y = y;\n    },\n\n    hide: function () {\n        this.el.style.display = 'none';\n        this._show = false;\n    },\n\n    hideLater: function (time) {\n        if (this._show && !(this._inContent && this._enterable)) {\n            if (time) {\n                this._hideDelay = time;\n                // Set show false to avoid invoke hideLater mutiple times\n                this._show = false;\n                this._hideTimeout = setTimeout(bind(this.hide, this), time);\n            }\n            else {\n                this.hide();\n            }\n        }\n    },\n\n    isShow: function () {\n        return this._show;\n    }\n};\n\nvar bind$3 = bind;\nvar each$20 = each$1;\nvar parsePercent$2 = parsePercent$1;\n\nvar proxyRect = new Rect({\n    shape: {x: -1, y: -1, width: 2, height: 2}\n});\n\nextendComponentView({\n\n    type: 'tooltip',\n\n    init: function (ecModel, api) {\n        if (env$1.node) {\n            return;\n        }\n        var tooltipContent = new TooltipContent(api.getDom(), api);\n        this._tooltipContent = tooltipContent;\n    },\n\n    render: function (tooltipModel, ecModel, api) {\n        if (env$1.node) {\n            return;\n        }\n\n        // Reset\n        this.group.removeAll();\n\n        /**\n         * @private\n         * @type {module:echarts/component/tooltip/TooltipModel}\n         */\n        this._tooltipModel = tooltipModel;\n\n        /**\n         * @private\n         * @type {module:echarts/model/Global}\n         */\n        this._ecModel = ecModel;\n\n        /**\n         * @private\n         * @type {module:echarts/ExtensionAPI}\n         */\n        this._api = api;\n\n        /**\n         * Should be cleaned when render.\n         * @private\n         * @type {Array.<Array.<Object>>}\n         */\n        this._lastDataByCoordSys = null;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this._alwaysShowContent = tooltipModel.get('alwaysShowContent');\n\n        var tooltipContent = this._tooltipContent;\n        tooltipContent.update();\n        tooltipContent.setEnterable(tooltipModel.get('enterable'));\n\n        this._initGlobalListener();\n\n        this._keepShow();\n    },\n\n    _initGlobalListener: function () {\n        var tooltipModel = this._tooltipModel;\n        var triggerOn = tooltipModel.get('triggerOn');\n\n        register(\n            'itemTooltip',\n            this._api,\n            bind$3(function (currTrigger, e, dispatchAction) {\n                // If 'none', it is not controlled by mouse totally.\n                if (triggerOn !== 'none') {\n                    if (triggerOn.indexOf(currTrigger) >= 0) {\n                        this._tryShow(e, dispatchAction);\n                    }\n                    else if (currTrigger === 'leave') {\n                        this._hide(dispatchAction);\n                    }\n                }\n            }, this)\n        );\n    },\n\n    _keepShow: function () {\n        var tooltipModel = this._tooltipModel;\n        var ecModel = this._ecModel;\n        var api = this._api;\n\n        // Try to keep the tooltip show when refreshing\n        if (this._lastX != null\n            && this._lastY != null\n            // When user is willing to control tooltip totally using API,\n            // self.manuallyShowTip({x, y}) might cause tooltip hide,\n            // which is not expected.\n            && tooltipModel.get('triggerOn') !== 'none'\n        ) {\n            var self = this;\n            clearTimeout(this._refreshUpdateTimeout);\n            this._refreshUpdateTimeout = setTimeout(function () {\n                // Show tip next tick after other charts are rendered\n                // In case highlight action has wrong result\n                // FIXME\n                self.manuallyShowTip(tooltipModel, ecModel, api, {\n                    x: self._lastX,\n                    y: self._lastY\n                });\n            });\n        }\n    },\n\n    /**\n     * Show tip manually by\n     * dispatchAction({\n     *     type: 'showTip',\n     *     x: 10,\n     *     y: 10\n     * });\n     * Or\n     * dispatchAction({\n     *      type: 'showTip',\n     *      seriesIndex: 0,\n     *      dataIndex or dataIndexInside or name\n     * });\n     *\n     *  TODO Batch\n     */\n    manuallyShowTip: function (tooltipModel, ecModel, api, payload) {\n        if (payload.from === this.uid || env$1.node) {\n            return;\n        }\n\n        var dispatchAction = makeDispatchAction$1(payload, api);\n\n        // Reset ticket\n        this._ticket = '';\n\n        // When triggered from axisPointer.\n        var dataByCoordSys = payload.dataByCoordSys;\n\n        if (payload.tooltip && payload.x != null && payload.y != null) {\n            var el = proxyRect;\n            el.position = [payload.x, payload.y];\n            el.update();\n            el.tooltip = payload.tooltip;\n            // Manually show tooltip while view is not using zrender elements.\n            this._tryShow({\n                offsetX: payload.x,\n                offsetY: payload.y,\n                target: el\n            }, dispatchAction);\n        }\n        else if (dataByCoordSys) {\n            this._tryShow({\n                offsetX: payload.x,\n                offsetY: payload.y,\n                position: payload.position,\n                event: {},\n                dataByCoordSys: payload.dataByCoordSys,\n                tooltipOption: payload.tooltipOption\n            }, dispatchAction);\n        }\n        else if (payload.seriesIndex != null) {\n\n            if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n                return;\n            }\n\n            var pointInfo = findPointFromSeries(payload, ecModel);\n            var cx = pointInfo.point[0];\n            var cy = pointInfo.point[1];\n            if (cx != null && cy != null) {\n                this._tryShow({\n                    offsetX: cx,\n                    offsetY: cy,\n                    position: payload.position,\n                    target: pointInfo.el,\n                    event: {}\n                }, dispatchAction);\n            }\n        }\n        else if (payload.x != null && payload.y != null) {\n            // FIXME\n            // should wrap dispatchAction like `axisPointer/globalListener` ?\n            api.dispatchAction({\n                type: 'updateAxisPointer',\n                x: payload.x,\n                y: payload.y\n            });\n\n            this._tryShow({\n                offsetX: payload.x,\n                offsetY: payload.y,\n                position: payload.position,\n                target: api.getZr().findHover(payload.x, payload.y).target,\n                event: {}\n            }, dispatchAction);\n        }\n    },\n\n    manuallyHideTip: function (tooltipModel, ecModel, api, payload) {\n        var tooltipContent = this._tooltipContent;\n\n        if (!this._alwaysShowContent) {\n            tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n        }\n\n        this._lastX = this._lastY = null;\n\n        if (payload.from !== this.uid) {\n            this._hide(makeDispatchAction$1(payload, api));\n        }\n    },\n\n    // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n    // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n    // and tooltip.\n    _manuallyAxisShowTip: function (tooltipModel, ecModel, api, payload) {\n        var seriesIndex = payload.seriesIndex;\n        var dataIndex = payload.dataIndex;\n        var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n        if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n            return;\n        }\n\n        var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n        if (!seriesModel) {\n            return;\n        }\n\n        var data = seriesModel.getData();\n        var tooltipModel = buildTooltipModel([\n            data.getItemModel(dataIndex),\n            seriesModel,\n            (seriesModel.coordinateSystem || {}).model,\n            tooltipModel\n        ]);\n\n        if (tooltipModel.get('trigger') !== 'axis') {\n            return;\n        }\n\n        api.dispatchAction({\n            type: 'updateAxisPointer',\n            seriesIndex: seriesIndex,\n            dataIndex: dataIndex,\n            position: payload.position\n        });\n\n        return true;\n    },\n\n    _tryShow: function (e, dispatchAction) {\n        var el = e.target;\n        var tooltipModel = this._tooltipModel;\n\n        if (!tooltipModel) {\n            return;\n        }\n\n        // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n        this._lastX = e.offsetX;\n        this._lastY = e.offsetY;\n\n        var dataByCoordSys = e.dataByCoordSys;\n        if (dataByCoordSys && dataByCoordSys.length) {\n            this._showAxisTooltip(dataByCoordSys, e);\n        }\n        // Always show item tooltip if mouse is on the element with dataIndex\n        else if (el && el.dataIndex != null) {\n            this._lastDataByCoordSys = null;\n            this._showSeriesItemTooltip(e, el, dispatchAction);\n        }\n        // Tooltip provided directly. Like legend.\n        else if (el && el.tooltip) {\n            this._lastDataByCoordSys = null;\n            this._showComponentItemTooltip(e, el, dispatchAction);\n        }\n        else {\n            this._lastDataByCoordSys = null;\n            this._hide(dispatchAction);\n        }\n    },\n\n    _showOrMove: function (tooltipModel, cb) {\n        // showDelay is used in this case: tooltip.enterable is set\n        // as true. User intent to move mouse into tooltip and click\n        // something. `showDelay` makes it easyer to enter the content\n        // but tooltip do not move immediately.\n        var delay = tooltipModel.get('showDelay');\n        cb = bind(cb, this);\n        clearTimeout(this._showTimout);\n        delay > 0\n            ? (this._showTimout = setTimeout(cb, delay))\n            : cb();\n    },\n\n    _showAxisTooltip: function (dataByCoordSys, e) {\n        var ecModel = this._ecModel;\n        var globalTooltipModel = this._tooltipModel;\n        var point = [e.offsetX, e.offsetY];\n        var singleDefaultHTML = [];\n        var singleParamsList = [];\n        var singleTooltipModel = buildTooltipModel([\n            e.tooltipOption,\n            globalTooltipModel\n        ]);\n\n        each$20(dataByCoordSys, function (itemCoordSys) {\n            // var coordParamList = [];\n            // var coordDefaultHTML = [];\n            // var coordTooltipModel = buildTooltipModel([\n            //     e.tooltipOption,\n            //     itemCoordSys.tooltipOption,\n            //     ecModel.getComponent(itemCoordSys.coordSysMainType, itemCoordSys.coordSysIndex),\n            //     globalTooltipModel\n            // ]);\n            // var displayMode = coordTooltipModel.get('displayMode');\n            // var paramsList = displayMode === 'single' ? singleParamsList : [];\n\n            each$20(itemCoordSys.dataByAxis, function (item) {\n                var axisModel = ecModel.getComponent(item.axisDim + 'Axis', item.axisIndex);\n                var axisValue = item.value;\n                var seriesDefaultHTML = [];\n\n                if (!axisModel || axisValue == null) {\n                    return;\n                }\n\n                var valueLabel = getValueLabel(\n                    axisValue, axisModel.axis, ecModel,\n                    item.seriesDataIndices,\n                    item.valueLabelOpt\n                );\n\n                each$1(item.seriesDataIndices, function (idxItem) {\n                    var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n                    var dataIndex = idxItem.dataIndexInside;\n                    var dataParams = series && series.getDataParams(dataIndex);\n                    dataParams.axisDim = item.axisDim;\n                    dataParams.axisIndex = item.axisIndex;\n                    dataParams.axisType = item.axisType;\n                    dataParams.axisId = item.axisId;\n                    dataParams.axisValue = getAxisRawValue(axisModel.axis, axisValue);\n                    dataParams.axisValueLabel = valueLabel;\n\n                    if (dataParams) {\n                        singleParamsList.push(dataParams);\n                        seriesDefaultHTML.push(series.formatTooltip(dataIndex, true));\n                    }\n                });\n\n                // Default tooltip content\n                // FIXME\n                // (1) shold be the first data which has name?\n                // (2) themeRiver, firstDataIndex is array, and first line is unnecessary.\n                var firstLine = valueLabel;\n                singleDefaultHTML.push(\n                    (firstLine ? encodeHTML(firstLine) + '<br />' : '')\n                    + seriesDefaultHTML.join('<br />')\n                );\n            });\n        }, this);\n\n        // In most case, the second axis is shown upper than the first one.\n        singleDefaultHTML.reverse();\n        singleDefaultHTML = singleDefaultHTML.join('<br /><br />');\n\n        var positionExpr = e.position;\n        this._showOrMove(singleTooltipModel, function () {\n            if (this._updateContentNotChangedOnAxis(dataByCoordSys)) {\n                this._updatePosition(\n                    singleTooltipModel,\n                    positionExpr,\n                    point[0], point[1],\n                    this._tooltipContent,\n                    singleParamsList\n                );\n            }\n            else {\n                this._showTooltipContent(\n                    singleTooltipModel, singleDefaultHTML, singleParamsList, Math.random(),\n                    point[0], point[1], positionExpr\n                );\n            }\n        });\n\n        // Do not trigger events here, because this branch only be entered\n        // from dispatchAction.\n    },\n\n    _showSeriesItemTooltip: function (e, el, dispatchAction) {\n        var ecModel = this._ecModel;\n        // Use dataModel in element if possible\n        // Used when mouseover on a element like markPoint or edge\n        // In which case, the data is not main data in series.\n        var seriesIndex = el.seriesIndex;\n        var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n        // For example, graph link.\n        var dataModel = el.dataModel || seriesModel;\n        var dataIndex = el.dataIndex;\n        var dataType = el.dataType;\n        var data = dataModel.getData();\n\n        var tooltipModel = buildTooltipModel([\n            data.getItemModel(dataIndex),\n            dataModel,\n            seriesModel && (seriesModel.coordinateSystem || {}).model,\n            this._tooltipModel\n        ]);\n\n        var tooltipTrigger = tooltipModel.get('trigger');\n        if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n            return;\n        }\n\n        var params = dataModel.getDataParams(dataIndex, dataType);\n        var defaultHtml = dataModel.formatTooltip(dataIndex, false, dataType);\n        var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n\n        this._showOrMove(tooltipModel, function () {\n            this._showTooltipContent(\n                tooltipModel, defaultHtml, params, asyncTicket,\n                e.offsetX, e.offsetY, e.position, e.target\n            );\n        });\n\n        // FIXME\n        // duplicated showtip if manuallyShowTip is called from dispatchAction.\n        dispatchAction({\n            type: 'showTip',\n            dataIndexInside: dataIndex,\n            dataIndex: data.getRawIndex(dataIndex),\n            seriesIndex: seriesIndex,\n            from: this.uid\n        });\n    },\n\n    _showComponentItemTooltip: function (e, el, dispatchAction) {\n        var tooltipOpt = el.tooltip;\n        if (typeof tooltipOpt === 'string') {\n            var content = tooltipOpt;\n            tooltipOpt = {\n                content: content,\n                // Fixed formatter\n                formatter: content\n            };\n        }\n        var subTooltipModel = new Model(tooltipOpt, this._tooltipModel, this._ecModel);\n        var defaultHtml = subTooltipModel.get('content');\n        var asyncTicket = Math.random();\n\n        // Do not check whether `trigger` is 'none' here, because `trigger`\n        // only works on cooridinate system. In fact, we have not found case\n        // that requires setting `trigger` nothing on component yet.\n\n        this._showOrMove(subTooltipModel, function () {\n            this._showTooltipContent(\n                subTooltipModel, defaultHtml, subTooltipModel.get('formatterParams') || {},\n                asyncTicket, e.offsetX, e.offsetY, e.position, el\n            );\n        });\n\n        // If not dispatch showTip, tip may be hide triggered by axis.\n        dispatchAction({\n            type: 'showTip',\n            from: this.uid\n        });\n    },\n\n    _showTooltipContent: function (\n        tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el\n    ) {\n        // Reset ticket\n        this._ticket = '';\n\n        if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n            return;\n        }\n\n        var tooltipContent = this._tooltipContent;\n\n        var formatter = tooltipModel.get('formatter');\n        positionExpr = positionExpr || tooltipModel.get('position');\n        var html = defaultHtml;\n\n        if (formatter && typeof formatter === 'string') {\n            html = formatTpl(formatter, params, true);\n        }\n        else if (typeof formatter === 'function') {\n            var callback = bind$3(function (cbTicket, html) {\n                if (cbTicket === this._ticket) {\n                    tooltipContent.setContent(html);\n                    this._updatePosition(\n                        tooltipModel, positionExpr, x, y, tooltipContent, params, el\n                    );\n                }\n            }, this);\n            this._ticket = asyncTicket;\n            html = formatter(params, asyncTicket, callback);\n        }\n\n        tooltipContent.setContent(html);\n        tooltipContent.show(tooltipModel);\n\n        this._updatePosition(\n            tooltipModel, positionExpr, x, y, tooltipContent, params, el\n        );\n    },\n\n    /**\n     * @param  {string|Function|Array.<number>|Object} positionExpr\n     * @param  {number} x Mouse x\n     * @param  {number} y Mouse y\n     * @param  {boolean} confine Whether confine tooltip content in view rect.\n     * @param  {Object|<Array.<Object>} params\n     * @param  {module:zrender/Element} el target element\n     * @param  {module:echarts/ExtensionAPI} api\n     * @return {Array.<number>}\n     */\n    _updatePosition: function (tooltipModel, positionExpr, x, y, content, params, el) {\n        var viewWidth = this._api.getWidth();\n        var viewHeight = this._api.getHeight();\n        positionExpr = positionExpr || tooltipModel.get('position');\n\n        var contentSize = content.getSize();\n        var align = tooltipModel.get('align');\n        var vAlign = tooltipModel.get('verticalAlign');\n        var rect = el && el.getBoundingRect().clone();\n        el && rect.applyTransform(el.transform);\n\n        if (typeof positionExpr === 'function') {\n            // Callback of position can be an array or a string specify the position\n            positionExpr = positionExpr([x, y], params, content.el, rect, {\n                viewSize: [viewWidth, viewHeight],\n                contentSize: contentSize.slice()\n            });\n        }\n\n        if (isArray(positionExpr)) {\n            x = parsePercent$2(positionExpr[0], viewWidth);\n            y = parsePercent$2(positionExpr[1], viewHeight);\n        }\n        else if (isObject(positionExpr)) {\n            positionExpr.width = contentSize[0];\n            positionExpr.height = contentSize[1];\n            var layoutRect = getLayoutRect(\n                positionExpr, {width: viewWidth, height: viewHeight}\n            );\n            x = layoutRect.x;\n            y = layoutRect.y;\n            align = null;\n            // When positionExpr is left/top/right/bottom,\n            // align and verticalAlign will not work.\n            vAlign = null;\n        }\n        // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n        else if (typeof positionExpr === 'string' && el) {\n            var pos = calcTooltipPosition(\n                positionExpr, rect, contentSize\n            );\n            x = pos[0];\n            y = pos[1];\n        }\n        else {\n            var pos = refixTooltipPosition(\n                x, y, content.el, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20\n            );\n            x = pos[0];\n            y = pos[1];\n        }\n\n        align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n        vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n\n        if (tooltipModel.get('confine')) {\n            var pos = confineTooltipPosition(\n                x, y, content.el, viewWidth, viewHeight\n            );\n            x = pos[0];\n            y = pos[1];\n        }\n\n        content.moveTo(x, y);\n    },\n\n    // FIXME\n    // Should we remove this but leave this to user?\n    _updateContentNotChangedOnAxis: function (dataByCoordSys) {\n        var lastCoordSys = this._lastDataByCoordSys;\n        var contentNotChanged = !!lastCoordSys\n            && lastCoordSys.length === dataByCoordSys.length;\n\n        contentNotChanged && each$20(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n            var lastDataByAxis = lastItemCoordSys.dataByAxis || {};\n            var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n            var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n            contentNotChanged &= lastDataByAxis.length === thisDataByAxis.length;\n\n            contentNotChanged && each$20(lastDataByAxis, function (lastItem, indexAxis) {\n                var thisItem = thisDataByAxis[indexAxis] || {};\n                var lastIndices = lastItem.seriesDataIndices || [];\n                var newIndices = thisItem.seriesDataIndices || [];\n\n                contentNotChanged &=\n                    lastItem.value === thisItem.value\n                    && lastItem.axisType === thisItem.axisType\n                    && lastItem.axisId === thisItem.axisId\n                    && lastIndices.length === newIndices.length;\n\n                contentNotChanged && each$20(lastIndices, function (lastIdxItem, j) {\n                    var newIdxItem = newIndices[j];\n                    contentNotChanged &=\n                        lastIdxItem.seriesIndex === newIdxItem.seriesIndex\n                        && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n                });\n            });\n        });\n\n        this._lastDataByCoordSys = dataByCoordSys;\n\n        return !!contentNotChanged;\n    },\n\n    _hide: function (dispatchAction) {\n        // Do not directly hideLater here, because this behavior may be prevented\n        // in dispatchAction when showTip is dispatched.\n\n        // FIXME\n        // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n        this._lastDataByCoordSys = null;\n        dispatchAction({\n            type: 'hideTip',\n            from: this.uid\n        });\n    },\n\n    dispose: function (ecModel, api) {\n        if (env$1.node) {\n            return;\n        }\n        this._tooltipContent.hide();\n        unregister('itemTooltip', api);\n    }\n});\n\n\n/**\n * @param {Array.<Object|module:echarts/model/Model>} modelCascade\n * From top to bottom. (the last one should be globalTooltipModel);\n */\nfunction buildTooltipModel(modelCascade) {\n    var resultModel = modelCascade.pop();\n    while (modelCascade.length) {\n        var tooltipOpt = modelCascade.pop();\n        if (tooltipOpt) {\n            if (tooltipOpt instanceof Model) {\n                tooltipOpt = tooltipOpt.get('tooltip', true);\n            }\n            // In each data item tooltip can be simply write:\n            // {\n            //  value: 10,\n            //  tooltip: 'Something you need to know'\n            // }\n            if (typeof tooltipOpt === 'string') {\n                tooltipOpt = {formatter: tooltipOpt};\n            }\n            resultModel = new Model(tooltipOpt, resultModel, resultModel.ecModel);\n        }\n    }\n    return resultModel;\n}\n\nfunction makeDispatchAction$1(payload, api) {\n    return payload.dispatchAction || bind(api.dispatchAction, api);\n}\n\nfunction refixTooltipPosition(x, y, el, viewWidth, viewHeight, gapH, gapV) {\n    var size = getOuterSize(el);\n    var width = size.width;\n    var height = size.height;\n\n    if (gapH != null) {\n        if (x + width + gapH > viewWidth) {\n            x -= width + gapH;\n        }\n        else {\n            x += gapH;\n        }\n    }\n    if (gapV != null) {\n        if (y + height + gapV > viewHeight) {\n            y -= height + gapV;\n        }\n        else {\n            y += gapV;\n        }\n    }\n    return [x, y];\n}\n\nfunction confineTooltipPosition(x, y, el, viewWidth, viewHeight) {\n    var size = getOuterSize(el);\n    var width = size.width;\n    var height = size.height;\n\n    x = Math.min(x + width, viewWidth) - width;\n    y = Math.min(y + height, viewHeight) - height;\n    x = Math.max(x, 0);\n    y = Math.max(y, 0);\n\n    return [x, y];\n}\n\nfunction getOuterSize(el) {\n    var width = el.clientWidth;\n    var height = el.clientHeight;\n\n    // Consider browser compatibility.\n    // IE8 does not support getComputedStyle.\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n        var stl = document.defaultView.getComputedStyle(el);\n        if (stl) {\n            width += parseInt(stl.paddingLeft, 10) + parseInt(stl.paddingRight, 10)\n                + parseInt(stl.borderLeftWidth, 10) + parseInt(stl.borderRightWidth, 10);\n            height += parseInt(stl.paddingTop, 10) + parseInt(stl.paddingBottom, 10)\n                + parseInt(stl.borderTopWidth, 10) + parseInt(stl.borderBottomWidth, 10);\n        }\n    }\n\n    return {width: width, height: height};\n}\n\nfunction calcTooltipPosition(position, rect, contentSize) {\n    var domWidth = contentSize[0];\n    var domHeight = contentSize[1];\n    var gap = 5;\n    var x = 0;\n    var y = 0;\n    var rectWidth = rect.width;\n    var rectHeight = rect.height;\n    switch (position) {\n        case 'inside':\n            x = rect.x + rectWidth / 2 - domWidth / 2;\n            y = rect.y + rectHeight / 2 - domHeight / 2;\n            break;\n        case 'top':\n            x = rect.x + rectWidth / 2 - domWidth / 2;\n            y = rect.y - domHeight - gap;\n            break;\n        case 'bottom':\n            x = rect.x + rectWidth / 2 - domWidth / 2;\n            y = rect.y + rectHeight + gap;\n            break;\n        case 'left':\n            x = rect.x - domWidth - gap;\n            y = rect.y + rectHeight / 2 - domHeight / 2;\n            break;\n        case 'right':\n            x = rect.x + rectWidth + gap;\n            y = rect.y + rectHeight / 2 - domHeight / 2;\n    }\n    return [x, y];\n}\n\nfunction isCenterAlign(align) {\n    return align === 'center' || align === 'middle';\n}\n\n// FIXME Better way to pack data in graphic element\n\n/**\n * @action\n * @property {string} type\n * @property {number} seriesIndex\n * @property {number} dataIndex\n * @property {number} [x]\n * @property {number} [y]\n */\nregisterAction(\n    {\n        type: 'showTip',\n        event: 'showTip',\n        update: 'tooltip:manuallyShowTip'\n    },\n    // noop\n    function () {}\n);\n\nregisterAction(\n    {\n        type: 'hideTip',\n        event: 'hideTip',\n        update: 'tooltip:manuallyHideTip'\n    },\n    // noop\n    function () {}\n);\n\nfunction getSeriesStackId$1(seriesModel) {\n    return seriesModel.get('stack')\n        || '__ec_stack_' + seriesModel.seriesIndex;\n}\n\nfunction getAxisKey$1(axis) {\n    return axis.dim;\n}\n\n/**\n * @param {string} seriesType\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction barLayoutPolar(seriesType, ecModel, api) {\n\n    var width = api.getWidth();\n    var height = api.getHeight();\n\n    var lastStackCoords = {};\n    var lastStackCoordsOrigin = {};\n\n    var barWidthAndOffset = calRadialBar(\n        filter(\n            ecModel.getSeriesByType(seriesType),\n            function (seriesModel) {\n                return !ecModel.isSeriesFiltered(seriesModel)\n                    && seriesModel.coordinateSystem\n                    && seriesModel.coordinateSystem.type === 'polar';\n            }\n        )\n    );\n\n    ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n        // Check series coordinate, do layout for polar only\n        if (seriesModel.coordinateSystem.type !== 'polar') {\n            return;\n        }\n\n        var data = seriesModel.getData();\n        var polar = seriesModel.coordinateSystem;\n        var angleAxis = polar.getAngleAxis();\n        var baseAxis = polar.getBaseAxis();\n\n        var stackId = getSeriesStackId$1(seriesModel);\n        var columnLayoutInfo\n            = barWidthAndOffset[getAxisKey$1(baseAxis)][stackId];\n        var columnOffset = columnLayoutInfo.offset;\n        var columnWidth = columnLayoutInfo.width;\n        var valueAxis = polar.getOtherAxis(baseAxis);\n\n        var center = seriesModel.get('center') || ['50%', '50%'];\n        var cx = parsePercent$1(center[0], width);\n        var cy = parsePercent$1(center[1], height);\n\n        var barMinHeight = seriesModel.get('barMinHeight') || 0;\n        var barMinAngle = seriesModel.get('barMinAngle') || 0;\n\n        var valueAxisStart = valueAxis.getExtent()[0];\n        var valueMax = valueAxis.model.get('max');\n        var valueMin = valueAxis.model.get('min');\n\n        var coordDims = [\n            seriesModel.coordDimToDataDim('radius')[0],\n            seriesModel.coordDimToDataDim('angle')[0]\n        ];\n        var coords = data.mapArray(coordDims, function (radius, angle) {\n            return polar.dataToPoint([radius, angle]);\n        }, true);\n\n        lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n        lastStackCoordsOrigin[stackId] = lastStackCoordsOrigin[stackId] || []; // Fix #4243\n\n        data.each(seriesModel.coordDimToDataDim(valueAxis.dim)[0], function (value, idx) {\n            if (isNaN(value)) {\n                return;\n            }\n\n            if (!lastStackCoords[stackId][idx]) {\n                lastStackCoords[stackId][idx] = {\n                    p: valueAxisStart, // Positive stack\n                    n: valueAxisStart  // Negative stack\n                };\n                lastStackCoordsOrigin[stackId][idx] = {\n                    p: valueAxisStart, // Positive stack\n                    n: valueAxisStart  // Negative stack\n                };\n            }\n            var sign = value >= 0 ? 'p' : 'n';\n            var coord = polar.pointToCoord(coords[idx]);\n\n            var lastCoordOrigin = lastStackCoordsOrigin[stackId][idx][sign];\n            var r0;\n            var r;\n            var startAngle;\n            var endAngle;\n\n            if (valueAxis.dim === 'radius') {\n                // radial sector\n                r0 = lastCoordOrigin;\n                r = coord[0];\n                startAngle = (-coord[1] + columnOffset) * Math.PI / 180;\n                endAngle = startAngle + columnWidth * Math.PI / 180;\n\n                if (Math.abs(r) < barMinHeight) {\n                    r = r0 + (r < 0 ? -1 : 1) * barMinHeight;\n                }\n\n                lastStackCoordsOrigin[stackId][idx][sign] = r;\n            }\n            else {\n                // tangential sector\n                r0 = coord[0] + columnOffset;\n                r = r0 + columnWidth;\n\n                // clamp data if min or max is defined for valueAxis\n                if (valueMax != null) {\n                    value = Math.min(value, valueMax);\n                }\n                if (valueMin != null) {\n                    value = Math.max(value, valueMin);\n                }\n\n                var angle = angleAxis.dataToAngle(value);\n                if (Math.abs(angle - lastCoordOrigin) < barMinAngle) {\n                    angle = lastCoordOrigin - (value < 0 ? -1 : 1)\n                        * barMinAngle;\n                }\n\n                startAngle = -lastCoordOrigin * Math.PI / 180;\n                endAngle = -angle * Math.PI / 180;\n\n                // if the previous stack is at the end of the ring,\n                // add a round to differentiate it from origin\n                var extent = angleAxis.getExtent();\n                var stackCoord = angle;\n                if (stackCoord === extent[0] && value > 0) {\n                    stackCoord = extent[1];\n                }\n                else if (stackCoord === extent[1] && value < 0) {\n                    stackCoord = extent[0];\n                }\n                lastStackCoordsOrigin[stackId][idx][sign] = stackCoord;\n            }\n\n            data.setItemLayout(idx, {\n                cx: cx,\n                cy: cy,\n                r0: r0,\n                r: r,\n                startAngle: startAngle,\n                endAngle: endAngle\n            });\n\n        }, true);\n\n    }, this);\n\n}\n\n/**\n * Calculate bar width and offset for radial bar charts\n */\nfunction calRadialBar(barSeries, api) {\n    // Columns info on each category axis. Key is polar name\n    var columnsMap = {};\n\n    each$1(barSeries, function (seriesModel, idx) {\n        var data = seriesModel.getData();\n        var polar = seriesModel.coordinateSystem;\n\n        var baseAxis = polar.getBaseAxis();\n\n        var axisExtent = baseAxis.getExtent();\n        var bandWidth = baseAxis.type === 'category'\n            ? baseAxis.getBandWidth()\n            : (Math.abs(axisExtent[1] - axisExtent[0]) / data.count());\n\n        var columnsOnAxis = columnsMap[getAxisKey$1(baseAxis)] || {\n            bandWidth: bandWidth,\n            remainedWidth: bandWidth,\n            autoWidthCount: 0,\n            categoryGap: '20%',\n            gap: '30%',\n            stacks: {}\n        };\n        var stacks = columnsOnAxis.stacks;\n        columnsMap[getAxisKey$1(baseAxis)] = columnsOnAxis;\n\n        var stackId = getSeriesStackId$1(seriesModel);\n\n        if (!stacks[stackId]) {\n            columnsOnAxis.autoWidthCount++;\n        }\n        stacks[stackId] = stacks[stackId] || {\n            width: 0,\n            maxWidth: 0\n        };\n\n        var barWidth = parsePercent$1(\n            seriesModel.get('barWidth'),\n            bandWidth\n        );\n        var barMaxWidth = parsePercent$1(\n            seriesModel.get('barMaxWidth'),\n            bandWidth\n        );\n        var barGap = seriesModel.get('barGap');\n        var barCategoryGap = seriesModel.get('barCategoryGap');\n\n        if (barWidth && !stacks[stackId].width) {\n            barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n            stacks[stackId].width = barWidth;\n            columnsOnAxis.remainedWidth -= barWidth;\n        }\n\n        barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n        (barGap != null) && (columnsOnAxis.gap = barGap);\n        (barCategoryGap != null) && (columnsOnAxis.categoryGap = barCategoryGap);\n    });\n\n\n    var result = {};\n\n    each$1(columnsMap, function (columnsOnAxis, coordSysName) {\n\n        result[coordSysName] = {};\n\n        var stacks = columnsOnAxis.stacks;\n        var bandWidth = columnsOnAxis.bandWidth;\n        var categoryGap = parsePercent$1(columnsOnAxis.categoryGap, bandWidth);\n        var barGapPercent = parsePercent$1(columnsOnAxis.gap, 1);\n\n        var remainedWidth = columnsOnAxis.remainedWidth;\n        var autoWidthCount = columnsOnAxis.autoWidthCount;\n        var autoWidth = (remainedWidth - categoryGap)\n            / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n        autoWidth = Math.max(autoWidth, 0);\n\n        // Find if any auto calculated bar exceeded maxBarWidth\n        each$1(stacks, function (column, stack) {\n            var maxWidth = column.maxWidth;\n            if (maxWidth && maxWidth < autoWidth) {\n                maxWidth = Math.min(maxWidth, remainedWidth);\n                if (column.width) {\n                    maxWidth = Math.min(maxWidth, column.width);\n                }\n                remainedWidth -= maxWidth;\n                column.width = maxWidth;\n                autoWidthCount--;\n            }\n        });\n\n        // Recalculate width again\n        autoWidth = (remainedWidth - categoryGap)\n            / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n        autoWidth = Math.max(autoWidth, 0);\n\n        var widthSum = 0;\n        var lastColumn;\n        each$1(stacks, function (column, idx) {\n            if (!column.width) {\n                column.width = autoWidth;\n            }\n            lastColumn = column;\n            widthSum += column.width * (1 + barGapPercent);\n        });\n        if (lastColumn) {\n            widthSum -= lastColumn.width * barGapPercent;\n        }\n\n        var offset = -widthSum / 2;\n        each$1(stacks, function (column, stackId) {\n            result[coordSysName][stackId] = result[coordSysName][stackId] || {\n                offset: offset,\n                width: column.width\n            };\n\n            offset += column.width * (1 + barGapPercent);\n        });\n    });\n\n    return result;\n}\n\nfunction RadiusAxis(scale, radiusExtent) {\n\n    Axis.call(this, 'radius', scale, radiusExtent);\n\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n    this.type = 'category';\n}\n\nRadiusAxis.prototype = {\n\n    constructor: RadiusAxis,\n\n    /**\n     * @override\n     */\n    pointToData: function (point, clamp) {\n        return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n    },\n\n    dataToRadius: Axis.prototype.dataToCoord,\n\n    radiusToData: Axis.prototype.coordToData\n};\n\ninherits(RadiusAxis, Axis);\n\nfunction AngleAxis(scale, angleExtent) {\n\n    angleExtent = angleExtent || [0, 360];\n\n    Axis.call(this, 'angle', scale, angleExtent);\n\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n    this.type = 'category';\n}\n\nAngleAxis.prototype = {\n\n    constructor: AngleAxis,\n\n    /**\n     * @override\n     */\n    pointToData: function (point, clamp) {\n        return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n    },\n\n    dataToAngle: Axis.prototype.dataToCoord,\n\n    angleToData: Axis.prototype.coordToData\n};\n\ninherits(AngleAxis, Axis);\n\n/**\n * @module echarts/coord/polar/Polar\n */\n\n/**\n * @alias {module:echarts/coord/polar/Polar}\n * @constructor\n * @param {string} name\n */\nvar Polar = function (name) {\n\n    /**\n     * @type {string}\n     */\n    this.name = name || '';\n\n    /**\n     * x of polar center\n     * @type {number}\n     */\n    this.cx = 0;\n\n    /**\n     * y of polar center\n     * @type {number}\n     */\n    this.cy = 0;\n\n    /**\n     * @type {module:echarts/coord/polar/RadiusAxis}\n     * @private\n     */\n    this._radiusAxis = new RadiusAxis();\n\n    /**\n     * @type {module:echarts/coord/polar/AngleAxis}\n     * @private\n     */\n    this._angleAxis = new AngleAxis();\n\n    this._radiusAxis.polar = this._angleAxis.polar = this;\n};\n\nPolar.prototype = {\n\n    type: 'polar',\n\n    axisPointerEnabled: true,\n\n    constructor: Polar,\n\n    /**\n     * @param {Array.<string>}\n     * @readOnly\n     */\n    dimensions: ['radius', 'angle'],\n\n    /**\n     * @type {module:echarts/coord/PolarModel}\n     */\n    model: null,\n\n    /**\n     * If contain coord\n     * @param {Array.<number>} point\n     * @return {boolean}\n     */\n    containPoint: function (point) {\n        var coord = this.pointToCoord(point);\n        return this._radiusAxis.contain(coord[0])\n            && this._angleAxis.contain(coord[1]);\n    },\n\n    /**\n     * If contain data\n     * @param {Array.<number>} data\n     * @return {boolean}\n     */\n    containData: function (data) {\n        return this._radiusAxis.containData(data[0])\n            && this._angleAxis.containData(data[1]);\n    },\n\n    /**\n     * @param {string} dim\n     * @return {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n     */\n    getAxis: function (dim) {\n        return this['_' + dim + 'Axis'];\n    },\n\n    /**\n     * @return {Array.<module:echarts/coord/Axis>}\n     */\n    getAxes: function () {\n        return [this._radiusAxis, this._angleAxis];\n    },\n\n    /**\n     * Get axes by type of scale\n     * @param {string} scaleType\n     * @return {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n     */\n    getAxesByScale: function (scaleType) {\n        var axes = [];\n        var angleAxis = this._angleAxis;\n        var radiusAxis = this._radiusAxis;\n        angleAxis.scale.type === scaleType && axes.push(angleAxis);\n        radiusAxis.scale.type === scaleType && axes.push(radiusAxis);\n\n        return axes;\n    },\n\n    /**\n     * @return {module:echarts/coord/polar/AngleAxis}\n     */\n    getAngleAxis: function () {\n        return this._angleAxis;\n    },\n\n    /**\n     * @return {module:echarts/coord/polar/RadiusAxis}\n     */\n    getRadiusAxis: function () {\n        return this._radiusAxis;\n    },\n\n    /**\n     * @param {module:echarts/coord/polar/Axis}\n     * @return {module:echarts/coord/polar/Axis}\n     */\n    getOtherAxis: function (axis) {\n        var angleAxis = this._angleAxis;\n        return axis === angleAxis ? this._radiusAxis : angleAxis;\n    },\n\n    /**\n     * Base axis will be used on stacking.\n     *\n     * @return {module:echarts/coord/polar/Axis}\n     */\n    getBaseAxis: function () {\n        return this.getAxesByScale('ordinal')[0]\n            || this.getAxesByScale('time')[0]\n            || this.getAngleAxis();\n    },\n\n    /**\n     * @param {string} [dim] 'radius' or 'angle' or 'auto' or null/undefined\n     * @return {Object} {baseAxes: [], otherAxes: []}\n     */\n    getTooltipAxes: function (dim) {\n        var baseAxis = (dim != null && dim !== 'auto')\n            ? this.getAxis(dim) : this.getBaseAxis();\n        return {\n            baseAxes: [baseAxis],\n            otherAxes: [this.getOtherAxis(baseAxis)]\n        };\n    },\n\n    /**\n     * Convert a single data item to (x, y) point.\n     * Parameter data is an array which the first element is radius and the second is angle\n     * @param {Array.<number>} data\n     * @param {boolean} [clamp=false]\n     * @return {Array.<number>}\n     */\n    dataToPoint: function (data, clamp) {\n        return this.coordToPoint([\n            this._radiusAxis.dataToRadius(data[0], clamp),\n            this._angleAxis.dataToAngle(data[1], clamp)\n        ]);\n    },\n\n    /**\n     * Convert a (x, y) point to data\n     * @param {Array.<number>} point\n     * @param {boolean} [clamp=false]\n     * @return {Array.<number>}\n     */\n    pointToData: function (point, clamp) {\n        var coord = this.pointToCoord(point);\n        return [\n            this._radiusAxis.radiusToData(coord[0], clamp),\n            this._angleAxis.angleToData(coord[1], clamp)\n        ];\n    },\n\n    /**\n     * Convert a (x, y) point to (radius, angle) coord\n     * @param {Array.<number>} point\n     * @return {Array.<number>}\n     */\n    pointToCoord: function (point) {\n        var dx = point[0] - this.cx;\n        var dy = point[1] - this.cy;\n        var angleAxis = this.getAngleAxis();\n        var extent = angleAxis.getExtent();\n        var minAngle = Math.min(extent[0], extent[1]);\n        var maxAngle = Math.max(extent[0], extent[1]);\n        // Fix fixed extent in polarCreator\n        // FIXME\n        angleAxis.inverse\n            ? (minAngle = maxAngle - 360)\n            : (maxAngle = minAngle + 360);\n\n        var radius = Math.sqrt(dx * dx + dy * dy);\n        dx /= radius;\n        dy /= radius;\n\n        var radian = Math.atan2(-dy, dx) / Math.PI * 180;\n\n        // move to angleExtent\n        var dir = radian < minAngle ? 1 : -1;\n        while (radian < minAngle || radian > maxAngle) {\n            radian += dir * 360;\n        }\n\n        return [radius, radian];\n    },\n\n    /**\n     * Convert a (radius, angle) coord to (x, y) point\n     * @param {Array.<number>} coord\n     * @return {Array.<number>}\n     */\n    coordToPoint: function (coord) {\n        var radius = coord[0];\n        var radian = coord[1] / 180 * Math.PI;\n        var x = Math.cos(radian) * radius + this.cx;\n        // Inverse the y\n        var y = -Math.sin(radian) * radius + this.cy;\n\n        return [x, y];\n    }\n\n};\n\nvar PolarAxisModel = ComponentModel.extend({\n\n    type: 'polarAxis',\n\n    /**\n     * @type {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n     */\n    axis: null,\n\n    /**\n     * @override\n     */\n    getCoordSysModel: function () {\n        return this.ecModel.queryComponents({\n            mainType: 'polar',\n            index: this.option.polarIndex,\n            id: this.option.polarId\n        })[0];\n    }\n\n});\n\nmerge(PolarAxisModel.prototype, axisModelCommonMixin);\n\nvar polarAxisDefaultExtendedOption = {\n    angle: {\n        // polarIndex: 0,\n        // polarId: '',\n\n        startAngle: 90,\n\n        clockwise: true,\n\n        splitNumber: 12,\n\n        axisLabel: {\n            rotate: false\n        }\n    },\n    radius: {\n        // polarIndex: 0,\n        // polarId: '',\n\n        splitNumber: 5\n    }\n};\n\nfunction getAxisType$3(axisDim, option) {\n    // Default axis with data is category axis\n    return option.type || (option.data ? 'category' : 'value');\n}\n\naxisModelCreator('angle', PolarAxisModel, getAxisType$3, polarAxisDefaultExtendedOption.angle);\naxisModelCreator('radius', PolarAxisModel, getAxisType$3, polarAxisDefaultExtendedOption.radius);\n\nextendComponentModel({\n\n    type: 'polar',\n\n    dependencies: ['polarAxis', 'angleAxis'],\n\n    /**\n     * @type {module:echarts/coord/polar/Polar}\n     */\n    coordinateSystem: null,\n\n    /**\n     * @param {string} axisType\n     * @return {module:echarts/coord/polar/AxisModel}\n     */\n    findAxisModel: function (axisType) {\n        var foundAxisModel;\n        var ecModel = this.ecModel;\n\n        ecModel.eachComponent(axisType, function (axisModel) {\n            if (axisModel.getCoordSysModel() === this) {\n                foundAxisModel = axisModel;\n            }\n        }, this);\n        return foundAxisModel;\n    },\n\n    defaultOption: {\n\n        zlevel: 0,\n\n        z: 0,\n\n        center: ['50%', '50%'],\n\n        radius: '80%'\n    }\n});\n\n// TODO Axis scale\n\n//  PolarModel \n/**\n * Resize method bound to the polar\n * @param {module:echarts/coord/polar/PolarModel} polarModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction resizePolar(polar, polarModel, api) {\n    var center = polarModel.get('center');\n    var width = api.getWidth();\n    var height = api.getHeight();\n\n    polar.cx = parsePercent$1(center[0], width);\n    polar.cy = parsePercent$1(center[1], height);\n\n    var radiusAxis = polar.getRadiusAxis();\n    var size = Math.min(width, height) / 2;\n    var radius = parsePercent$1(polarModel.get('radius'), size);\n    radiusAxis.inverse\n        ? radiusAxis.setExtent(radius, 0)\n        : radiusAxis.setExtent(0, radius);\n}\n\n/**\n * Update polar\n */\nfunction updatePolarScale(ecModel, api) {\n    var polar = this;\n    var angleAxis = polar.getAngleAxis();\n    var radiusAxis = polar.getRadiusAxis();\n    // Reset scale\n    angleAxis.scale.setExtent(Infinity, -Infinity);\n    radiusAxis.scale.setExtent(Infinity, -Infinity);\n\n    ecModel.eachSeries(function (seriesModel) {\n        if (seriesModel.coordinateSystem === polar) {\n            var data = seriesModel.getData();\n            radiusAxis.scale.unionExtentFromData(data, 'radius');\n            angleAxis.scale.unionExtentFromData(data, 'angle');\n        }\n    });\n\n    niceScaleExtent(angleAxis.scale, angleAxis.model);\n    niceScaleExtent(radiusAxis.scale, radiusAxis.model);\n\n    // Fix extent of category angle axis\n    if (angleAxis.type === 'category' && !angleAxis.onBand) {\n        var extent = angleAxis.getExtent();\n        var diff = 360 / angleAxis.scale.count();\n        angleAxis.inverse ? (extent[1] += diff) : (extent[1] -= diff);\n        angleAxis.setExtent(extent[0], extent[1]);\n    }\n}\n\n/**\n * Set common axis properties\n * @param {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n * @param {module:echarts/coord/polar/AxisModel}\n * @inner\n */\nfunction setAxis(axis, axisModel) {\n    axis.type = axisModel.get('type');\n    axis.scale = createScaleByModel(axisModel);\n    axis.onBand = axisModel.get('boundaryGap') && axis.type === 'category';\n    axis.inverse = axisModel.get('inverse');\n\n    if (axisModel.mainType === 'angleAxis') {\n        axis.inverse ^= axisModel.get('clockwise');\n        var startAngle = axisModel.get('startAngle');\n        axis.setExtent(startAngle, startAngle + (axis.inverse ? -360 : 360));\n    }\n\n    // Inject axis instance\n    axisModel.axis = axis;\n    axis.model = axisModel;\n}\n\n\nvar polarCreator = {\n\n    dimensions: Polar.prototype.dimensions,\n\n    create: function (ecModel, api) {\n        var polarList = [];\n        ecModel.eachComponent('polar', function (polarModel, idx) {\n            var polar = new Polar(idx);\n            // Inject resize and update method\n            polar.update = updatePolarScale;\n\n            var radiusAxis = polar.getRadiusAxis();\n            var angleAxis = polar.getAngleAxis();\n\n            var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n            var angleAxisModel = polarModel.findAxisModel('angleAxis');\n\n            setAxis(radiusAxis, radiusAxisModel);\n            setAxis(angleAxis, angleAxisModel);\n\n            resizePolar(polar, polarModel, api);\n\n            polarList.push(polar);\n\n            polarModel.coordinateSystem = polar;\n            polar.model = polarModel;\n        });\n        // Inject coordinateSystem to series\n        ecModel.eachSeries(function (seriesModel) {\n            if (seriesModel.get('coordinateSystem') === 'polar') {\n                var polarModel = ecModel.queryComponents({\n                    mainType: 'polar',\n                    index: seriesModel.get('polarIndex'),\n                    id: seriesModel.get('polarId')\n                })[0];\n\n                if (__DEV__) {\n                    if (!polarModel) {\n                        throw new Error(\n                            'Polar \"' + retrieve(\n                                seriesModel.get('polarIndex'),\n                                seriesModel.get('polarId'),\n                                0\n                            ) + '\" not found'\n                        );\n                    }\n                }\n                seriesModel.coordinateSystem = polarModel.coordinateSystem;\n            }\n        });\n\n        return polarList;\n    }\n};\n\nCoordinateSystemManager.register('polar', polarCreator);\n\nvar elementList$1 = ['axisLine', 'axisLabel', 'axisTick', 'splitLine', 'splitArea'];\n\nfunction getAxisLineShape(polar, rExtent, angle) {\n    rExtent[1] > rExtent[0] && (rExtent = rExtent.slice().reverse());\n    var start = polar.coordToPoint([rExtent[0], angle]);\n    var end = polar.coordToPoint([rExtent[1], angle]);\n\n    return {\n        x1: start[0],\n        y1: start[1],\n        x2: end[0],\n        y2: end[1]\n    };\n}\n\nfunction getRadiusIdx(polar) {\n    var radiusAxis = polar.getRadiusAxis();\n    return radiusAxis.inverse ? 0 : 1;\n}\n\nAxisView.extend({\n\n    type: 'angleAxis',\n\n    axisPointerClass: 'PolarAxisPointer',\n\n    render: function (angleAxisModel, ecModel) {\n        this.group.removeAll();\n        if (!angleAxisModel.get('show')) {\n            return;\n        }\n\n        var angleAxis = angleAxisModel.axis;\n        var polar = angleAxis.polar;\n        var radiusExtent = polar.getRadiusAxis().getExtent();\n        var ticksAngles = angleAxis.getTicksCoords();\n\n        if (angleAxis.type !== 'category') {\n            // Remove the last tick which will overlap the first tick\n            ticksAngles.pop();\n        }\n\n        each$1(elementList$1, function (name) {\n            if (angleAxisModel.get(name +'.show')\n                && (!angleAxis.scale.isBlank() || name === 'axisLine')\n            ) {\n                this['_' + name](angleAxisModel, polar, ticksAngles, radiusExtent);\n            }\n        }, this);\n    },\n\n    /**\n     * @private\n     */\n    _axisLine: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n        var lineStyleModel = angleAxisModel.getModel('axisLine.lineStyle');\n\n        var circle = new Circle({\n            shape: {\n                cx: polar.cx,\n                cy: polar.cy,\n                r: radiusExtent[getRadiusIdx(polar)]\n            },\n            style: lineStyleModel.getLineStyle(),\n            z2: 1,\n            silent: true\n        });\n        circle.style.fill = null;\n\n        this.group.add(circle);\n    },\n\n    /**\n     * @private\n     */\n    _axisTick: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n        var tickModel = angleAxisModel.getModel('axisTick');\n\n        var tickLen = (tickModel.get('inside') ? -1 : 1) * tickModel.get('length');\n        var radius = radiusExtent[getRadiusIdx(polar)];\n\n        var lines = map(ticksAngles, function (tickAngle) {\n            return new Line({\n                shape: getAxisLineShape(polar, [radius, radius + tickLen], tickAngle)\n            });\n        });\n        this.group.add(mergePath(\n            lines, {\n                style: defaults(\n                    tickModel.getModel('lineStyle').getLineStyle(),\n                    {\n                        stroke: angleAxisModel.get('axisLine.lineStyle.color')\n                    }\n                )\n            }\n        ));\n    },\n\n    /**\n     * @private\n     */\n    _axisLabel: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n        var axis = angleAxisModel.axis;\n\n        var categoryData = angleAxisModel.get('data');\n\n        var labelModel = angleAxisModel.getModel('axisLabel');\n        var labels = angleAxisModel.getFormattedLabels();\n\n        var labelMargin = labelModel.get('margin');\n        var labelsAngles = axis.getLabelsCoords();\n\n        // Use length of ticksAngles because it may remove the last tick to avoid overlapping\n        for (var i = 0; i < ticksAngles.length; i++) {\n            var r = radiusExtent[getRadiusIdx(polar)];\n            var p = polar.coordToPoint([r + labelMargin, labelsAngles[i]]);\n            var cx = polar.cx;\n            var cy = polar.cy;\n\n            var labelTextAlign = Math.abs(p[0] - cx) / r < 0.3\n                ? 'center' : (p[0] > cx ? 'left' : 'right');\n            var labelTextVerticalAlign = Math.abs(p[1] - cy) / r < 0.3\n                ? 'middle' : (p[1] > cy ? 'top' : 'bottom');\n\n            if (categoryData && categoryData[i] && categoryData[i].textStyle) {\n                labelModel = new Model(categoryData[i].textStyle, labelModel, labelModel.ecModel);\n            }\n\n            var textEl = new Text({silent: true});\n            this.group.add(textEl);\n            setTextStyle(textEl.style, labelModel, {\n                x: p[0],\n                y: p[1],\n                textFill: labelModel.getTextColor() || angleAxisModel.get('axisLine.lineStyle.color'),\n                text: labels[i],\n                textAlign: labelTextAlign,\n                textVerticalAlign: labelTextVerticalAlign\n            });\n        }\n    },\n\n    /**\n     * @private\n     */\n    _splitLine: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n        var splitLineModel = angleAxisModel.getModel('splitLine');\n        var lineStyleModel = splitLineModel.getModel('lineStyle');\n        var lineColors = lineStyleModel.get('color');\n        var lineCount = 0;\n\n        lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n\n        var splitLines = [];\n\n        for (var i = 0; i < ticksAngles.length; i++) {\n            var colorIndex = (lineCount++) % lineColors.length;\n            splitLines[colorIndex] = splitLines[colorIndex] || [];\n            splitLines[colorIndex].push(new Line({\n                shape: getAxisLineShape(polar, radiusExtent, ticksAngles[i])\n            }));\n        }\n\n        // Simple optimization\n        // Batching the lines if color are the same\n        for (var i = 0; i < splitLines.length; i++) {\n            this.group.add(mergePath(splitLines[i], {\n                style: defaults({\n                    stroke: lineColors[i % lineColors.length]\n                }, lineStyleModel.getLineStyle()),\n                silent: true,\n                z: angleAxisModel.get('z')\n            }));\n        }\n    },\n\n    /**\n     * @private\n     */\n    _splitArea: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n\n        var splitAreaModel = angleAxisModel.getModel('splitArea');\n        var areaStyleModel = splitAreaModel.getModel('areaStyle');\n        var areaColors = areaStyleModel.get('color');\n        var lineCount = 0;\n\n        areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n\n        var splitAreas = [];\n\n        var RADIAN = Math.PI / 180;\n        var prevAngle = -ticksAngles[0] * RADIAN;\n        var r0 = Math.min(radiusExtent[0], radiusExtent[1]);\n        var r1 = Math.max(radiusExtent[0], radiusExtent[1]);\n\n        var clockwise = angleAxisModel.get('clockwise');\n\n        for (var i = 1; i < ticksAngles.length; i++) {\n            var colorIndex = (lineCount++) % areaColors.length;\n            splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n            splitAreas[colorIndex].push(new Sector({\n                shape: {\n                    cx: polar.cx,\n                    cy: polar.cy,\n                    r0: r0,\n                    r: r1,\n                    startAngle: prevAngle,\n                    endAngle: -ticksAngles[i] * RADIAN,\n                    clockwise: clockwise\n                },\n                silent: true\n            }));\n            prevAngle = -ticksAngles[i] * RADIAN;\n        }\n\n        // Simple optimization\n        // Batching the lines if color are the same\n        for (var i = 0; i < splitAreas.length; i++) {\n            this.group.add(mergePath(splitAreas[i], {\n                style: defaults({\n                    fill: areaColors[i % areaColors.length]\n                }, areaStyleModel.getAreaStyle()),\n                silent: true\n            }));\n        }\n    }\n});\n\nvar axisBuilderAttrs$3 = [\n    'axisLine', 'axisTickLabel', 'axisName'\n];\nvar selfBuilderAttrs$1 = [\n    'splitLine', 'splitArea'\n];\n\nAxisView.extend({\n\n    type: 'radiusAxis',\n\n    axisPointerClass: 'PolarAxisPointer',\n\n    render: function (radiusAxisModel, ecModel) {\n        this.group.removeAll();\n        if (!radiusAxisModel.get('show')) {\n            return;\n        }\n        var radiusAxis = radiusAxisModel.axis;\n        var polar = radiusAxis.polar;\n        var angleAxis = polar.getAngleAxis();\n        var ticksCoords = radiusAxis.getTicksCoords();\n        var axisAngle = angleAxis.getExtent()[0];\n        var radiusExtent = radiusAxis.getExtent();\n\n        var layout = layoutAxis(polar, radiusAxisModel, axisAngle);\n        var axisBuilder = new AxisBuilder(radiusAxisModel, layout);\n        each$1(axisBuilderAttrs$3, axisBuilder.add, axisBuilder);\n        this.group.add(axisBuilder.getGroup());\n\n        each$1(selfBuilderAttrs$1, function (name) {\n            if (radiusAxisModel.get(name +'.show') && !radiusAxis.scale.isBlank()) {\n                this['_' + name](radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords);\n            }\n        }, this);\n    },\n\n    /**\n     * @private\n     */\n    _splitLine: function (radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n        var splitLineModel = radiusAxisModel.getModel('splitLine');\n        var lineStyleModel = splitLineModel.getModel('lineStyle');\n        var lineColors = lineStyleModel.get('color');\n        var lineCount = 0;\n\n        lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n\n        var splitLines = [];\n\n        for (var i = 0; i < ticksCoords.length; i++) {\n            var colorIndex = (lineCount++) % lineColors.length;\n            splitLines[colorIndex] = splitLines[colorIndex] || [];\n            splitLines[colorIndex].push(new Circle({\n                shape: {\n                    cx: polar.cx,\n                    cy: polar.cy,\n                    r: ticksCoords[i]\n                },\n                silent: true\n            }));\n        }\n\n        // Simple optimization\n        // Batching the lines if color are the same\n        for (var i = 0; i < splitLines.length; i++) {\n            this.group.add(mergePath(splitLines[i], {\n                style: defaults({\n                    stroke: lineColors[i % lineColors.length],\n                    fill: null\n                }, lineStyleModel.getLineStyle()),\n                silent: true\n            }));\n        }\n    },\n\n    /**\n     * @private\n     */\n    _splitArea: function (radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n\n        var splitAreaModel = radiusAxisModel.getModel('splitArea');\n        var areaStyleModel = splitAreaModel.getModel('areaStyle');\n        var areaColors = areaStyleModel.get('color');\n        var lineCount = 0;\n\n        areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n\n        var splitAreas = [];\n\n        var prevRadius = ticksCoords[0];\n        for (var i = 1; i < ticksCoords.length; i++) {\n            var colorIndex = (lineCount++) % areaColors.length;\n            splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n            splitAreas[colorIndex].push(new Sector({\n                shape: {\n                    cx: polar.cx,\n                    cy: polar.cy,\n                    r0: prevRadius,\n                    r: ticksCoords[i],\n                    startAngle: 0,\n                    endAngle: Math.PI * 2\n                },\n                silent: true\n            }));\n            prevRadius = ticksCoords[i];\n        }\n\n        // Simple optimization\n        // Batching the lines if color are the same\n        for (var i = 0; i < splitAreas.length; i++) {\n            this.group.add(mergePath(splitAreas[i], {\n                style: defaults({\n                    fill: areaColors[i % areaColors.length]\n                }, areaStyleModel.getAreaStyle()),\n                silent: true\n            }));\n        }\n    }\n});\n\n/**\n * @inner\n */\nfunction layoutAxis(polar, radiusAxisModel, axisAngle) {\n    return {\n        position: [polar.cx, polar.cy],\n        rotation: axisAngle / 180 * Math.PI,\n        labelDirection: -1,\n        tickDirection: -1,\n        nameDirection: 1,\n        labelRotate: radiusAxisModel.getModel('axisLabel').get('rotate'),\n        // Over splitLine and splitArea\n        z2: 1\n    };\n}\n\nvar PolarAxisPointer = BaseAxisPointer.extend({\n\n    /**\n     * @override\n     */\n    makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n        var axis = axisModel.axis;\n\n        if (axis.dim === 'angle') {\n            this.animationThreshold = Math.PI / 18;\n        }\n\n        var polar = axis.polar;\n        var otherAxis = polar.getOtherAxis(axis);\n        var otherExtent = otherAxis.getExtent();\n\n        var coordValue;\n        coordValue = axis['dataTo' + capitalFirst(axis.dim)](value);\n\n        var axisPointerType = axisPointerModel.get('type');\n        if (axisPointerType && axisPointerType !== 'none') {\n            var elStyle = buildElStyle(axisPointerModel);\n            var pointerOption = pointerShapeBuilder$2[axisPointerType](\n                axis, polar, coordValue, otherExtent, elStyle\n            );\n            pointerOption.style = elStyle;\n            elOption.graphicKey = pointerOption.type;\n            elOption.pointer = pointerOption;\n        }\n\n        var labelMargin = axisPointerModel.get('label.margin');\n        var labelPos = getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin);\n        buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos);\n    }\n\n    // Do not support handle, utill any user requires it.\n\n});\n\nfunction getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin) {\n    var axis = axisModel.axis;\n    var coord = axis.dataToCoord(value);\n    var axisAngle = polar.getAngleAxis().getExtent()[0];\n    axisAngle = axisAngle / 180 * Math.PI;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var position;\n    var align;\n    var verticalAlign;\n\n    if (axis.dim === 'radius') {\n        var transform = create$1();\n        rotate(transform, transform, axisAngle);\n        translate(transform, transform, [polar.cx, polar.cy]);\n        position = applyTransform$1([coord, -labelMargin], transform);\n\n        var labelRotation = axisModel.getModel('axisLabel').get('rotate') || 0;\n        var labelLayout = AxisBuilder.innerTextLayout(\n            axisAngle, labelRotation * Math.PI / 180, -1\n        );\n        align = labelLayout.textAlign;\n        verticalAlign = labelLayout.textVerticalAlign;\n    }\n    else { // angle axis\n        var r = radiusExtent[1];\n        position = polar.coordToPoint([r + labelMargin, coord]);\n        var cx = polar.cx;\n        var cy = polar.cy;\n        align = Math.abs(position[0] - cx) / r < 0.3\n            ? 'center' : (position[0] > cx ? 'left' : 'right');\n        verticalAlign = Math.abs(position[1] - cy) / r < 0.3\n            ? 'middle' : (position[1] > cy ? 'top' : 'bottom');\n    }\n\n    return {\n        position: position,\n        align: align,\n        verticalAlign: verticalAlign\n    };\n}\n\n\nvar pointerShapeBuilder$2 = {\n\n    line: function (axis, polar, coordValue, otherExtent, elStyle) {\n        return axis.dim === 'angle'\n            ? {\n                type: 'Line',\n                shape: makeLineShape(\n                    polar.coordToPoint([otherExtent[0], coordValue]),\n                    polar.coordToPoint([otherExtent[1], coordValue])\n                )\n            }\n            : {\n                type: 'Circle',\n                shape: {\n                    cx: polar.cx,\n                    cy: polar.cy,\n                    r: coordValue\n                }\n            };\n    },\n\n    shadow: function (axis, polar, coordValue, otherExtent, elStyle) {\n        var bandWidth = axis.getBandWidth();\n        var radian = Math.PI / 180;\n\n        return axis.dim === 'angle'\n            ? {\n                type: 'Sector',\n                shape: makeSectorShape(\n                    polar.cx, polar.cy,\n                    otherExtent[0], otherExtent[1],\n                    // In ECharts y is negative if angle is positive\n                    (-coordValue - bandWidth / 2) * radian,\n                    (-coordValue + bandWidth / 2) * radian\n                )\n            }\n            : {\n                type: 'Sector',\n                shape: makeSectorShape(\n                    polar.cx, polar.cy,\n                    coordValue - bandWidth / 2,\n                    coordValue + bandWidth / 2,\n                    0, Math.PI * 2\n                )\n            };\n    }\n};\n\nAxisView.registerAxisPointerClass('PolarAxisPointer', PolarAxisPointer);\n\n// For reducing size of echarts.min, barLayoutPolar is required by polar.\nregisterLayout(curry(barLayoutPolar, 'bar'));\n\n// Polar view\nextendComponentView({\n    type: 'polar'\n});\n\nvar GeoModel = ComponentModel.extend({\n\n    type: 'geo',\n\n    /**\n     * @type {module:echarts/coord/geo/Geo}\n     */\n    coordinateSystem: null,\n\n    layoutMode: 'box',\n\n    init: function (option) {\n        ComponentModel.prototype.init.apply(this, arguments);\n\n        // Default label emphasis `show`\n        defaultEmphasis(option.label, ['show']);\n    },\n\n    optionUpdated: function () {\n        var option = this.option;\n        var self = this;\n\n        option.regions = geoCreator.getFilledRegions(option.regions, option.map, option.nameMap);\n\n        this._optionModelMap = reduce(option.regions || [], function (optionModelMap, regionOpt) {\n            if (regionOpt.name) {\n                optionModelMap.set(regionOpt.name, new Model(regionOpt, self));\n            }\n            return optionModelMap;\n        }, createHashMap());\n\n        this.updateSelectedMap(option.regions);\n    },\n\n    defaultOption: {\n\n        zlevel: 0,\n\n        z: 0,\n\n        show: true,\n\n        left: 'center',\n\n        top: 'center',\n\n\n        // width:,\n        // height:,\n        // right\n        // bottom\n\n        // Aspect is width / height. Inited to be geoJson bbox aspect\n        // This parameter is used for scale this aspect\n        aspectScale: 0.75,\n\n        ///// Layout with center and size\n        // If you wan't to put map in a fixed size box with right aspect ratio\n        // This two properties may more conveninet\n        // layoutCenter: [50%, 50%]\n        // layoutSize: 100\n\n\n        silent: false,\n\n        // Map type\n        map: '',\n\n        // Define left-top, right-bottom coords to control view\n        // For example, [ [180, 90], [-180, -90] ]\n        boundingCoords: null,\n\n        // Default on center of map\n        center: null,\n\n        zoom: 1,\n\n        scaleLimit: null,\n\n        // selectedMode: false\n\n        label: {\n            normal: {\n                show: false,\n                color: '#000'\n            },\n            emphasis: {\n                show: true,\n                color: 'rgb(100,0,0)'\n            }\n        },\n\n        itemStyle: {\n            normal: {\n                // color: ,\n                borderWidth: 0.5,\n                borderColor: '#444',\n                color: '#eee'\n            },\n            emphasis: {                 // \n                color: 'rgba(255,215,0,0.8)'\n            }\n        },\n\n        regions: []\n    },\n\n    /**\n     * Get model of region\n     * @param  {string} name\n     * @return {module:echarts/model/Model}\n     */\n    getRegionModel: function (name) {\n        return this._optionModelMap.get(name) || new Model(null, this, this.ecModel);\n    },\n\n    /**\n     * Format label\n     * @param {string} name Region name\n     * @param {string} [status='normal'] 'normal' or 'emphasis'\n     * @return {string}\n     */\n    getFormattedLabel: function (name, status) {\n        var regionModel = this.getRegionModel(name);\n        var formatter = regionModel.get('label.' + status + '.formatter');\n        var params = {\n            name: name\n        };\n        if (typeof formatter === 'function') {\n            params.status = status;\n            return formatter(params);\n        }\n        else if (typeof formatter === 'string') {\n            return formatter.replace('{a}', name != null ? name : '');\n        }\n    },\n\n    setZoom: function (zoom) {\n        this.option.zoom = zoom;\n    },\n\n    setCenter: function (center) {\n        this.option.center = center;\n    }\n});\n\nmixin(GeoModel, selectableMixin);\n\nextendComponentView({\n\n    type: 'geo',\n\n    init: function (ecModel, api) {\n        var mapDraw = new MapDraw(api, true);\n        this._mapDraw = mapDraw;\n\n        this.group.add(mapDraw.group);\n    },\n\n    render: function (geoModel, ecModel, api, payload) {\n        // Not render if it is an toggleSelect action from self\n        if (payload && payload.type === 'geoToggleSelect'\n            && payload.from === this.uid\n        ) {\n            return;\n        }\n\n        var mapDraw = this._mapDraw;\n        if (geoModel.get('show')) {\n            mapDraw.draw(geoModel, ecModel, api, this, payload);\n        }\n        else {\n            this._mapDraw.group.removeAll();\n        }\n\n        this.group.silent = geoModel.get('silent');\n    },\n\n    dispose: function () {\n        this._mapDraw && this._mapDraw.remove();\n    }\n\n});\n\nfunction makeAction(method, actionInfo) {\n    actionInfo.update = 'updateView';\n    registerAction(actionInfo, function (payload, ecModel) {\n        var selected = {};\n\n        ecModel.eachComponent(\n            { mainType: 'geo', query: payload},\n            function (geoModel) {\n                geoModel[method](payload.name);\n                var geo = geoModel.coordinateSystem;\n                each$1(geo.regions, function (region) {\n                    selected[region.name] = geoModel.isSelected(region.name) || false;\n                });\n            }\n        );\n\n        return {\n            selected: selected,\n            name: payload.name\n        };\n    });\n}\n\nmakeAction('toggleSelected', {\n    type: 'geoToggleSelect',\n    event: 'geoselectchanged'\n});\nmakeAction('select', {\n    type: 'geoSelect',\n    event: 'geoselected'\n});\nmakeAction('unSelect', {\n    type: 'geoUnSelect',\n    event: 'geounselected'\n});\n\nvar DEFAULT_TOOLBOX_BTNS = ['rect', 'polygon', 'keep', 'clear'];\n\nvar preprocessor$1 = function (option, isNew) {\n    var brushComponents = option && option.brush;\n    if (!isArray(brushComponents)) {\n        brushComponents = brushComponents ? [brushComponents] : [];\n    }\n\n    if (!brushComponents.length) {\n        return;\n    }\n\n    var brushComponentSpecifiedBtns = [];\n\n    each$1(brushComponents, function (brushOpt) {\n        var tbs = brushOpt.hasOwnProperty('toolbox')\n            ? brushOpt.toolbox : [];\n\n        if (tbs instanceof Array) {\n            brushComponentSpecifiedBtns = brushComponentSpecifiedBtns.concat(tbs);\n        }\n    });\n\n    var toolbox = option && option.toolbox;\n\n    if (isArray(toolbox)) {\n        toolbox = toolbox[0];\n    }\n    if (!toolbox) {\n        toolbox = {feature: {}};\n        option.toolbox = [toolbox];\n    }\n\n    var toolboxFeature = (toolbox.feature || (toolbox.feature = {}));\n    var toolboxBrush = toolboxFeature.brush || (toolboxFeature.brush = {});\n    var brushTypes = toolboxBrush.type || (toolboxBrush.type = []);\n\n    brushTypes.push.apply(brushTypes, brushComponentSpecifiedBtns);\n\n    removeDuplicate(brushTypes);\n\n    if (isNew && !brushTypes.length) {\n        brushTypes.push.apply(brushTypes, DEFAULT_TOOLBOX_BTNS);\n    }\n};\n\nfunction removeDuplicate(arr) {\n    var map$$1 = {};\n    each$1(arr, function (val) {\n        map$$1[val] = 1;\n    });\n    arr.length = 0;\n    each$1(map$$1, function (flag, val) {\n        arr.push(val);\n    });\n}\n\n/**\n * @file Visual solution, for consistent option specification.\n */\n\nvar each$22 = each$1;\n\nfunction hasKeys(obj) {\n    if (obj) {\n        for (var name in obj){\n            if (obj.hasOwnProperty(name)) {\n                return true;\n            }\n        }\n    }\n}\n\n/**\n * @param {Object} option\n * @param {Array.<string>} stateList\n * @param {Function} [supplementVisualOption]\n * @return {Object} visualMappings <state, <visualType, module:echarts/visual/VisualMapping>>\n */\nfunction createVisualMappings(option, stateList, supplementVisualOption) {\n    var visualMappings = {};\n\n    each$22(stateList, function (state) {\n        var mappings = visualMappings[state] = createMappings();\n\n        each$22(option[state], function (visualData, visualType) {\n            if (!VisualMapping.isValidType(visualType)) {\n                return;\n            }\n            var mappingOption = {\n                type: visualType,\n                visual: visualData\n            };\n            supplementVisualOption && supplementVisualOption(mappingOption, state);\n            mappings[visualType] = new VisualMapping(mappingOption);\n\n            // Prepare a alpha for opacity, for some case that opacity\n            // is not supported, such as rendering using gradient color.\n            if (visualType === 'opacity') {\n                mappingOption = clone(mappingOption);\n                mappingOption.type = 'colorAlpha';\n                mappings.__hidden.__alphaForOpacity = new VisualMapping(mappingOption);\n            }\n        });\n    });\n\n    return visualMappings;\n\n    function createMappings() {\n        var Creater = function () {};\n        // Make sure hidden fields will not be visited by\n        // object iteration (with hasOwnProperty checking).\n        Creater.prototype.__hidden = Creater.prototype;\n        var obj = new Creater();\n        return obj;\n    }\n}\n\n/**\n * @param {Object} thisOption\n * @param {Object} newOption\n * @param {Array.<string>} keys\n */\nfunction replaceVisualOption(thisOption, newOption, keys) {\n    // Visual attributes merge is not supported, otherwise it\n    // brings overcomplicated merge logic. See #2853. So if\n    // newOption has anyone of these keys, all of these keys\n    // will be reset. Otherwise, all keys remain.\n    var has;\n    each$1(keys, function (key) {\n        if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n            has = true;\n        }\n    });\n    has && each$1(keys, function (key) {\n        if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n            thisOption[key] = clone(newOption[key]);\n        }\n        else {\n            delete thisOption[key];\n        }\n    });\n}\n\n/**\n * @param {Array.<string>} stateList\n * @param {Object} visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\n * @param {module:echarts/data/List} list\n * @param {Function} getValueState param: valueOrIndex, return: state.\n * @param {object} [scope] Scope for getValueState\n * @param {string} [dimension] Concrete dimension, if used.\n */\nfunction applyVisual(stateList, visualMappings, data, getValueState, scope, dimension) {\n    var visualTypesMap = {};\n    each$1(stateList, function (state) {\n        var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n        visualTypesMap[state] = visualTypes;\n    });\n\n    var dataIndex;\n\n    function getVisual(key) {\n        return data.getItemVisual(dataIndex, key);\n    }\n\n    function setVisual(key, value) {\n        data.setItemVisual(dataIndex, key, value);\n    }\n\n    if (dimension == null) {\n        data.each(eachItem, true);\n    }\n    else {\n        data.each([dimension], eachItem, true);\n    }\n\n    function eachItem(valueOrIndex, index) {\n        dataIndex = dimension == null ? valueOrIndex : index;\n\n        var rawDataItem = data.getRawDataItem(dataIndex);\n        // Consider performance\n        if (rawDataItem && rawDataItem.visualMap === false) {\n            return;\n        }\n\n        var valueState = getValueState.call(scope, valueOrIndex);\n        var mappings = visualMappings[valueState];\n        var visualTypes = visualTypesMap[valueState];\n\n        for (var i = 0, len = visualTypes.length; i < len; i++) {\n            var type = visualTypes[i];\n            mappings[type] && mappings[type].applyVisual(\n                valueOrIndex, getVisual, setVisual\n            );\n        }\n    }\n}\n\n// Key of the first level is brushType: `line`, `rect`, `polygon`.\n// Key of the second level is chart element type: `point`, `rect`.\n// See moudule:echarts/component/helper/BrushController\n// function param:\n//      {Object} itemLayout fetch from data.getItemLayout(dataIndex)\n//      {Object} selectors {point: selector, rect: selector, ...}\n//      {Object} area {range: [[], [], ..], boudingRect}\n// function return:\n//      {boolean} Whether in the given brush.\nvar selector = {\n    lineX: getLineSelectors(0),\n    lineY: getLineSelectors(1),\n    rect: {\n        point: function (itemLayout, selectors, area) {\n            return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]);\n        },\n        rect: function (itemLayout, selectors, area) {\n            return itemLayout && area.boundingRect.intersect(itemLayout);\n        }\n    },\n    polygon: {\n        point: function (itemLayout, selectors, area) {\n            return itemLayout\n                && area.boundingRect.contain(itemLayout[0], itemLayout[1])\n                && contain$1(area.range, itemLayout[0], itemLayout[1]);\n        },\n        rect: function (itemLayout, selectors, area) {\n            var points = area.range;\n\n            if (!itemLayout || points.length <= 1) {\n                return false;\n            }\n\n            var x = itemLayout.x;\n            var y = itemLayout.y;\n            var width = itemLayout.width;\n            var height = itemLayout.height;\n            var p = points[0];\n\n            if (contain$1(points, x, y)\n                || contain$1(points, x + width, y)\n                || contain$1(points, x, y + height)\n                || contain$1(points, x + width, y + height)\n                || BoundingRect.create(itemLayout).contain(p[0], p[1])\n                || lineIntersectPolygon(x, y, x + width, y, points)\n                || lineIntersectPolygon(x, y, x, y + height, points)\n                || lineIntersectPolygon(x + width, y, x + width, y + height, points)\n                || lineIntersectPolygon(x, y + height, x + width, y + height, points)\n            ) {\n                return true;\n            }\n        }\n    }\n};\n\nfunction getLineSelectors(xyIndex) {\n    var xy = ['x', 'y'];\n    var wh = ['width', 'height'];\n\n    return {\n        point: function (itemLayout, selectors, area) {\n            if (itemLayout) {\n                var range = area.range;\n                var p = itemLayout[xyIndex];\n                return inLineRange(p, range);\n            }\n        },\n        rect: function (itemLayout, selectors, area) {\n            if (itemLayout) {\n                var range = area.range;\n                var layoutRange = [\n                    itemLayout[xy[xyIndex]],\n                    itemLayout[xy[xyIndex]] + itemLayout[wh[xyIndex]]\n                ];\n                layoutRange[1] < layoutRange[0] && layoutRange.reverse();\n                return inLineRange(layoutRange[0], range)\n                    || inLineRange(layoutRange[1], range)\n                    || inLineRange(range[0], layoutRange)\n                    || inLineRange(range[1], layoutRange);\n            }\n        }\n    };\n}\n\nfunction inLineRange(p, range) {\n    return range[0] <= p && p <= range[1];\n}\n\nfunction lineIntersectPolygon(lx, ly, l2x, l2y, points) {\n    for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n        var p = points[i];\n        if (lineIntersect(lx, ly, l2x, l2y, p[0], p[1], p2[0], p2[1])) {\n            return true;\n        }\n        p2 = p;\n    }\n}\n\n// Code from <http://blog.csdn.net/rickliuxiao/article/details/6259322> with some fix.\n// See <https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection>\nfunction lineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n    var delta = determinant(a2x - a1x, b1x - b2x, a2y - a1y, b1y - b2y);\n    if (nearZero(delta)) { // parallel\n        return false;\n    }\n    var namenda = determinant(b1x - a1x, b1x - b2x, b1y - a1y, b1y - b2y) / delta;\n    if (namenda < 0 || namenda > 1) {\n        return false;\n    }\n    var miu = determinant(a2x - a1x, b1x - a1x, a2y - a1y, b1y - a1y) / delta;\n    if (miu < 0 || miu > 1) {\n        return false;\n    }\n    return true;\n}\n\nfunction nearZero(val) {\n    return val <= (1e-6) && val >= -(1e-6);\n}\n\nfunction determinant(v1, v2, v3, v4) {\n    return v1 * v4 - v2 * v3;\n}\n\nvar each$23 = each$1;\nvar indexOf$2 = indexOf;\nvar curry$5 = curry;\n\nvar COORD_CONVERTS = ['dataToPoint', 'pointToData'];\n\n// FIXME\n// how to genarialize to more coordinate systems.\nvar INCLUDE_FINDER_MAIN_TYPES = [\n    'grid', 'xAxis', 'yAxis', 'geo', 'graph',\n    'polar', 'radiusAxis', 'angleAxis', 'bmap'\n];\n\n/**\n * [option in constructor]:\n * {\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n * }\n *\n *\n * [targetInfo]:\n *\n * There can be multiple axes in a single targetInfo. Consider the case\n * of `grid` component, a targetInfo represents a grid which contains one or more\n * cartesian and one or more axes. And consider the case of parallel system,\n * which has multiple axes in a coordinate system.\n * Can be {\n *     panelId: ...,\n *     coordSys: <a representitive cartesian in grid (first cartesian by default)>,\n *     coordSyses: all cartesians.\n *     gridModel: <grid component>\n *     xAxes: correspond to coordSyses on index\n *     yAxes: correspond to coordSyses on index\n * }\n * or {\n *     panelId: ...,\n *     coordSys: <geo coord sys>\n *     coordSyses: [<geo coord sys>]\n *     geoModel: <geo component>\n * }\n *\n *\n * [panelOpt]:\n *\n * Make from targetInfo. Input to BrushController.\n * {\n *     panelId: ...,\n *     rect: ...\n * }\n *\n *\n * [area]:\n *\n * Generated by BrushController or user input.\n * {\n *     panelId: Used to locate coordInfo directly. If user inpput, no panelId.\n *     brushType: determine how to convert to/from coord('rect' or 'polygon' or 'lineX/Y').\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n *     range: pixel range.\n *     coordRange: representitive coord range (the first one of coordRanges).\n *     coordRanges: <Array> coord ranges, used in multiple cartesian in one grid.\n * }\n */\n\n/**\n * @param {Object} option contains Index/Id/Name of xAxis/yAxis/geo/grid\n *        Each can be {number|Array.<number>}. like: {xAxisIndex: [3, 4]}\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} [opt]\n * @param {Array.<string>} [opt.include] include coordinate system types.\n */\nfunction BrushTargetManager(option, ecModel, opt) {\n    /**\n     * @private\n     * @type {Array.<Object>}\n     */\n    var targetInfoList = this._targetInfoList = [];\n    var info = {};\n    var foundCpts = parseFinder$1(ecModel, option);\n\n    each$23(targetInfoBuilders, function (builder, type) {\n        if (!opt || !opt.include || indexOf$2(opt.include, type) >= 0) {\n            builder(foundCpts, targetInfoList, info);\n        }\n    });\n}\n\nvar proto = BrushTargetManager.prototype;\n\nproto.setOutputRanges = function (areas, ecModel) {\n    this.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n        (area.coordRanges || (area.coordRanges = [])).push(coordRange);\n        // area.coordRange is the first of area.coordRanges\n        if (!area.coordRange) {\n            area.coordRange = coordRange;\n            // In 'category' axis, coord to pixel is not reversible, so we can not\n            // rebuild range by coordRange accrately, which may bring trouble when\n            // brushing only one item. So we use __rangeOffset to rebuilding range\n            // by coordRange. And this it only used in brush component so it is no\n            // need to be adapted to coordRanges.\n            var result = coordConvert[area.brushType](0, coordSys, coordRange);\n            area.__rangeOffset = {\n                offset: diffProcessor[area.brushType](result.values, area.range, [1, 1]),\n                xyMinMax: result.xyMinMax\n            };\n        }\n    });\n};\n\nproto.matchOutputRanges = function (areas, ecModel, cb) {\n    each$23(areas, function (area) {\n        var targetInfo = this.findTargetInfo(area, ecModel);\n\n        if (targetInfo && targetInfo !== true) {\n            each$1(\n                targetInfo.coordSyses,\n                function (coordSys) {\n                    var result = coordConvert[area.brushType](1, coordSys, area.range);\n                    cb(area, result.values, coordSys, ecModel);\n                }\n            );\n        }\n    }, this);\n};\n\nproto.setInputRanges = function (areas, ecModel) {\n    each$23(areas, function (area) {\n        var targetInfo = this.findTargetInfo(area, ecModel);\n\n        if (__DEV__) {\n            assert(\n                !targetInfo || targetInfo === true || area.coordRange,\n                'coordRange must be specified when coord index specified.'\n            );\n            assert(\n                !targetInfo || targetInfo !== true || area.range,\n                'range must be specified in global brush.'\n            );\n        }\n\n        area.range = area.range || [];\n\n        // convert coordRange to global range and set panelId.\n        if (targetInfo && targetInfo !== true) {\n            area.panelId = targetInfo.panelId;\n            // (1) area.range shoule always be calculate from coordRange but does\n            // not keep its original value, for the sake of the dataZoom scenario,\n            // where area.coordRange remains unchanged but area.range may be changed.\n            // (2) Only support converting one coordRange to pixel range in brush\n            // component. So do not consider `coordRanges`.\n            // (3) About __rangeOffset, see comment above.\n            var result = coordConvert[area.brushType](0, targetInfo.coordSys, area.coordRange);\n            var rangeOffset = area.__rangeOffset;\n            area.range = rangeOffset\n                ? diffProcessor[area.brushType](\n                    result.values,\n                    rangeOffset.offset,\n                    getScales(result.xyMinMax, rangeOffset.xyMinMax)\n                )\n                : result.values;\n        }\n    }, this);\n};\n\nproto.makePanelOpts = function (api, getDefaultBrushType) {\n    return map(this._targetInfoList, function (targetInfo) {\n        var rect = targetInfo.getPanelRect();\n        return {\n            panelId: targetInfo.panelId,\n            defaultBrushType: getDefaultBrushType && getDefaultBrushType(targetInfo),\n            clipPath: makeRectPanelClipPath(rect),\n            isTargetByCursor: makeRectIsTargetByCursor(\n                rect, api, targetInfo.coordSysModel\n            ),\n            getLinearBrushOtherExtent: makeLinearBrushOtherExtent(rect)\n        };\n    });\n};\n\nproto.controlSeries = function (area, seriesModel, ecModel) {\n    // Check whether area is bound in coord, and series do not belong to that coord.\n    // If do not do this check, some brush (like lineX) will controll all axes.\n    var targetInfo = this.findTargetInfo(area, ecModel);\n    return targetInfo === true || (\n        targetInfo && indexOf$2(targetInfo.coordSyses, seriesModel.coordinateSystem) >= 0\n    );\n};\n\n/**\n * If return Object, a coord found.\n * If reutrn true, global found.\n * Otherwise nothing found.\n *\n * @param {Object} area\n * @param {Array} targetInfoList\n * @return {Object|boolean}\n */\nproto.findTargetInfo = function (area, ecModel) {\n    var targetInfoList = this._targetInfoList;\n    var foundCpts = parseFinder$1(ecModel, area);\n\n    for (var i = 0; i < targetInfoList.length; i++) {\n        var targetInfo = targetInfoList[i];\n        var areaPanelId = area.panelId;\n        if (areaPanelId) {\n            if (targetInfo.panelId === areaPanelId) {\n                return targetInfo;\n            }\n        }\n        else {\n            for (var i = 0; i < targetInfoMatchers.length; i++) {\n                if (targetInfoMatchers[i](foundCpts, targetInfo)) {\n                    return targetInfo;\n                }\n            }\n        }\n    }\n\n    return true;\n};\n\nfunction formatMinMax(minMax) {\n    minMax[0] > minMax[1] && minMax.reverse();\n    return minMax;\n}\n\nfunction parseFinder$1(ecModel, option) {\n    return parseFinder(\n        ecModel, option, {includeMainTypes: INCLUDE_FINDER_MAIN_TYPES}\n    );\n}\n\nvar targetInfoBuilders = {\n\n    grid: function (foundCpts, targetInfoList) {\n        var xAxisModels = foundCpts.xAxisModels;\n        var yAxisModels = foundCpts.yAxisModels;\n        var gridModels = foundCpts.gridModels;\n        // Remove duplicated.\n        var gridModelMap = createHashMap();\n        var xAxesHas = {};\n        var yAxesHas = {};\n\n        if (!xAxisModels && !yAxisModels && !gridModels) {\n            return;\n        }\n\n        each$23(xAxisModels, function (axisModel) {\n            var gridModel = axisModel.axis.grid.model;\n            gridModelMap.set(gridModel.id, gridModel);\n            xAxesHas[gridModel.id] = true;\n        });\n        each$23(yAxisModels, function (axisModel) {\n            var gridModel = axisModel.axis.grid.model;\n            gridModelMap.set(gridModel.id, gridModel);\n            yAxesHas[gridModel.id] = true;\n        });\n        each$23(gridModels, function (gridModel) {\n            gridModelMap.set(gridModel.id, gridModel);\n            xAxesHas[gridModel.id] = true;\n            yAxesHas[gridModel.id] = true;\n        });\n\n        gridModelMap.each(function (gridModel) {\n            var grid = gridModel.coordinateSystem;\n            var cartesians = [];\n\n            each$23(grid.getCartesians(), function (cartesian, index) {\n                if (indexOf$2(xAxisModels, cartesian.getAxis('x').model) >= 0\n                    || indexOf$2(yAxisModels, cartesian.getAxis('y').model) >= 0\n                ) {\n                    cartesians.push(cartesian);\n                }\n            });\n            targetInfoList.push({\n                panelId: 'grid--' + gridModel.id,\n                gridModel: gridModel,\n                coordSysModel: gridModel,\n                // Use the first one as the representitive coordSys.\n                coordSys: cartesians[0],\n                coordSyses: cartesians,\n                getPanelRect: panelRectBuilder.grid,\n                xAxisDeclared: xAxesHas[gridModel.id],\n                yAxisDeclared: yAxesHas[gridModel.id]\n            });\n        });\n    },\n\n    geo: function (foundCpts, targetInfoList) {\n        each$23(foundCpts.geoModels, function (geoModel) {\n            var coordSys = geoModel.coordinateSystem;\n            targetInfoList.push({\n                panelId: 'geo--' + geoModel.id,\n                geoModel: geoModel,\n                coordSysModel: geoModel,\n                coordSys: coordSys,\n                coordSyses: [coordSys],\n                getPanelRect: panelRectBuilder.geo\n            });\n        });\n    }\n};\n\nvar targetInfoMatchers = [\n\n    // grid\n    function (foundCpts, targetInfo) {\n        var xAxisModel = foundCpts.xAxisModel;\n        var yAxisModel = foundCpts.yAxisModel;\n        var gridModel = foundCpts.gridModel;\n\n        !gridModel && xAxisModel && (gridModel = xAxisModel.axis.grid.model);\n        !gridModel && yAxisModel && (gridModel = yAxisModel.axis.grid.model);\n\n        return gridModel && gridModel === targetInfo.gridModel;\n    },\n\n    // geo\n    function (foundCpts, targetInfo) {\n        var geoModel = foundCpts.geoModel;\n        return geoModel && geoModel === targetInfo.geoModel;\n    }\n];\n\nvar panelRectBuilder = {\n\n    grid: function () {\n        // grid is not Transformable.\n        return this.coordSys.grid.getRect().clone();\n    },\n\n    geo: function () {\n        var coordSys = this.coordSys;\n        var rect = coordSys.getBoundingRect().clone();\n        // geo roam and zoom transform\n        rect.applyTransform(getTransform(coordSys));\n        return rect;\n    }\n};\n\nvar coordConvert = {\n\n    lineX: curry$5(axisConvert, 0),\n\n    lineY: curry$5(axisConvert, 1),\n\n    rect: function (to, coordSys, rangeOrCoordRange) {\n        var xminymin = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]]);\n        var xmaxymax = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]]);\n        var values = [\n            formatMinMax([xminymin[0], xmaxymax[0]]),\n            formatMinMax([xminymin[1], xmaxymax[1]])\n        ];\n        return {values: values, xyMinMax: values};\n    },\n\n    polygon: function (to, coordSys, rangeOrCoordRange) {\n        var xyMinMax = [[Infinity, -Infinity], [Infinity, -Infinity]];\n        var values = map(rangeOrCoordRange, function (item) {\n            var p = coordSys[COORD_CONVERTS[to]](item);\n            xyMinMax[0][0] = Math.min(xyMinMax[0][0], p[0]);\n            xyMinMax[1][0] = Math.min(xyMinMax[1][0], p[1]);\n            xyMinMax[0][1] = Math.max(xyMinMax[0][1], p[0]);\n            xyMinMax[1][1] = Math.max(xyMinMax[1][1], p[1]);\n            return p;\n        });\n        return {values: values, xyMinMax: xyMinMax};\n    }\n};\n\nfunction axisConvert(axisNameIndex, to, coordSys, rangeOrCoordRange) {\n    if (__DEV__) {\n        assert(\n            coordSys.type === 'cartesian2d',\n            'lineX/lineY brush is available only in cartesian2d.'\n        );\n    }\n\n    var axis = coordSys.getAxis(['x', 'y'][axisNameIndex]);\n    var values = formatMinMax(map([0, 1], function (i) {\n        return to\n            ? axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i]))\n            : axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]));\n    }));\n    var xyMinMax = [];\n    xyMinMax[axisNameIndex] = values;\n    xyMinMax[1 - axisNameIndex] = [NaN, NaN];\n\n    return {values: values, xyMinMax: xyMinMax};\n}\n\nvar diffProcessor = {\n    lineX: curry$5(axisDiffProcessor, 0),\n\n    lineY: curry$5(axisDiffProcessor, 1),\n\n    rect: function (values, refer, scales) {\n        return [\n            [values[0][0] - scales[0] * refer[0][0], values[0][1] - scales[0] * refer[0][1]],\n            [values[1][0] - scales[1] * refer[1][0], values[1][1] - scales[1] * refer[1][1]]\n        ];\n    },\n\n    polygon: function (values, refer, scales) {\n        return map(values, function (item, idx) {\n            return [item[0] - scales[0] * refer[idx][0], item[1] - scales[1] * refer[idx][1]];\n        });\n    }\n};\n\nfunction axisDiffProcessor(axisNameIndex, values, refer, scales) {\n    return [\n        values[0] - scales[axisNameIndex] * refer[0],\n        values[1] - scales[axisNameIndex] * refer[1]\n    ];\n}\n\n// We have to process scale caused by dataZoom manually,\n// although it might be not accurate.\nfunction getScales(xyMinMaxCurr, xyMinMaxOrigin) {\n    var sizeCurr = getSize(xyMinMaxCurr);\n    var sizeOrigin = getSize(xyMinMaxOrigin);\n    var scales = [sizeCurr[0] / sizeOrigin[0], sizeCurr[1] / sizeOrigin[1]];\n    isNaN(scales[0]) && (scales[0] = 1);\n    isNaN(scales[1]) && (scales[1] = 1);\n    return scales;\n}\n\nfunction getSize(xyMinMax) {\n    return xyMinMax\n        ? [xyMinMax[0][1] - xyMinMax[0][0], xyMinMax[1][1] - xyMinMax[1][0]]\n        : [NaN, NaN];\n}\n\nvar STATE_LIST = ['inBrush', 'outOfBrush'];\nvar DISPATCH_METHOD = '__ecBrushSelect';\nvar DISPATCH_FLAG = '__ecInBrushSelectEvent';\nvar PRIORITY_BRUSH = PRIORITY.VISUAL.BRUSH;\n\n/**\n * Layout for visual, the priority higher than other layout, and before brush visual.\n */\nregisterLayout(PRIORITY_BRUSH, function (ecModel, api, payload) {\n    ecModel.eachComponent({mainType: 'brush'}, function (brushModel) {\n\n        payload && payload.type === 'takeGlobalCursor' && brushModel.setBrushOption(\n            payload.key === 'brush' ? payload.brushOption : {brushType: false}\n        );\n\n        var brushTargetManager = brushModel.brushTargetManager = new BrushTargetManager(brushModel.option, ecModel);\n\n        brushTargetManager.setInputRanges(brushModel.areas, ecModel);\n    });\n});\n\n/**\n * Register the visual encoding if this modules required.\n */\nregisterVisual(PRIORITY_BRUSH, function (ecModel, api, payload) {\n\n    var brushSelected = [];\n    var throttleType;\n    var throttleDelay;\n\n    ecModel.eachComponent({mainType: 'brush'}, function (brushModel, brushIndex) {\n\n        var thisBrushSelected = {\n            brushId: brushModel.id,\n            brushIndex: brushIndex,\n            brushName: brushModel.name,\n            areas: clone(brushModel.areas),\n            selected: []\n        };\n        // Every brush component exists in event params, convenient\n        // for user to find by index.\n        brushSelected.push(thisBrushSelected);\n\n        var brushOption = brushModel.option;\n        var brushLink = brushOption.brushLink;\n        var linkedSeriesMap = [];\n        var selectedDataIndexForLink = [];\n        var rangeInfoBySeries = [];\n        var hasBrushExists = 0;\n\n        if (!brushIndex) { // Only the first throttle setting works.\n            throttleType = brushOption.throttleType;\n            throttleDelay = brushOption.throttleDelay;\n        }\n\n        // Add boundingRect and selectors to range.\n        var areas = map(brushModel.areas, function (area) {\n            return bindSelector(\n                defaults(\n                    {boundingRect: boundingRectBuilders[area.brushType](area)},\n                    area\n                )\n            );\n        });\n\n        var visualMappings = createVisualMappings(\n            brushModel.option, STATE_LIST, function (mappingOption) {\n                mappingOption.mappingMethod = 'fixed';\n            }\n        );\n\n        isArray(brushLink) && each$1(brushLink, function (seriesIndex) {\n            linkedSeriesMap[seriesIndex] = 1;\n        });\n\n        function linkOthers(seriesIndex) {\n            return brushLink === 'all' || linkedSeriesMap[seriesIndex];\n        }\n\n        // If no supported brush or no brush on the series,\n        // all visuals should be in original state.\n        function brushed(rangeInfoList) {\n            return !!rangeInfoList.length;\n        }\n\n        /**\n         * Logic for each series: (If the logic has to be modified one day, do it carefully!)\n         *\n         * ( brushed  && hasBrushExist  && linkOthers  ) => StepA: record,  StepB: visualByRecord.\n         *   !brushed    hasBrushExist                             nothing,        visualByRecord.\n         *                !hasBrushExist                                              nothing.\n         * ( !brushed  && hasBrushExist  && linkOthers  ) => StepA:  nothing,  StepB: visualByRecord.\n         *                !hasBrushExist                                              nothing.\n         * ( brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB: visualByCheck.\n         *   !brushed                                                                  nothing.\n         * ( !brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB:  nothing.\n         */\n\n        // Step A\n        ecModel.eachSeries(function (seriesModel, seriesIndex) {\n            var rangeInfoList = rangeInfoBySeries[seriesIndex] = [];\n\n            seriesModel.subType === 'parallel'\n                ? stepAParallel(seriesModel, seriesIndex, rangeInfoList)\n                : stepAOthers(seriesModel, seriesIndex, rangeInfoList);\n        });\n\n        function stepAParallel(seriesModel, seriesIndex) {\n            var coordSys = seriesModel.coordinateSystem;\n            hasBrushExists |= coordSys.hasAxisBrushed();\n\n            linkOthers(seriesIndex) && coordSys.eachActiveState(\n                seriesModel.getData(),\n                function (activeState, dataIndex) {\n                    activeState === 'active' && (selectedDataIndexForLink[dataIndex] = 1);\n                }\n            );\n        }\n\n        function stepAOthers(seriesModel, seriesIndex, rangeInfoList) {\n            var selectorsByBrushType = getSelectorsByBrushType(seriesModel);\n            if (!selectorsByBrushType || brushModelNotControll(brushModel, seriesIndex)) {\n                return;\n            }\n\n            each$1(areas, function (area) {\n                selectorsByBrushType[area.brushType]\n                    && brushModel.brushTargetManager.controlSeries(area, seriesModel, ecModel)\n                    && rangeInfoList.push(area);\n                hasBrushExists |= brushed(rangeInfoList);\n            });\n\n            if (linkOthers(seriesIndex) && brushed(rangeInfoList)) {\n                var data = seriesModel.getData();\n                data.each(function (dataIndex) {\n                    if (checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex)) {\n                        selectedDataIndexForLink[dataIndex] = 1;\n                    }\n                });\n            }\n        }\n\n        // Step B\n        ecModel.eachSeries(function (seriesModel, seriesIndex) {\n            var seriesBrushSelected = {\n                seriesId: seriesModel.id,\n                seriesIndex: seriesIndex,\n                seriesName: seriesModel.name,\n                dataIndex: []\n            };\n            // Every series exists in event params, convenient\n            // for user to find series by seriesIndex.\n            thisBrushSelected.selected.push(seriesBrushSelected);\n\n            var selectorsByBrushType = getSelectorsByBrushType(seriesModel);\n            var rangeInfoList = rangeInfoBySeries[seriesIndex];\n\n            var data = seriesModel.getData();\n            var getValueState = linkOthers(seriesIndex)\n                ? function (dataIndex) {\n                    return selectedDataIndexForLink[dataIndex]\n                        ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush')\n                        : 'outOfBrush';\n                }\n                : function (dataIndex) {\n                    return checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex)\n                        ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush')\n                        : 'outOfBrush';\n                };\n\n            // If no supported brush or no brush, all visuals are in original state.\n            (linkOthers(seriesIndex) ? hasBrushExists : brushed(rangeInfoList))\n                && applyVisual(\n                    STATE_LIST, visualMappings, data, getValueState\n                );\n        });\n\n    });\n\n    dispatchAction(api, throttleType, throttleDelay, brushSelected, payload);\n});\n\nfunction dispatchAction(api, throttleType, throttleDelay, brushSelected, payload) {\n    // This event will not be triggered when `setOpion`, otherwise dead lock may\n    // triggered when do `setOption` in event listener, which we do not find\n    // satisfactory way to solve yet. Some considered resolutions:\n    // (a) Diff with prevoius selected data ant only trigger event when changed.\n    // But store previous data and diff precisely (i.e., not only by dataIndex, but\n    // also detect value changes in selected data) might bring complexity or fragility.\n    // (b) Use spectial param like `silent` to suppress event triggering.\n    // But such kind of volatile param may be weird in `setOption`.\n    if (!payload) {\n        return;\n    }\n\n    var zr = api.getZr();\n    if (zr[DISPATCH_FLAG]) {\n        return;\n    }\n\n    if (!zr[DISPATCH_METHOD]) {\n        zr[DISPATCH_METHOD] = doDispatch;\n    }\n\n    var fn = createOrUpdate(zr, DISPATCH_METHOD, throttleDelay, throttleType);\n\n    fn(api, brushSelected);\n}\n\nfunction doDispatch(api, brushSelected) {\n    if (!api.isDisposed()) {\n        var zr = api.getZr();\n        zr[DISPATCH_FLAG] = true;\n        api.dispatchAction({\n            type: 'brushSelect',\n            batch: brushSelected\n        });\n        zr[DISPATCH_FLAG] = false;\n    }\n}\n\nfunction checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex) {\n    for (var i = 0, len = rangeInfoList.length; i < len; i++) {\n        var area = rangeInfoList[i];\n        if (selectorsByBrushType[area.brushType](\n            dataIndex, data, area.selectors, area\n        )) {\n            return true;\n        }\n    }\n}\n\nfunction getSelectorsByBrushType(seriesModel) {\n    var brushSelector = seriesModel.brushSelector;\n    if (isString(brushSelector)) {\n        var sels = [];\n        each$1(selector, function (selectorsByElementType, brushType) {\n            sels[brushType] = function (dataIndex, data, selectors, area) {\n                var itemLayout = data.getItemLayout(dataIndex);\n                return selectorsByElementType[brushSelector](itemLayout, selectors, area);\n            };\n        });\n        return sels;\n    }\n    else if (isFunction(brushSelector)) {\n        var bSelector = {};\n        each$1(selector, function (sel, brushType) {\n            bSelector[brushType] = brushSelector;\n        });\n        return bSelector;\n    }\n    return brushSelector;\n}\n\nfunction brushModelNotControll(brushModel, seriesIndex) {\n    var seriesIndices = brushModel.option.seriesIndex;\n    return seriesIndices != null\n        && seriesIndices !== 'all'\n        && (\n            isArray(seriesIndices)\n            ? indexOf(seriesIndices, seriesIndex) < 0\n            : seriesIndex !== seriesIndices\n        );\n}\n\nfunction bindSelector(area) {\n    var selectors = area.selectors = {};\n    each$1(selector[area.brushType], function (selFn, elType) {\n        // Do not use function binding or curry for performance.\n        selectors[elType] = function (itemLayout) {\n            return selFn(itemLayout, selectors, area);\n        };\n    });\n    return area;\n}\n\nvar boundingRectBuilders = {\n\n    lineX: noop,\n\n    lineY: noop,\n\n    rect: function (area) {\n        return getBoundingRectFromMinMax(area.range);\n    },\n\n    polygon: function (area) {\n        var minMax;\n        var range = area.range;\n\n        for (var i = 0, len = range.length; i < len; i++) {\n            minMax = minMax || [[Infinity, -Infinity], [Infinity, -Infinity]];\n            var rg = range[i];\n            rg[0] < minMax[0][0] && (minMax[0][0] = rg[0]);\n            rg[0] > minMax[0][1] && (minMax[0][1] = rg[0]);\n            rg[1] < minMax[1][0] && (minMax[1][0] = rg[1]);\n            rg[1] > minMax[1][1] && (minMax[1][1] = rg[1]);\n        }\n\n        return minMax && getBoundingRectFromMinMax(minMax);\n    }\n};\n\nfunction getBoundingRectFromMinMax(minMax) {\n    return new BoundingRect(\n        minMax[0][0],\n        minMax[1][0],\n        minMax[0][1] - minMax[0][0],\n        minMax[1][1] - minMax[1][0]\n    );\n}\n\nvar DEFAULT_OUT_OF_BRUSH_COLOR = ['#ddd'];\n\nvar BrushModel = extendComponentModel({\n\n    type: 'brush',\n\n    dependencies: ['geo', 'grid', 'xAxis', 'yAxis', 'parallel', 'series'],\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n        // inBrush: null,\n        // outOfBrush: null,\n        toolbox: null,          // Default value see preprocessor.\n        brushLink: null,        // Series indices array, broadcast using dataIndex.\n                                // or 'all', which means all series. 'none' or null means no series.\n        seriesIndex: 'all',     // seriesIndex array, specify series controlled by this brush component.\n        geoIndex: null,         //\n        xAxisIndex: null,\n        yAxisIndex: null,\n\n        brushType: 'rect',      // Default brushType, see BrushController.\n        brushMode: 'single',    // Default brushMode, 'single' or 'multiple'\n        transformable: true,    // Default transformable.\n        brushStyle: {           // Default brushStyle\n            borderWidth: 1,\n            color: 'rgba(120,140,180,0.3)',\n            borderColor: 'rgba(120,140,180,0.8)'\n        },\n\n        throttleType: 'fixRate',// Throttle in brushSelected event. 'fixRate' or 'debounce'.\n                                // If null, no throttle. Valid only in the first brush component\n        throttleDelay: 0,       // Unit: ms, 0 means every event will be triggered.\n\n        // FIXME\n        // \n        removeOnClick: true,\n\n        z: 10000\n    },\n\n    /**\n     * @readOnly\n     * @type {Array.<Object>}\n     */\n    areas: [],\n\n    /**\n     * Current activated brush type.\n     * If null, brush is inactived.\n     * see module:echarts/component/helper/BrushController\n     * @readOnly\n     * @type {string}\n     */\n    brushType: null,\n\n    /**\n     * Current brush opt.\n     * see module:echarts/component/helper/BrushController\n     * @readOnly\n     * @type {Object}\n     */\n    brushOption: {},\n\n    /**\n     * @readOnly\n     * @type {Array.<Object>}\n     */\n    coordInfoList: [],\n\n    optionUpdated: function (newOption, isInit) {\n        var thisOption = this.option;\n\n        !isInit && replaceVisualOption(\n            thisOption, newOption, ['inBrush', 'outOfBrush']\n        );\n\n        thisOption.inBrush = thisOption.inBrush || {};\n        // Always give default visual, consider setOption at the second time.\n        thisOption.outOfBrush = thisOption.outOfBrush || {color: DEFAULT_OUT_OF_BRUSH_COLOR};\n    },\n\n    /**\n     * If ranges is null/undefined, range state remain.\n     *\n     * @param {Array.<Object>} [ranges]\n     */\n    setAreas: function (areas) {\n        if (__DEV__) {\n            assert(isArray(areas));\n            each$1(areas, function (area) {\n                assert(area.brushType, 'Illegal areas');\n            });\n        }\n\n        // If ranges is null/undefined, range state remain.\n        // This helps user to dispatchAction({type: 'brush'}) with no areas\n        // set but just want to get the current brush select info from a `brush` event.\n        if (!areas) {\n            return;\n        }\n\n        this.areas = map(areas, function (area) {\n            return generateBrushOption(this.option, area);\n        }, this);\n    },\n\n    /**\n     * see module:echarts/component/helper/BrushController\n     * @param {Object} brushOption\n     */\n    setBrushOption: function (brushOption) {\n        this.brushOption = generateBrushOption(this.option, brushOption);\n        this.brushType = this.brushOption.brushType;\n    }\n\n});\n\nfunction generateBrushOption(option, brushOption) {\n    return merge(\n        {\n            brushType: option.brushType,\n            brushMode: option.brushMode,\n            transformable: option.transformable,\n            brushStyle: new Model(option.brushStyle).getItemStyle(),\n            removeOnClick: option.removeOnClick,\n            z: option.z\n        },\n        brushOption,\n        true\n    );\n}\n\nextendComponentView({\n\n    type: 'brush',\n\n    init: function (ecModel, api) {\n\n        /**\n         * @readOnly\n         * @type {module:echarts/model/Global}\n         */\n        this.ecModel = ecModel;\n\n        /**\n         * @readOnly\n         * @type {module:echarts/ExtensionAPI}\n         */\n        this.api = api;\n\n        /**\n         * @readOnly\n         * @type {module:echarts/component/brush/BrushModel}\n         */\n        this.model;\n\n        /**\n         * @private\n         * @type {module:echarts/component/helper/BrushController}\n         */\n        (this._brushController = new BrushController(api.getZr()))\n            .on('brush', bind(this._onBrush, this))\n            .mount();\n    },\n\n    /**\n     * @override\n     */\n    render: function (brushModel) {\n        this.model = brushModel;\n        return updateController.apply(this, arguments);\n    },\n\n    /**\n     * @override\n     */\n    updateView: updateController,\n\n    /**\n     * @override\n     */\n    updateLayout: updateController,\n\n    /**\n     * @override\n     */\n    updateVisual: updateController,\n\n    /**\n     * @override\n     */\n    dispose: function () {\n        this._brushController.dispose();\n    },\n\n    /**\n     * @private\n     */\n    _onBrush: function (areas, opt) {\n        var modelId = this.model.id;\n\n        this.model.brushTargetManager.setOutputRanges(areas, this.ecModel);\n\n        // Action is not dispatched on drag end, because the drag end\n        // emits the same params with the last drag move event, and\n        // may have some delay when using touch pad, which makes\n        // animation not smooth (when using debounce).\n        (!opt.isEnd || opt.removeOnClick) && this.api.dispatchAction({\n            type: 'brush',\n            brushId: modelId,\n            areas: clone(areas),\n            $from: modelId\n        });\n    }\n\n});\n\nfunction updateController(brushModel, ecModel, api, payload) {\n    // Do not update controller when drawing.\n    (!payload || payload.$from !== brushModel.id) && this._brushController\n        .setPanels(brushModel.brushTargetManager.makePanelOpts(api))\n        .enableBrush(brushModel.brushOption)\n        .updateCovers(brushModel.areas.slice());\n}\n\n/**\n * payload: {\n *      brushIndex: number, or,\n *      brushId: string, or,\n *      brushName: string,\n *      globalRanges: Array\n * }\n */\nregisterAction(\n        {type: 'brush', event: 'brush', update: 'updateView'},\n    function (payload, ecModel) {\n        ecModel.eachComponent({mainType: 'brush', query: payload}, function (brushModel) {\n            brushModel.setAreas(payload.areas);\n        });\n    }\n);\n\n/**\n * payload: {\n *      brushComponents: [\n *          {\n *              brushId,\n *              brushIndex,\n *              brushName,\n *              series: [\n *                  {\n *                      seriesId,\n *                      seriesIndex,\n *                      seriesName,\n *                      rawIndices: [21, 34, ...]\n *                  },\n *                  ...\n *              ]\n *          },\n *          ...\n *      ]\n * }\n */\nregisterAction(\n        {type: 'brushSelect', event: 'brushSelected', update: 'none'},\n    function () {}\n);\n\nvar features = {};\n\nfunction register$1(name, ctor) {\n    features[name] = ctor;\n}\n\nfunction get$5(name) {\n    return features[name];\n}\n\nvar lang = {\n    toolbox: {\n        brush: {\n            title: {\n                rect: '',\n                polygon: '',\n                lineX: '',\n                lineY: '',\n                keep: '',\n                clear: ''\n            }\n        },\n        dataView: {\n            title: '',\n            lang: ['', '', '']\n        },\n        dataZoom: {\n            title: {\n                zoom: '',\n                back: ''\n            }\n        },\n        magicType: {\n            title: {\n                line: '',\n                bar: '',\n                stack: '',\n                tiled: ''\n            }\n        },\n        restore: {\n            title: ''\n        },\n        saveAsImage: {\n            title: '',\n            lang: ['']\n        }\n    }\n};\n\nvar brushLang = lang.toolbox.brush;\n\nfunction Brush(model, ecModel, api) {\n    this.model = model;\n    this.ecModel = ecModel;\n    this.api = api;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this._brushType;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this._brushMode;\n}\n\nBrush.defaultOption = {\n    show: true,\n    type: ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'],\n    icon: {\n        rect: 'M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13', // jshint ignore:line\n        polygon: 'M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2', // jshint ignore:line\n        lineX: 'M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4', // jshint ignore:line\n        lineY: 'M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4', // jshint ignore:line\n        keep: 'M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z', // jshint ignore:line\n        clear: 'M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2' // jshint ignore:line\n    },\n    // `rect`, `polygon`, `lineX`, `lineY`, `keep`, `clear`\n    title: clone(brushLang.title)\n};\n\nvar proto$1 = Brush.prototype;\n\nproto$1.render =\nproto$1.updateView =\nproto$1.updateLayout = function (featureModel, ecModel, api) {\n    var brushType;\n    var brushMode;\n    var isBrushed;\n\n    ecModel.eachComponent({mainType: 'brush'}, function (brushModel) {\n        brushType = brushModel.brushType;\n        brushMode = brushModel.brushOption.brushMode || 'single';\n        isBrushed |= brushModel.areas.length;\n    });\n    this._brushType = brushType;\n    this._brushMode = brushMode;\n\n    each$1(featureModel.get('type', true), function (type) {\n        featureModel.setIconStatus(\n            type,\n            (\n                type === 'keep'\n                ? brushMode === 'multiple'\n                : type === 'clear'\n                ? isBrushed\n                : type === brushType\n            ) ? 'emphasis' : 'normal'\n        );\n    });\n};\n\nproto$1.getIcons = function () {\n    var model = this.model;\n    var availableIcons = model.get('icon', true);\n    var icons = {};\n    each$1(model.get('type', true), function (type) {\n        if (availableIcons[type]) {\n            icons[type] = availableIcons[type];\n        }\n    });\n    return icons;\n};\n\nproto$1.onclick = function (ecModel, api, type) {\n    var brushType = this._brushType;\n    var brushMode = this._brushMode;\n\n    if (type === 'clear') {\n        // Trigger parallel action firstly\n        api.dispatchAction({\n            type: 'axisAreaSelect',\n            intervals: []\n        });\n\n        api.dispatchAction({\n            type: 'brush',\n            command: 'clear',\n            // Clear all areas of all brush components.\n            areas: []\n        });\n    }\n    else {\n        api.dispatchAction({\n            type: 'takeGlobalCursor',\n            key: 'brush',\n            brushOption: {\n                brushType: type === 'keep'\n                    ? brushType\n                    : (brushType === type ? false : type),\n                brushMode: type === 'keep'\n                    ? (brushMode === 'multiple' ? 'single' : 'multiple')\n                    : brushMode\n            }\n        });\n    }\n};\n\nregister$1('brush', Brush);\n\n/**\n * Brush component entry\n */\n\nregisterPreprocessor(preprocessor$1);\n\n// (24*60*60*1000)\nvar PROXIMATE_ONE_DAY = 86400000;\n\n/**\n * Calendar\n *\n * @constructor\n *\n * @param {Object} calendarModel calendarModel\n * @param {Object} ecModel       ecModel\n * @param {Object} api           api\n */\nfunction Calendar(calendarModel, ecModel, api) {\n    this._model = calendarModel;\n}\n\nCalendar.prototype = {\n\n    constructor: Calendar,\n\n    type: 'calendar',\n\n    dimensions: ['time', 'value'],\n\n    // Required in createListFromData\n    getDimensionsInfo: function () {\n        return [{name: 'time', type: 'time'}];\n    },\n\n    getRangeInfo: function () {\n        return this._rangeInfo;\n    },\n\n    getModel: function () {\n        return this._model;\n    },\n\n    getRect: function () {\n        return this._rect;\n    },\n\n    getCellWidth: function () {\n        return this._sw;\n    },\n\n    getCellHeight: function () {\n        return this._sh;\n    },\n\n    getOrient: function () {\n        return this._orient;\n    },\n\n    /**\n     * getFirstDayOfWeek\n     *\n     * @example\n     *     0 : start at Sunday\n     *     1 : start at Monday\n     *\n     * @return {number}\n     */\n    getFirstDayOfWeek: function () {\n        return this._firstDayOfWeek;\n    },\n\n    /**\n     * get date info\n     *\n     * @param  {string|number} date date\n     * @return {Object}\n     * {\n     *      y: string, local full year, eg., '1940',\n     *      m: string, local month, from '01' ot '12',\n     *      d: string, local date, from '01' to '31' (if exists),\n     *      day: It is not date.getDay(). It is the location of the cell in a week, from 0 to 6,\n     *      time: timestamp,\n     *      formatedDate: string, yyyy-MM-dd,\n     *      date: original date object.\n     * }\n     */\n    getDateInfo: function (date) {\n\n        date = parseDate(date);\n\n        var y = date.getFullYear();\n\n        var m = date.getMonth() + 1;\n        m = m < 10 ? '0' + m : m;\n\n        var d = date.getDate();\n        d = d < 10 ? '0' + d : d;\n\n        var day = date.getDay();\n\n        day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n\n        return {\n            y: y,\n            m: m,\n            d: d,\n            day: day,\n            time: date.getTime(),\n            formatedDate: y + '-' + m + '-' + d,\n            date: date\n        };\n    },\n\n    getNextNDay: function (date, n) {\n        n = n || 0;\n        if (n === 0) {\n            return this.getDateInfo(date);\n        }\n\n        date = new Date(this.getDateInfo(date).time);\n        date.setDate(date.getDate() + n);\n\n        return this.getDateInfo(date);\n    },\n\n    update: function (ecModel, api) {\n\n        this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n        this._orient = this._model.get('orient');\n        this._lineWidth = this._model.getModel('itemStyle.normal').getItemStyle().lineWidth || 0;\n\n\n        this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n        var weeks = this._rangeInfo.weeks || 1;\n        var whNames = ['width', 'height'];\n        var cellSize = this._model.get('cellSize').slice();\n        var layoutParams = this._model.getBoxLayoutParams();\n        var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n\n        each$1([0, 1], function (idx) {\n            if (cellSizeSpecified(cellSize, idx)) {\n                layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n            }\n        });\n\n        var whGlobal = {\n            width: api.getWidth(),\n            height: api.getHeight()\n        };\n        var calendarRect = this._rect = getLayoutRect(layoutParams, whGlobal);\n\n        each$1([0, 1], function (idx) {\n            if (!cellSizeSpecified(cellSize, idx)) {\n                cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n            }\n        });\n\n        function cellSizeSpecified(cellSize, idx) {\n            return cellSize[idx] != null && cellSize[idx] !== 'auto';\n        }\n\n        this._sw = cellSize[0];\n        this._sh = cellSize[1];\n    },\n\n\n    /**\n     * Convert a time data(time, value) item to (x, y) point.\n     *\n     * @override\n     * @param  {Array|number} data data\n     * @param  {boolean} [clamp=true] out of range\n     * @return {Array} point\n     */\n    dataToPoint: function (data, clamp) {\n        isArray(data) && (data = data[0]);\n        clamp == null && (clamp = true);\n\n        var dayInfo = this.getDateInfo(data);\n        var range = this._rangeInfo;\n        var date = dayInfo.formatedDate;\n\n        // if not in range return [NaN, NaN]\n        if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time <= range.end.time)) {\n            return [NaN, NaN];\n        }\n\n        var week = dayInfo.day;\n        var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n\n        if (this._orient === 'vertical') {\n            return [\n                this._rect.x + week * this._sw + this._sw / 2,\n                this._rect.y + nthWeek * this._sh + this._sh / 2\n            ];\n\n        }\n\n        return [\n            this._rect.x + nthWeek * this._sw + this._sw / 2,\n            this._rect.y + week * this._sh + this._sh / 2\n        ];\n\n    },\n\n    /**\n     * Convert a (x, y) point to time data\n     *\n     * @override\n     * @param  {string} point point\n     * @return {string}       data\n     */\n    pointToData: function (point) {\n\n        var date = this.pointToDate(point);\n\n        return date && date.time;\n    },\n\n    /**\n     * Convert a time date item to (x, y) four point.\n     *\n     * @param  {Array} data  date[0] is date\n     * @param  {boolean} [clamp=true]  out of range\n     * @return {Object}       point\n     */\n    dataToRect: function (data, clamp) {\n        var point = this.dataToPoint(data, clamp);\n\n        return {\n            contentShape: {\n                x: point[0] - (this._sw - this._lineWidth) / 2,\n                y: point[1] - (this._sh - this._lineWidth) / 2,\n                width: this._sw - this._lineWidth,\n                height: this._sh - this._lineWidth\n            },\n\n            center: point,\n\n            tl: [\n                point[0] - this._sw / 2,\n                point[1] - this._sh / 2\n            ],\n\n            tr: [\n                point[0] + this._sw / 2,\n                point[1] - this._sh / 2\n            ],\n\n            br: [\n                point[0] + this._sw / 2,\n                point[1] + this._sh / 2\n            ],\n\n            bl: [\n                point[0] - this._sw / 2,\n                point[1] + this._sh / 2\n            ]\n\n        };\n    },\n\n    /**\n     * Convert a (x, y) point to time date\n     *\n     * @param  {Array} point point\n     * @return {Object}       date\n     */\n    pointToDate: function (point) {\n        var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n        var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n        var range = this._rangeInfo.range;\n\n        if (this._orient === 'vertical') {\n            return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n        }\n\n        return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n    },\n\n    /**\n     * @inheritDoc\n     */\n    convertToPixel: curry(doConvert$2, 'dataToPoint'),\n\n    /**\n     * @inheritDoc\n     */\n    convertFromPixel: curry(doConvert$2, 'pointToData'),\n\n    /**\n     * initRange\n     *\n     * @private\n     * @return {Array} [start, end]\n     */\n    _initRangeOption: function () {\n        var range = this._model.get('range');\n\n        var rg = range;\n\n        if (isArray(rg) && rg.length === 1) {\n            rg = rg[0];\n        }\n\n        if (/^\\d{4}$/.test(rg)) {\n            range = [rg + '-01-01', rg + '-12-31'];\n        }\n\n        if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rg)) {\n\n            var start = this.getDateInfo(rg);\n            var firstDay = start.date;\n            firstDay.setMonth(firstDay.getMonth() + 1);\n\n            var end = this.getNextNDay(firstDay, -1);\n            range = [start.formatedDate, end.formatedDate];\n        }\n\n        if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rg)) {\n            range = [rg, rg];\n        }\n\n        var tmp = this._getRangeInfo(range);\n\n        if (tmp.start.time > tmp.end.time) {\n            range.reverse();\n        }\n\n        return range;\n    },\n\n    /**\n     * range info\n     *\n     * @private\n     * @param  {Array} range range ['2017-01-01', '2017-07-08']\n     *  If range[0] > range[1], they will not be reversed.\n     * @return {Object}       obj\n     */\n    _getRangeInfo: function (range) {\n        range = [\n            this.getDateInfo(range[0]),\n            this.getDateInfo(range[1])\n        ];\n\n        var reversed;\n        if (range[0].time > range[1].time) {\n            reversed = true;\n            range.reverse();\n        }\n\n        var allDay = Math.floor(range[1].time / PROXIMATE_ONE_DAY)\n            - Math.floor(range[0].time / PROXIMATE_ONE_DAY) + 1;\n\n        // Consider case:\n        // Firstly set system timezone as \"Time Zone: America/Toronto\",\n        // ```\n        // var first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n        // var second = new Date(1478412000000);\n        // var allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n        // ```\n        // will get wrong result because of DST. So we should fix it.\n        var date = new Date(range[0].time);\n        var startDateNum = date.getDate();\n        var endDateNum = range[1].date.getDate();\n        date.setDate(startDateNum + allDay - 1);\n        // The bias can not over a month, so just compare date.\n        if (date.getDate() !== endDateNum) {\n            var sign = date.getTime() - range[1].time > 0 ? 1 : -1;\n            while (date.getDate() !== endDateNum && (date.getTime() - range[1].time) * sign > 0) {\n                allDay -= sign;\n                date.setDate(startDateNum + allDay - 1);\n            }\n        }\n\n        var weeks = Math.floor((allDay + range[0].day + 6) / 7);\n        var nthWeek = reversed ? -weeks + 1: weeks - 1;\n\n        reversed && range.reverse();\n\n        return {\n            range: [range[0].formatedDate, range[1].formatedDate],\n            start: range[0],\n            end: range[1],\n            allDay: allDay,\n            weeks: weeks,\n            // From 0.\n            nthWeek: nthWeek,\n            fweek: range[0].day,\n            lweek: range[1].day\n        };\n    },\n\n    /**\n     * get date by nthWeeks and week day in range\n     *\n     * @private\n     * @param  {number} nthWeek the week\n     * @param  {number} day   the week day\n     * @param  {Array} range [d1, d2]\n     * @return {Object}\n     */\n    _getDateByWeeksAndDay: function (nthWeek, day, range) {\n        var rangeInfo = this._getRangeInfo(range);\n\n        if (nthWeek > rangeInfo.weeks\n            || (nthWeek === 0 && day < rangeInfo.fweek)\n            || (nthWeek === rangeInfo.weeks && day > rangeInfo.lweek)\n        ) {\n            return false;\n        }\n\n        var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n        var date = new Date(rangeInfo.start.time);\n        date.setDate(rangeInfo.start.d + nthDay);\n\n        return this.getDateInfo(date);\n    }\n};\n\nCalendar.dimensions =  Calendar.prototype.dimensions;\n\nCalendar.getDimensionsInfo =  Calendar.prototype.getDimensionsInfo;\n\nCalendar.create = function (ecModel, api) {\n    var calendarList = [];\n\n    ecModel.eachComponent('calendar', function (calendarModel) {\n        var calendar = new Calendar(calendarModel, ecModel, api);\n        calendarList.push(calendar);\n        calendarModel.coordinateSystem = calendar;\n    });\n\n    ecModel.eachSeries(function (calendarSeries) {\n        if (calendarSeries.get('coordinateSystem') === 'calendar') {\n            // Inject coordinate system\n            calendarSeries.coordinateSystem = calendarList[calendarSeries.get('calendarIndex') || 0];\n        }\n    });\n    return calendarList;\n};\n\nfunction doConvert$2(methodName, ecModel, finder, value) {\n    var calendarModel = finder.calendarModel;\n    var seriesModel = finder.seriesModel;\n\n    var coordSys = calendarModel\n        ? calendarModel.coordinateSystem\n        : seriesModel\n        ? seriesModel.coordinateSystem\n        : null;\n\n    return coordSys === this ? coordSys[methodName](value) : null;\n}\n\nCoordinateSystemManager.register('calendar', Calendar);\n\nvar CalendarModel = ComponentModel.extend({\n\n    type: 'calendar',\n\n    /**\n     * @type {module:echarts/coord/calendar/Calendar}\n     */\n    coordinateSystem: null,\n\n    defaultOption: {\n        zlevel: 0,\n        z: 2,\n        left: 80,\n        top: 60,\n\n        cellSize: 20,\n\n        // horizontal vertical\n        orient: 'horizontal',\n\n        // month separate line style\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: '#000',\n                width: 1,\n                type: 'solid'\n            }\n        },\n\n        // rect style  temporarily unused emphasis\n        itemStyle: {\n            normal: {\n                color: '#fff',\n                borderWidth: 1,\n                borderColor: '#ccc'\n            }\n        },\n\n        // week text style\n        dayLabel: {\n            show: true,\n\n            // a week first day\n            firstDay: 0,\n\n            // start end\n            position: 'start',\n            margin: '50%', // 50% of cellSize\n            nameMap: 'en',\n            color: '#000'\n        },\n\n        // month text style\n        monthLabel: {\n            show: true,\n\n            // start end\n            position: 'start',\n            margin: 5,\n\n            // center or left\n            align: 'center',\n\n            // cn en []\n            nameMap: 'en',\n            formatter: null,\n            color: '#000'\n        },\n\n        // year text style\n        yearLabel: {\n            show: true,\n\n            // top bottom left right\n            position: null,\n            margin: 30,\n            formatter: null,\n            color: '#ccc',\n            fontFamily: 'sans-serif',\n            fontWeight: 'bolder',\n            fontSize: 20\n        }\n    },\n\n    /**\n     * @override\n     */\n    init: function (option, parentModel, ecModel, extraOpt) {\n        var inputPositionParams = getLayoutParams(option);\n\n        CalendarModel.superApply(this, 'init', arguments);\n\n        mergeAndNormalizeLayoutParams$1(option, inputPositionParams);\n    },\n\n    /**\n     * @override\n     */\n    mergeOption: function (option, extraOpt) {\n        CalendarModel.superApply(this, 'mergeOption', arguments);\n\n        mergeAndNormalizeLayoutParams$1(this.option, option);\n    }\n});\n\nfunction mergeAndNormalizeLayoutParams$1(target, raw) {\n    // Normalize cellSize\n    var cellSize = target.cellSize;\n\n    if (!isArray(cellSize)) {\n        cellSize = target.cellSize = [cellSize, cellSize];\n    }\n    else if (cellSize.length === 1) {\n        cellSize[1] = cellSize[0];\n    }\n\n    var ignoreSize = map([0, 1], function (hvIdx) {\n        // If user have set `width` or both `left` and `right`, cellSize\n        // will be automatically set to 'auto', otherwise the default\n        // setting of cellSize will make `width` setting not work.\n        if (sizeCalculable(raw, hvIdx)) {\n            cellSize[hvIdx] = 'auto';\n        }\n        return cellSize[hvIdx] != null && cellSize[hvIdx] !== 'auto';\n    });\n\n    mergeLayoutParam(target, raw, {\n        type: 'box', ignoreSize: ignoreSize\n    });\n}\n\nvar MONTH_TEXT = {\n    EN: [\n        'Jan', 'Feb', 'Mar',\n        'Apr', 'May', 'Jun',\n        'Jul', 'Aug', 'Sep',\n        'Oct', 'Nov', 'Dec'\n    ],\n    CN: [\n        '', '', '',\n        '', '', '',\n        '', '', '',\n        '', '', ''\n    ]\n};\n\nvar WEEK_TEXT = {\n    EN: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n    CN: ['', '', '', '', '', '', '']\n};\n\nextendComponentView({\n\n    type: 'calendar',\n\n    /**\n     * top/left line points\n     *  @private\n     */\n    _tlpoints: null,\n\n    /**\n     * bottom/right line points\n     *  @private\n     */\n    _blpoints: null,\n\n    /**\n     * first day of month\n     *  @private\n     */\n    _firstDayOfMonth: null,\n\n    /**\n     * first day point of month\n     *  @private\n     */\n    _firstDayPoints: null,\n\n    render: function (calendarModel, ecModel, api) {\n\n        var group = this.group;\n\n        group.removeAll();\n\n        var coordSys = calendarModel.coordinateSystem;\n\n        // range info\n        var rangeData = coordSys.getRangeInfo();\n        var orient = coordSys.getOrient();\n\n        this._renderDayRect(calendarModel, rangeData, group);\n\n        // _renderLines must be called prior to following function\n        this._renderLines(calendarModel, rangeData, orient, group);\n\n        this._renderYearText(calendarModel, rangeData, orient, group);\n\n        this._renderMonthText(calendarModel, orient, group);\n\n        this._renderWeekText(calendarModel, rangeData, orient, group);\n    },\n\n    // render day rect\n    _renderDayRect: function (calendarModel, rangeData, group) {\n        var coordSys = calendarModel.coordinateSystem;\n        var itemRectStyleModel = calendarModel.getModel('itemStyle.normal').getItemStyle();\n        var sw = coordSys.getCellWidth();\n        var sh = coordSys.getCellHeight();\n\n        for (var i = rangeData.start.time;\n            i <= rangeData.end.time;\n            i = coordSys.getNextNDay(i, 1).time\n        ) {\n\n            var point = coordSys.dataToRect([i], false).tl;\n\n            // every rect\n            var rect = new Rect({\n                shape: {\n                    x: point[0],\n                    y: point[1],\n                    width: sw,\n                    height: sh\n                },\n                cursor: 'default',\n                style: itemRectStyleModel\n            });\n\n            group.add(rect);\n        }\n\n    },\n\n    // render separate line\n    _renderLines: function (calendarModel, rangeData, orient, group) {\n\n        var self = this;\n\n        var coordSys = calendarModel.coordinateSystem;\n\n        var lineStyleModel = calendarModel.getModel('splitLine.lineStyle').getLineStyle();\n        var show = calendarModel.get('splitLine.show');\n\n        var lineWidth = lineStyleModel.lineWidth;\n\n        this._tlpoints = [];\n        this._blpoints = [];\n        this._firstDayOfMonth = [];\n        this._firstDayPoints = [];\n\n\n        var firstDay = rangeData.start;\n\n        for (var i = 0; firstDay.time <= rangeData.end.time; i++) {\n            addPoints(firstDay.formatedDate);\n\n            if (i === 0) {\n                firstDay = coordSys.getDateInfo(rangeData.start.y + '-' + rangeData.start.m);\n            }\n\n            var date = firstDay.date;\n            date.setMonth(date.getMonth() + 1);\n            firstDay = coordSys.getDateInfo(date);\n        }\n\n        addPoints(coordSys.getNextNDay(rangeData.end.time, 1).formatedDate);\n\n        function addPoints(date) {\n\n            self._firstDayOfMonth.push(coordSys.getDateInfo(date));\n            self._firstDayPoints.push(coordSys.dataToRect([date], false).tl);\n\n            var points = self._getLinePointsOfOneWeek(calendarModel, date, orient);\n\n            self._tlpoints.push(points[0]);\n            self._blpoints.push(points[points.length - 1]);\n\n            show && self._drawSplitline(points, lineStyleModel, group);\n        }\n\n\n        // render top/left line\n        show && this._drawSplitline(self._getEdgesPoints(self._tlpoints, lineWidth, orient), lineStyleModel, group);\n\n        // render bottom/right line\n        show && this._drawSplitline(self._getEdgesPoints(self._blpoints, lineWidth, orient), lineStyleModel, group);\n\n    },\n\n    // get points at both ends\n    _getEdgesPoints: function (points, lineWidth, orient) {\n        var rs = [points[0].slice(), points[points.length - 1].slice()];\n        var idx = orient === 'horizontal' ? 0 : 1;\n\n        // both ends of the line are extend half lineWidth\n        rs[0][idx] = rs[0][idx] - lineWidth / 2;\n        rs[1][idx] = rs[1][idx] + lineWidth / 2;\n\n        return rs;\n    },\n\n    // render split line\n    _drawSplitline: function (points, lineStyleModel, group) {\n\n        var poyline = new Polyline({\n            z2: 20,\n            shape: {\n                points: points\n            },\n            style: lineStyleModel\n        });\n\n        group.add(poyline);\n    },\n\n    // render month line of one week points\n    _getLinePointsOfOneWeek: function (calendarModel, date, orient) {\n\n        var coordSys = calendarModel.coordinateSystem;\n        date = coordSys.getDateInfo(date);\n\n        var points = [];\n\n        for (var i = 0; i < 7; i++) {\n\n            var tmpD = coordSys.getNextNDay(date.time, i);\n            var point = coordSys.dataToRect([tmpD.time], false);\n\n            points[2 * tmpD.day] = point.tl;\n            points[2 * tmpD.day + 1] = point[orient === 'horizontal' ? 'bl' : 'tr'];\n        }\n\n        return points;\n\n    },\n\n    _formatterLabel: function (formatter, params) {\n\n        if (typeof formatter === 'string' && formatter) {\n            return formatTplSimple(formatter, params);\n        }\n\n        if (typeof formatter === 'function') {\n            return formatter(params);\n        }\n\n        return params.nameMap;\n\n    },\n\n    _yearTextPositionControl: function (textEl, point, orient, position, margin) {\n\n        point = point.slice();\n        var aligns = ['center', 'bottom'];\n\n        if (position === 'bottom') {\n            point[1] += margin;\n            aligns = ['center', 'top'];\n        }\n        else if (position === 'left') {\n            point[0] -= margin;\n        }\n        else if (position === 'right') {\n            point[0] += margin;\n            aligns = ['center', 'top'];\n        }\n        else { // top\n            point[1] -= margin;\n        }\n\n        var rotate = 0;\n        if (position === 'left' || position === 'right') {\n            rotate = Math.PI / 2;\n        }\n\n        return {\n            rotation: rotate,\n            position: point,\n            style: {\n                textAlign: aligns[0],\n                textVerticalAlign: aligns[1]\n            }\n        };\n    },\n\n    // render year\n    _renderYearText: function (calendarModel, rangeData, orient, group) {\n        var yearLabel = calendarModel.getModel('yearLabel');\n\n        if (!yearLabel.get('show')) {\n            return;\n        }\n\n        var margin = yearLabel.get('margin');\n        var pos = yearLabel.get('position');\n\n        if (!pos) {\n            pos = orient !== 'horizontal' ? 'top' : 'left';\n        }\n\n        var points = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]];\n        var xc = (points[0][0] + points[1][0]) / 2;\n        var yc = (points[0][1] + points[1][1]) / 2;\n\n        var idx = orient === 'horizontal' ? 0 : 1;\n\n        var posPoints = {\n            top: [xc, points[idx][1]],\n            bottom: [xc, points[1 - idx][1]],\n            left: [points[1 - idx][0], yc],\n            right: [points[idx][0], yc]\n        };\n\n        var name = rangeData.start.y;\n\n        if (+rangeData.end.y > +rangeData.start.y) {\n            name = name + '-' + rangeData.end.y;\n        }\n\n        var formatter = yearLabel.get('formatter');\n\n        var params = {\n            start: rangeData.start.y,\n            end: rangeData.end.y,\n            nameMap: name\n        };\n\n        var content = this._formatterLabel(formatter, params);\n\n        var yearText = new Text({z2: 30});\n        setTextStyle(yearText.style, yearLabel, {text: content}),\n        yearText.attr(this._yearTextPositionControl(yearText, posPoints[pos], orient, pos, margin));\n\n        group.add(yearText);\n    },\n\n    _monthTextPositionControl: function (point, isCenter, orient, position, margin) {\n        var align = 'left';\n        var vAlign = 'top';\n        var x = point[0];\n        var y = point[1];\n\n        if (orient === 'horizontal') {\n            y = y + margin;\n\n            if (isCenter) {\n                align = 'center';\n            }\n\n            if (position === 'start') {\n                vAlign = 'bottom';\n            }\n        }\n        else {\n            x = x + margin;\n\n            if (isCenter) {\n                vAlign = 'middle';\n            }\n\n            if (position === 'start') {\n                align = 'right';\n            }\n        }\n\n        return {\n            x: x,\n            y: y,\n            textAlign: align,\n            textVerticalAlign: vAlign\n        };\n    },\n\n    // render month and year text\n    _renderMonthText: function (calendarModel, orient, group) {\n        var monthLabel = calendarModel.getModel('monthLabel');\n\n        if (!monthLabel.get('show')) {\n            return;\n        }\n\n        var nameMap = monthLabel.get('nameMap');\n        var margin = monthLabel.get('margin');\n        var pos = monthLabel.get('position');\n        var align = monthLabel.get('align');\n\n        var termPoints = [this._tlpoints, this._blpoints];\n\n        if (isString(nameMap)) {\n            nameMap = MONTH_TEXT[nameMap.toUpperCase()] || [];\n        }\n\n        var idx = pos === 'start' ? 0 : 1;\n        var axis = orient === 'horizontal' ? 0 : 1;\n        margin = pos === 'start' ? -margin : margin;\n        var isCenter = (align === 'center');\n\n        for (var i = 0; i < termPoints[idx].length - 1; i++) {\n\n            var tmp = termPoints[idx][i].slice();\n            var firstDay = this._firstDayOfMonth[i];\n\n            if (isCenter) {\n                var firstDayPoints = this._firstDayPoints[i];\n                tmp[axis] = (firstDayPoints[axis] + termPoints[0][i + 1][axis]) / 2;\n            }\n\n            var formatter = monthLabel.get('formatter');\n            var name = nameMap[+firstDay.m - 1];\n            var params = {\n                yyyy: firstDay.y,\n                yy: (firstDay.y + '').slice(2),\n                MM: firstDay.m,\n                M: +firstDay.m,\n                nameMap: name\n            };\n\n            var content = this._formatterLabel(formatter, params);\n\n            var monthText = new Text({z2: 30});\n            extend(\n                setTextStyle(monthText.style, monthLabel, {text: content}),\n                this._monthTextPositionControl(tmp, isCenter, orient, pos, margin)\n            );\n\n            group.add(monthText);\n        }\n    },\n\n    _weekTextPositionControl: function (point, orient, position, margin, cellSize) {\n        var align = 'center';\n        var vAlign = 'middle';\n        var x = point[0];\n        var y = point[1];\n        var isStart = position === 'start';\n\n        if (orient === 'horizontal') {\n            x = x + margin + (isStart ? 1 : -1) * cellSize[0] / 2;\n            align = isStart ? 'right' : 'left';\n        }\n        else {\n            y = y + margin + (isStart ? 1 : -1) * cellSize[1] / 2;\n            vAlign = isStart ? 'bottom' : 'top';\n        }\n\n        return {\n            x: x,\n            y: y,\n            textAlign: align,\n            textVerticalAlign: vAlign\n        };\n    },\n\n    // render weeks\n    _renderWeekText: function (calendarModel, rangeData, orient, group) {\n        var dayLabel = calendarModel.getModel('dayLabel');\n\n        if (!dayLabel.get('show')) {\n            return;\n        }\n\n        var coordSys = calendarModel.coordinateSystem;\n        var pos = dayLabel.get('position');\n        var nameMap = dayLabel.get('nameMap');\n        var margin = dayLabel.get('margin');\n        var firstDayOfWeek = coordSys.getFirstDayOfWeek();\n\n        if (isString(nameMap)) {\n            nameMap = WEEK_TEXT[nameMap.toUpperCase()] || [];\n        }\n\n        var start = coordSys.getNextNDay(\n            rangeData.end.time, (7 - rangeData.lweek)\n        ).time;\n\n        var cellSize = [coordSys.getCellWidth(), coordSys.getCellHeight()];\n        margin = parsePercent$1(margin, cellSize[orient === 'horizontal' ? 0 : 1]);\n\n        if (pos === 'start') {\n            start = coordSys.getNextNDay(\n                rangeData.start.time, -(7 + rangeData.fweek)\n            ).time;\n            margin = -margin;\n        }\n\n        for (var i = 0; i < 7; i++) {\n\n            var tmpD = coordSys.getNextNDay(start, i);\n            var point = coordSys.dataToRect([tmpD.time], false).center;\n            var day = i;\n            day = Math.abs((i + firstDayOfWeek) % 7);\n            var weekText = new Text({z2: 30});\n\n            extend(\n                setTextStyle(weekText.style, dayLabel, {text: nameMap[day]}),\n                this._weekTextPositionControl(point, orient, pos, margin, cellSize)\n            );\n            group.add(weekText);\n        }\n    }\n});\n\n/**\n * @file calendar.js\n * @author dxh\n */\n\n// Model\nextendComponentModel({\n\n    type: 'title',\n\n    layoutMode: {type: 'box', ignoreSize: true},\n\n    defaultOption: {\n        // \n        zlevel: 0,\n        // \n        z: 6,\n        show: true,\n\n        text: '',\n        // \n        // link: null,\n        // self | blank\n        target: 'blank',\n        subtext: '',\n\n        // \n        // sublink: null,\n        // self | blank\n        subtarget: 'blank',\n\n        // 'center'  'left'  'right'\n        //  {number}xpx\n        left: 0,\n        // 'top'  'bottom'  'center'\n        //  {number}ypx\n        top: 0,\n\n        // \n        // 'auto' | 'left' | 'right' | 'center'\n        //  left \n        // textAlign: null\n        //\n        // \n        // 'auto' | 'top' | 'bottom' | 'middle'\n        //  top \n        // textBaseline: null\n\n        backgroundColor: 'rgba(0,0,0,0)',\n\n        // \n        borderColor: '#ccc',\n\n        // px0\n        borderWidth: 0,\n\n        // px5\n        // css\n        padding: 5,\n\n        // px10\n        itemGap: 10,\n        textStyle: {\n            fontSize: 18,\n            fontWeight: 'bolder',\n            color: '#333'\n        },\n        subtextStyle: {\n            color: '#aaa'\n        }\n    }\n});\n\n// View\nextendComponentView({\n\n    type: 'title',\n\n    render: function (titleModel, ecModel, api) {\n        this.group.removeAll();\n\n        if (!titleModel.get('show')) {\n            return;\n        }\n\n        var group = this.group;\n\n        var textStyleModel = titleModel.getModel('textStyle');\n        var subtextStyleModel = titleModel.getModel('subtextStyle');\n\n        var textAlign = titleModel.get('textAlign');\n        var textBaseline = titleModel.get('textBaseline');\n\n        var textEl = new Text({\n            style: setTextStyle({}, textStyleModel, {\n                text: titleModel.get('text'),\n                textFill: textStyleModel.getTextColor()\n            }, {disableBox: true}),\n            z2: 10\n        });\n\n        var textRect = textEl.getBoundingRect();\n\n        var subText = titleModel.get('subtext');\n        var subTextEl = new Text({\n            style: setTextStyle({}, subtextStyleModel, {\n                text: subText,\n                textFill: subtextStyleModel.getTextColor(),\n                y: textRect.height + titleModel.get('itemGap'),\n                textVerticalAlign: 'top'\n            }, {disableBox: true}),\n            z2: 10\n        });\n\n        var link = titleModel.get('link');\n        var sublink = titleModel.get('sublink');\n\n        textEl.silent = !link;\n        subTextEl.silent = !sublink;\n\n        if (link) {\n            textEl.on('click', function () {\n                window.open(link, '_' + titleModel.get('target'));\n            });\n        }\n        if (sublink) {\n            subTextEl.on('click', function () {\n                window.open(sublink, '_' + titleModel.get('subtarget'));\n            });\n        }\n\n        group.add(textEl);\n        subText && group.add(subTextEl);\n        // If no subText, but add subTextEl, there will be an empty line.\n\n        var groupRect = group.getBoundingRect();\n        var layoutOption = titleModel.getBoxLayoutParams();\n        layoutOption.width = groupRect.width;\n        layoutOption.height = groupRect.height;\n        var layoutRect = getLayoutRect(\n            layoutOption, {\n                width: api.getWidth(),\n                height: api.getHeight()\n            }, titleModel.get('padding')\n        );\n        // Adjust text align based on position\n        if (!textAlign) {\n            // Align left if title is on the left. center and right is same\n            textAlign = titleModel.get('left') || titleModel.get('right');\n            if (textAlign === 'middle') {\n                textAlign = 'center';\n            }\n            // Adjust layout by text align\n            if (textAlign === 'right') {\n                layoutRect.x += layoutRect.width;\n            }\n            else if (textAlign === 'center') {\n                layoutRect.x += layoutRect.width / 2;\n            }\n        }\n        if (!textBaseline) {\n            textBaseline = titleModel.get('top') || titleModel.get('bottom');\n            if (textBaseline === 'center') {\n                textBaseline = 'middle';\n            }\n            if (textBaseline === 'bottom') {\n                layoutRect.y += layoutRect.height;\n            }\n            else if (textBaseline === 'middle') {\n                layoutRect.y += layoutRect.height / 2;\n            }\n\n            textBaseline = textBaseline || 'top';\n        }\n\n        group.attr('position', [layoutRect.x, layoutRect.y]);\n        var alignStyle = {\n            textAlign: textAlign,\n            textVerticalAlign: textBaseline\n        };\n        textEl.setStyle(alignStyle);\n        subTextEl.setStyle(alignStyle);\n\n        // Render background\n        // Get groupRect again because textAlign has been changed\n        groupRect = group.getBoundingRect();\n        var padding = layoutRect.margin;\n        var style = titleModel.getItemStyle(['color', 'opacity']);\n        style.fill = titleModel.get('backgroundColor');\n        var rect = new Rect({\n            shape: {\n                x: groupRect.x - padding[3],\n                y: groupRect.y - padding[0],\n                width: groupRect.width + padding[1] + padding[3],\n                height: groupRect.height + padding[0] + padding[2],\n                r: titleModel.get('borderRadius')\n            },\n            style: style,\n            silent: true\n        });\n        subPixelOptimizeRect(rect);\n\n        group.add(rect);\n    }\n});\n\nComponentModel.registerSubTypeDefaulter('dataZoom', function () {\n    // Default 'slider' when no type specified.\n    return 'slider';\n});\n\nvar AXIS_DIMS = ['x', 'y', 'z', 'radius', 'angle', 'single'];\n// Supported coords.\nvar COORDS = ['cartesian2d', 'polar', 'singleAxis'];\n\n/**\n * @param {string} coordType\n * @return {boolean}\n */\nfunction isCoordSupported(coordType) {\n    return indexOf(COORDS, coordType) >= 0;\n}\n\n/**\n * Create \"each\" method to iterate names.\n *\n * @pubilc\n * @param  {Array.<string>} names\n * @param  {Array.<string>=} attrs\n * @return {Function}\n */\nfunction createNameEach(names, attrs) {\n    names = names.slice();\n    var capitalNames = map(names, capitalFirst);\n    attrs = (attrs || []).slice();\n    var capitalAttrs = map(attrs, capitalFirst);\n\n    return function (callback, context) {\n        each$1(names, function (name, index) {\n            var nameObj = {name: name, capital: capitalNames[index]};\n\n            for (var j = 0; j < attrs.length; j++) {\n                nameObj[attrs[j]] = name + capitalAttrs[j];\n            }\n\n            callback.call(context, nameObj);\n        });\n    };\n}\n\n/**\n * Iterate each dimension name.\n *\n * @public\n * @param {Function} callback The parameter is like:\n *                            {\n *                                name: 'angle',\n *                                capital: 'Angle',\n *                                axis: 'angleAxis',\n *                                axisIndex: 'angleAixs',\n *                                index: 'angleIndex'\n *                            }\n * @param {Object} context\n */\nvar eachAxisDim$1 = createNameEach(AXIS_DIMS, ['axisIndex', 'axis', 'index', 'id']);\n\n/**\n * If tow dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * dataZoomModels and 'links' make up one or more graphics.\n * This function finds the graphic where the source dataZoomModel is in.\n *\n * @public\n * @param {Function} forEachNode Node iterator.\n * @param {Function} forEachEdgeType edgeType iterator\n * @param {Function} edgeIdGetter Giving node and edgeType, return an array of edge id.\n * @return {Function} Input: sourceNode, Output: Like {nodes: [], dims: {}}\n */\nfunction createLinkedNodesFinder(forEachNode, forEachEdgeType, edgeIdGetter) {\n\n    return function (sourceNode) {\n        var result = {\n            nodes: [],\n            records: {} // key: edgeType.name, value: Object (key: edge id, value: boolean).\n        };\n\n        forEachEdgeType(function (edgeType) {\n            result.records[edgeType.name] = {};\n        });\n\n        if (!sourceNode) {\n            return result;\n        }\n\n        absorb(sourceNode, result);\n\n        var existsLink;\n        do {\n            existsLink = false;\n            forEachNode(processSingleNode);\n        }\n        while (existsLink);\n\n        function processSingleNode(node) {\n            if (!isNodeAbsorded(node, result) && isLinked(node, result)) {\n                absorb(node, result);\n                existsLink = true;\n            }\n        }\n\n        return result;\n    };\n\n    function isNodeAbsorded(node, result) {\n        return indexOf(result.nodes, node) >= 0;\n    }\n\n    function isLinked(node, result) {\n        var hasLink = false;\n        forEachEdgeType(function (edgeType) {\n            each$1(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n                result.records[edgeType.name][edgeId] && (hasLink = true);\n            });\n        });\n        return hasLink;\n    }\n\n    function absorb(node, result) {\n        result.nodes.push(node);\n        forEachEdgeType(function (edgeType) {\n            each$1(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n                result.records[edgeType.name][edgeId] = true;\n            });\n        });\n    }\n}\n\nvar each$25 = each$1;\nvar asc$1 = asc;\n\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n *\n * @class\n */\nvar AxisProxy = function (dimName, axisIndex, dataZoomModel, ecModel) {\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this._dimName = dimName;\n\n    /**\n     * @private\n     */\n    this._axisIndex = axisIndex;\n\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n    this._valueWindow;\n\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n    this._percentWindow;\n\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n    this._dataExtent;\n\n    /**\n     * {minSpan, maxSpan, minValueSpan, maxValueSpan}\n     * @private\n     * @type {Object}\n     */\n    this._minMaxSpan;\n\n    /**\n     * @readOnly\n     * @type {module: echarts/model/Global}\n     */\n    this.ecModel = ecModel;\n\n    /**\n     * @private\n     * @type {module: echarts/component/dataZoom/DataZoomModel}\n     */\n    this._dataZoomModel = dataZoomModel;\n};\n\nAxisProxy.prototype = {\n\n    constructor: AxisProxy,\n\n    /**\n     * Whether the axisProxy is hosted by dataZoomModel.\n     *\n     * @public\n     * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n     * @return {boolean}\n     */\n    hostedBy: function (dataZoomModel) {\n        return this._dataZoomModel === dataZoomModel;\n    },\n\n    /**\n     * @return {Array.<number>} Value can only be NaN or finite value.\n     */\n    getDataValueWindow: function () {\n        return this._valueWindow.slice();\n    },\n\n    /**\n     * @return {Array.<number>}\n     */\n    getDataPercentWindow: function () {\n        return this._percentWindow.slice();\n    },\n\n    /**\n     * @public\n     * @param {number} axisIndex\n     * @return {Array} seriesModels\n     */\n    getTargetSeriesModels: function () {\n        var seriesModels = [];\n        var ecModel = this.ecModel;\n\n        ecModel.eachSeries(function (seriesModel) {\n            if (isCoordSupported(seriesModel.get('coordinateSystem'))) {\n                var dimName = this._dimName;\n                var axisModel = ecModel.queryComponents({\n                    mainType: dimName + 'Axis',\n                    index: seriesModel.get(dimName + 'AxisIndex'),\n                    id: seriesModel.get(dimName + 'AxisId')\n                })[0];\n                if (this._axisIndex === (axisModel && axisModel.componentIndex)) {\n                    seriesModels.push(seriesModel);\n                }\n            }\n        }, this);\n\n        return seriesModels;\n    },\n\n    getAxisModel: function () {\n        return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n    },\n\n    getOtherAxisModel: function () {\n        var axisDim = this._dimName;\n        var ecModel = this.ecModel;\n        var axisModel = this.getAxisModel();\n        var isCartesian = axisDim === 'x' || axisDim === 'y';\n        var otherAxisDim;\n        var coordSysIndexName;\n        if (isCartesian) {\n            coordSysIndexName = 'gridIndex';\n            otherAxisDim = axisDim === 'x' ? 'y' : 'x';\n        }\n        else {\n            coordSysIndexName = 'polarIndex';\n            otherAxisDim = axisDim === 'angle' ? 'radius' : 'angle';\n        }\n        var foundOtherAxisModel;\n        ecModel.eachComponent(otherAxisDim + 'Axis', function (otherAxisModel) {\n            if ((otherAxisModel.get(coordSysIndexName) || 0)\n                === (axisModel.get(coordSysIndexName) || 0)\n            ) {\n                foundOtherAxisModel = otherAxisModel;\n            }\n        });\n        return foundOtherAxisModel;\n    },\n\n    getMinMaxSpan: function () {\n        return clone(this._minMaxSpan);\n    },\n\n    /**\n     * Only calculate by given range and this._dataExtent, do not change anything.\n     *\n     * @param {Object} opt\n     * @param {number} [opt.start]\n     * @param {number} [opt.end]\n     * @param {number} [opt.startValue]\n     * @param {number} [opt.endValue]\n     */\n    calculateDataWindow: function (opt) {\n        var dataExtent = this._dataExtent;\n        var axisModel = this.getAxisModel();\n        var scale = axisModel.axis.scale;\n        var rangePropMode = this._dataZoomModel.getRangePropMode();\n        var percentExtent = [0, 100];\n        var percentWindow = [\n            opt.start,\n            opt.end\n        ];\n        var valueWindow = [];\n\n        each$25(['startValue', 'endValue'], function (prop) {\n            valueWindow.push(opt[prop] != null ? scale.parse(opt[prop]) : null);\n        });\n\n        // Normalize bound.\n        each$25([0, 1], function (idx) {\n            var boundValue = valueWindow[idx];\n            var boundPercent = percentWindow[idx];\n\n            // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n            // on `valueProp` ('startValue', 'endValue'). The former one is suitable\n            // for cases that a dataZoom component controls multiple axes with different\n            // unit or extent, and the latter one is suitable for accurate zoom by pixel\n            // (e.g., in dataZoomSelect). `valueProp` can be calculated from `percentProp`,\n            // but it is awkward that `percentProp` can not be obtained from `valueProp`\n            // accurately (because all of values that are overflow the `dataExtent` will\n            // be calculated to percent '100%'). So we have to use\n            // `dataZoom.getRangePropMode()` to mark which prop is used.\n            // `rangePropMode` is updated only when setOption or dispatchAction, otherwise\n            // it remains its original value.\n\n            if (rangePropMode[idx] === 'percent') {\n                if (boundPercent == null) {\n                    boundPercent = percentExtent[idx];\n                }\n                // Use scale.parse to math round for category or time axis.\n                boundValue = scale.parse(linearMap(\n                    boundPercent, percentExtent, dataExtent, true\n                ));\n            }\n            else {\n                // Calculating `percent` from `value` may be not accurate, because\n                // This calculation can not be inversed, because all of values that\n                // are overflow the `dataExtent` will be calculated to percent '100%'\n                boundPercent = linearMap(\n                    boundValue, dataExtent, percentExtent, true\n                );\n            }\n\n            // valueWindow[idx] = round(boundValue);\n            // percentWindow[idx] = round(boundPercent);\n            valueWindow[idx] = boundValue;\n            percentWindow[idx] = boundPercent;\n        });\n\n        return {\n            valueWindow: asc$1(valueWindow),\n            percentWindow: asc$1(percentWindow)\n        };\n    },\n\n    /**\n     * Notice: reset should not be called before series.restoreData() called,\n     * so it is recommanded to be called in \"process stage\" but not \"model init\n     * stage\".\n     *\n     * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n     */\n    reset: function (dataZoomModel) {\n        if (dataZoomModel !== this._dataZoomModel) {\n            return;\n        }\n\n        // Culculate data window and data extent, and record them.\n        this._dataExtent = calculateDataExtent(\n            this, this._dimName, this.getTargetSeriesModels()\n        );\n\n        var dataWindow = this.calculateDataWindow(dataZoomModel.option);\n\n        this._valueWindow = dataWindow.valueWindow;\n        this._percentWindow = dataWindow.percentWindow;\n\n        setMinMaxSpan(this);\n\n        // Update axis setting then.\n        setAxisModel(this);\n    },\n\n    /**\n     * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n     */\n    restore: function (dataZoomModel) {\n        if (dataZoomModel !== this._dataZoomModel) {\n            return;\n        }\n\n        this._valueWindow = this._percentWindow = null;\n        setAxisModel(this, true);\n    },\n\n    /**\n     * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n     */\n    filterData: function (dataZoomModel) {\n        if (dataZoomModel !== this._dataZoomModel) {\n            return;\n        }\n\n        var axisDim = this._dimName;\n        var seriesModels = this.getTargetSeriesModels();\n        var filterMode = dataZoomModel.get('filterMode');\n        var valueWindow = this._valueWindow;\n\n        if (filterMode === 'none') {\n            return;\n        }\n\n        // FIXME\n        // Toolbox may has dataZoom injected. And if there are stacked bar chart\n        // with NaN data, NaN will be filtered and stack will be wrong.\n        // So we need to force the mode to be set empty.\n        // In fect, it is not a big deal that do not support filterMode-'filter'\n        // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n        // selection\" some day, which might need \"adapt to data extent on the\n        // otherAxis\", which is disabled by filterMode-'empty'.\n        var otherAxisModel = this.getOtherAxisModel();\n        if (dataZoomModel.get('$fromToolbox')\n            && otherAxisModel\n            && otherAxisModel.get('type') === 'category'\n        ) {\n            filterMode = 'empty';\n        }\n\n        // Process series data\n        each$25(seriesModels, function (seriesModel) {\n            var seriesData = seriesModel.getData();\n            var dataDims = seriesModel.coordDimToDataDim(axisDim);\n\n            if (filterMode === 'weakFilter') {\n                seriesData && seriesData.filterSelf(function (dataIndex) {\n                    var leftOut;\n                    var rightOut;\n                    var hasValue;\n                    for (var i = 0; i < dataDims.length; i++) {\n                        var value = seriesData.get(dataDims[i], dataIndex);\n                        var thisHasValue = !isNaN(value);\n                        var thisLeftOut = value < valueWindow[0];\n                        var thisRightOut = value > valueWindow[1];\n                        if (thisHasValue && !thisLeftOut && !thisRightOut) {\n                            return true;\n                        }\n                        thisHasValue && (hasValue = true);\n                        thisLeftOut && (leftOut = true);\n                        thisRightOut && (rightOut = true);\n                    }\n                    // If both left out and right out, do not filter.\n                    return hasValue && leftOut && rightOut;\n                });\n            }\n            else {\n                seriesData && each$25(dataDims, function (dim) {\n                    if (filterMode === 'empty') {\n                        seriesModel.setData(\n                            seriesData.map(dim, function (value) {\n                                return !isInWindow(value) ? NaN : value;\n                            })\n                        );\n                    }\n                    else {\n                        seriesData.filterSelf(dim, isInWindow);\n                    }\n                });\n            }\n        });\n\n        function isInWindow(value) {\n            return value >= valueWindow[0] && value <= valueWindow[1];\n        }\n    }\n};\n\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n    var dataExtent = [Infinity, -Infinity];\n\n    each$25(seriesModels, function (seriesModel) {\n        var seriesData = seriesModel.getData();\n        if (seriesData) {\n            each$25(seriesModel.coordDimToDataDim(axisDim), function (dim) {\n                var seriesExtent = seriesData.getDataExtent(dim);\n                seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n                seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n            });\n        }\n    });\n\n    if (dataExtent[1] < dataExtent[0]) {\n        dataExtent = [NaN, NaN];\n    }\n\n    // It is important to get \"consistent\" extent when more then one axes is\n    // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n    // when zooming. But it is difficult to know what is \"consistent\", considering\n    // axes have different type or even different meanings (For example, two\n    // time axes are used to compare data of the same date in different years).\n    // So basically dataZoom just obtains extent by series.data (in category axis\n    // extent can be obtained from axis.data).\n    // Nevertheless, user can set min/max/scale on axes to make extent of axes\n    // consistent.\n    fixExtentByAxis(axisProxy, dataExtent);\n\n    return dataExtent;\n}\n\nfunction fixExtentByAxis(axisProxy, dataExtent) {\n    var axisModel = axisProxy.getAxisModel();\n    var min = axisModel.getMin(true);\n\n    // For category axis, if min/max/scale are not set, extent is determined\n    // by axis.data by default.\n    var isCategoryAxis = axisModel.get('type') === 'category';\n    var axisDataLen = isCategoryAxis && (axisModel.get('data') || []).length;\n\n    if (min != null && min !== 'dataMin' && typeof min !== 'function') {\n        dataExtent[0] = min;\n    }\n    else if (isCategoryAxis) {\n        dataExtent[0] = axisDataLen > 0 ? 0 : NaN;\n    }\n\n    var max = axisModel.getMax(true);\n    if (max != null && max !== 'dataMax' && typeof max !== 'function') {\n        dataExtent[1] = max;\n    }\n    else if (isCategoryAxis) {\n        dataExtent[1] = axisDataLen > 0 ? axisDataLen - 1 : NaN;\n    }\n\n    if (!axisModel.get('scale', true)) {\n        dataExtent[0] > 0 && (dataExtent[0] = 0);\n        dataExtent[1] < 0 && (dataExtent[1] = 0);\n    }\n\n    // For value axis, if min/max/scale are not set, we just use the extent obtained\n    // by series data, which may be a little different from the extent calculated by\n    // `axisHelper.getScaleExtent`. But the different just affects the experience a\n    // little when zooming. So it will not be fixed until some users require it strongly.\n\n    return dataExtent;\n}\n\nfunction setAxisModel(axisProxy, isRestore) {\n    var axisModel = axisProxy.getAxisModel();\n\n    var percentWindow = axisProxy._percentWindow;\n    var valueWindow = axisProxy._valueWindow;\n\n    if (!percentWindow) {\n        return;\n    }\n\n    // [0, 500]: arbitrary value, guess axis extent.\n    var precision = getPixelPrecision(valueWindow, [0, 500]);\n    precision = Math.min(precision, 20);\n    // isRestore or isFull\n    var useOrigin = isRestore || (percentWindow[0] === 0 && percentWindow[1] === 100);\n\n    axisModel.setRange(\n        useOrigin ? null : +valueWindow[0].toFixed(precision),\n        useOrigin ? null : +valueWindow[1].toFixed(precision)\n    );\n}\n\nfunction setMinMaxSpan(axisProxy) {\n    var minMaxSpan = axisProxy._minMaxSpan = {};\n    var dataZoomModel = axisProxy._dataZoomModel;\n\n    each$25(['min', 'max'], function (minMax) {\n        minMaxSpan[minMax + 'Span'] = dataZoomModel.get(minMax + 'Span');\n\n        // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n        var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n\n        if (valueSpan != null) {\n            minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n            valueSpan = axisProxy.getAxisModel().axis.scale.parse(valueSpan);\n\n            if (valueSpan != null) {\n                var dataExtent = axisProxy._dataExtent;\n                minMaxSpan[minMax + 'Span'] = linearMap(\n                    dataExtent[0] + valueSpan, dataExtent, [0, 100], true\n                );\n            }\n        }\n    });\n}\n\nvar each$24 = each$1;\nvar eachAxisDim = eachAxisDim$1;\n\nvar DataZoomModel = extendComponentModel({\n\n    type: 'dataZoom',\n\n    dependencies: [\n        'xAxis', 'yAxis', 'zAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series'\n    ],\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n        zlevel: 0,\n        z: 4,                   // Higher than normal component (z: 2).\n        orient: null,           // Default auto by axisIndex. Possible value: 'horizontal', 'vertical'.\n        xAxisIndex: null,       // Default the first horizontal category axis.\n        yAxisIndex: null,       // Default the first vertical category axis.\n\n        filterMode: 'filter',   // Possible values: 'filter' or 'empty' or 'weakFilter'.\n                                // 'filter': data items which are out of window will be removed. This option is\n                                //          applicable when filtering outliers. For each data item, it will be\n                                //          filtered if one of the relevant dimensions is out of the window.\n                                // 'weakFilter': data items which are out of window will be removed. This option\n                                //          is applicable when filtering outliers. For each data item, it will be\n                                //          filtered only if all  of the relevant dimensions are out of the same\n                                //          side of the window.\n                                // 'empty': data items which are out of window will be set to empty.\n                                //          This option is applicable when user should not neglect\n                                //          that there are some data items out of window.\n                                // 'none': Do not filter.\n                                // Taking line chart as an example, line will be broken in\n                                // the filtered points when filterModel is set to 'empty', but\n                                // be connected when set to 'filter'.\n\n        throttle: null,         // Dispatch action by the fixed rate, avoid frequency.\n                                // default 100. Do not throttle when use null/undefined.\n                                // If animation === true and animationDurationUpdate > 0,\n                                // default value is 100, otherwise 20.\n        start: 0,               // Start percent. 0 ~ 100\n        end: 100,               // End percent. 0 ~ 100\n        startValue: null,       // Start value. If startValue specified, start is ignored.\n        endValue: null,         // End value. If endValue specified, end is ignored.\n        minSpan: null,          // 0 ~ 100\n        maxSpan: null,          // 0 ~ 100\n        minValueSpan: null,     // The range of dataZoom can not be smaller than that.\n        maxValueSpan: null,     // The range of dataZoom can not be larger than that.\n        rangeMode: null         // Array, can be 'value' or 'percent'.\n    },\n\n    /**\n     * @override\n     */\n    init: function (option, parentModel, ecModel) {\n\n        /**\n         * key like x_0, y_1\n         * @private\n         * @type {Object}\n         */\n        this._dataIntervalByAxis = {};\n\n        /**\n         * @private\n         */\n        this._dataInfo = {};\n\n        /**\n         * key like x_0, y_1\n         * @private\n         */\n        this._axisProxies = {};\n\n        /**\n         * @readOnly\n         */\n        this.textStyleModel;\n\n        /**\n         * @private\n         */\n        this._autoThrottle = true;\n\n        /**\n         * 'percent' or 'value'\n         * @private\n         */\n        this._rangePropMode = ['percent', 'percent'];\n\n        var rawOption = retrieveRaw(option);\n\n        this.mergeDefaultAndTheme(option, ecModel);\n\n        this.doInit(rawOption);\n    },\n\n    /**\n     * @override\n     */\n    mergeOption: function (newOption) {\n        var rawOption = retrieveRaw(newOption);\n\n        //FIX #2591\n        merge(this.option, newOption, true);\n\n        this.doInit(rawOption);\n    },\n\n    /**\n     * @protected\n     */\n    doInit: function (rawOption) {\n        var thisOption = this.option;\n\n        // Disable realtime view update if canvas is not supported.\n        if (!env$1.canvasSupported) {\n            thisOption.realtime = false;\n        }\n\n        this._setDefaultThrottle(rawOption);\n\n        updateRangeUse(this, rawOption);\n\n        each$24([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n            // start/end has higher priority over startValue/endValue if they\n            // both set, but we should make chart.setOption({endValue: 1000})\n            // effective, rather than chart.setOption({endValue: 1000, end: null}).\n            if (this._rangePropMode[index] === 'value') {\n                thisOption[names[0]] = null;\n            }\n            // Otherwise do nothing and use the merge result.\n        }, this);\n\n        this.textStyleModel = this.getModel('textStyle');\n\n        this._resetTarget();\n\n        this._giveAxisProxies();\n    },\n\n    /**\n     * @private\n     */\n    _giveAxisProxies: function () {\n        var axisProxies = this._axisProxies;\n\n        this.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel, ecModel) {\n            var axisModel = this.dependentModels[dimNames.axis][axisIndex];\n\n            // If exists, share axisProxy with other dataZoomModels.\n            var axisProxy = axisModel.__dzAxisProxy || (\n                // Use the first dataZoomModel as the main model of axisProxy.\n                axisModel.__dzAxisProxy = new AxisProxy(\n                    dimNames.name, axisIndex, this, ecModel\n                )\n            );\n            // FIXME\n            // dispose __dzAxisProxy\n\n            axisProxies[dimNames.name + '_' + axisIndex] = axisProxy;\n        }, this);\n    },\n\n    /**\n     * @private\n     */\n    _resetTarget: function () {\n        var thisOption = this.option;\n\n        var autoMode = this._judgeAutoMode();\n\n        eachAxisDim(function (dimNames) {\n            var axisIndexName = dimNames.axisIndex;\n            thisOption[axisIndexName] = normalizeToArray(\n                thisOption[axisIndexName]\n            );\n        }, this);\n\n        if (autoMode === 'axisIndex') {\n            this._autoSetAxisIndex();\n        }\n        else if (autoMode === 'orient') {\n            this._autoSetOrient();\n        }\n    },\n\n    /**\n     * @private\n     */\n    _judgeAutoMode: function () {\n        // Auto set only works for setOption at the first time.\n        // The following is user's reponsibility. So using merged\n        // option is OK.\n        var thisOption = this.option;\n\n        var hasIndexSpecified = false;\n        eachAxisDim(function (dimNames) {\n            // When user set axisIndex as a empty array, we think that user specify axisIndex\n            // but do not want use auto mode. Because empty array may be encountered when\n            // some error occured.\n            if (thisOption[dimNames.axisIndex] != null) {\n                hasIndexSpecified = true;\n            }\n        }, this);\n\n        var orient = thisOption.orient;\n\n        if (orient == null && hasIndexSpecified) {\n            return 'orient';\n        }\n        else if (!hasIndexSpecified) {\n            if (orient == null) {\n                thisOption.orient = 'horizontal';\n            }\n            return 'axisIndex';\n        }\n    },\n\n    /**\n     * @private\n     */\n    _autoSetAxisIndex: function () {\n        var autoAxisIndex = true;\n        var orient = this.get('orient', true);\n        var thisOption = this.option;\n        var dependentModels = this.dependentModels;\n\n        if (autoAxisIndex) {\n            // Find axis that parallel to dataZoom as default.\n            var dimName = orient === 'vertical' ? 'y' : 'x';\n\n            if (dependentModels[dimName + 'Axis'].length) {\n                thisOption[dimName + 'AxisIndex'] = [0];\n                autoAxisIndex = false;\n            }\n            else {\n                each$24(dependentModels.singleAxis, function (singleAxisModel) {\n                    if (autoAxisIndex && singleAxisModel.get('orient', true) === orient) {\n                        thisOption.singleAxisIndex = [singleAxisModel.componentIndex];\n                        autoAxisIndex = false;\n                    }\n                });\n            }\n        }\n\n        if (autoAxisIndex) {\n            // Find the first category axis as default. (consider polar)\n            eachAxisDim(function (dimNames) {\n                if (!autoAxisIndex) {\n                    return;\n                }\n                var axisIndices = [];\n                var axisModels = this.dependentModels[dimNames.axis];\n                if (axisModels.length && !axisIndices.length) {\n                    for (var i = 0, len = axisModels.length; i < len; i++) {\n                        if (axisModels[i].get('type') === 'category') {\n                            axisIndices.push(i);\n                        }\n                    }\n                }\n                thisOption[dimNames.axisIndex] = axisIndices;\n                if (axisIndices.length) {\n                    autoAxisIndex = false;\n                }\n            }, this);\n        }\n\n        if (autoAxisIndex) {\n            // FIXME\n            // ec2xAxisIndexyAxisIndexscatterdataZoom\n            // Grid.js#getScaleByOptiontimelogaxis type\n\n            // If both dataZoom.xAxisIndex and dataZoom.yAxisIndex is not specified,\n            // dataZoom component auto adopts series that reference to\n            // both xAxis and yAxis which type is 'value'.\n            this.ecModel.eachSeries(function (seriesModel) {\n                if (this._isSeriesHasAllAxesTypeOf(seriesModel, 'value')) {\n                    eachAxisDim(function (dimNames) {\n                        var axisIndices = thisOption[dimNames.axisIndex];\n\n                        var axisIndex = seriesModel.get(dimNames.axisIndex);\n                        var axisId = seriesModel.get(dimNames.axisId);\n\n                        var axisModel = seriesModel.ecModel.queryComponents({\n                            mainType: dimNames.axis,\n                            index: axisIndex,\n                            id: axisId\n                        })[0];\n\n                        if (__DEV__) {\n                            if (!axisModel) {\n                                throw new Error(\n                                    dimNames.axis + ' \"' + retrieve(\n                                        axisIndex,\n                                        axisId,\n                                        0\n                                    ) + '\" not found'\n                                );\n                            }\n                        }\n                        axisIndex = axisModel.componentIndex;\n\n                        if (indexOf(axisIndices, axisIndex) < 0) {\n                            axisIndices.push(axisIndex);\n                        }\n                    });\n                }\n            }, this);\n        }\n    },\n\n    /**\n     * @private\n     */\n    _autoSetOrient: function () {\n        var dim;\n\n        // Find the first axis\n        this.eachTargetAxis(function (dimNames) {\n            !dim && (dim = dimNames.name);\n        }, this);\n\n        this.option.orient = dim === 'y' ? 'vertical' : 'horizontal';\n    },\n\n    /**\n     * @private\n     */\n    _isSeriesHasAllAxesTypeOf: function (seriesModel, axisType) {\n        // FIXME\n        // seriesxAxisIndexyAxisIndex\n        // series.type === scatter\n\n        var is = true;\n        eachAxisDim(function (dimNames) {\n            var seriesAxisIndex = seriesModel.get(dimNames.axisIndex);\n            var axisModel = this.dependentModels[dimNames.axis][seriesAxisIndex];\n\n            if (!axisModel || axisModel.get('type') !== axisType) {\n                is = false;\n            }\n        }, this);\n        return is;\n    },\n\n    /**\n     * @private\n     */\n    _setDefaultThrottle: function (rawOption) {\n        // When first time user set throttle, auto throttle ends.\n        if (rawOption.hasOwnProperty('throttle')) {\n            this._autoThrottle = false;\n        }\n        if (this._autoThrottle) {\n            var globalOption = this.ecModel.option;\n            this.option.throttle =\n                (globalOption.animation && globalOption.animationDurationUpdate > 0)\n                ? 100 : 20;\n        }\n    },\n\n    /**\n     * @public\n     */\n    getFirstTargetAxisModel: function () {\n        var firstAxisModel;\n        eachAxisDim(function (dimNames) {\n            if (firstAxisModel == null) {\n                var indices = this.get(dimNames.axisIndex);\n                if (indices.length) {\n                    firstAxisModel = this.dependentModels[dimNames.axis][indices[0]];\n                }\n            }\n        }, this);\n\n        return firstAxisModel;\n    },\n\n    /**\n     * @public\n     * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n     */\n    eachTargetAxis: function (callback, context) {\n        var ecModel = this.ecModel;\n        eachAxisDim(function (dimNames) {\n            each$24(\n                this.get(dimNames.axisIndex),\n                function (axisIndex) {\n                    callback.call(context, dimNames, axisIndex, this, ecModel);\n                },\n                this\n            );\n        }, this);\n    },\n\n    /**\n     * @param {string} dimName\n     * @param {number} axisIndex\n     * @return {module:echarts/component/dataZoom/AxisProxy} If not found, return null/undefined.\n     */\n    getAxisProxy: function (dimName, axisIndex) {\n        return this._axisProxies[dimName + '_' + axisIndex];\n    },\n\n    /**\n     * @param {string} dimName\n     * @param {number} axisIndex\n     * @return {module:echarts/model/Model} If not found, return null/undefined.\n     */\n    getAxisModel: function (dimName, axisIndex) {\n        var axisProxy = this.getAxisProxy(dimName, axisIndex);\n        return axisProxy && axisProxy.getAxisModel();\n    },\n\n    /**\n     * If not specified, set to undefined.\n     *\n     * @public\n     * @param {Object} opt\n     * @param {number} [opt.start]\n     * @param {number} [opt.end]\n     * @param {number} [opt.startValue]\n     * @param {number} [opt.endValue]\n     * @param {boolean} [ignoreUpdateRangeUsg=false]\n     */\n    setRawRange: function (opt, ignoreUpdateRangeUsg) {\n        var option = this.option;\n        each$24([['start', 'startValue'], ['end', 'endValue']], function (names) {\n            // If only one of 'start' and 'startValue' is not null/undefined, the other\n            // should be cleared, which enable clear the option.\n            // If both of them are not set, keep option with the original value, which\n            // enable use only set start but not set end when calling `dispatchAction`.\n            // The same as 'end' and 'endValue'.\n            if (opt[names[0]] != null || opt[names[1]] != null) {\n                option[names[0]] = opt[names[0]];\n                option[names[1]] = opt[names[1]];\n            }\n        }, this);\n\n        !ignoreUpdateRangeUsg && updateRangeUse(this, opt);\n    },\n\n    /**\n     * @public\n     * @return {Array.<number>} [startPercent, endPercent]\n     */\n    getPercentRange: function () {\n        var axisProxy = this.findRepresentativeAxisProxy();\n        if (axisProxy) {\n            return axisProxy.getDataPercentWindow();\n        }\n    },\n\n    /**\n     * @public\n     * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n     *\n     * @param {string} [axisDimName]\n     * @param {number} [axisIndex]\n     * @return {Array.<number>} [startValue, endValue] value can only be '-' or finite number.\n     */\n    getValueRange: function (axisDimName, axisIndex) {\n        if (axisDimName == null && axisIndex == null) {\n            var axisProxy = this.findRepresentativeAxisProxy();\n            if (axisProxy) {\n                return axisProxy.getDataValueWindow();\n            }\n        }\n        else {\n            return this.getAxisProxy(axisDimName, axisIndex).getDataValueWindow();\n        }\n    },\n\n    /**\n     * @public\n     * @param {module:echarts/model/Model} [axisModel] If axisModel given, find axisProxy\n     *      corresponding to the axisModel\n     * @return {module:echarts/component/dataZoom/AxisProxy}\n     */\n    findRepresentativeAxisProxy: function (axisModel) {\n        if (axisModel) {\n            return axisModel.__dzAxisProxy;\n        }\n\n        // Find the first hosted axisProxy\n        var axisProxies = this._axisProxies;\n        for (var key in axisProxies) {\n            if (axisProxies.hasOwnProperty(key) && axisProxies[key].hostedBy(this)) {\n                return axisProxies[key];\n            }\n        }\n\n        // If no hosted axis find not hosted axisProxy.\n        // Consider this case: dataZoomModel1 and dataZoomModel2 control the same axis,\n        // and the option.start or option.end settings are different. The percentRange\n        // should follow axisProxy.\n        // (We encounter this problem in toolbox data zoom.)\n        for (var key in axisProxies) {\n            if (axisProxies.hasOwnProperty(key) && !axisProxies[key].hostedBy(this)) {\n                return axisProxies[key];\n            }\n        }\n    },\n\n    /**\n     * @return {Array.<string>}\n     */\n    getRangePropMode: function () {\n        return this._rangePropMode.slice();\n    }\n\n});\n\nfunction retrieveRaw(option) {\n    var ret = {};\n    each$24(\n        ['start', 'end', 'startValue', 'endValue', 'throttle'],\n        function (name) {\n            option.hasOwnProperty(name) && (ret[name] = option[name]);\n        }\n    );\n    return ret;\n}\n\nfunction updateRangeUse(dataZoomModel, rawOption) {\n    var rangePropMode = dataZoomModel._rangePropMode;\n    var rangeModeInOption = dataZoomModel.get('rangeMode');\n\n    each$24([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n        var percentSpecified = rawOption[names[0]] != null;\n        var valueSpecified = rawOption[names[1]] != null;\n        if (percentSpecified && !valueSpecified) {\n            rangePropMode[index] = 'percent';\n        }\n        else if (!percentSpecified && valueSpecified) {\n            rangePropMode[index] = 'value';\n        }\n        else if (rangeModeInOption) {\n            rangePropMode[index] = rangeModeInOption[index];\n        }\n        else if (percentSpecified) { // percentSpecified && valueSpecified\n            rangePropMode[index] = 'percent';\n        }\n        // else remain its original setting.\n    });\n}\n\nvar DataZoomView = Component.extend({\n\n    type: 'dataZoom',\n\n    render: function (dataZoomModel, ecModel, api, payload) {\n        this.dataZoomModel = dataZoomModel;\n        this.ecModel = ecModel;\n        this.api = api;\n    },\n\n    /**\n     * Find the first target coordinate system.\n     *\n     * @protected\n     * @return {Object} {\n     *                   grid: [\n     *                       {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n     *                       {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n     *                       ...\n     *                   ],  // cartesians must not be null/undefined.\n     *                   polar: [\n     *                       {model: coord0, axisModels: [axis4], coordIndex: 0},\n     *                       ...\n     *                   ],  // polars must not be null/undefined.\n     *                   singleAxis: [\n     *                       {model: coord0, axisModels: [], coordIndex: 0}\n     *                   ]\n     */\n    getTargetCoordInfo: function () {\n        var dataZoomModel = this.dataZoomModel;\n        var ecModel = this.ecModel;\n        var coordSysLists = {};\n\n        dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n            var axisModel = ecModel.getComponent(dimNames.axis, axisIndex);\n            if (axisModel) {\n                var coordModel = axisModel.getCoordSysModel();\n                coordModel && save(\n                    coordModel,\n                    axisModel,\n                    coordSysLists[coordModel.mainType] || (coordSysLists[coordModel.mainType] = []),\n                    coordModel.componentIndex\n                );\n            }\n        }, this);\n\n        function save(coordModel, axisModel, store, coordIndex) {\n            var item;\n            for (var i = 0; i < store.length; i++) {\n                if (store[i].model === coordModel) {\n                    item = store[i];\n                    break;\n                }\n            }\n            if (!item) {\n                store.push(item = {\n                    model: coordModel, axisModels: [], coordIndex: coordIndex\n                });\n            }\n            item.axisModels.push(axisModel);\n        }\n\n        return coordSysLists;\n    }\n\n});\n\nvar SliderZoomModel = DataZoomModel.extend({\n\n    type: 'dataZoom.slider',\n\n    layoutMode: 'box',\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n        show: true,\n\n        // ph => placeholder. Using placehoder here because\n        // deault value can only be drived in view stage.\n        right: 'ph',  // Default align to grid rect.\n        top: 'ph',    // Default align to grid rect.\n        width: 'ph',  // Default align to grid rect.\n        height: 'ph', // Default align to grid rect.\n        left: null,   // Default align to grid rect.\n        bottom: null, // Default align to grid rect.\n\n        backgroundColor: 'rgba(47,69,84,0)',    // Background of slider zoom component.\n        // dataBackgroundColor: '#ddd',         // Background coor of data shadow and border of box,\n                                                // highest priority, remain for compatibility of\n                                                // previous version, but not recommended any more.\n        dataBackground: {\n            lineStyle: {\n                color: '#2f4554',\n                width: 0.5,\n                opacity: 0.3\n            },\n            areaStyle: {\n                color: 'rgba(47,69,84,0.3)',\n                opacity: 0.3\n            }\n        },\n        borderColor: '#ddd',                    // border color of the box. For compatibility,\n                                                // if dataBackgroundColor is set, borderColor\n                                                // is ignored.\n\n        fillerColor: 'rgba(167,183,204,0.4)',     // Color of selected area.\n        // handleColor: 'rgba(89,170,216,0.95)',     // Color of handle.\n        // handleIcon: 'path://M4.9,17.8c0-1.4,4.5-10.5,5.5-12.4c0-0.1,0.6-1.1,0.9-1.1c0.4,0,0.9,1,0.9,1.1c1.1,2.2,5.4,11,5.4,12.4v17.8c0,1.5-0.6,2.1-1.3,2.1H6.1c-0.7,0-1.3-0.6-1.3-2.1V17.8z',\n        handleIcon: 'M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z',\n        // Percent of the slider height\n        handleSize: '100%',\n\n        handleStyle: {\n            color: '#a7b7cc'\n        },\n\n        labelPrecision: null,\n        labelFormatter: null,\n        showDetail: true,\n        showDataShadow: 'auto',                 // Default auto decision.\n        realtime: true,\n        zoomLock: false,                        // Whether disable zoom.\n        textStyle: {\n            color: '#333'\n        }\n    }\n\n});\n\nvar Rect$2 = Rect;\nvar linearMap$2 = linearMap;\nvar asc$2 = asc;\nvar bind$4 = bind;\nvar each$26 = each$1;\n\n// Constants\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\n\nvar SliderZoomView = DataZoomView.extend({\n\n    type: 'dataZoom.slider',\n\n    init: function (ecModel, api) {\n\n        /**\n         * @private\n         * @type {Object}\n         */\n        this._displayables = {};\n\n        /**\n         * @private\n         * @type {string}\n         */\n        this._orient;\n\n        /**\n         * [0, 100]\n         * @private\n         */\n        this._range;\n\n        /**\n         * [coord of the first handle, coord of the second handle]\n         * @private\n         */\n        this._handleEnds;\n\n        /**\n         * [length, thick]\n         * @private\n         * @type {Array.<number>}\n         */\n        this._size;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this._handleWidth;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this._handleHeight;\n\n        /**\n         * @private\n         */\n        this._location;\n\n        /**\n         * @private\n         */\n        this._dragging;\n\n        /**\n         * @private\n         */\n        this._dataShadowInfo;\n\n        this.api = api;\n    },\n\n    /**\n     * @override\n     */\n    render: function (dataZoomModel, ecModel, api, payload) {\n        SliderZoomView.superApply(this, 'render', arguments);\n\n        createOrUpdate(\n            this,\n            '_dispatchZoomAction',\n            this.dataZoomModel.get('throttle'),\n            'fixRate'\n        );\n\n        this._orient = dataZoomModel.get('orient');\n\n        if (this.dataZoomModel.get('show') === false) {\n            this.group.removeAll();\n            return;\n        }\n\n        // Notice: this._resetInterval() should not be executed when payload.type\n        // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n        // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n        if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n            this._buildView();\n        }\n\n        this._updateView();\n    },\n\n    /**\n     * @override\n     */\n    remove: function () {\n        SliderZoomView.superApply(this, 'remove', arguments);\n        clear(this, '_dispatchZoomAction');\n    },\n\n    /**\n     * @override\n     */\n    dispose: function () {\n        SliderZoomView.superApply(this, 'dispose', arguments);\n        clear(this, '_dispatchZoomAction');\n    },\n\n    _buildView: function () {\n        var thisGroup = this.group;\n\n        thisGroup.removeAll();\n\n        this._resetLocation();\n        this._resetInterval();\n\n        var barGroup = this._displayables.barGroup = new Group();\n\n        this._renderBackground();\n\n        this._renderHandle();\n\n        this._renderDataShadow();\n\n        thisGroup.add(barGroup);\n\n        this._positionGroup();\n    },\n\n    /**\n     * @private\n     */\n    _resetLocation: function () {\n        var dataZoomModel = this.dataZoomModel;\n        var api = this.api;\n\n        // If some of x/y/width/height are not specified,\n        // auto-adapt according to target grid.\n        var coordRect = this._findCoordRect();\n        var ecSize = {width: api.getWidth(), height: api.getHeight()};\n        // Default align by coordinate system rect.\n        var positionInfo = this._orient === HORIZONTAL\n            ? {\n                // Why using 'right', because right should be used in vertical,\n                // and it is better to be consistent for dealing with position param merge.\n                right: ecSize.width - coordRect.x - coordRect.width,\n                top: (ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP),\n                width: coordRect.width,\n                height: DEFAULT_FILLER_SIZE\n            }\n            : { // vertical\n                right: DEFAULT_LOCATION_EDGE_GAP,\n                top: coordRect.y,\n                width: DEFAULT_FILLER_SIZE,\n                height: coordRect.height\n            };\n\n        // Do not write back to option and replace value 'ph', because\n        // the 'ph' value should be recalculated when resize.\n        var layoutParams = getLayoutParams(dataZoomModel.option);\n\n        // Replace the placeholder value.\n        each$1(['right', 'top', 'width', 'height'], function (name) {\n            if (layoutParams[name] === 'ph') {\n                layoutParams[name] = positionInfo[name];\n            }\n        });\n\n        var layoutRect = getLayoutRect(\n            layoutParams,\n            ecSize,\n            dataZoomModel.padding\n        );\n\n        this._location = {x: layoutRect.x, y: layoutRect.y};\n        this._size = [layoutRect.width, layoutRect.height];\n        this._orient === VERTICAL && this._size.reverse();\n    },\n\n    /**\n     * @private\n     */\n    _positionGroup: function () {\n        var thisGroup = this.group;\n        var location = this._location;\n        var orient = this._orient;\n\n        // Just use the first axis to determine mapping.\n        var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n        var inverse = targetAxisModel && targetAxisModel.get('inverse');\n\n        var barGroup = this._displayables.barGroup;\n        var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse;\n\n        // Transform barGroup.\n        barGroup.attr(\n            (orient === HORIZONTAL && !inverse)\n            ? {scale: otherAxisInverse ? [1, 1] : [1, -1]}\n            : (orient === HORIZONTAL && inverse)\n            ? {scale: otherAxisInverse ? [-1, 1] : [-1, -1]}\n            : (orient === VERTICAL && !inverse)\n            ? {scale: otherAxisInverse ? [1, -1] : [1, 1], rotation: Math.PI / 2}\n            // Dont use Math.PI, considering shadow direction.\n            : {scale: otherAxisInverse ? [-1, -1] : [-1, 1], rotation: Math.PI / 2}\n        );\n\n        // Position barGroup\n        var rect = thisGroup.getBoundingRect([barGroup]);\n        thisGroup.attr('position', [location.x - rect.x, location.y - rect.y]);\n    },\n\n    /**\n     * @private\n     */\n    _getViewExtent: function () {\n        return [0, this._size[0]];\n    },\n\n    _renderBackground: function () {\n        var dataZoomModel = this.dataZoomModel;\n        var size = this._size;\n        var barGroup = this._displayables.barGroup;\n\n        barGroup.add(new Rect$2({\n            silent: true,\n            shape: {\n                x: 0, y: 0, width: size[0], height: size[1]\n            },\n            style: {\n                fill: dataZoomModel.get('backgroundColor')\n            },\n            z2: -40\n        }));\n\n        // Click panel, over shadow, below handles.\n        barGroup.add(new Rect$2({\n            shape: {\n                x: 0, y: 0, width: size[0], height: size[1]\n            },\n            style: {\n                fill: 'transparent'\n            },\n            z2: 0,\n            onclick: bind(this._onClickPanelClick, this)\n        }));\n    },\n\n    _renderDataShadow: function () {\n        var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n\n        if (!info) {\n            return;\n        }\n\n        var size = this._size;\n        var seriesModel = info.series;\n        var data = seriesModel.getRawData();\n        var otherDim = seriesModel.getShadowDim\n            ? seriesModel.getShadowDim() // @see candlestick\n            : info.otherDim;\n\n        if (otherDim == null) {\n            return;\n        }\n\n        var otherDataExtent = data.getDataExtent(otherDim);\n        // Nice extent.\n        var otherOffset = (otherDataExtent[1] - otherDataExtent[0]) * 0.3;\n        otherDataExtent = [\n            otherDataExtent[0] - otherOffset,\n            otherDataExtent[1] + otherOffset\n        ];\n        var otherShadowExtent = [0, size[1]];\n\n        var thisShadowExtent = [0, size[0]];\n\n        var areaPoints = [[size[0], 0], [0, 0]];\n        var linePoints = [];\n        var step = thisShadowExtent[1] / (data.count() - 1);\n        var thisCoord = 0;\n\n        // Optimize for large data shadow\n        var stride = Math.round(data.count() / size[0]);\n        var lastIsEmpty;\n        data.each([otherDim], function (value, index) {\n            if (stride > 0 && (index % stride)) {\n                thisCoord += step;\n                return;\n            }\n\n            // FIXME\n            // Should consider axis.min/axis.max when drawing dataShadow.\n\n            // FIXME\n            // list\n            var isEmpty = value == null || isNaN(value) || value === '';\n            // See #4235.\n            var otherCoord = isEmpty\n                ? 0 : linearMap$2(value, otherDataExtent, otherShadowExtent, true);\n\n            // Attempt to draw data shadow precisely when there are empty value.\n            if (isEmpty && !lastIsEmpty && index) {\n                areaPoints.push([areaPoints[areaPoints.length - 1][0], 0]);\n                linePoints.push([linePoints[linePoints.length - 1][0], 0]);\n            }\n            else if (!isEmpty && lastIsEmpty) {\n                areaPoints.push([thisCoord, 0]);\n                linePoints.push([thisCoord, 0]);\n            }\n\n            areaPoints.push([thisCoord, otherCoord]);\n            linePoints.push([thisCoord, otherCoord]);\n\n            thisCoord += step;\n            lastIsEmpty = isEmpty;\n        });\n\n        var dataZoomModel = this.dataZoomModel;\n        // var dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n        this._displayables.barGroup.add(new Polygon({\n            shape: {points: areaPoints},\n            style: defaults(\n                {fill: dataZoomModel.get('dataBackgroundColor')},\n                dataZoomModel.getModel('dataBackground.areaStyle').getAreaStyle()\n            ),\n            silent: true,\n            z2: -20\n        }));\n        this._displayables.barGroup.add(new Polyline({\n            shape: {points: linePoints},\n            style: dataZoomModel.getModel('dataBackground.lineStyle').getLineStyle(),\n            silent: true,\n            z2: -19\n        }));\n    },\n\n    _prepareDataShadowInfo: function () {\n        var dataZoomModel = this.dataZoomModel;\n        var showDataShadow = dataZoomModel.get('showDataShadow');\n\n        if (showDataShadow === false) {\n            return;\n        }\n\n        // Find a representative series.\n        var result;\n        var ecModel = this.ecModel;\n\n        dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n            var seriesModels = dataZoomModel\n                .getAxisProxy(dimNames.name, axisIndex)\n                .getTargetSeriesModels();\n\n            each$1(seriesModels, function (seriesModel) {\n                if (result) {\n                    return;\n                }\n\n                if (showDataShadow !== true && indexOf(\n                        SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')\n                    ) < 0\n                ) {\n                    return;\n                }\n\n                var thisAxis = ecModel.getComponent(dimNames.axis, axisIndex).axis;\n                var otherDim = getOtherDim(dimNames.name);\n                var otherAxisInverse;\n                var coordSys = seriesModel.coordinateSystem;\n                if (otherDim != null && coordSys.getOtherAxis) {\n                    otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n                }\n\n                result = {\n                    thisAxis: thisAxis,\n                    series: seriesModel,\n                    thisDim: dimNames.name,\n                    otherDim: otherDim,\n                    otherAxisInverse: otherAxisInverse\n                };\n\n            }, this);\n\n        }, this);\n\n        return result;\n    },\n\n    _renderHandle: function () {\n        var displaybles = this._displayables;\n        var handles = displaybles.handles = [];\n        var handleLabels = displaybles.handleLabels = [];\n        var barGroup = this._displayables.barGroup;\n        var size = this._size;\n        var dataZoomModel = this.dataZoomModel;\n\n        barGroup.add(displaybles.filler = new Rect$2({\n            draggable: true,\n            cursor: getCursor(this._orient),\n            drift: bind$4(this._onDragMove, this, 'all'),\n            onmousemove: function (e) {\n                // Fot mobile devicem, prevent screen slider on the button.\n                stop(e.event);\n            },\n            ondragstart: bind$4(this._showDataInfo, this, true),\n            ondragend: bind$4(this._onDragEnd, this),\n            onmouseover: bind$4(this._showDataInfo, this, true),\n            onmouseout: bind$4(this._showDataInfo, this, false),\n            style: {\n                fill: dataZoomModel.get('fillerColor'),\n                textPosition : 'inside'\n            }\n        }));\n\n        // Frame border.\n        barGroup.add(new Rect$2(subPixelOptimizeRect({\n            silent: true,\n            shape: {\n                x: 0,\n                y: 0,\n                width: size[0],\n                height: size[1]\n            },\n            style: {\n                stroke: dataZoomModel.get('dataBackgroundColor')\n                    || dataZoomModel.get('borderColor'),\n                lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n                fill: 'rgba(0,0,0,0)'\n            }\n        })));\n\n        each$26([0, 1], function (handleIndex) {\n            var path = createIcon(\n                dataZoomModel.get('handleIcon'),\n                {\n                    cursor: getCursor(this._orient),\n                    draggable: true,\n                    drift: bind$4(this._onDragMove, this, handleIndex),\n                    onmousemove: function (e) {\n                        // Fot mobile devicem, prevent screen slider on the button.\n                        stop(e.event);\n                    },\n                    ondragend: bind$4(this._onDragEnd, this),\n                    onmouseover: bind$4(this._showDataInfo, this, true),\n                    onmouseout: bind$4(this._showDataInfo, this, false)\n                },\n                {x: -1, y: 0, width: 2, height: 2}\n            );\n\n            var bRect = path.getBoundingRect();\n            this._handleHeight = parsePercent$1(dataZoomModel.get('handleSize'), this._size[1]);\n            this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n\n            path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n            var handleColor = dataZoomModel.get('handleColor');\n            // Compatitable with previous version\n            if (handleColor != null) {\n                path.style.fill = handleColor;\n            }\n\n            barGroup.add(handles[handleIndex] = path);\n\n            var textStyleModel = dataZoomModel.textStyleModel;\n\n            this.group.add(\n                handleLabels[handleIndex] = new Text({\n                silent: true,\n                invisible: true,\n                style: {\n                    x: 0, y: 0, text: '',\n                    textVerticalAlign: 'middle',\n                    textAlign: 'center',\n                    textFill: textStyleModel.getTextColor(),\n                    textFont: textStyleModel.getFont()\n                },\n                z2: 10\n            }));\n\n        }, this);\n    },\n\n    /**\n     * @private\n     */\n    _resetInterval: function () {\n        var range = this._range = this.dataZoomModel.getPercentRange();\n        var viewExtent = this._getViewExtent();\n\n        this._handleEnds = [\n            linearMap$2(range[0], [0, 100], viewExtent, true),\n            linearMap$2(range[1], [0, 100], viewExtent, true)\n        ];\n    },\n\n    /**\n     * @private\n     * @param {(number|string)} handleIndex 0 or 1 or 'all'\n     * @param {number} delta\n     */\n    _updateInterval: function (handleIndex, delta) {\n        var dataZoomModel = this.dataZoomModel;\n        var handleEnds = this._handleEnds;\n        var viewExtend = this._getViewExtent();\n        var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n        var percentExtent = [0, 100];\n\n        sliderMove(\n            delta,\n            handleEnds,\n            viewExtend,\n            dataZoomModel.get('zoomLock') ? 'all' : handleIndex,\n            minMaxSpan.minSpan != null\n                ? linearMap$2(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null,\n            minMaxSpan.maxSpan != null\n                ? linearMap$2(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null\n        );\n\n        this._range = asc$2([\n            linearMap$2(handleEnds[0], viewExtend, percentExtent, true),\n            linearMap$2(handleEnds[1], viewExtend, percentExtent, true)\n        ]);\n    },\n\n    /**\n     * @private\n     */\n    _updateView: function (nonRealtime) {\n        var displaybles = this._displayables;\n        var handleEnds = this._handleEnds;\n        var handleInterval = asc$2(handleEnds.slice());\n        var size = this._size;\n\n        each$26([0, 1], function (handleIndex) {\n            // Handles\n            var handle = displaybles.handles[handleIndex];\n            var handleHeight = this._handleHeight;\n            handle.attr({\n                scale: [handleHeight / 2, handleHeight / 2],\n                position: [handleEnds[handleIndex], size[1] / 2 - handleHeight / 2]\n            });\n        }, this);\n\n        // Filler\n        displaybles.filler.setShape({\n            x: handleInterval[0],\n            y: 0,\n            width: handleInterval[1] - handleInterval[0],\n            height: size[1]\n        });\n\n        this._updateDataInfo(nonRealtime);\n    },\n\n    /**\n     * @private\n     */\n    _updateDataInfo: function (nonRealtime) {\n        var dataZoomModel = this.dataZoomModel;\n        var displaybles = this._displayables;\n        var handleLabels = displaybles.handleLabels;\n        var orient = this._orient;\n        var labelTexts = ['', ''];\n\n        // FIXME\n        // dateformatterautoformatterec2 date.getAutoFormatter\n        if (dataZoomModel.get('showDetail')) {\n            var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n            if (axisProxy) {\n                var axis = axisProxy.getAxisModel().axis;\n                var range = this._range;\n\n                var dataInterval = nonRealtime\n                    // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n                    ? axisProxy.calculateDataWindow({\n                        start: range[0], end: range[1]\n                    }).valueWindow\n                    : axisProxy.getDataValueWindow();\n\n                labelTexts = [\n                    this._formatLabel(dataInterval[0], axis),\n                    this._formatLabel(dataInterval[1], axis)\n                ];\n            }\n        }\n\n        var orderedHandleEnds = asc$2(this._handleEnds.slice());\n\n        setLabel.call(this, 0);\n        setLabel.call(this, 1);\n\n        function setLabel(handleIndex) {\n            // Label\n            // Text should not transform by barGroup.\n            // Ignore handlers transform\n            var barTransform = getTransform(\n                displaybles.handles[handleIndex].parent, this.group\n            );\n            var direction = transformDirection(\n                handleIndex === 0 ? 'right' : 'left', barTransform\n            );\n            var offset = this._handleWidth / 2 + LABEL_GAP;\n            var textPoint = applyTransform$1(\n                [\n                    orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset),\n                    this._size[1] / 2\n                ],\n                barTransform\n            );\n            handleLabels[handleIndex].setStyle({\n                x: textPoint[0],\n                y: textPoint[1],\n                textVerticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n                textAlign: orient === HORIZONTAL ? direction : 'center',\n                text: labelTexts[handleIndex]\n            });\n        }\n    },\n\n    /**\n     * @private\n     */\n    _formatLabel: function (value, axis) {\n        var dataZoomModel = this.dataZoomModel;\n        var labelFormatter = dataZoomModel.get('labelFormatter');\n\n        var labelPrecision = dataZoomModel.get('labelPrecision');\n        if (labelPrecision == null || labelPrecision === 'auto') {\n            labelPrecision = axis.getPixelPrecision();\n        }\n\n        var valueStr = (value == null || isNaN(value))\n            ? ''\n            // FIXME Glue code\n            : (axis.type === 'category' || axis.type === 'time')\n                ? axis.scale.getLabel(Math.round(value))\n                // param of toFixed should less then 20.\n                : value.toFixed(Math.min(labelPrecision, 20));\n\n        return isFunction(labelFormatter)\n            ? labelFormatter(value, valueStr)\n            : isString(labelFormatter)\n            ? labelFormatter.replace('{value}', valueStr)\n            : valueStr;\n    },\n\n    /**\n     * @private\n     * @param {boolean} showOrHide true: show, false: hide\n     */\n    _showDataInfo: function (showOrHide) {\n        // Always show when drgging.\n        showOrHide = this._dragging || showOrHide;\n\n        var handleLabels = this._displayables.handleLabels;\n        handleLabels[0].attr('invisible', !showOrHide);\n        handleLabels[1].attr('invisible', !showOrHide);\n    },\n\n    _onDragMove: function (handleIndex, dx, dy) {\n        this._dragging = true;\n\n        // Transform dx, dy to bar coordination.\n        var barTransform = this._displayables.barGroup.getLocalTransform();\n        var vertex = applyTransform$1([dx, dy], barTransform, true);\n\n        this._updateInterval(handleIndex, vertex[0]);\n\n        var realtime = this.dataZoomModel.get('realtime');\n\n        this._updateView(!realtime);\n\n        if (realtime) {\n            realtime && this._dispatchZoomAction();\n        }\n    },\n\n    _onDragEnd: function () {\n        this._dragging = false;\n        this._showDataInfo(false);\n        this._dispatchZoomAction();\n    },\n\n    _onClickPanelClick: function (e) {\n        var size = this._size;\n        var localPoint = this._displayables.barGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n\n        if (localPoint[0] < 0 || localPoint[0] > size[0]\n            || localPoint[1] < 0 || localPoint[1] > size[1]\n        ) {\n            return;\n        }\n\n        var handleEnds = this._handleEnds;\n        var center = (handleEnds[0] + handleEnds[1]) / 2;\n\n        this._updateInterval('all', localPoint[0] - center);\n        this._updateView();\n        this._dispatchZoomAction();\n    },\n\n    /**\n     * This action will be throttled.\n     * @private\n     */\n    _dispatchZoomAction: function () {\n        var range = this._range;\n\n        this.api.dispatchAction({\n            type: 'dataZoom',\n            from: this.uid,\n            dataZoomId: this.dataZoomModel.id,\n            start: range[0],\n            end: range[1]\n        });\n    },\n\n    /**\n     * @private\n     */\n    _findCoordRect: function () {\n        // Find the grid coresponding to the first axis referred by dataZoom.\n        var rect;\n        each$26(this.getTargetCoordInfo(), function (coordInfoList) {\n            if (!rect && coordInfoList.length) {\n                var coordSys = coordInfoList[0].model.coordinateSystem;\n                rect = coordSys.getRect && coordSys.getRect();\n            }\n        });\n        if (!rect) {\n            var width = this.api.getWidth();\n            var height = this.api.getHeight();\n            rect = {\n                x: width * 0.2,\n                y: height * 0.2,\n                width: width * 0.6,\n                height: height * 0.6\n            };\n        }\n\n        return rect;\n    }\n\n});\n\nfunction getOtherDim(thisDim) {\n    // FIXME\n    // getOtherAxis\n    var map$$1 = {x: 'y', y: 'x', radius: 'angle', angle: 'radius'};\n    return map$$1[thisDim];\n}\n\nfunction getCursor(orient) {\n    return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nDataZoomModel.extend({\n\n    type: 'dataZoom.inside',\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n        disabled: false,   // Whether disable this inside zoom.\n        zoomLock: false,   // Whether disable zoom but only pan.\n        zoomOnMouseWheel: true, // Can be: true / false / 'shift' / 'ctrl' / 'alt'.\n        moveOnMouseMove: true,   // Can be: true / false / 'shift' / 'ctrl' / 'alt'.\n        preventDefaultMouseMove: true\n    }\n});\n\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\n\nvar curry$6 = curry;\n\nvar ATTR$1 = '\\0_ec_dataZoom_roams';\n\n\n/**\n * @public\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} dataZoomInfo\n * @param {string} dataZoomInfo.coordId\n * @param {Function} dataZoomInfo.containsPoint\n * @param {Array.<string>} dataZoomInfo.allCoordIds\n * @param {string} dataZoomInfo.dataZoomId\n * @param {number} dataZoomInfo.throttleRate\n * @param {Function} dataZoomInfo.panGetRange\n * @param {Function} dataZoomInfo.zoomGetRange\n * @param {boolean} [dataZoomInfo.zoomLock]\n * @param {boolean} [dataZoomInfo.disabled]\n */\nfunction register$2(api, dataZoomInfo) {\n    var store = giveStore(api);\n    var theDataZoomId = dataZoomInfo.dataZoomId;\n    var theCoordId = dataZoomInfo.coordId;\n\n    // Do clean when a dataZoom changes its target coordnate system.\n    // Avoid memory leak, dispose all not-used-registered.\n    each$1(store, function (record, coordId) {\n        var dataZoomInfos = record.dataZoomInfos;\n        if (dataZoomInfos[theDataZoomId]\n            && indexOf(dataZoomInfo.allCoordIds, theCoordId) < 0\n        ) {\n            delete dataZoomInfos[theDataZoomId];\n            record.count--;\n        }\n    });\n\n    cleanStore(store);\n\n    var record = store[theCoordId];\n    // Create if needed.\n    if (!record) {\n        record = store[theCoordId] = {\n            coordId: theCoordId,\n            dataZoomInfos: {},\n            count: 0\n        };\n        record.controller = createController(api, record);\n        record.dispatchAction = curry(dispatchAction$1, api);\n    }\n\n    // Update reference of dataZoom.\n    !(record.dataZoomInfos[theDataZoomId]) && record.count++;\n    record.dataZoomInfos[theDataZoomId] = dataZoomInfo;\n\n    var controllerParams = mergeControllerParams(record.dataZoomInfos);\n    record.controller.enable(controllerParams.controlType, controllerParams.opt);\n\n    // Consider resize, area should be always updated.\n    record.controller.setPointerChecker(dataZoomInfo.containsPoint);\n\n    // Update throttle.\n    createOrUpdate(\n        record,\n        'dispatchAction',\n        dataZoomInfo.throttleRate,\n        'fixRate'\n    );\n}\n\n/**\n * @public\n * @param {module:echarts/ExtensionAPI} api\n * @param {string} dataZoomId\n */\nfunction unregister$1(api, dataZoomId) {\n    var store = giveStore(api);\n\n    each$1(store, function (record) {\n        record.controller.dispose();\n        var dataZoomInfos = record.dataZoomInfos;\n        if (dataZoomInfos[dataZoomId]) {\n            delete dataZoomInfos[dataZoomId];\n            record.count--;\n        }\n    });\n\n    cleanStore(store);\n}\n\n/**\n * @public\n */\nfunction shouldRecordRange(payload, dataZoomId) {\n    if (payload && payload.type === 'dataZoom' && payload.batch) {\n        for (var i = 0, len = payload.batch.length; i < len; i++) {\n            if (payload.batch[i].dataZoomId === dataZoomId) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\n/**\n * @public\n */\nfunction generateCoordId(coordModel) {\n    return coordModel.type + '\\0_' + coordModel.id;\n}\n\n/**\n * Key: coordId, value: {dataZoomInfos: [], count, controller}\n * @type {Array.<Object>}\n */\nfunction giveStore(api) {\n    // Mount store on zrender instance, so that we do not\n    // need to worry about dispose.\n    var zr = api.getZr();\n    return zr[ATTR$1] || (zr[ATTR$1] = {});\n}\n\nfunction createController(api, newRecord) {\n    var controller = new RoamController(api.getZr());\n    controller.on('pan', curry$6(onPan, newRecord));\n    controller.on('zoom', curry$6(onZoom, newRecord));\n\n    return controller;\n}\n\nfunction cleanStore(store) {\n    each$1(store, function (record, coordId) {\n        if (!record.count) {\n            record.controller.dispose();\n            delete store[coordId];\n        }\n    });\n}\n\nfunction onPan(record, dx, dy, oldX, oldY, newX, newY) {\n    wrapAndDispatch(record, function (info) {\n        return info.panGetRange(record.controller, dx, dy, oldX, oldY, newX, newY);\n    });\n}\n\nfunction onZoom(record, scale, mouseX, mouseY) {\n    wrapAndDispatch(record, function (info) {\n        return info.zoomGetRange(record.controller, scale, mouseX, mouseY);\n    });\n}\n\nfunction wrapAndDispatch(record, getRange) {\n    var batch = [];\n\n    each$1(record.dataZoomInfos, function (info) {\n        var range = getRange(info);\n        !info.disabled && range && batch.push({\n            dataZoomId: info.dataZoomId,\n            start: range[0],\n            end: range[1]\n        });\n    });\n\n    record.dispatchAction(batch);\n}\n\n/**\n * This action will be throttled.\n */\nfunction dispatchAction$1(api, batch) {\n    api.dispatchAction({\n        type: 'dataZoom',\n        batch: batch\n    });\n}\n\n/**\n * Merge roamController settings when multiple dataZooms share one roamController.\n */\nfunction mergeControllerParams(dataZoomInfos) {\n    var controlType;\n    var opt = {};\n    var typePriority = {\n        'true': 2,\n        'move': 1,\n        'false': 0,\n        'undefined': -1\n    };\n    each$1(dataZoomInfos, function (dataZoomInfo) {\n        var oneType = dataZoomInfo.disabled ? false : dataZoomInfo.zoomLock ? 'move' : true;\n        typePriority[oneType] > typePriority[controlType] && (controlType = oneType);\n        // Do not support that different 'shift'/'ctrl'/'alt' setting used in one coord sys.\n        extend(opt, dataZoomInfo.roamControllerOpt);\n    });\n\n    return {\n        controlType: controlType,\n        opt: opt\n    };\n}\n\nvar bind$5 = bind;\n\nvar InsideZoomView = DataZoomView.extend({\n\n    type: 'dataZoom.inside',\n\n    /**\n     * @override\n     */\n    init: function (ecModel, api) {\n        /**\n         * 'throttle' is used in this.dispatchAction, so we save range\n         * to avoid missing some 'pan' info.\n         * @private\n         * @type {Array.<number>}\n         */\n        this._range;\n    },\n\n    /**\n     * @override\n     */\n    render: function (dataZoomModel, ecModel, api, payload) {\n        InsideZoomView.superApply(this, 'render', arguments);\n\n        // Notice: origin this._range should be maintained, and should not be re-fetched\n        // from dataZoomModel when payload.type is 'dataZoom', otherwise 'pan' or 'zoom'\n        // info will be missed because of 'throttle' of this.dispatchAction.\n        if (shouldRecordRange(payload, dataZoomModel.id)) {\n            this._range = dataZoomModel.getPercentRange();\n        }\n\n        // Reset controllers.\n        each$1(this.getTargetCoordInfo(), function (coordInfoList, coordSysName) {\n\n            var allCoordIds = map(coordInfoList, function (coordInfo) {\n                return generateCoordId(coordInfo.model);\n            });\n\n            each$1(coordInfoList, function (coordInfo) {\n                var coordModel = coordInfo.model;\n                var dataZoomOption = dataZoomModel.option;\n\n                register$2(\n                    api,\n                    {\n                        coordId: generateCoordId(coordModel),\n                        allCoordIds: allCoordIds,\n                        containsPoint: function (e, x, y) {\n                            return coordModel.coordinateSystem.containPoint([x, y]);\n                        },\n                        dataZoomId: dataZoomModel.id,\n                        throttleRate: dataZoomModel.get('throttle', true),\n                        panGetRange: bind$5(this._onPan, this, coordInfo, coordSysName),\n                        zoomGetRange: bind$5(this._onZoom, this, coordInfo, coordSysName),\n                        zoomLock: dataZoomOption.zoomLock,\n                        disabled: dataZoomOption.disabled,\n                        roamControllerOpt: {\n                            zoomOnMouseWheel: dataZoomOption.zoomOnMouseWheel,\n                            moveOnMouseMove: dataZoomOption.moveOnMouseMove,\n                            preventDefaultMouseMove: dataZoomOption.preventDefaultMouseMove\n                        }\n                    }\n                );\n            }, this);\n\n        }, this);\n    },\n\n    /**\n     * @override\n     */\n    dispose: function () {\n        unregister$1(this.api, this.dataZoomModel.id);\n        InsideZoomView.superApply(this, 'dispose', arguments);\n        this._range = null;\n    },\n\n    /**\n     * @private\n     */\n    _onPan: function (coordInfo, coordSysName, controller, dx, dy, oldX, oldY, newX, newY) {\n        var range = this._range.slice();\n\n        // Calculate transform by the first axis.\n        var axisModel = coordInfo.axisModels[0];\n        if (!axisModel) {\n            return;\n        }\n\n        var directionInfo = getDirectionInfo[coordSysName](\n            [oldX, oldY], [newX, newY], axisModel, controller, coordInfo\n        );\n\n        var percentDelta = directionInfo.signal\n            * (range[1] - range[0])\n            * directionInfo.pixel / directionInfo.pixelLength;\n\n        sliderMove(percentDelta, range, [0, 100], 'all');\n\n        return (this._range = range);\n    },\n\n    /**\n     * @private\n     */\n    _onZoom: function (coordInfo, coordSysName, controller, scale, mouseX, mouseY) {\n        var range = this._range.slice();\n\n        // Calculate transform by the first axis.\n        var axisModel = coordInfo.axisModels[0];\n        if (!axisModel) {\n            return;\n        }\n\n        var directionInfo = getDirectionInfo[coordSysName](\n            null, [mouseX, mouseY], axisModel, controller, coordInfo\n        );\n        var percentPoint = (\n            directionInfo.signal > 0\n                ? (directionInfo.pixelStart + directionInfo.pixelLength - directionInfo.pixel)\n                : (directionInfo.pixel - directionInfo.pixelStart)\n            ) / directionInfo.pixelLength * (range[1] - range[0]) + range[0];\n\n        scale = Math.max(1 / scale, 0);\n        range[0] = (range[0] - percentPoint) * scale + percentPoint;\n        range[1] = (range[1] - percentPoint) * scale + percentPoint;\n\n        // Restrict range.\n        var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n\n        sliderMove(0, range, [0, 100], 0, minMaxSpan.minSpan, minMaxSpan.maxSpan);\n\n        return (this._range = range);\n    }\n\n});\n\nvar getDirectionInfo = {\n\n    grid: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n        var axis = axisModel.axis;\n        var ret = {};\n        var rect = coordInfo.model.coordinateSystem.getRect();\n        oldPoint = oldPoint || [0, 0];\n\n        if (axis.dim === 'x') {\n            ret.pixel = newPoint[0] - oldPoint[0];\n            ret.pixelLength = rect.width;\n            ret.pixelStart = rect.x;\n            ret.signal = axis.inverse ? 1 : -1;\n        }\n        else { // axis.dim === 'y'\n            ret.pixel = newPoint[1] - oldPoint[1];\n            ret.pixelLength = rect.height;\n            ret.pixelStart = rect.y;\n            ret.signal = axis.inverse ? -1 : 1;\n        }\n\n        return ret;\n    },\n\n    polar: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n        var axis = axisModel.axis;\n        var ret = {};\n        var polar = coordInfo.model.coordinateSystem;\n        var radiusExtent = polar.getRadiusAxis().getExtent();\n        var angleExtent = polar.getAngleAxis().getExtent();\n\n        oldPoint = oldPoint ? polar.pointToCoord(oldPoint) : [0, 0];\n        newPoint = polar.pointToCoord(newPoint);\n\n        if (axisModel.mainType === 'radiusAxis') {\n            ret.pixel = newPoint[0] - oldPoint[0];\n            // ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);\n            // ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);\n            ret.pixelLength = radiusExtent[1] - radiusExtent[0];\n            ret.pixelStart = radiusExtent[0];\n            ret.signal = axis.inverse ? 1 : -1;\n        }\n        else { // 'angleAxis'\n            ret.pixel = newPoint[1] - oldPoint[1];\n            // ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);\n            // ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);\n            ret.pixelLength = angleExtent[1] - angleExtent[0];\n            ret.pixelStart = angleExtent[0];\n            ret.signal = axis.inverse ? -1 : 1;\n        }\n\n        return ret;\n    },\n\n    singleAxis: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n        var axis = axisModel.axis;\n        var rect = coordInfo.model.coordinateSystem.getRect();\n        var ret = {};\n\n        oldPoint = oldPoint || [0, 0];\n\n        if (axis.orient === 'horizontal') {\n            ret.pixel = newPoint[0] - oldPoint[0];\n            ret.pixelLength = rect.width;\n            ret.pixelStart = rect.x;\n            ret.signal = axis.inverse ? 1 : -1;\n        }\n        else { // 'vertical'\n            ret.pixel = newPoint[1] - oldPoint[1];\n            ret.pixelLength = rect.height;\n            ret.pixelStart = rect.y;\n            ret.signal = axis.inverse ? -1 : 1;\n        }\n\n        return ret;\n    }\n};\n\nregisterProcessor(function (ecModel, api) {\n\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n        // We calculate window and reset axis here but not in model\n        // init stage and not after action dispatch handler, because\n        // reset should be called after seriesData.restoreData.\n        dataZoomModel.eachTargetAxis(resetSingleAxis);\n\n        // Caution: data zoom filtering is order sensitive when using\n        // percent range and no min/max/scale set on axis.\n        // For example, we have dataZoom definition:\n        // [\n        //      {xAxisIndex: 0, start: 30, end: 70},\n        //      {yAxisIndex: 0, start: 20, end: 80}\n        // ]\n        // In this case, [20, 80] of y-dataZoom should be based on data\n        // that have filtered by x-dataZoom using range of [30, 70],\n        // but should not be based on full raw data. Thus sliding\n        // x-dataZoom will change both ranges of xAxis and yAxis,\n        // while sliding y-dataZoom will only change the range of yAxis.\n        // So we should filter x-axis after reset x-axis immediately,\n        // and then reset y-axis and filter y-axis.\n        dataZoomModel.eachTargetAxis(filterSingleAxis);\n    });\n\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n        // Fullfill all of the range props so that user\n        // is able to get them from chart.getOption().\n        var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n        var percentRange = axisProxy.getDataPercentWindow();\n        var valueRange = axisProxy.getDataValueWindow();\n\n        dataZoomModel.setRawRange({\n            start: percentRange[0],\n            end: percentRange[1],\n            startValue: valueRange[0],\n            endValue: valueRange[1]\n        }, true);\n    });\n});\n\nfunction resetSingleAxis(dimNames, axisIndex, dataZoomModel) {\n    dataZoomModel.getAxisProxy(dimNames.name, axisIndex).reset(dataZoomModel);\n}\n\nfunction filterSingleAxis(dimNames, axisIndex, dataZoomModel) {\n    dataZoomModel.getAxisProxy(dimNames.name, axisIndex).filterData(dataZoomModel);\n}\n\nregisterAction('dataZoom', function (payload, ecModel) {\n\n    var linkedNodesFinder = createLinkedNodesFinder(\n        bind(ecModel.eachComponent, ecModel, 'dataZoom'),\n        eachAxisDim$1,\n        function (model, dimNames) {\n            return model.get(dimNames.axisIndex);\n        }\n    );\n\n    var effectedModels = [];\n\n    ecModel.eachComponent(\n        {mainType: 'dataZoom', query: payload},\n        function (model, index) {\n            effectedModels.push.apply(\n                effectedModels, linkedNodesFinder(model).nodes\n            );\n        }\n    );\n\n    each$1(effectedModels, function (dataZoomModel, index) {\n        dataZoomModel.setRawRange({\n            start: payload.start,\n            end: payload.end,\n            startValue: payload.startValue,\n            endValue: payload.endValue\n        });\n    });\n\n});\n\n/**\n * DataZoom component entry\n */\n\nvar each$27 = each$1;\n\nvar preprocessor$2 = function (option) {\n    var visualMap = option && option.visualMap;\n\n    if (!isArray(visualMap)) {\n        visualMap = visualMap ? [visualMap] : [];\n    }\n\n    each$27(visualMap, function (opt) {\n        if (!opt) {\n            return;\n        }\n\n        // rename splitList to pieces\n        if (has$1(opt, 'splitList') && !has$1(opt, 'pieces')) {\n            opt.pieces = opt.splitList;\n            delete opt.splitList;\n        }\n\n        var pieces = opt.pieces;\n        if (pieces && isArray(pieces)) {\n            each$27(pieces, function (piece) {\n                if (isObject(piece)) {\n                    if (has$1(piece, 'start') && !has$1(piece, 'min')) {\n                        piece.min = piece.start;\n                    }\n                    if (has$1(piece, 'end') && !has$1(piece, 'max')) {\n                        piece.max = piece.end;\n                    }\n                }\n            });\n        }\n    });\n};\n\nfunction has$1(obj, name) {\n    return obj && obj.hasOwnProperty && obj.hasOwnProperty(name);\n}\n\nComponentModel.registerSubTypeDefaulter('visualMap', function (option) {\n    // Compatible with ec2, when splitNumber === 0, continuous visualMap will be used.\n    return (\n            !option.categories\n            && (\n                !(\n                    option.pieces\n                        ? option.pieces.length > 0\n                        : option.splitNumber > 0\n                )\n                || option.calculable\n            )\n        )\n        ? 'continuous' : 'piecewise';\n});\n\nregisterVisual(PRIORITY.VISUAL.COMPONENT, function (ecModel) {\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n        processSingleVisualMap(visualMapModel, ecModel);\n    });\n\n    prepareVisualMeta(ecModel);\n});\n\nfunction processSingleVisualMap(visualMapModel, ecModel) {\n    visualMapModel.eachTargetSeries(function (seriesModel) {\n        var data = seriesModel.getData();\n\n        applyVisual(\n            visualMapModel.stateList,\n            visualMapModel.targetVisuals,\n            data,\n            visualMapModel.getValueState,\n            visualMapModel,\n            visualMapModel.getDataDimension(data)\n        );\n    });\n}\n\n// Only support color.\nfunction prepareVisualMeta(ecModel) {\n    ecModel.eachSeries(function (seriesModel) {\n        var data = seriesModel.getData();\n        var visualMetaList = [];\n\n        ecModel.eachComponent('visualMap', function (visualMapModel) {\n            if (visualMapModel.isTargetSeries(seriesModel)) {\n                var visualMeta = visualMapModel.getVisualMeta(\n                    bind(getColorVisual, null, seriesModel, visualMapModel)\n                ) || {stops: [], outerColors: []};\n                visualMeta.dimension = visualMapModel.getDataDimension(data);\n                visualMetaList.push(visualMeta);\n            }\n        });\n\n        // console.log(JSON.stringify(visualMetaList.map(a => a.stops)));\n        seriesModel.getData().setVisual('visualMeta', visualMetaList);\n    });\n}\n\n// FIXME\n// performance and export for heatmap?\n// value can be Infinity or -Infinity\nfunction getColorVisual(seriesModel, visualMapModel, value, valueState) {\n    var mappings = visualMapModel.targetVisuals[valueState];\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n    var resultVisual = {\n        color: seriesModel.getData().getVisual('color') // default color.\n    };\n\n    for (var i = 0, len = visualTypes.length; i < len; i++) {\n        var type = visualTypes[i];\n        var mapping = mappings[\n            type === 'opacity' ? '__alphaForOpacity' : type\n        ];\n        mapping && mapping.applyVisual(value, getVisual, setVisual);\n    }\n\n    return resultVisual.color;\n\n    function getVisual(key) {\n        return resultVisual[key];\n    }\n\n    function setVisual(key, value) {\n        resultVisual[key] = value;\n    }\n}\n\n/**\n * @file Visual mapping.\n */\n\nvar visualDefault = {\n\n    /**\n     * @public\n     */\n    get: function (visualType, key, isCategory) {\n        var value = clone(\n            (defaultOption$3[visualType] || {})[key]\n        );\n\n        return isCategory\n            ? (isArray(value) ? value[value.length - 1] : value)\n            : value;\n    }\n\n};\n\nvar defaultOption$3 = {\n\n    color: {\n        active: ['#006edd', '#e0ffff'],\n        inactive: ['rgba(0,0,0,0)']\n    },\n\n    colorHue: {\n        active: [0, 360],\n        inactive: [0, 0]\n    },\n\n    colorSaturation: {\n        active: [0.3, 1],\n        inactive: [0, 0]\n    },\n\n    colorLightness: {\n        active: [0.9, 0.5],\n        inactive: [0, 0]\n    },\n\n    colorAlpha: {\n        active: [0.3, 1],\n        inactive: [0, 0]\n    },\n\n    opacity: {\n        active: [0.3, 1],\n        inactive: [0, 0]\n    },\n\n    symbol: {\n        active: ['circle', 'roundRect', 'diamond'],\n        inactive: ['none']\n    },\n\n    symbolSize: {\n        active: [10, 50],\n        inactive: [0, 0]\n    }\n};\n\nvar mapVisual$2 = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray$3 = isArray;\nvar each$28 = each$1;\nvar asc$3 = asc;\nvar linearMap$3 = linearMap;\nvar noop$2 = noop;\n\nvar DEFAULT_COLOR = ['#f6efa6', '#d88273', '#bf444c'];\n\nvar VisualMapModel = extendComponentModel({\n\n    type: 'visualMap',\n\n    dependencies: ['series'],\n\n    /**\n     * @readOnly\n     * @type {Array.<string>}\n     */\n    stateList: ['inRange', 'outOfRange'],\n\n    /**\n     * @readOnly\n     * @type {Array.<string>}\n     */\n    replacableOptionKeys: [\n        'inRange', 'outOfRange', 'target', 'controller', 'color'\n    ],\n\n    /**\n     * [lowerBound, upperBound]\n     *\n     * @readOnly\n     * @type {Array.<number>}\n     */\n    dataBound: [-Infinity, Infinity],\n\n    /**\n     * @readOnly\n     * @type {string|Object}\n     */\n    layoutMode: {type: 'box', ignoreSize: true},\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n        show: true,\n\n        zlevel: 0,\n        z: 4,\n\n        seriesIndex: 'all',     // 'all' or null/undefined: all series.\n                                // A number or an array of number: the specified series.\n\n                                // set min: 0, max: 200, only for campatible with ec2.\n                                // In fact min max should not have default value.\n        min: 0,                 // min value, must specified if pieces is not specified.\n        max: 200,               // max value, must specified if pieces is not specified.\n\n        dimension: null,\n        inRange: null,          // 'color', 'colorHue', 'colorSaturation', 'colorLightness', 'colorAlpha',\n                                // 'symbol', 'symbolSize'\n        outOfRange: null,       // 'color', 'colorHue', 'colorSaturation',\n                                // 'colorLightness', 'colorAlpha',\n                                // 'symbol', 'symbolSize'\n\n        left: 0,                // 'center'  'left'  'right'  {number} (px)\n        right: null,            // The same as left.\n        top: null,              // 'top'  'bottom'  'center'  {number} (px)\n        bottom: 0,              // The same as top.\n\n        itemWidth: null,\n        itemHeight: null,\n        inverse: false,\n        orient: 'vertical',        // 'horizontal'  'vertical'\n\n        backgroundColor: 'rgba(0,0,0,0)',\n        borderColor: '#ccc',       // \n        contentColor: '#5793f3',\n        inactiveColor: '#aaa',\n        borderWidth: 0,            // px0\n        padding: 5,                // px5\n                                    // css\n        textGap: 10,               //\n        precision: 0,              // 0\n        color: null,               //deprecatedec2piecesinRange/outOfRange\n\n        formatter: null,\n        text: null,                // ['', '']ec2text[0]text[1]\n        textStyle: {\n            color: '#333'          // \n        }\n    },\n\n    /**\n     * @protected\n     */\n    init: function (option, parentModel, ecModel) {\n\n        /**\n         * @private\n         * @type {Array.<number>}\n         */\n        this._dataExtent;\n\n        /**\n         * @readOnly\n         */\n        this.targetVisuals = {};\n\n        /**\n         * @readOnly\n         */\n        this.controllerVisuals = {};\n\n        /**\n         * @readOnly\n         */\n        this.textStyleModel;\n\n        /**\n         * [width, height]\n         * @readOnly\n         * @type {Array.<number>}\n         */\n        this.itemSize;\n\n        this.mergeDefaultAndTheme(option, ecModel);\n    },\n\n    /**\n     * @protected\n     */\n    optionUpdated: function (newOption, isInit) {\n        var thisOption = this.option;\n\n        // FIXME\n        // necessary?\n        // Disable realtime view update if canvas is not supported.\n        if (!env$1.canvasSupported) {\n            thisOption.realtime = false;\n        }\n\n        !isInit && replaceVisualOption(\n            thisOption, newOption, this.replacableOptionKeys\n        );\n\n        this.textStyleModel = this.getModel('textStyle');\n\n        this.resetItemSize();\n\n        this.completeVisualOption();\n    },\n\n    /**\n     * @protected\n     */\n    resetVisual: function (supplementVisualOption) {\n        var stateList = this.stateList;\n        supplementVisualOption = bind(supplementVisualOption, this);\n\n        this.controllerVisuals = createVisualMappings(\n            this.option.controller, stateList, supplementVisualOption\n        );\n        this.targetVisuals = createVisualMappings(\n            this.option.target, stateList, supplementVisualOption\n        );\n    },\n\n    /**\n     * @protected\n     * @return {Array.<number>} An array of series indices.\n     */\n    getTargetSeriesIndices: function () {\n        var optionSeriesIndex = this.option.seriesIndex;\n        var seriesIndices = [];\n\n        if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n            this.ecModel.eachSeries(function (seriesModel, index) {\n                seriesIndices.push(index);\n            });\n        }\n        else {\n            seriesIndices = normalizeToArray(optionSeriesIndex);\n        }\n\n        return seriesIndices;\n    },\n\n    /**\n     * @public\n     */\n    eachTargetSeries: function (callback, context) {\n        each$1(this.getTargetSeriesIndices(), function (seriesIndex) {\n            callback.call(context, this.ecModel.getSeriesByIndex(seriesIndex));\n        }, this);\n    },\n\n    /**\n     * @pubilc\n     */\n    isTargetSeries: function (seriesModel) {\n        var is = false;\n        this.eachTargetSeries(function (model) {\n            model === seriesModel && (is = true);\n        });\n        return is;\n    },\n\n    /**\n     * @example\n     * this.formatValueText(someVal); // format single numeric value to text.\n     * this.formatValueText(someVal, true); // format single category value to text.\n     * this.formatValueText([min, max]); // format numeric min-max to text.\n     * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n     * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n     *\n     * @param {number|Array.<number>} value Real value, or this.dataBound[0 or 1].\n     * @param {boolean} [isCategory=false] Only available when value is number.\n     * @param {Array.<string>} edgeSymbols Open-close symbol when value is interval.\n     * @return {string}\n     * @protected\n     */\n    formatValueText: function(value, isCategory, edgeSymbols) {\n        var option = this.option;\n        var precision = option.precision;\n        var dataBound = this.dataBound;\n        var formatter = option.formatter;\n        var isMinMax;\n        var textValue;\n        edgeSymbols = edgeSymbols || ['<', '>'];\n\n        if (isArray(value)) {\n            value = value.slice();\n            isMinMax = true;\n        }\n\n        textValue = isCategory\n            ? value\n            : (isMinMax\n                ? [toFixed(value[0]), toFixed(value[1])]\n                : toFixed(value)\n            );\n\n        if (isString(formatter)) {\n            return formatter\n                .replace('{value}', isMinMax ? textValue[0] : textValue)\n                .replace('{value2}', isMinMax ? textValue[1] : textValue);\n        }\n        else if (isFunction(formatter)) {\n            return isMinMax\n                ? formatter(value[0], value[1])\n                : formatter(value);\n        }\n\n        if (isMinMax) {\n            if (value[0] === dataBound[0]) {\n                return edgeSymbols[0] + ' ' + textValue[1];\n            }\n            else if (value[1] === dataBound[1]) {\n                return edgeSymbols[1] + ' ' + textValue[0];\n            }\n            else {\n                return textValue[0] + ' - ' + textValue[1];\n            }\n        }\n        else { // Format single value (includes category case).\n            return textValue;\n        }\n\n        function toFixed(val) {\n            return val === dataBound[0]\n                ? 'min'\n                : val === dataBound[1]\n                ? 'max'\n                : (+val).toFixed(Math.min(precision, 20));\n        }\n    },\n\n    /**\n     * @protected\n     */\n    resetExtent: function () {\n        var thisOption = this.option;\n\n        // Can not calculate data extent by data here.\n        // Because series and data may be modified in processing stage.\n        // So we do not support the feature \"auto min/max\".\n\n        var extent = asc$3([thisOption.min, thisOption.max]);\n\n        this._dataExtent = extent;\n    },\n\n    /**\n     * @public\n     * @param {module:echarts/data/List} list\n     * @return {string} Concrete dimention. If return null/undefined,\n     *                  no dimension used.\n     */\n    getDataDimension: function (list) {\n        var optDim = this.option.dimension;\n        return optDim != null\n            ? optDim : list.dimensions.length - 1;\n    },\n\n    /**\n     * @public\n     * @override\n     */\n    getExtent: function () {\n        return this._dataExtent.slice();\n    },\n\n    /**\n     * @protected\n     */\n    completeVisualOption: function () {\n        var thisOption = this.option;\n        var base = {inRange: thisOption.inRange, outOfRange: thisOption.outOfRange};\n\n        var target = thisOption.target || (thisOption.target = {});\n        var controller = thisOption.controller || (thisOption.controller = {});\n\n        merge(target, base); // Do not override\n        merge(controller, base); // Do not override\n\n        var isCategory = this.isCategory();\n\n        completeSingle.call(this, target);\n        completeSingle.call(this, controller);\n        completeInactive.call(this, target, 'inRange', 'outOfRange');\n        // completeInactive.call(this, target, 'outOfRange', 'inRange');\n        completeController.call(this, controller);\n\n        function completeSingle(base) {\n            // Compatible with ec2 dataRange.color.\n            // The mapping order of dataRange.color is: [high value, ..., low value]\n            // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n            // Notice: ec2 has no inverse.\n            if (isArray$3(thisOption.color)\n                // If there has been inRange: {symbol: ...}, adding color is a mistake.\n                // So adding color only when no inRange defined.\n                && !base.inRange\n            ) {\n                base.inRange = {color: thisOption.color.slice().reverse()};\n            }\n\n            // Compatible with previous logic, always give a defautl color, otherwise\n            // simple config with no inRange and outOfRange will not work.\n            // Originally we use visualMap.color as the default color, but setOption at\n            // the second time the default color will be erased. So we change to use\n            // constant DEFAULT_COLOR.\n            // If user do not want the defualt color, set inRange: {color: null}.\n            base.inRange = base.inRange || {color: DEFAULT_COLOR};\n\n            // If using shortcut like: {inRange: 'symbol'}, complete default value.\n            each$28(this.stateList, function (state) {\n                var visualType = base[state];\n\n                if (isString(visualType)) {\n                    var defa = visualDefault.get(visualType, 'active', isCategory);\n                    if (defa) {\n                        base[state] = {};\n                        base[state][visualType] = defa;\n                    }\n                    else {\n                        // Mark as not specified.\n                        delete base[state];\n                    }\n                }\n            }, this);\n        }\n\n        function completeInactive(base, stateExist, stateAbsent) {\n            var optExist = base[stateExist];\n            var optAbsent = base[stateAbsent];\n\n            if (optExist && !optAbsent) {\n                optAbsent = base[stateAbsent] = {};\n                each$28(optExist, function (visualData, visualType) {\n                    if (!VisualMapping.isValidType(visualType)) {\n                        return;\n                    }\n\n                    var defa = visualDefault.get(visualType, 'inactive', isCategory);\n\n                    if (defa != null) {\n                        optAbsent[visualType] = defa;\n\n                        // Compatibable with ec2:\n                        // Only inactive color to rgba(0,0,0,0) can not\n                        // make label transparent, so use opacity also.\n                        if (visualType === 'color'\n                            && !optAbsent.hasOwnProperty('opacity')\n                            && !optAbsent.hasOwnProperty('colorAlpha')\n                        ) {\n                            optAbsent.opacity = [0, 0];\n                        }\n                    }\n                });\n            }\n        }\n\n        function completeController(controller) {\n            var symbolExists = (controller.inRange || {}).symbol\n                || (controller.outOfRange || {}).symbol;\n            var symbolSizeExists = (controller.inRange || {}).symbolSize\n                || (controller.outOfRange || {}).symbolSize;\n            var inactiveColor = this.get('inactiveColor');\n\n            each$28(this.stateList, function (state) {\n\n                var itemSize = this.itemSize;\n                var visuals = controller[state];\n\n                // Set inactive color for controller if no other color\n                // attr (like colorAlpha) specified.\n                if (!visuals) {\n                    visuals = controller[state] = {\n                        color: isCategory ? inactiveColor : [inactiveColor]\n                    };\n                }\n\n                // Consistent symbol and symbolSize if not specified.\n                if (visuals.symbol == null) {\n                    visuals.symbol = symbolExists\n                        && clone(symbolExists)\n                        || (isCategory ? 'roundRect' : ['roundRect']);\n                }\n                if (visuals.symbolSize == null) {\n                    visuals.symbolSize = symbolSizeExists\n                        && clone(symbolSizeExists)\n                        || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n                }\n\n                // Filter square and none.\n                visuals.symbol = mapVisual$2(visuals.symbol, function (symbol) {\n                    return (symbol === 'none' || symbol === 'square') ? 'roundRect' : symbol;\n                });\n\n                // Normalize symbolSize\n                var symbolSize = visuals.symbolSize;\n\n                if (symbolSize != null) {\n                    var max = -Infinity;\n                    // symbolSize can be object when categories defined.\n                    eachVisual(symbolSize, function (value) {\n                        value > max && (max = value);\n                    });\n                    visuals.symbolSize = mapVisual$2(symbolSize, function (value) {\n                        return linearMap$3(value, [0, max], [0, itemSize[0]], true);\n                    });\n                }\n\n            }, this);\n        }\n    },\n\n    /**\n     * @protected\n     */\n    resetItemSize: function () {\n        this.itemSize = [\n            parseFloat(this.get('itemWidth')),\n            parseFloat(this.get('itemHeight'))\n        ];\n    },\n\n    /**\n     * @public\n     */\n    isCategory: function () {\n        return !!this.option.categories;\n    },\n\n    /**\n     * @public\n     * @abstract\n     */\n    setSelected: noop$2,\n\n    /**\n     * @public\n     * @abstract\n     * @param {*|module:echarts/data/List} valueOrData\n     * @param {number} dataIndex\n     * @return {string} state See this.stateList\n     */\n    getValueState: noop$2,\n\n    /**\n     * FIXME\n     * Do not publish to thirt-part-dev temporarily\n     * util the interface is stable. (Should it return\n     * a function but not visual meta?)\n     *\n     * @pubilc\n     * @abstract\n     * @param {Function} getColorVisual\n     *        params: value, valueState\n     *        return: color\n     * @return {Object} visualMeta\n     *        should includes {stops, outerColors}\n     *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n     */\n    getVisualMeta: noop$2\n\n});\n\n// Constant\nvar DEFAULT_BAR_BOUND = [20, 140];\n\nvar ContinuousModel = VisualMapModel.extend({\n\n    type: 'visualMap.continuous',\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n        align: 'auto',          // 'auto', 'left', 'right', 'top', 'bottom'\n        calculable: false,      // This prop effect default component type determine,\n                                // See echarts/component/visualMap/typeDefaulter.\n        range: null,            // selected range. In default case `range` is [min, max]\n                                // and can auto change along with modification of min max,\n                                // util use specifid a range.\n        realtime: true,         // Whether realtime update.\n        itemHeight: null,       // The length of the range control edge.\n        itemWidth: null,        // The length of the other side.\n        hoverLink: true,        // Enable hover highlight.\n        hoverLinkDataSize: null,// The size of hovered data.\n        hoverLinkOnHandle: null // Whether trigger hoverLink when hover handle.\n                                // If not specified, follow the value of `realtime`.\n    },\n\n    /**\n     * @override\n     */\n    optionUpdated: function (newOption, isInit) {\n        ContinuousModel.superApply(this, 'optionUpdated', arguments);\n\n        this.resetExtent();\n\n        this.resetVisual(function (mappingOption) {\n            mappingOption.mappingMethod = 'linear';\n            mappingOption.dataExtent = this.getExtent();\n        });\n\n        this._resetRange();\n    },\n\n    /**\n     * @protected\n     * @override\n     */\n    resetItemSize: function () {\n        ContinuousModel.superApply(this, 'resetItemSize', arguments);\n\n        var itemSize = this.itemSize;\n\n        this._orient === 'horizontal' && itemSize.reverse();\n\n        (itemSize[0] == null || isNaN(itemSize[0])) && (itemSize[0] = DEFAULT_BAR_BOUND[0]);\n        (itemSize[1] == null || isNaN(itemSize[1])) && (itemSize[1] = DEFAULT_BAR_BOUND[1]);\n    },\n\n    /**\n     * @private\n     */\n    _resetRange: function () {\n        var dataExtent = this.getExtent();\n        var range = this.option.range;\n\n        if (!range || range.auto) {\n            // `range` should always be array (so we dont use other\n            // value like 'auto') for user-friend. (consider getOption).\n            dataExtent.auto = 1;\n            this.option.range = dataExtent;\n        }\n        else if (isArray(range)) {\n            if (range[0] > range[1]) {\n                range.reverse();\n            }\n            range[0] = Math.max(range[0], dataExtent[0]);\n            range[1] = Math.min(range[1], dataExtent[1]);\n        }\n    },\n\n    /**\n     * @protected\n     * @override\n     */\n    completeVisualOption: function () {\n        VisualMapModel.prototype.completeVisualOption.apply(this, arguments);\n\n        each$1(this.stateList, function (state) {\n            var symbolSize = this.option.controller[state].symbolSize;\n            if (symbolSize && symbolSize[0] !== symbolSize[1]) {\n                symbolSize[0] = 0; // For good looking.\n            }\n        }, this);\n    },\n\n    /**\n     * @override\n     */\n    setSelected: function (selected) {\n        this.option.range = selected.slice();\n        this._resetRange();\n    },\n\n    /**\n     * @public\n     */\n    getSelected: function () {\n        var dataExtent = this.getExtent();\n\n        var dataInterval = asc(\n            (this.get('range') || []).slice()\n        );\n\n        // Clamp\n        dataInterval[0] > dataExtent[1] && (dataInterval[0] = dataExtent[1]);\n        dataInterval[1] > dataExtent[1] && (dataInterval[1] = dataExtent[1]);\n        dataInterval[0] < dataExtent[0] && (dataInterval[0] = dataExtent[0]);\n        dataInterval[1] < dataExtent[0] && (dataInterval[1] = dataExtent[0]);\n\n        return dataInterval;\n    },\n\n    /**\n     * @override\n     */\n    getValueState: function (value) {\n        var range = this.option.range;\n        var dataExtent = this.getExtent();\n\n        // When range[0] === dataExtent[0], any value larger than dataExtent[0] maps to 'inRange'.\n        // range[1] is processed likewise.\n        return (\n            (range[0] <= dataExtent[0] || range[0] <= value)\n            && (range[1] >= dataExtent[1] || value <= range[1])\n        ) ? 'inRange' : 'outOfRange';\n    },\n\n    /**\n     * @params {Array.<number>} range target value: range[0] <= value && value <= range[1]\n     * @return {Array.<Object>} [{seriesId, dataIndices: <Array.<number>>}, ...]\n     */\n    findTargetDataIndices: function (range) {\n        var result = [];\n\n        this.eachTargetSeries(function (seriesModel) {\n            var dataIndices = [];\n            var data = seriesModel.getData();\n\n            data.each(this.getDataDimension(data), function (value, dataIndex) {\n                range[0] <= value && value <= range[1] && dataIndices.push(dataIndex);\n            }, true, this);\n\n            result.push({seriesId: seriesModel.id, dataIndex: dataIndices});\n        }, this);\n\n        return result;\n    },\n\n    /**\n     * @implement\n     */\n    getVisualMeta: function (getColorVisual) {\n        var oVals = getColorStopValues(this, 'outOfRange', this.getExtent());\n        var iVals = getColorStopValues(this, 'inRange', this.option.range.slice());\n        var stops = [];\n\n        function setStop(value, valueState) {\n            stops.push({\n                value: value,\n                color: getColorVisual(value, valueState)\n            });\n        }\n\n        // Format to: outOfRange -- inRange -- outOfRange.\n        var iIdx = 0;\n        var oIdx = 0;\n        var iLen = iVals.length;\n        var oLen = oVals.length;\n\n        for (; oIdx < oLen && (!iVals.length || oVals[oIdx] <= iVals[0]); oIdx++) {\n            // If oVal[oIdx] === iVals[iIdx], oVal[oIdx] should be ignored.\n            if (oVals[oIdx] < iVals[iIdx]) {\n                setStop(oVals[oIdx], 'outOfRange');\n            }\n        }\n        for (var first = 1; iIdx < iLen; iIdx++, first = 0) {\n            // If range is full, value beyond min, max will be clamped.\n            // make a singularity\n            first && stops.length && setStop(iVals[iIdx], 'outOfRange');\n            setStop(iVals[iIdx], 'inRange');\n        }\n        for (var first = 1; oIdx < oLen; oIdx++) {\n            if (!iVals.length || iVals[iVals.length - 1] < oVals[oIdx]) {\n                // make a singularity\n                if (first) {\n                    stops.length && setStop(stops[stops.length - 1].value, 'outOfRange');\n                    first = 0;\n                }\n                setStop(oVals[oIdx], 'outOfRange');\n            }\n        }\n\n        var stopsLen = stops.length;\n\n        return {\n            stops: stops,\n            outerColors: [\n                stopsLen ? stops[0].color : 'transparent',\n                stopsLen ? stops[stopsLen - 1].color : 'transparent'\n            ]\n        };\n    }\n\n});\n\nfunction getColorStopValues(visualMapModel, valueState, dataExtent) {\n    if (dataExtent[0] === dataExtent[1]) {\n        return dataExtent.slice();\n    }\n\n    // When using colorHue mapping, it is not linear color any more.\n    // Moreover, canvas gradient seems not to be accurate linear.\n    // FIXME\n    // Should be arbitrary value 100? or based on pixel size?\n    var count = 200;\n    var step = (dataExtent[1] - dataExtent[0]) / count;\n\n    var value = dataExtent[0];\n    var stopValues = [];\n    for (var i = 0; i <= count && value < dataExtent[1]; i++) {\n        stopValues.push(value);\n        value += step;\n    }\n    stopValues.push(dataExtent[1]);\n\n    return stopValues;\n}\n\nvar VisualMapView = extendComponentView({\n\n    type: 'visualMap',\n\n    /**\n     * @readOnly\n     * @type {Object}\n     */\n    autoPositionValues: {left: 1, right: 1, top: 1, bottom: 1},\n\n    init: function (ecModel, api) {\n        /**\n         * @readOnly\n         * @type {module:echarts/model/Global}\n         */\n        this.ecModel = ecModel;\n\n        /**\n         * @readOnly\n         * @type {module:echarts/ExtensionAPI}\n         */\n        this.api = api;\n\n        /**\n         * @readOnly\n         * @type {module:echarts/component/visualMap/visualMapModel}\n         */\n        this.visualMapModel;\n    },\n\n    /**\n     * @protected\n     */\n    render: function (visualMapModel, ecModel, api, payload) {\n        this.visualMapModel = visualMapModel;\n\n        if (visualMapModel.get('show') === false) {\n            this.group.removeAll();\n            return;\n        }\n\n        this.doRender.apply(this, arguments);\n    },\n\n    /**\n     * @protected\n     */\n    renderBackground: function (group) {\n        var visualMapModel = this.visualMapModel;\n        var padding = normalizeCssArray$1(visualMapModel.get('padding') || 0);\n        var rect = group.getBoundingRect();\n\n        group.add(new Rect({\n            z2: -1, // Lay background rect on the lowest layer.\n            silent: true,\n            shape: {\n                x: rect.x - padding[3],\n                y: rect.y - padding[0],\n                width: rect.width + padding[3] + padding[1],\n                height: rect.height + padding[0] + padding[2]\n            },\n            style: {\n                fill: visualMapModel.get('backgroundColor'),\n                stroke: visualMapModel.get('borderColor'),\n                lineWidth: visualMapModel.get('borderWidth')\n            }\n        }));\n    },\n\n    /**\n     * @protected\n     * @param {number} targetValue can be Infinity or -Infinity\n     * @param {string=} visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\n     * @param {Object} [opts]\n     * @param {string=} [opts.forceState] Specify state, instead of using getValueState method.\n     * @param {string=} [opts.convertOpacityToAlpha=false] For color gradient in controller widget.\n     * @return {*} Visual value.\n     */\n    getControllerVisual: function (targetValue, visualCluster, opts) {\n        opts = opts || {};\n\n        var forceState = opts.forceState;\n        var visualMapModel = this.visualMapModel;\n        var visualObj = {};\n\n        // Default values.\n        if (visualCluster === 'symbol') {\n            visualObj.symbol = visualMapModel.get('itemSymbol');\n        }\n        if (visualCluster === 'color') {\n            var defaultColor = visualMapModel.get('contentColor');\n            visualObj.color = defaultColor;\n        }\n\n        function getter(key) {\n            return visualObj[key];\n        }\n\n        function setter(key, value) {\n            visualObj[key] = value;\n        }\n\n        var mappings = visualMapModel.controllerVisuals[\n            forceState || visualMapModel.getValueState(targetValue)\n        ];\n        var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n\n        each$1(visualTypes, function (type) {\n            var visualMapping = mappings[type];\n            if (opts.convertOpacityToAlpha && type === 'opacity') {\n                type = 'colorAlpha';\n                visualMapping = mappings.__alphaForOpacity;\n            }\n            if (VisualMapping.dependsOn(type, visualCluster)) {\n                visualMapping && visualMapping.applyVisual(\n                    targetValue, getter, setter\n                );\n            }\n        });\n\n        return visualObj[visualCluster];\n    },\n\n    /**\n     * @protected\n     */\n    positionGroup: function (group) {\n        var model = this.visualMapModel;\n        var api = this.api;\n\n        positionElement(\n            group,\n            model.getBoxLayoutParams(),\n            {width: api.getWidth(), height: api.getHeight()}\n        );\n    },\n\n    /**\n     * @protected\n     * @abstract\n     */\n    doRender: noop\n\n});\n\n/**\n * @param {module:echarts/component/visualMap/VisualMapModel} visualMapModel\\\n * @param {module:echarts/ExtensionAPI} api\n * @param {Array.<number>} itemSize always [short, long]\n * @return {string} 'left' or 'right' or 'top' or 'bottom'\n */\nfunction getItemAlign(visualMapModel, api, itemSize) {\n    var modelOption = visualMapModel.option;\n    var itemAlign = modelOption.align;\n\n    if (itemAlign != null && itemAlign !== 'auto') {\n        return itemAlign;\n    }\n\n    // Auto decision align.\n    var ecSize = {width: api.getWidth(), height: api.getHeight()};\n    var realIndex = modelOption.orient === 'horizontal' ? 1 : 0;\n\n    var paramsSet = [\n        ['left', 'right', 'width'],\n        ['top', 'bottom', 'height']\n    ];\n    var reals = paramsSet[realIndex];\n    var fakeValue = [0, null, 10];\n\n    var layoutInput = {};\n    for (var i = 0; i < 3; i++) {\n        layoutInput[paramsSet[1 - realIndex][i]] = fakeValue[i];\n        layoutInput[reals[i]] = i === 2 ? itemSize[0] : modelOption[reals[i]];\n    }\n\n    var rParam = [['x', 'width', 3], ['y', 'height', 0]][realIndex];\n    var rect = getLayoutRect(layoutInput, ecSize, modelOption.padding);\n\n    return reals[\n        (rect.margin[rParam[2]] || 0) + rect[rParam[0]] + rect[rParam[1]] * 0.5\n            < ecSize[rParam[1]] * 0.5 ? 0 : 1\n    ];\n}\n\n/**\n * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and\n * dataIndexInside means filtered index.\n */\nfunction convertDataIndex(batch) {\n    each$1(batch || [], function (batchItem) {\n        if (batch.dataIndex != null) {\n            batch.dataIndexInside = batch.dataIndex;\n            batch.dataIndex = null;\n        }\n    });\n    return batch;\n}\n\nvar linearMap$4 = linearMap;\nvar each$29 = each$1;\nvar mathMin$7 = Math.min;\nvar mathMax$7 = Math.max;\n\n// Arbitrary value\nvar HOVER_LINK_SIZE = 12;\nvar HOVER_LINK_OUT = 6;\n\n// Notice:\n// Any \"interval\" should be by the order of [low, high].\n// \"handle0\" (handleIndex === 0) maps to\n// low data value: this._dataInterval[0] and has low coord.\n// \"handle1\" (handleIndex === 1) maps to\n// high data value: this._dataInterval[1] and has high coord.\n// The logic of transform is implemented in this._createBarGroup.\n\nvar ContinuousView = VisualMapView.extend({\n\n    type: 'visualMap.continuous',\n\n    /**\n     * @override\n     */\n    init: function () {\n\n        ContinuousView.superApply(this, 'init', arguments);\n\n        /**\n         * @private\n         */\n        this._shapes = {};\n\n        /**\n         * @private\n         */\n        this._dataInterval = [];\n\n        /**\n         * @private\n         */\n        this._handleEnds = [];\n\n        /**\n         * @private\n         */\n        this._orient;\n\n        /**\n         * @private\n         */\n        this._useHandle;\n\n        /**\n         * @private\n         */\n        this._hoverLinkDataIndices = [];\n\n        /**\n         * @private\n         */\n        this._dragging;\n\n        /**\n         * @private\n         */\n        this._hovering;\n    },\n\n    /**\n     * @protected\n     * @override\n     */\n    doRender: function (visualMapModel, ecModel, api, payload) {\n        if (!payload || payload.type !== 'selectDataRange' || payload.from !== this.uid) {\n            this._buildView();\n        }\n    },\n\n    /**\n     * @private\n     */\n    _buildView: function () {\n        this.group.removeAll();\n\n        var visualMapModel = this.visualMapModel;\n        var thisGroup = this.group;\n\n        this._orient = visualMapModel.get('orient');\n        this._useHandle = visualMapModel.get('calculable');\n\n        this._resetInterval();\n\n        this._renderBar(thisGroup);\n\n        var dataRangeText = visualMapModel.get('text');\n        this._renderEndsText(thisGroup, dataRangeText, 0);\n        this._renderEndsText(thisGroup, dataRangeText, 1);\n\n        // Do this for background size calculation.\n        this._updateView(true);\n\n        // After updating view, inner shapes is built completely,\n        // and then background can be rendered.\n        this.renderBackground(thisGroup);\n\n        // Real update view\n        this._updateView();\n\n        this._enableHoverLinkToSeries();\n        this._enableHoverLinkFromSeries();\n\n        this.positionGroup(thisGroup);\n    },\n\n    /**\n     * @private\n     */\n    _renderEndsText: function (group, dataRangeText, endsIndex) {\n        if (!dataRangeText) {\n            return;\n        }\n\n        // Compatible with ec2, text[0] map to high value, text[1] map low value.\n        var text = dataRangeText[1 - endsIndex];\n        text = text != null ? text + '' : '';\n\n        var visualMapModel = this.visualMapModel;\n        var textGap = visualMapModel.get('textGap');\n        var itemSize = visualMapModel.itemSize;\n\n        var barGroup = this._shapes.barGroup;\n        var position = this._applyTransform(\n            [\n                itemSize[0] / 2,\n                endsIndex === 0 ? -textGap : itemSize[1] + textGap\n            ],\n            barGroup\n        );\n        var align = this._applyTransform(\n            endsIndex === 0 ? 'bottom' : 'top',\n            barGroup\n        );\n        var orient = this._orient;\n        var textStyleModel = this.visualMapModel.textStyleModel;\n\n        this.group.add(new Text({\n            style: {\n                x: position[0],\n                y: position[1],\n                textVerticalAlign: orient === 'horizontal' ? 'middle' : align,\n                textAlign: orient === 'horizontal' ? align : 'center',\n                text: text,\n                textFont: textStyleModel.getFont(),\n                textFill: textStyleModel.getTextColor()\n            }\n        }));\n    },\n\n    /**\n     * @private\n     */\n    _renderBar: function (targetGroup) {\n        var visualMapModel = this.visualMapModel;\n        var shapes = this._shapes;\n        var itemSize = visualMapModel.itemSize;\n        var orient = this._orient;\n        var useHandle = this._useHandle;\n        var itemAlign = getItemAlign(visualMapModel, this.api, itemSize);\n        var barGroup = shapes.barGroup = this._createBarGroup(itemAlign);\n\n        // Bar\n        barGroup.add(shapes.outOfRange = createPolygon());\n        barGroup.add(shapes.inRange = createPolygon(\n            null,\n            useHandle ? getCursor$1(this._orient) : null,\n            bind(this._dragHandle, this, 'all', false),\n            bind(this._dragHandle, this, 'all', true)\n        ));\n\n        var textRect = visualMapModel.textStyleModel.getTextRect('');\n        var textSize = mathMax$7(textRect.width, textRect.height);\n\n        // Handle\n        if (useHandle) {\n            shapes.handleThumbs = [];\n            shapes.handleLabels = [];\n            shapes.handleLabelPoints = [];\n\n            this._createHandle(barGroup, 0, itemSize, textSize, orient, itemAlign);\n            this._createHandle(barGroup, 1, itemSize, textSize, orient, itemAlign);\n        }\n\n        this._createIndicator(barGroup, itemSize, textSize, orient);\n\n        targetGroup.add(barGroup);\n    },\n\n    /**\n     * @private\n     */\n    _createHandle: function (barGroup, handleIndex, itemSize, textSize, orient) {\n        var onDrift = bind(this._dragHandle, this, handleIndex, false);\n        var onDragEnd = bind(this._dragHandle, this, handleIndex, true);\n        var handleThumb = createPolygon(\n            createHandlePoints(handleIndex, textSize),\n            getCursor$1(this._orient),\n            onDrift,\n            onDragEnd\n        );\n        handleThumb.position[0] = itemSize[0];\n        barGroup.add(handleThumb);\n\n        // Text is always horizontal layout but should not be effected by\n        // transform (orient/inverse). So label is built separately but not\n        // use zrender/graphic/helper/RectText, and is located based on view\n        // group (according to handleLabelPoint) but not barGroup.\n        var textStyleModel = this.visualMapModel.textStyleModel;\n        var handleLabel = new Text({\n            draggable: true,\n            drift: onDrift,\n            onmousemove: function (e) {\n                // Fot mobile devicem, prevent screen slider on the button.\n                stop(e.event);\n            },\n            ondragend: onDragEnd,\n            style: {\n                x: 0, y: 0, text: '',\n                textFont: textStyleModel.getFont(),\n                textFill: textStyleModel.getTextColor()\n            }\n        });\n        this.group.add(handleLabel);\n\n        var handleLabelPoint = [\n            orient === 'horizontal'\n                ? textSize / 2\n                : textSize * 1.5,\n            orient === 'horizontal'\n                ? (handleIndex === 0 ? -(textSize * 1.5) : (textSize * 1.5))\n                : (handleIndex === 0 ? -textSize / 2 : textSize / 2)\n        ];\n\n        var shapes = this._shapes;\n        shapes.handleThumbs[handleIndex] = handleThumb;\n        shapes.handleLabelPoints[handleIndex] = handleLabelPoint;\n        shapes.handleLabels[handleIndex] = handleLabel;\n    },\n\n    /**\n     * @private\n     */\n    _createIndicator: function (barGroup, itemSize, textSize, orient) {\n        var indicator = createPolygon([[0, 0]], 'move');\n        indicator.position[0] = itemSize[0];\n        indicator.attr({invisible: true, silent: true});\n        barGroup.add(indicator);\n\n        var textStyleModel = this.visualMapModel.textStyleModel;\n        var indicatorLabel = new Text({\n            silent: true,\n            invisible: true,\n            style: {\n                x: 0, y: 0, text: '',\n                textFont: textStyleModel.getFont(),\n                textFill: textStyleModel.getTextColor()\n            }\n        });\n        this.group.add(indicatorLabel);\n\n        var indicatorLabelPoint = [\n            orient === 'horizontal' ? textSize / 2 : HOVER_LINK_OUT + 3,\n            0\n        ];\n\n        var shapes = this._shapes;\n        shapes.indicator = indicator;\n        shapes.indicatorLabel = indicatorLabel;\n        shapes.indicatorLabelPoint = indicatorLabelPoint;\n    },\n\n    /**\n     * @private\n     */\n    _dragHandle: function (handleIndex, isEnd, dx, dy) {\n        if (!this._useHandle) {\n            return;\n        }\n\n        this._dragging = !isEnd;\n\n        if (!isEnd) {\n            // Transform dx, dy to bar coordination.\n            var vertex = this._applyTransform([dx, dy], this._shapes.barGroup, true);\n            this._updateInterval(handleIndex, vertex[1]);\n\n            // Considering realtime, update view should be executed\n            // before dispatch action.\n            this._updateView();\n        }\n\n        // dragEnd do not dispatch action when realtime.\n        if (isEnd === !this.visualMapModel.get('realtime')) { // jshint ignore:line\n            this.api.dispatchAction({\n                type: 'selectDataRange',\n                from: this.uid,\n                visualMapId: this.visualMapModel.id,\n                selected: this._dataInterval.slice()\n            });\n        }\n\n        if (isEnd) {\n            !this._hovering && this._clearHoverLinkToSeries();\n        }\n        else if (useHoverLinkOnHandle(this.visualMapModel)) {\n            this._doHoverLinkToSeries(this._handleEnds[handleIndex], false);\n        }\n    },\n\n    /**\n     * @private\n     */\n    _resetInterval: function () {\n        var visualMapModel = this.visualMapModel;\n\n        var dataInterval = this._dataInterval = visualMapModel.getSelected();\n        var dataExtent = visualMapModel.getExtent();\n        var sizeExtent = [0, visualMapModel.itemSize[1]];\n\n        this._handleEnds = [\n            linearMap$4(dataInterval[0], dataExtent, sizeExtent, true),\n            linearMap$4(dataInterval[1], dataExtent, sizeExtent, true)\n        ];\n    },\n\n    /**\n     * @private\n     * @param {(number|string)} handleIndex 0 or 1 or 'all'\n     * @param {number} dx\n     * @param {number} dy\n     */\n    _updateInterval: function (handleIndex, delta) {\n        delta = delta || 0;\n        var visualMapModel = this.visualMapModel;\n        var handleEnds = this._handleEnds;\n        var sizeExtent = [0, visualMapModel.itemSize[1]];\n\n        sliderMove(\n            delta,\n            handleEnds,\n            sizeExtent,\n            handleIndex,\n            // cross is forbiden\n            0\n        );\n\n        var dataExtent = visualMapModel.getExtent();\n        // Update data interval.\n        this._dataInterval = [\n            linearMap$4(handleEnds[0], sizeExtent, dataExtent, true),\n            linearMap$4(handleEnds[1], sizeExtent, dataExtent, true)\n        ];\n    },\n\n    /**\n     * @private\n     */\n    _updateView: function (forSketch) {\n        var visualMapModel = this.visualMapModel;\n        var dataExtent = visualMapModel.getExtent();\n        var shapes = this._shapes;\n\n        var outOfRangeHandleEnds = [0, visualMapModel.itemSize[1]];\n        var inRangeHandleEnds = forSketch ? outOfRangeHandleEnds : this._handleEnds;\n\n        var visualInRange = this._createBarVisual(\n            this._dataInterval, dataExtent, inRangeHandleEnds, 'inRange'\n        );\n        var visualOutOfRange = this._createBarVisual(\n            dataExtent, dataExtent, outOfRangeHandleEnds, 'outOfRange'\n        );\n\n        shapes.inRange\n            .setStyle({\n                fill: visualInRange.barColor,\n                opacity: visualInRange.opacity\n            })\n            .setShape('points', visualInRange.barPoints);\n        shapes.outOfRange\n            .setStyle({\n                fill: visualOutOfRange.barColor,\n                opacity: visualOutOfRange.opacity\n            })\n            .setShape('points', visualOutOfRange.barPoints);\n\n        this._updateHandle(inRangeHandleEnds, visualInRange);\n    },\n\n    /**\n     * @private\n     */\n    _createBarVisual: function (dataInterval, dataExtent, handleEnds, forceState) {\n        var opts = {\n            forceState: forceState,\n            convertOpacityToAlpha: true\n        };\n        var colorStops = this._makeColorGradient(dataInterval, opts);\n\n        var symbolSizes = [\n            this.getControllerVisual(dataInterval[0], 'symbolSize', opts),\n            this.getControllerVisual(dataInterval[1], 'symbolSize', opts)\n        ];\n        var barPoints = this._createBarPoints(handleEnds, symbolSizes);\n\n        return {\n            barColor: new LinearGradient(0, 0, 0, 1, colorStops),\n            barPoints: barPoints,\n            handlesColor: [\n                colorStops[0].color,\n                colorStops[colorStops.length - 1].color\n            ]\n        };\n    },\n\n    /**\n     * @private\n     */\n    _makeColorGradient: function (dataInterval, opts) {\n        // Considering colorHue, which is not linear, so we have to sample\n        // to calculate gradient color stops, but not only caculate head\n        // and tail.\n        var sampleNumber = 100; // Arbitrary value.\n        var colorStops = [];\n        var step = (dataInterval[1] - dataInterval[0]) / sampleNumber;\n\n        colorStops.push({\n            color: this.getControllerVisual(dataInterval[0], 'color', opts),\n            offset: 0\n        });\n\n        for (var i = 1; i < sampleNumber; i++) {\n            var currValue = dataInterval[0] + step * i;\n            if (currValue > dataInterval[1]) {\n                break;\n            }\n            colorStops.push({\n                color: this.getControllerVisual(currValue, 'color', opts),\n                offset: i / sampleNumber\n            });\n        }\n\n        colorStops.push({\n            color: this.getControllerVisual(dataInterval[1], 'color', opts),\n            offset: 1\n        });\n\n        return colorStops;\n    },\n\n    /**\n     * @private\n     */\n    _createBarPoints: function (handleEnds, symbolSizes) {\n        var itemSize = this.visualMapModel.itemSize;\n\n        return [\n            [itemSize[0] - symbolSizes[0], handleEnds[0]],\n            [itemSize[0], handleEnds[0]],\n            [itemSize[0], handleEnds[1]],\n            [itemSize[0] - symbolSizes[1], handleEnds[1]]\n        ];\n    },\n\n    /**\n     * @private\n     */\n    _createBarGroup: function (itemAlign) {\n        var orient = this._orient;\n        var inverse = this.visualMapModel.get('inverse');\n\n        return new Group(\n            (orient === 'horizontal' && !inverse)\n            ? {scale: itemAlign === 'bottom' ? [1, 1] : [-1, 1], rotation: Math.PI / 2}\n            : (orient === 'horizontal' && inverse)\n            ? {scale: itemAlign === 'bottom' ? [-1, 1] : [1, 1], rotation: -Math.PI / 2}\n            : (orient === 'vertical' && !inverse)\n            ? {scale: itemAlign === 'left' ? [1, -1] : [-1, -1]}\n            : {scale: itemAlign === 'left' ? [1, 1] : [-1, 1]}\n        );\n    },\n\n    /**\n     * @private\n     */\n    _updateHandle: function (handleEnds, visualInRange) {\n        if (!this._useHandle) {\n            return;\n        }\n\n        var shapes = this._shapes;\n        var visualMapModel = this.visualMapModel;\n        var handleThumbs = shapes.handleThumbs;\n        var handleLabels = shapes.handleLabels;\n\n        each$29([0, 1], function (handleIndex) {\n            var handleThumb = handleThumbs[handleIndex];\n            handleThumb.setStyle('fill', visualInRange.handlesColor[handleIndex]);\n            handleThumb.position[1] = handleEnds[handleIndex];\n\n            // Update handle label position.\n            var textPoint = applyTransform$1(\n                shapes.handleLabelPoints[handleIndex],\n                getTransform(handleThumb, this.group)\n            );\n            handleLabels[handleIndex].setStyle({\n                x: textPoint[0],\n                y: textPoint[1],\n                text: visualMapModel.formatValueText(this._dataInterval[handleIndex]),\n                textVerticalAlign: 'middle',\n                textAlign: this._applyTransform(\n                    this._orient === 'horizontal'\n                        ? (handleIndex === 0 ? 'bottom' : 'top')\n                        : 'left',\n                    shapes.barGroup\n                )\n            });\n        }, this);\n    },\n\n    /**\n     * @private\n     * @param {number} cursorValue\n     * @param {number} textValue\n     * @param {string} [rangeSymbol]\n     * @param {number} [halfHoverLinkSize]\n     */\n    _showIndicator: function (cursorValue, textValue, rangeSymbol, halfHoverLinkSize) {\n        var visualMapModel = this.visualMapModel;\n        var dataExtent = visualMapModel.getExtent();\n        var itemSize = visualMapModel.itemSize;\n        var sizeExtent = [0, itemSize[1]];\n        var pos = linearMap$4(cursorValue, dataExtent, sizeExtent, true);\n\n        var shapes = this._shapes;\n        var indicator = shapes.indicator;\n        if (!indicator) {\n            return;\n        }\n\n        indicator.position[1] = pos;\n        indicator.attr('invisible', false);\n        indicator.setShape('points', createIndicatorPoints(\n            !!rangeSymbol, halfHoverLinkSize, pos, itemSize[1]\n        ));\n\n        var opts = {convertOpacityToAlpha: true};\n        var color = this.getControllerVisual(cursorValue, 'color', opts);\n        indicator.setStyle('fill', color);\n\n        // Update handle label position.\n        var textPoint = applyTransform$1(\n            shapes.indicatorLabelPoint,\n            getTransform(indicator, this.group)\n        );\n\n        var indicatorLabel = shapes.indicatorLabel;\n        indicatorLabel.attr('invisible', false);\n        var align = this._applyTransform('left', shapes.barGroup);\n        var orient = this._orient;\n        indicatorLabel.setStyle({\n            text: (rangeSymbol ? rangeSymbol : '') + visualMapModel.formatValueText(textValue),\n            textVerticalAlign: orient === 'horizontal' ? align : 'middle',\n            textAlign: orient === 'horizontal' ? 'center' : align,\n            x: textPoint[0],\n            y: textPoint[1]\n        });\n    },\n\n    /**\n     * @private\n     */\n    _enableHoverLinkToSeries: function () {\n        var self = this;\n        this._shapes.barGroup\n\n            .on('mousemove', function (e) {\n                self._hovering = true;\n\n                if (!self._dragging) {\n                    var itemSize = self.visualMapModel.itemSize;\n                    var pos = self._applyTransform(\n                        [e.offsetX, e.offsetY], self._shapes.barGroup, true, true\n                    );\n                    // For hover link show when hover handle, which might be\n                    // below or upper than sizeExtent.\n                    pos[1] = mathMin$7(mathMax$7(0, pos[1]), itemSize[1]);\n                    self._doHoverLinkToSeries(\n                        pos[1],\n                        0 <= pos[0] && pos[0] <= itemSize[0]\n                    );\n                }\n            })\n\n            .on('mouseout', function () {\n                // When mouse is out of handle, hoverLink still need\n                // to be displayed when realtime is set as false.\n                self._hovering = false;\n                !self._dragging && self._clearHoverLinkToSeries();\n            });\n    },\n\n    /**\n     * @private\n     */\n    _enableHoverLinkFromSeries: function () {\n        var zr = this.api.getZr();\n\n        if (this.visualMapModel.option.hoverLink) {\n            zr.on('mouseover', this._hoverLinkFromSeriesMouseOver, this);\n            zr.on('mouseout', this._hideIndicator, this);\n        }\n        else {\n            this._clearHoverLinkFromSeries();\n        }\n    },\n\n    /**\n     * @private\n     */\n    _doHoverLinkToSeries: function (cursorPos, hoverOnBar) {\n        var visualMapModel = this.visualMapModel;\n        var itemSize = visualMapModel.itemSize;\n\n        if (!visualMapModel.option.hoverLink) {\n            return;\n        }\n\n        var sizeExtent = [0, itemSize[1]];\n        var dataExtent = visualMapModel.getExtent();\n\n        // For hover link show when hover handle, which might be below or upper than sizeExtent.\n        cursorPos = mathMin$7(mathMax$7(sizeExtent[0], cursorPos), sizeExtent[1]);\n\n        var halfHoverLinkSize = getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent);\n        var hoverRange = [cursorPos - halfHoverLinkSize, cursorPos + halfHoverLinkSize];\n        var cursorValue = linearMap$4(cursorPos, sizeExtent, dataExtent, true);\n        var valueRange = [\n            linearMap$4(hoverRange[0], sizeExtent, dataExtent, true),\n            linearMap$4(hoverRange[1], sizeExtent, dataExtent, true)\n        ];\n        // Consider data range is out of visualMap range, see test/visualMap-continuous.html,\n        // where china and india has very large population.\n        hoverRange[0] < sizeExtent[0] && (valueRange[0] = -Infinity);\n        hoverRange[1] > sizeExtent[1] && (valueRange[1] = Infinity);\n\n        // Do not show indicator when mouse is over handle,\n        // otherwise labels overlap, especially when dragging.\n        if (hoverOnBar) {\n            if (valueRange[0] === -Infinity) {\n                this._showIndicator(cursorValue, valueRange[1], '< ', halfHoverLinkSize);\n            }\n            else if (valueRange[1] === Infinity) {\n                this._showIndicator(cursorValue, valueRange[0], '> ', halfHoverLinkSize);\n            }\n            else {\n                this._showIndicator(cursorValue, cursorValue, ' ', halfHoverLinkSize);\n            }\n        }\n\n        // When realtime is set as false, handles, which are in barGroup,\n        // also trigger hoverLink, which help user to realize where they\n        // focus on when dragging. (see test/heatmap-large.html)\n        // When realtime is set as true, highlight will not show when hover\n        // handle, because the label on handle, which displays a exact value\n        // but not range, might mislead users.\n        var oldBatch = this._hoverLinkDataIndices;\n        var newBatch = [];\n        if (hoverOnBar || useHoverLinkOnHandle(visualMapModel)) {\n            newBatch = this._hoverLinkDataIndices = visualMapModel.findTargetDataIndices(valueRange);\n        }\n\n        var resultBatches = compressBatches(oldBatch, newBatch);\n\n        this._dispatchHighDown('downplay', convertDataIndex(resultBatches[0]));\n        this._dispatchHighDown('highlight', convertDataIndex(resultBatches[1]));\n    },\n\n    /**\n     * @private\n     */\n    _hoverLinkFromSeriesMouseOver: function (e) {\n        var el = e.target;\n        var visualMapModel = this.visualMapModel;\n\n        if (!el || el.dataIndex == null) {\n            return;\n        }\n\n        var dataModel = this.ecModel.getSeriesByIndex(el.seriesIndex);\n\n        if (!visualMapModel.isTargetSeries(dataModel)) {\n            return;\n        }\n\n        var data = dataModel.getData(el.dataType);\n        var dim = data.getDimension(visualMapModel.getDataDimension(data));\n        var value = data.get(dim, el.dataIndex, true);\n\n        if (!isNaN(value)) {\n            this._showIndicator(value, value);\n        }\n    },\n\n    /**\n     * @private\n     */\n    _hideIndicator: function () {\n        var shapes = this._shapes;\n        shapes.indicator && shapes.indicator.attr('invisible', true);\n        shapes.indicatorLabel && shapes.indicatorLabel.attr('invisible', true);\n    },\n\n    /**\n     * @private\n     */\n    _clearHoverLinkToSeries: function () {\n        this._hideIndicator();\n\n        var indices = this._hoverLinkDataIndices;\n        this._dispatchHighDown('downplay', convertDataIndex(indices));\n\n        indices.length = 0;\n    },\n\n    /**\n     * @private\n     */\n    _clearHoverLinkFromSeries: function () {\n        this._hideIndicator();\n\n        var zr = this.api.getZr();\n        zr.off('mouseover', this._hoverLinkFromSeriesMouseOver);\n        zr.off('mouseout', this._hideIndicator);\n    },\n\n    /**\n     * @private\n     */\n    _applyTransform: function (vertex, element, inverse, global) {\n        var transform = getTransform(element, global ? null : this.group);\n\n        return graphic[\n            isArray(vertex) ? 'applyTransform' : 'transformDirection'\n        ](vertex, transform, inverse);\n    },\n\n    /**\n     * @private\n     */\n    _dispatchHighDown: function (type, batch) {\n        batch && batch.length && this.api.dispatchAction({\n            type: type,\n            batch: batch\n        });\n    },\n\n    /**\n     * @override\n     */\n    dispose: function () {\n        this._clearHoverLinkFromSeries();\n        this._clearHoverLinkToSeries();\n    },\n\n    /**\n     * @override\n     */\n    remove: function () {\n        this._clearHoverLinkFromSeries();\n        this._clearHoverLinkToSeries();\n    }\n\n});\n\nfunction createPolygon(points, cursor, onDrift, onDragEnd) {\n    return new Polygon({\n        shape: {points: points},\n        draggable: !!onDrift,\n        cursor: cursor,\n        drift: onDrift,\n        onmousemove: function (e) {\n            // Fot mobile devicem, prevent screen slider on the button.\n            stop(e.event);\n        },\n        ondragend: onDragEnd\n    });\n}\n\nfunction createHandlePoints(handleIndex, textSize) {\n    return handleIndex === 0\n        ? [[0, 0], [textSize, 0], [textSize, -textSize]]\n        : [[0, 0], [textSize, 0], [textSize, textSize]];\n}\n\nfunction createIndicatorPoints(isRange, halfHoverLinkSize, pos, extentMax) {\n    return isRange\n        ? [ // indicate range\n            [0, -mathMin$7(halfHoverLinkSize, mathMax$7(pos, 0))],\n            [HOVER_LINK_OUT, 0],\n            [0, mathMin$7(halfHoverLinkSize, mathMax$7(extentMax - pos, 0))]\n        ]\n        : [ // indicate single value\n            [0, 0], [5, -5], [5, 5]\n        ];\n}\n\nfunction getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent) {\n    var halfHoverLinkSize = HOVER_LINK_SIZE / 2;\n    var hoverLinkDataSize = visualMapModel.get('hoverLinkDataSize');\n    if (hoverLinkDataSize) {\n        halfHoverLinkSize = linearMap$4(hoverLinkDataSize, dataExtent, sizeExtent, true) / 2;\n    }\n    return halfHoverLinkSize;\n}\n\nfunction useHoverLinkOnHandle(visualMapModel) {\n    var hoverLinkOnHandle = visualMapModel.get('hoverLinkOnHandle');\n    return !!(hoverLinkOnHandle == null ? visualMapModel.get('realtime') : hoverLinkOnHandle);\n}\n\nfunction getCursor$1(orient) {\n    return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nvar actionInfo$2 = {\n    type: 'selectDataRange',\n    event: 'dataRangeSelected',\n    // FIXME use updateView appears wrong\n    update: 'update'\n};\n\nregisterAction(actionInfo$2, function (payload, ecModel) {\n\n    ecModel.eachComponent({mainType: 'visualMap', query: payload}, function (model) {\n        model.setSelected(payload.selected);\n    });\n\n});\n\n/**\n * DataZoom component entry\n */\n\nregisterPreprocessor(preprocessor$2);\n\nvar PiecewiseModel = VisualMapModel.extend({\n\n    type: 'visualMap.piecewise',\n\n    /**\n     * Order Rule:\n     *\n     * option.categories / option.pieces / option.text / option.selected:\n     *     If !option.inverse,\n     *     Order when vertical: ['top', ..., 'bottom'].\n     *     Order when horizontal: ['left', ..., 'right'].\n     *     If option.inverse, the meaning of\n     *     the order should be reversed.\n     *\n     * this._pieceList:\n     *     The order is always [low, ..., high].\n     *\n     * Mapping from location to low-high:\n     *     If !option.inverse\n     *     When vertical, top is high.\n     *     When horizontal, right is high.\n     *     If option.inverse, reverse.\n     */\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n        selected: null,             // Object. If not specified, means selected.\n                                    // When pieces and splitNumber: {'0': true, '5': true}\n                                    // When categories: {'cate1': false, 'cate3': true}\n                                    // When selected === false, means all unselected.\n\n        minOpen: false,             // Whether include values that smaller than `min`.\n        maxOpen: false,             // Whether include values that bigger than `max`.\n\n        align: 'auto',              // 'auto', 'left', 'right'\n        itemWidth: 20,              // When put the controller vertically, it is the length of\n                                    // horizontal side of each item. Otherwise, vertical side.\n        itemHeight: 14,             // When put the controller vertically, it is the length of\n                                    // vertical side of each item. Otherwise, horizontal side.\n        itemSymbol: 'roundRect',\n        pieceList: null,            // Each item is Object, with some of those attrs:\n                                    // {min, max, lt, gt, lte, gte, value,\n                                    // color, colorSaturation, colorAlpha, opacity,\n                                    // symbol, symbolSize}, which customize the range or visual\n                                    // coding of the certain piece. Besides, see \"Order Rule\".\n        categories: null,           // category names, like: ['some1', 'some2', 'some3'].\n                                    // Attr min/max are ignored when categories set. See \"Order Rule\"\n        splitNumber: 5,             // If set to 5, auto split five pieces equally.\n                                    // If set to 0 and component type not set, component type will be\n                                    // determined as \"continuous\". (It is less reasonable but for ec2\n                                    // compatibility, see echarts/component/visualMap/typeDefaulter)\n        selectedMode: 'multiple',   // Can be 'multiple' or 'single'.\n        itemGap: 10,                // The gap between two items, in px.\n        hoverLink: true,            // Enable hover highlight.\n\n        showLabel: null             // By default, when text is used, label will hide (the logic\n                                    // is remained for compatibility reason)\n    },\n\n    /**\n     * @override\n     */\n    optionUpdated: function (newOption, isInit) {\n        PiecewiseModel.superApply(this, 'optionUpdated', arguments);\n\n        /**\n         * The order is always [low, ..., high].\n         * [{text: string, interval: Array.<number>}, ...]\n         * @private\n         * @type {Array.<Object>}\n         */\n        this._pieceList = [];\n\n        this.resetExtent();\n\n        /**\n         * 'pieces', 'categories', 'splitNumber'\n         * @type {string}\n         */\n        var mode = this._mode = this._determineMode();\n\n        resetMethods[this._mode].call(this);\n\n        this._resetSelected(newOption, isInit);\n\n        var categories = this.option.categories;\n\n        this.resetVisual(function (mappingOption, state) {\n            if (mode === 'categories') {\n                mappingOption.mappingMethod = 'category';\n                mappingOption.categories = clone(categories);\n            }\n            else {\n                mappingOption.dataExtent = this.getExtent();\n                mappingOption.mappingMethod = 'piecewise';\n                mappingOption.pieceList = map(this._pieceList, function (piece) {\n                    var piece = clone(piece);\n                    if (state !== 'inRange') {\n                        // FIXME\n                        // outOfRange do not support special visual in pieces.\n                        piece.visual = null;\n                    }\n                    return piece;\n                });\n            }\n        });\n    },\n\n    /**\n     * @protected\n     * @override\n     */\n    completeVisualOption: function () {\n        // Consider this case:\n        // visualMap: {\n        //      pieces: [{symbol: 'circle', lt: 0}, {symbol: 'rect', gte: 0}]\n        // }\n        // where no inRange/outOfRange set but only pieces. So we should make\n        // default inRange/outOfRange for this case, otherwise visuals that only\n        // appear in `pieces` will not be taken into account in visual encoding.\n\n        var option = this.option;\n        var visualTypesInPieces = {};\n        var visualTypes = VisualMapping.listVisualTypes();\n        var isCategory = this.isCategory();\n\n        each$1(option.pieces, function (piece) {\n            each$1(visualTypes, function (visualType) {\n                if (piece.hasOwnProperty(visualType)) {\n                    visualTypesInPieces[visualType] = 1;\n                }\n            });\n        });\n\n        each$1(visualTypesInPieces, function (v, visualType) {\n            var exists = 0;\n            each$1(this.stateList, function (state) {\n                exists |= has(option, state, visualType)\n                    || has(option.target, state, visualType);\n            }, this);\n\n            !exists && each$1(this.stateList, function (state) {\n                (option[state] || (option[state] = {}))[visualType] = visualDefault.get(\n                    visualType, state === 'inRange' ? 'active' : 'inactive', isCategory\n                );\n            });\n        }, this);\n\n        function has(obj, state, visualType) {\n            return obj && obj[state] && (\n                isObject(obj[state])\n                    ? obj[state].hasOwnProperty(visualType)\n                    : obj[state] === visualType // e.g., inRange: 'symbol'\n            );\n        }\n\n        VisualMapModel.prototype.completeVisualOption.apply(this, arguments);\n    },\n\n    _resetSelected: function (newOption, isInit) {\n        var thisOption = this.option;\n        var pieceList = this._pieceList;\n\n        // Selected do not merge but all override.\n        var selected = (isInit ? thisOption : newOption).selected || {};\n        thisOption.selected = selected;\n\n        // Consider 'not specified' means true.\n        each$1(pieceList, function (piece, index) {\n            var key = this.getSelectedMapKey(piece);\n            if (!selected.hasOwnProperty(key)) {\n                selected[key] = true;\n            }\n        }, this);\n\n        if (thisOption.selectedMode === 'single') {\n            // Ensure there is only one selected.\n            var hasSel = false;\n\n            each$1(pieceList, function (piece, index) {\n                var key = this.getSelectedMapKey(piece);\n                if (selected[key]) {\n                    hasSel\n                        ? (selected[key] = false)\n                        : (hasSel = true);\n                }\n            }, this);\n        }\n        // thisOption.selectedMode === 'multiple', default: all selected.\n    },\n\n    /**\n     * @public\n     */\n    getSelectedMapKey: function (piece) {\n        return this._mode === 'categories'\n            ? piece.value + '' : piece.index + '';\n    },\n\n    /**\n     * @public\n     */\n    getPieceList: function () {\n        return this._pieceList;\n    },\n\n    /**\n     * @private\n     * @return {string}\n     */\n    _determineMode: function () {\n        var option = this.option;\n\n        return option.pieces && option.pieces.length > 0\n            ? 'pieces'\n            : this.option.categories\n            ? 'categories'\n            : 'splitNumber';\n    },\n\n    /**\n     * @public\n     * @override\n     */\n    setSelected: function (selected) {\n        this.option.selected = clone(selected);\n    },\n\n    /**\n     * @public\n     * @override\n     */\n    getValueState: function (value) {\n        var index = VisualMapping.findPieceIndex(value, this._pieceList);\n\n        return index != null\n            ? (this.option.selected[this.getSelectedMapKey(this._pieceList[index])]\n                ? 'inRange' : 'outOfRange'\n            )\n            : 'outOfRange';\n    },\n\n    /**\n     * @public\n     * @params {number} pieceIndex piece index in visualMapModel.getPieceList()\n     * @return {Array.<Object>} [{seriesId, dataIndices: <Array.<number>>}, ...]\n     */\n    findTargetDataIndices: function (pieceIndex) {\n        var result = [];\n\n        this.eachTargetSeries(function (seriesModel) {\n            var dataIndices = [];\n            var data = seriesModel.getData();\n\n            data.each(this.getDataDimension(data), function (value, dataIndex) {\n                // Should always base on model pieceList, because it is order sensitive.\n                var pIdx = VisualMapping.findPieceIndex(value, this._pieceList);\n                pIdx === pieceIndex && dataIndices.push(dataIndex);\n            }, true, this);\n\n            result.push({seriesId: seriesModel.id, dataIndex: dataIndices});\n        }, this);\n\n        return result;\n    },\n\n    /**\n     * @private\n     * @param {Object} piece piece.value or piece.interval is required.\n     * @return {number} Can be Infinity or -Infinity\n     */\n    getRepresentValue: function (piece) {\n        var representValue;\n        if (this.isCategory()) {\n            representValue = piece.value;\n        }\n        else {\n            if (piece.value != null) {\n                representValue = piece.value;\n            }\n            else {\n                var pieceInterval = piece.interval || [];\n                representValue = (pieceInterval[0] === -Infinity && pieceInterval[1] === Infinity)\n                    ? 0\n                    : (pieceInterval[0] + pieceInterval[1]) / 2;\n            }\n        }\n        return representValue;\n    },\n\n    getVisualMeta: function (getColorVisual) {\n        // Do not support category. (category axis is ordinal, numerical)\n        if (this.isCategory()) {\n            return;\n        }\n\n        var stops = [];\n        var outerColors = [];\n        var visualMapModel = this;\n\n        function setStop(interval, valueState) {\n            var representValue = visualMapModel.getRepresentValue({interval: interval});\n            if (!valueState) {\n                valueState = visualMapModel.getValueState(representValue);\n            }\n            var color = getColorVisual(representValue, valueState);\n            if (interval[0] === -Infinity) {\n                outerColors[0] = color;\n            }\n            else if (interval[1] === Infinity) {\n                outerColors[1] = color;\n            }\n            else {\n                stops.push(\n                    {value: interval[0], color: color},\n                    {value: interval[1], color: color}\n                );\n            }\n        }\n\n        // Suplement\n        var pieceList = this._pieceList.slice();\n        if (!pieceList.length) {\n            pieceList.push({interval: [-Infinity, Infinity]});\n        }\n        else {\n            var edge = pieceList[0].interval[0];\n            edge !== -Infinity && pieceList.unshift({interval: [-Infinity, edge]});\n            edge = pieceList[pieceList.length - 1].interval[1];\n            edge !== Infinity && pieceList.push({interval: [edge, Infinity]});\n        }\n\n        var curr = -Infinity;\n        each$1(pieceList, function (piece) {\n            var interval = piece.interval;\n            if (interval) {\n                // Fulfill gap.\n                interval[0] > curr && setStop([curr, interval[0]], 'outOfRange');\n                setStop(interval.slice());\n                curr = interval[1];\n            }\n        }, this);\n\n        return {stops: stops, outerColors: outerColors};\n    }\n\n});\n\n/**\n * Key is this._mode\n * @type {Object}\n * @this {module:echarts/component/viusalMap/PiecewiseMode}\n */\nvar resetMethods = {\n\n    splitNumber: function () {\n        var thisOption = this.option;\n        var pieceList = this._pieceList;\n        var precision = Math.min(thisOption.precision, 20);\n        var dataExtent = this.getExtent();\n        var splitNumber = thisOption.splitNumber;\n        splitNumber = Math.max(parseInt(splitNumber, 10), 1);\n        thisOption.splitNumber = splitNumber;\n\n        var splitStep = (dataExtent[1] - dataExtent[0]) / splitNumber;\n        // Precision auto-adaption\n        while (+splitStep.toFixed(precision) !== splitStep && precision < 5) {\n            precision++;\n        }\n        thisOption.precision = precision;\n        splitStep = +splitStep.toFixed(precision);\n\n        var index = 0;\n\n        if (thisOption.minOpen) {\n            pieceList.push({\n                index: index++,\n                interval: [-Infinity, dataExtent[0]],\n                close: [0, 0]\n            });\n        }\n\n        for (\n            var curr = dataExtent[0], len = index + splitNumber;\n            index < len;\n            curr += splitStep\n        ) {\n            var max = index === splitNumber - 1 ? dataExtent[1] : (curr + splitStep);\n\n            pieceList.push({\n                index: index++,\n                interval: [curr, max],\n                close: [1, 1]\n            });\n        }\n\n        if (thisOption.maxOpen) {\n            pieceList.push({\n                index: index++,\n                interval: [dataExtent[1], Infinity],\n                close: [0, 0]\n            });\n        }\n\n        reformIntervals(pieceList);\n\n        each$1(pieceList, function (piece) {\n            piece.text = this.formatValueText(piece.interval);\n        }, this);\n    },\n\n    categories: function () {\n        var thisOption = this.option;\n        each$1(thisOption.categories, function (cate) {\n            // FIXME categorypieceListvisualMappingpieceList\n            // \n            this._pieceList.push({\n                text: this.formatValueText(cate, true),\n                value: cate\n            });\n        }, this);\n\n        // See \"Order Rule\".\n        normalizeReverse(thisOption, this._pieceList);\n    },\n\n    pieces: function () {\n        var thisOption = this.option;\n        var pieceList = this._pieceList;\n\n        each$1(thisOption.pieces, function (pieceListItem, index) {\n\n            if (!isObject(pieceListItem)) {\n                pieceListItem = {value: pieceListItem};\n            }\n\n            var item = {text: '', index: index};\n\n            if (pieceListItem.label != null) {\n                item.text = pieceListItem.label;\n            }\n\n            if (pieceListItem.hasOwnProperty('value')) {\n                var value = item.value = pieceListItem.value;\n                item.interval = [value, value];\n                item.close = [1, 1];\n            }\n            else {\n                // `min` `max` is legacy option.\n                // `lt` `gt` `lte` `gte` is recommanded.\n                var interval = item.interval = [];\n                var close = item.close = [0, 0];\n\n                var closeList = [1, 0, 1];\n                var infinityList = [-Infinity, Infinity];\n\n                var useMinMax = [];\n                for (var lg = 0; lg < 2; lg++) {\n                    var names = [['gte', 'gt', 'min'], ['lte', 'lt', 'max']][lg];\n                    for (var i = 0; i < 3 && interval[lg] == null; i++) {\n                        interval[lg] = pieceListItem[names[i]];\n                        close[lg] = closeList[i];\n                        useMinMax[lg] = i === 2;\n                    }\n                    interval[lg] == null && (interval[lg] = infinityList[lg]);\n                }\n                useMinMax[0] && interval[1] === Infinity && (close[0] = 0);\n                useMinMax[1] && interval[0] === -Infinity && (close[1] = 0);\n\n                if (__DEV__) {\n                    if (interval[0] > interval[1]) {\n                        console.warn(\n                            'Piece ' + index + 'is illegal: ' + interval\n                            + ' lower bound should not greater then uppper bound.'\n                        );\n                    }\n                }\n\n                if (interval[0] === interval[1] && close[0] && close[1]) {\n                    // Consider: [{min: 5, max: 5, visual: {...}}, {min: 0, max: 5}],\n                    // we use value to lift the priority when min === max\n                    item.value = interval[0];\n                }\n            }\n\n            item.visual = VisualMapping.retrieveVisuals(pieceListItem);\n\n            pieceList.push(item);\n\n        }, this);\n\n        // See \"Order Rule\".\n        normalizeReverse(thisOption, pieceList);\n        // Only pieces\n        reformIntervals(pieceList);\n\n        each$1(pieceList, function (piece) {\n            var close = piece.close;\n            var edgeSymbols = [['<', ''][close[1]], ['>', ''][close[0]]];\n            piece.text = piece.text || this.formatValueText(\n                piece.value != null ? piece.value : piece.interval,\n                false,\n                edgeSymbols\n            );\n        }, this);\n    }\n};\n\nfunction normalizeReverse(thisOption, pieceList) {\n    var inverse = thisOption.inverse;\n    if (thisOption.orient === 'vertical' ? !inverse : inverse) {\n            pieceList.reverse();\n    }\n}\n\nvar PiecewiseVisualMapView = VisualMapView.extend({\n\n    type: 'visualMap.piecewise',\n\n    /**\n     * @protected\n     * @override\n     */\n    doRender: function () {\n        var thisGroup = this.group;\n\n        thisGroup.removeAll();\n\n        var visualMapModel = this.visualMapModel;\n        var textGap = visualMapModel.get('textGap');\n        var textStyleModel = visualMapModel.textStyleModel;\n        var textFont = textStyleModel.getFont();\n        var textFill = textStyleModel.getTextColor();\n        var itemAlign = this._getItemAlign();\n        var itemSize = visualMapModel.itemSize;\n        var viewData = this._getViewData();\n        var endsText = viewData.endsText;\n        var showLabel = retrieve(visualMapModel.get('showLabel', true), !endsText);\n\n        endsText && this._renderEndsText(\n            thisGroup, endsText[0], itemSize, showLabel, itemAlign\n        );\n\n        each$1(viewData.viewPieceList, renderItem, this);\n\n        endsText && this._renderEndsText(\n            thisGroup, endsText[1], itemSize, showLabel, itemAlign\n        );\n\n        box(\n            visualMapModel.get('orient'), thisGroup, visualMapModel.get('itemGap')\n        );\n\n        this.renderBackground(thisGroup);\n\n        this.positionGroup(thisGroup);\n\n        function renderItem(item) {\n            var piece = item.piece;\n\n            var itemGroup = new Group();\n            itemGroup.onclick = bind(this._onItemClick, this, piece);\n\n            this._enableHoverLink(itemGroup, item.indexInModelPieceList);\n\n            var representValue = visualMapModel.getRepresentValue(piece);\n\n            this._createItemSymbol(\n                itemGroup, representValue, [0, 0, itemSize[0], itemSize[1]]\n            );\n\n            if (showLabel) {\n                var visualState = this.visualMapModel.getValueState(representValue);\n\n                itemGroup.add(new Text({\n                    style: {\n                        x: itemAlign === 'right' ? -textGap : itemSize[0] + textGap,\n                        y: itemSize[1] / 2,\n                        text: piece.text,\n                        textVerticalAlign: 'middle',\n                        textAlign: itemAlign,\n                        textFont: textFont,\n                        textFill: textFill,\n                        opacity: visualState === 'outOfRange' ? 0.5 : 1\n                    }\n                }));\n            }\n\n            thisGroup.add(itemGroup);\n        }\n    },\n\n    /**\n     * @private\n     */\n    _enableHoverLink: function (itemGroup, pieceIndex) {\n        itemGroup\n            .on('mouseover', bind(onHoverLink, this, 'highlight'))\n            .on('mouseout', bind(onHoverLink, this, 'downplay'));\n\n        function onHoverLink(method) {\n            var visualMapModel = this.visualMapModel;\n\n            visualMapModel.option.hoverLink && this.api.dispatchAction({\n                type: method,\n                batch: convertDataIndex(\n                    visualMapModel.findTargetDataIndices(pieceIndex)\n                )\n            });\n        }\n    },\n\n    /**\n     * @private\n     */\n    _getItemAlign: function () {\n        var visualMapModel = this.visualMapModel;\n        var modelOption = visualMapModel.option;\n\n        if (modelOption.orient === 'vertical') {\n            return getItemAlign(\n                visualMapModel, this.api, visualMapModel.itemSize\n            );\n        }\n        else { // horizontal, most case left unless specifying right.\n            var align = modelOption.align;\n            if (!align || align === 'auto') {\n                align = 'left';\n            }\n            return align;\n        }\n    },\n\n    /**\n     * @private\n     */\n    _renderEndsText: function (group, text, itemSize, showLabel, itemAlign) {\n        if (!text) {\n            return;\n        }\n\n        var itemGroup = new Group();\n        var textStyleModel = this.visualMapModel.textStyleModel;\n\n        itemGroup.add(new Text({\n            style: {\n                x: showLabel ? (itemAlign === 'right' ? itemSize[0] : 0) : itemSize[0] / 2,\n                y: itemSize[1] / 2,\n                textVerticalAlign: 'middle',\n                textAlign: showLabel ? itemAlign : 'center',\n                text: text,\n                textFont: textStyleModel.getFont(),\n                textFill: textStyleModel.getTextColor()\n            }\n        }));\n\n        group.add(itemGroup);\n    },\n\n    /**\n     * @private\n     * @return {Object} {peiceList, endsText} The order is the same as screen pixel order.\n     */\n    _getViewData: function () {\n        var visualMapModel = this.visualMapModel;\n\n        var viewPieceList = map(visualMapModel.getPieceList(), function (piece, index) {\n            return {piece: piece, indexInModelPieceList: index};\n        });\n        var endsText = visualMapModel.get('text');\n\n        // Consider orient and inverse.\n        var orient = visualMapModel.get('orient');\n        var inverse = visualMapModel.get('inverse');\n\n        // Order of model pieceList is always [low, ..., high]\n        if (orient === 'horizontal' ? inverse : !inverse) {\n            viewPieceList.reverse();\n        }\n        // Origin order of endsText is [high, low]\n        else if (endsText) {\n            endsText = endsText.slice().reverse();\n        }\n\n        return {viewPieceList: viewPieceList, endsText: endsText};\n    },\n\n    /**\n     * @private\n     */\n    _createItemSymbol: function (group, representValue, shapeParam) {\n        group.add(createSymbol(\n            this.getControllerVisual(representValue, 'symbol'),\n            shapeParam[0], shapeParam[1], shapeParam[2], shapeParam[3],\n            this.getControllerVisual(representValue, 'color')\n        ));\n    },\n\n    /**\n     * @private\n     */\n    _onItemClick: function (piece) {\n        var visualMapModel = this.visualMapModel;\n        var option = visualMapModel.option;\n        var selected = clone(option.selected);\n        var newKey = visualMapModel.getSelectedMapKey(piece);\n\n        if (option.selectedMode === 'single') {\n            selected[newKey] = true;\n            each$1(selected, function (o, key) {\n                selected[key] = key === newKey;\n            });\n        }\n        else {\n            selected[newKey] = !selected[newKey];\n        }\n\n        this.api.dispatchAction({\n            type: 'selectDataRange',\n            from: this.uid,\n            visualMapId: this.visualMapModel.id,\n            selected: selected\n        });\n    }\n});\n\n/**\n * DataZoom component entry\n */\n\nregisterPreprocessor(preprocessor$2);\n\n/**\n * visualMap component entry\n */\n\nvar addCommas$1 = addCommas;\nvar encodeHTML$1 = encodeHTML;\n\nfunction fillLabel(opt) {\n    defaultEmphasis(opt.label, ['show']);\n}\nvar MarkerModel = extendComponentModel({\n\n    type: 'marker',\n\n    dependencies: ['series', 'grid', 'polar', 'geo'],\n\n    /**\n     * @overrite\n     */\n    init: function (option, parentModel, ecModel, extraOpt) {\n\n        if (__DEV__) {\n            if (this.type === 'marker') {\n                throw new Error('Marker component is abstract component. Use markLine, markPoint, markArea instead.');\n            }\n        }\n        this.mergeDefaultAndTheme(option, ecModel);\n        this.mergeOption(option, ecModel, extraOpt.createdBySelf, true);\n    },\n\n    /**\n     * @return {boolean}\n     */\n    isAnimationEnabled: function () {\n        if (env$1.node) {\n            return false;\n        }\n\n        var hostSeries = this.__hostSeries;\n        return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n    },\n\n    mergeOption: function (newOpt, ecModel, createdBySelf, isInit) {\n        var MarkerModel = this.constructor;\n        var modelPropName = this.mainType + 'Model';\n        if (!createdBySelf) {\n            ecModel.eachSeries(function (seriesModel) {\n\n                var markerOpt = seriesModel.get(this.mainType);\n\n                var markerModel = seriesModel[modelPropName];\n                if (!markerOpt || !markerOpt.data) {\n                    seriesModel[modelPropName] = null;\n                    return;\n                }\n                if (!markerModel) {\n                    if (isInit) {\n                        // Default label emphasis `position` and `show`\n                        fillLabel(markerOpt);\n                    }\n                    each$1(markerOpt.data, function (item) {\n                        // FIXME Overwrite fillLabel method ?\n                        if (item instanceof Array) {\n                            fillLabel(item[0]);\n                            fillLabel(item[1]);\n                        }\n                        else {\n                            fillLabel(item);\n                        }\n                    });\n\n                    markerModel = new MarkerModel(\n                        markerOpt, this, ecModel\n                    );\n\n                    extend(markerModel, {\n                        mainType: this.mainType,\n                        // Use the same series index and name\n                        seriesIndex: seriesModel.seriesIndex,\n                        name: seriesModel.name,\n                        createdBySelf: true\n                    });\n\n                    markerModel.__hostSeries = seriesModel;\n                }\n                else {\n                    markerModel.mergeOption(markerOpt, ecModel, true);\n                }\n                seriesModel[modelPropName] = markerModel;\n            }, this);\n        }\n    },\n\n    formatTooltip: function (dataIndex) {\n        var data = this.getData();\n        var value = this.getRawValue(dataIndex);\n        var formattedValue = isArray(value)\n            ? map(value, addCommas$1).join(', ') : addCommas$1(value);\n        var name = data.getName(dataIndex);\n        var html = encodeHTML$1(this.name);\n        if (value != null || name) {\n            html += '<br />';\n        }\n        if (name) {\n            html += encodeHTML$1(name);\n            if (value != null) {\n                html += ' : ';\n            }\n        }\n        if (value != null) {\n            html += encodeHTML$1(formattedValue);\n        }\n        return html;\n    },\n\n    getData: function () {\n        return this._data;\n    },\n\n    setData: function (data) {\n        this._data = data;\n    }\n});\n\nmixin(MarkerModel, dataFormatMixin);\n\nMarkerModel.extend({\n\n    type: 'markPoint',\n\n    defaultOption: {\n        zlevel: 0,\n        z: 5,\n        symbol: 'pin',\n        symbolSize: 50,\n        //symbolRotate: 0,\n        //symbolOffset: [0, 0]\n        tooltip: {\n            trigger: 'item'\n        },\n        label: {\n            normal: {\n                show: true,\n                position: 'inside'\n            },\n            emphasis: {\n                show: true\n            }\n        },\n        itemStyle: {\n            normal: {\n                borderWidth: 2\n            }\n        }\n    }\n});\n\nvar indexOf$3 = indexOf;\n\nfunction hasXOrY(item) {\n    return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n}\n\nfunction hasXAndY(item) {\n    return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n}\n\nfunction getPrecision$1(data, valueAxisDim, dataIndex) {\n    var precision = -1;\n    do {\n        precision = Math.max(\n            getPrecision(data.get(\n                valueAxisDim, dataIndex\n            )),\n            precision\n        );\n        data = data.stackedOn;\n    } while (data);\n\n    return precision;\n}\n\nfunction markerTypeCalculatorWithExtent(\n    mlType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex\n) {\n    var coordArr = [];\n    var value = numCalculate(data, targetDataDim, mlType);\n\n    var dataIndex = data.indicesOfNearest(targetDataDim, value, true)[0];\n    coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex, true);\n    coordArr[targetCoordIndex] = data.get(targetDataDim, dataIndex, true);\n\n    var precision = getPrecision$1(data, targetDataDim, dataIndex);\n    precision = Math.min(precision, 20);\n    if (precision >= 0) {\n        coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n    }\n\n    return coordArr;\n}\n\nvar curry$7 = curry;\n// TODO Specified percent\nvar markerTypeCalculator = {\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    min: curry$7(markerTypeCalculatorWithExtent, 'min'),\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    max: curry$7(markerTypeCalculatorWithExtent, 'max'),\n\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    average: curry$7(markerTypeCalculatorWithExtent, 'average')\n};\n\n/**\n * Transform markPoint data item to format used in List by do the following\n * 1. Calculate statistic like `max`, `min`, `average`\n * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n * @param  {module:echarts/model/Series} seriesModel\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {Object}\n */\nfunction dataTransform(seriesModel, item) {\n    var data = seriesModel.getData();\n    var coordSys = seriesModel.coordinateSystem;\n\n    // 1. If not specify the position with pixel directly\n    // 2. If `coord` is not a data array. Which uses `xAxis`,\n    // `yAxis` to specify the coord on each dimension\n\n    // parseFloat first because item.x and item.y can be percent string like '20%'\n    if (item && !hasXAndY(item) && !isArray(item.coord) && coordSys) {\n        var dims = coordSys.dimensions;\n        var axisInfo = getAxisInfo$1(item, data, coordSys, seriesModel);\n\n        // Clone the option\n        // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n        item = clone(item);\n\n        if (item.type\n            && markerTypeCalculator[item.type]\n            && axisInfo.baseAxis && axisInfo.valueAxis\n        ) {\n            var otherCoordIndex = indexOf$3(dims, axisInfo.baseAxis.dim);\n            var targetCoordIndex = indexOf$3(dims, axisInfo.valueAxis.dim);\n\n            item.coord = markerTypeCalculator[item.type](\n                data, axisInfo.baseDataDim, axisInfo.valueDataDim,\n                otherCoordIndex, targetCoordIndex\n            );\n            // Force to use the value of calculated value.\n            item.value = item.coord[targetCoordIndex];\n        }\n        else {\n            // FIXME Only has one of xAxis and yAxis.\n            var coord = [\n                item.xAxis != null ? item.xAxis : item.radiusAxis,\n                item.yAxis != null ? item.yAxis : item.angleAxis\n            ];\n            // Each coord support max, min, average\n            for (var i = 0; i < 2; i++) {\n                if (markerTypeCalculator[coord[i]]) {\n                    var dataDim = seriesModel.coordDimToDataDim(dims[i])[0];\n                    coord[i] = numCalculate(data, dataDim, coord[i]);\n                }\n            }\n            item.coord = coord;\n        }\n    }\n    return item;\n}\n\nfunction getAxisInfo$1(item, data, coordSys, seriesModel) {\n    var ret = {};\n\n    if (item.valueIndex != null || item.valueDim != null) {\n        ret.valueDataDim = item.valueIndex != null\n            ? data.getDimension(item.valueIndex) : item.valueDim;\n        ret.valueAxis = coordSys.getAxis(seriesModel.dataDimToCoordDim(ret.valueDataDim));\n        ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n        ret.baseDataDim = seriesModel.coordDimToDataDim(ret.baseAxis.dim)[0];\n    }\n    else {\n        ret.baseAxis = seriesModel.getBaseAxis();\n        ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n        ret.baseDataDim = seriesModel.coordDimToDataDim(ret.baseAxis.dim)[0];\n        ret.valueDataDim = seriesModel.coordDimToDataDim(ret.valueAxis.dim)[0];\n    }\n\n    return ret;\n}\n\n/**\n * Filter data which is out of coordinateSystem range\n * [dataFilter description]\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {boolean}\n */\nfunction dataFilter$1(coordSys, item) {\n    // Alwalys return true if there is no coordSys\n    return (coordSys && coordSys.containData && item.coord && !hasXOrY(item))\n        ? coordSys.containData(item.coord) : true;\n}\n\nfunction dimValueGetter(item, dimName, dataIndex, dimIndex) {\n    // x, y, radius, angle\n    if (dimIndex < 2) {\n        return item.coord && item.coord[dimIndex];\n    }\n    return item.value;\n}\n\nfunction numCalculate(data, valueDataDim, type) {\n    if (type === 'average') {\n        var sum = 0;\n        var count = 0;\n        data.each(valueDataDim, function (val, idx) {\n            if (!isNaN(val)) {\n                sum += val;\n                count++;\n            }\n        }, true);\n        return sum / count;\n    }\n    else {\n        return data.getDataExtent(valueDataDim, true)[type === 'max' ? 1 : 0];\n    }\n}\n\nvar MarkerView = extendComponentView({\n\n    type: 'marker',\n\n    init: function () {\n        /**\n         * Markline grouped by series\n         * @private\n         * @type {module:zrender/core/util.HashMap}\n         */\n        this.markerGroupMap = createHashMap();\n    },\n\n    render: function (markerModel, ecModel, api) {\n        var markerGroupMap = this.markerGroupMap;\n        markerGroupMap.each(function (item) {\n            item.__keep = false;\n        });\n\n        var markerModelKey = this.type + 'Model';\n        ecModel.eachSeries(function (seriesModel) {\n            var markerModel = seriesModel[markerModelKey];\n            markerModel && this.renderSeries(seriesModel, markerModel, ecModel, api);\n        }, this);\n\n        markerGroupMap.each(function (item) {\n            !item.__keep && this.group.remove(item.group);\n        }, this);\n    },\n\n    renderSeries: function () {}\n});\n\nfunction updateMarkerLayout(mpData, seriesModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    mpData.each(function (idx) {\n        var itemModel = mpData.getItemModel(idx);\n        var point;\n        var xPx = parsePercent$1(itemModel.get('x'), api.getWidth());\n        var yPx = parsePercent$1(itemModel.get('y'), api.getHeight());\n        if (!isNaN(xPx) && !isNaN(yPx)) {\n            point = [xPx, yPx];\n        }\n        // Chart like bar may have there own marker positioning logic\n        else if (seriesModel.getMarkerPosition) {\n            // Use the getMarkerPoisition\n            point = seriesModel.getMarkerPosition(\n                mpData.getValues(mpData.dimensions, idx)\n            );\n        }\n        else if (coordSys) {\n            var x = mpData.get(coordSys.dimensions[0], idx);\n            var y = mpData.get(coordSys.dimensions[1], idx);\n            point = coordSys.dataToPoint([x, y]);\n\n        }\n\n        // Use x, y if has any\n        if (!isNaN(xPx)) {\n            point[0] = xPx;\n        }\n        if (!isNaN(yPx)) {\n            point[1] = yPx;\n        }\n\n        mpData.setItemLayout(idx, point);\n    });\n}\n\nMarkerView.extend({\n\n    type: 'markPoint',\n\n    updateLayout: function (markPointModel, ecModel, api) {\n        ecModel.eachSeries(function (seriesModel) {\n            var mpModel = seriesModel.markPointModel;\n            if (mpModel) {\n                updateMarkerLayout(mpModel.getData(), seriesModel, api);\n                this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n            }\n        }, this);\n    },\n\n    renderSeries: function (seriesModel, mpModel, ecModel, api) {\n        var coordSys = seriesModel.coordinateSystem;\n        var seriesId = seriesModel.id;\n        var seriesData = seriesModel.getData();\n\n        var symbolDrawMap = this.markerGroupMap;\n        var symbolDraw = symbolDrawMap.get(seriesId)\n            || symbolDrawMap.set(seriesId, new SymbolDraw());\n\n        var mpData = createList$1(coordSys, seriesModel, mpModel);\n\n        // FIXME\n        mpModel.setData(mpData);\n\n        updateMarkerLayout(mpModel.getData(), seriesModel, api);\n\n        mpData.each(function (idx) {\n            var itemModel = mpData.getItemModel(idx);\n            var symbolSize = itemModel.getShallow('symbolSize');\n            if (typeof symbolSize === 'function') {\n                // FIXME  ECharts 2.x2.x \n                symbolSize = symbolSize(\n                    mpModel.getRawValue(idx), mpModel.getDataParams(idx)\n                );\n            }\n            mpData.setItemVisual(idx, {\n                symbolSize: symbolSize,\n                color: itemModel.get('itemStyle.normal.color')\n                    || seriesData.getVisual('color'),\n                symbol: itemModel.getShallow('symbol')\n            });\n        });\n\n        // TODO Text are wrong\n        symbolDraw.updateData(mpData);\n        this.group.add(symbolDraw.group);\n\n        // Set host model for tooltip\n        // FIXME\n        mpData.eachItemGraphicEl(function (el) {\n            el.traverse(function (child) {\n                child.dataModel = mpModel;\n            });\n        });\n\n        symbolDraw.__keep = true;\n\n        symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n    }\n});\n\n/**\n * @inner\n * @param {module:echarts/coord/*} [coordSys]\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\nfunction createList$1(coordSys, seriesModel, mpModel) {\n    var coordDimsInfos;\n    if (coordSys) {\n        coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n            var info = seriesModel.getData().getDimensionInfo(\n                seriesModel.coordDimToDataDim(coordDim)[0]\n            ) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n            info.name = coordDim;\n            return info;\n        });\n    }\n    else {\n        coordDimsInfos =[{\n            name: 'value',\n            type: 'float'\n        }];\n    }\n\n    var mpData = new List(coordDimsInfos, mpModel);\n    var dataOpt = map(mpModel.get('data'), curry(\n            dataTransform, seriesModel\n        ));\n    if (coordSys) {\n        dataOpt = filter(\n            dataOpt, curry(dataFilter$1, coordSys)\n        );\n    }\n\n    mpData.initData(dataOpt, null,\n        coordSys ? dimValueGetter : function (item) {\n            return item.value;\n        }\n    );\n\n    return mpData;\n}\n\n// HINT Markpoint can't be used too much\nregisterPreprocessor(function (opt) {\n    // Make sure markPoint component is enabled\n    opt.markPoint = opt.markPoint || {};\n});\n\nMarkerModel.extend({\n\n    type: 'markLine',\n\n    defaultOption: {\n        zlevel: 0,\n        z: 5,\n\n        symbol: ['circle', 'arrow'],\n        symbolSize: [8, 16],\n\n        //symbolRotate: 0,\n\n        precision: 2,\n        tooltip: {\n            trigger: 'item'\n        },\n        label: {\n            normal: {\n                show: true,\n                position: 'end'\n            },\n            emphasis: {\n                show: true\n            }\n        },\n        lineStyle: {\n            normal: {\n                type: 'dashed'\n            },\n            emphasis: {\n                width: 3\n            }\n        },\n        animationEasing: 'linear'\n    }\n});\n\nvar markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n    var data = seriesModel.getData();\n    // Special type markLine like 'min', 'max', 'average'\n    var mlType = item.type;\n\n    if (!isArray(item)\n        && (\n            mlType === 'min' || mlType === 'max' || mlType === 'average'\n            // In case\n            // data: [{\n            //   yAxis: 10\n            // }]\n            || (item.xAxis != null || item.yAxis != null)\n        )\n    ) {\n        var valueAxis;\n        var valueDataDim;\n        var value;\n\n        if (item.yAxis != null || item.xAxis != null) {\n            valueDataDim = item.yAxis != null ? 'y' : 'x';\n            valueAxis = coordSys.getAxis(valueDataDim);\n\n            value = retrieve(item.yAxis, item.xAxis);\n        }\n        else {\n            var axisInfo = getAxisInfo$1(item, data, coordSys, seriesModel);\n            valueDataDim = axisInfo.valueDataDim;\n            valueAxis = axisInfo.valueAxis;\n            value = numCalculate(data, valueDataDim, mlType);\n        }\n        var valueIndex = valueDataDim === 'x' ? 0 : 1;\n        var baseIndex = 1 - valueIndex;\n\n        var mlFrom = clone(item);\n        var mlTo = {};\n\n        mlFrom.type = null;\n\n        mlFrom.coord = [];\n        mlTo.coord = [];\n        mlFrom.coord[baseIndex] = -Infinity;\n        mlTo.coord[baseIndex] = Infinity;\n\n        var precision = mlModel.get('precision');\n        if (precision >= 0 && typeof value === 'number') {\n            value = +value.toFixed(Math.min(precision, 20));\n        }\n\n        mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n\n        item = [mlFrom, mlTo, { // Extra option for tooltip and label\n            type: mlType,\n            valueIndex: item.valueIndex,\n            // Force to use the value of calculated value.\n            value: value\n        }];\n    }\n\n    item = [\n        dataTransform(seriesModel, item[0]),\n        dataTransform(seriesModel, item[1]),\n        extend({}, item[2])\n    ];\n\n    // Avoid line data type is extended by from(to) data type\n    item[2].type = item[2].type || '';\n\n    // Merge from option and to option into line option\n    merge(item[2], item[0]);\n    merge(item[2], item[1]);\n\n    return item;\n};\n\nfunction isInifinity(val) {\n    return !isNaN(val) && !isFinite(val);\n}\n\n// If a markLine has one dim\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n    var otherDimIndex = 1 - dimIndex;\n    var dimName = coordSys.dimensions[dimIndex];\n    return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex])\n        && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n}\n\nfunction markLineFilter(coordSys, item) {\n    if (coordSys.type === 'cartesian2d') {\n        var fromCoord = item[0].coord;\n        var toCoord = item[1].coord;\n        // In case\n        // {\n        //  markLine: {\n        //    data: [{ yAxis: 2 }]\n        //  }\n        // }\n        if (\n            fromCoord && toCoord &&\n            (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys)\n            || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))\n        ) {\n            return true;\n        }\n    }\n    return dataFilter$1(coordSys, item[0])\n        && dataFilter$1(coordSys, item[1]);\n}\n\nfunction updateSingleMarkerEndLayout(\n    data, idx, isFrom, seriesModel, api\n) {\n    var coordSys = seriesModel.coordinateSystem;\n    var itemModel = data.getItemModel(idx);\n\n    var point;\n    var xPx = parsePercent$1(itemModel.get('x'), api.getWidth());\n    var yPx = parsePercent$1(itemModel.get('y'), api.getHeight());\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n        point = [xPx, yPx];\n    }\n    else {\n        // Chart like bar may have there own marker positioning logic\n        if (seriesModel.getMarkerPosition) {\n            // Use the getMarkerPoisition\n            point = seriesModel.getMarkerPosition(\n                data.getValues(data.dimensions, idx)\n            );\n        }\n        else {\n            var dims = coordSys.dimensions;\n            var x = data.get(dims[0], idx);\n            var y = data.get(dims[1], idx);\n            point = coordSys.dataToPoint([x, y]);\n        }\n        // Expand line to the edge of grid if value on one axis is Inifnity\n        // In case\n        //  markLine: {\n        //    data: [{\n        //      yAxis: 2\n        //      // or\n        //      type: 'average'\n        //    }]\n        //  }\n        if (coordSys.type === 'cartesian2d') {\n            var xAxis = coordSys.getAxis('x');\n            var yAxis = coordSys.getAxis('y');\n            var dims = coordSys.dimensions;\n            if (isInifinity(data.get(dims[0], idx))) {\n                point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n            }\n            else if (isInifinity(data.get(dims[1], idx))) {\n                point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n            }\n        }\n\n        // Use x, y if has any\n        if (!isNaN(xPx)) {\n            point[0] = xPx;\n        }\n        if (!isNaN(yPx)) {\n            point[1] = yPx;\n        }\n    }\n\n    data.setItemLayout(idx, point);\n}\n\nMarkerView.extend({\n\n    type: 'markLine',\n\n    updateLayout: function (markLineModel, ecModel, api) {\n        ecModel.eachSeries(function (seriesModel) {\n            var mlModel = seriesModel.markLineModel;\n            if (mlModel) {\n                var mlData = mlModel.getData();\n                var fromData = mlModel.__from;\n                var toData = mlModel.__to;\n                // Update visual and layout of from symbol and to symbol\n                fromData.each(function (idx) {\n                    updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n                    updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n                });\n                // Update layout of line\n                mlData.each(function (idx) {\n                    mlData.setItemLayout(idx, [\n                        fromData.getItemLayout(idx),\n                        toData.getItemLayout(idx)\n                    ]);\n                });\n\n                this.markerGroupMap.get(seriesModel.id).updateLayout();\n\n            }\n        }, this);\n    },\n\n    renderSeries: function (seriesModel, mlModel, ecModel, api) {\n        var coordSys = seriesModel.coordinateSystem;\n        var seriesId = seriesModel.id;\n        var seriesData = seriesModel.getData();\n\n        var lineDrawMap = this.markerGroupMap;\n        var lineDraw = lineDrawMap.get(seriesId)\n            || lineDrawMap.set(seriesId, new LineDraw());\n        this.group.add(lineDraw.group);\n\n        var mlData = createList$2(coordSys, seriesModel, mlModel);\n\n        var fromData = mlData.from;\n        var toData = mlData.to;\n        var lineData = mlData.line;\n\n        mlModel.__from = fromData;\n        mlModel.__to = toData;\n        // Line data for tooltip and formatter\n        mlModel.setData(lineData);\n\n        var symbolType = mlModel.get('symbol');\n        var symbolSize = mlModel.get('symbolSize');\n        if (!isArray(symbolType)) {\n            symbolType = [symbolType, symbolType];\n        }\n        if (typeof symbolSize === 'number') {\n            symbolSize = [symbolSize, symbolSize];\n        }\n\n        // Update visual and layout of from symbol and to symbol\n        mlData.from.each(function (idx) {\n            updateDataVisualAndLayout(fromData, idx, true);\n            updateDataVisualAndLayout(toData, idx, false);\n        });\n\n        // Update visual and layout of line\n        lineData.each(function (idx) {\n            var lineColor = lineData.getItemModel(idx).get('lineStyle.normal.color');\n            lineData.setItemVisual(idx, {\n                color: lineColor || fromData.getItemVisual(idx, 'color')\n            });\n            lineData.setItemLayout(idx, [\n                fromData.getItemLayout(idx),\n                toData.getItemLayout(idx)\n            ]);\n\n            lineData.setItemVisual(idx, {\n                'fromSymbolSize': fromData.getItemVisual(idx, 'symbolSize'),\n                'fromSymbol': fromData.getItemVisual(idx, 'symbol'),\n                'toSymbolSize': toData.getItemVisual(idx, 'symbolSize'),\n                'toSymbol': toData.getItemVisual(idx, 'symbol')\n            });\n        });\n\n        lineDraw.updateData(lineData);\n\n        // Set host model for tooltip\n        // FIXME\n        mlData.line.eachItemGraphicEl(function (el, idx) {\n            el.traverse(function (child) {\n                child.dataModel = mlModel;\n            });\n        });\n\n        function updateDataVisualAndLayout(data, idx, isFrom) {\n            var itemModel = data.getItemModel(idx);\n\n            updateSingleMarkerEndLayout(\n                data, idx, isFrom, seriesModel, api\n            );\n\n            data.setItemVisual(idx, {\n                symbolSize: itemModel.get('symbolSize') || symbolSize[isFrom ? 0 : 1],\n                symbol: itemModel.get('symbol', true) || symbolType[isFrom ? 0 : 1],\n                color: itemModel.get('itemStyle.normal.color') || seriesData.getVisual('color')\n            });\n        }\n\n        lineDraw.__keep = true;\n\n        lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n    }\n});\n\n/**\n * @inner\n * @param {module:echarts/coord/*} coordSys\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\nfunction createList$2(coordSys, seriesModel, mlModel) {\n\n    var coordDimsInfos;\n    if (coordSys) {\n        coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n            var info = seriesModel.getData().getDimensionInfo(\n                seriesModel.coordDimToDataDim(coordDim)[0]\n            ) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n            info.name = coordDim;\n            return info;\n        });\n    }\n    else {\n        coordDimsInfos =[{\n            name: 'value',\n            type: 'float'\n        }];\n    }\n\n    var fromData = new List(coordDimsInfos, mlModel);\n    var toData = new List(coordDimsInfos, mlModel);\n    // No dimensions\n    var lineData = new List([], mlModel);\n\n    var optData = map(mlModel.get('data'), curry(\n        markLineTransform, seriesModel, coordSys, mlModel\n    ));\n    if (coordSys) {\n        optData = filter(\n            optData, curry(markLineFilter, coordSys)\n        );\n    }\n    var dimValueGetter$$1 = coordSys ? dimValueGetter : function (item) {\n        return item.value;\n    };\n    fromData.initData(\n        map(optData, function (item) { return item[0]; }),\n        null, dimValueGetter$$1\n    );\n    toData.initData(\n        map(optData, function (item) { return item[1]; }),\n        null, dimValueGetter$$1\n    );\n    lineData.initData(\n        map(optData, function (item) { return item[2]; })\n    );\n    lineData.hasItemOption = true;\n\n    return {\n        from: fromData,\n        to: toData,\n        line: lineData\n    };\n}\n\nregisterPreprocessor(function (opt) {\n    // Make sure markLine component is enabled\n    opt.markLine = opt.markLine || {};\n});\n\nMarkerModel.extend({\n\n    type: 'markArea',\n\n    defaultOption: {\n        zlevel: 0,\n        // PENDING\n        z: 1,\n        tooltip: {\n            trigger: 'item'\n        },\n        // markArea should fixed on the coordinate system\n        animation: false,\n        label: {\n            normal: {\n                show: true,\n                position: 'top'\n            },\n            emphasis: {\n                show: true,\n                position: 'top'\n            }\n        },\n        itemStyle: {\n            normal: {\n                // color and borderColor default to use color from series\n                // color: 'auto'\n                // borderColor: 'auto'\n                borderWidth: 0\n            }\n        }\n    }\n});\n\n// TODO Better on polar\n\nvar markAreaTransform = function (seriesModel, coordSys, maModel, item) {\n    var lt = dataTransform(seriesModel, item[0]);\n    var rb = dataTransform(seriesModel, item[1]);\n    var retrieve$$1 = retrieve;\n\n    // FIXME make sure lt is less than rb\n    var ltCoord = lt.coord;\n    var rbCoord = rb.coord;\n    ltCoord[0] = retrieve$$1(ltCoord[0], -Infinity);\n    ltCoord[1] = retrieve$$1(ltCoord[1], -Infinity);\n\n    rbCoord[0] = retrieve$$1(rbCoord[0], Infinity);\n    rbCoord[1] = retrieve$$1(rbCoord[1], Infinity);\n\n    // Merge option into one\n    var result = mergeAll([{}, lt, rb]);\n\n    result.coord = [\n        lt.coord, rb.coord\n    ];\n    result.x0 = lt.x;\n    result.y0 = lt.y;\n    result.x1 = rb.x;\n    result.y1 = rb.y;\n    return result;\n};\n\nfunction isInifinity$1(val) {\n    return !isNaN(val) && !isFinite(val);\n}\n\n// If a markArea has one dim\nfunction ifMarkLineHasOnlyDim$1(dimIndex, fromCoord, toCoord, coordSys) {\n    var otherDimIndex = 1 - dimIndex;\n    return isInifinity$1(fromCoord[otherDimIndex]) && isInifinity$1(toCoord[otherDimIndex]);\n}\n\nfunction markAreaFilter(coordSys, item) {\n    var fromCoord = item.coord[0];\n    var toCoord = item.coord[1];\n    if (coordSys.type === 'cartesian2d') {\n        // In case\n        // {\n        //  markArea: {\n        //    data: [{ yAxis: 2 }]\n        //  }\n        // }\n        if (\n            fromCoord && toCoord &&\n            (ifMarkLineHasOnlyDim$1(1, fromCoord, toCoord, coordSys)\n            || ifMarkLineHasOnlyDim$1(0, fromCoord, toCoord, coordSys))\n        ) {\n            return true;\n        }\n    }\n    return dataFilter$1(coordSys, {\n            coord: fromCoord,\n            x: item.x0,\n            y: item.y0\n        })\n        || dataFilter$1(coordSys, {\n            coord: toCoord,\n            x: item.x1,\n            y: item.y1\n        });\n}\n\n// dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\nfunction getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var itemModel = data.getItemModel(idx);\n\n    var point;\n    var xPx = parsePercent$1(itemModel.get(dims[0]), api.getWidth());\n    var yPx = parsePercent$1(itemModel.get(dims[1]), api.getHeight());\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n        point = [xPx, yPx];\n    }\n    else {\n        // Chart like bar may have there own marker positioning logic\n        if (seriesModel.getMarkerPosition) {\n            // Use the getMarkerPoisition\n            point = seriesModel.getMarkerPosition(\n                data.getValues(dims, idx)\n            );\n        }\n        else {\n            var x = data.get(dims[0], idx);\n            var y = data.get(dims[1], idx);\n            point = coordSys.dataToPoint([x, y], true);\n        }\n        if (coordSys.type === 'cartesian2d') {\n            var xAxis = coordSys.getAxis('x');\n            var yAxis = coordSys.getAxis('y');\n            var x = data.get(dims[0], idx);\n            var y = data.get(dims[1], idx);\n            if (isInifinity$1(x)) {\n                point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n            }\n            else if (isInifinity$1(y)) {\n                point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n            }\n        }\n\n        // Use x, y if has any\n        if (!isNaN(xPx)) {\n            point[0] = xPx;\n        }\n        if (!isNaN(yPx)) {\n            point[1] = yPx;\n        }\n    }\n\n    return point;\n}\n\nvar dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\n\nMarkerView.extend({\n\n    type: 'markArea',\n\n    updateLayout: function (markAreaModel, ecModel, api) {\n        ecModel.eachSeries(function (seriesModel) {\n            var maModel = seriesModel.markAreaModel;\n            if (maModel) {\n                var areaData = maModel.getData();\n                areaData.each(function (idx) {\n                    var points = map(dimPermutations, function (dim) {\n                        return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n                    });\n                    // Layout\n                    areaData.setItemLayout(idx, points);\n                    var el = areaData.getItemGraphicEl(idx);\n                    el.setShape('points', points);\n                });\n            }\n        }, this);\n    },\n\n    renderSeries: function (seriesModel, maModel, ecModel, api) {\n        var coordSys = seriesModel.coordinateSystem;\n        var seriesName = seriesModel.name;\n        var seriesData = seriesModel.getData();\n\n        var areaGroupMap = this.markerGroupMap;\n        var polygonGroup = areaGroupMap.get(seriesName)\n            || areaGroupMap.set(seriesName, {group: new Group()});\n\n        this.group.add(polygonGroup.group);\n        polygonGroup.__keep = true;\n\n        var areaData = createList$3(coordSys, seriesModel, maModel);\n\n        // Line data for tooltip and formatter\n        maModel.setData(areaData);\n\n        // Update visual and layout of line\n        areaData.each(function (idx) {\n            // Layout\n            areaData.setItemLayout(idx, map(dimPermutations, function (dim) {\n                return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n            }));\n\n            // Visual\n            areaData.setItemVisual(idx, {\n                color: seriesData.getVisual('color')\n            });\n        });\n\n\n        areaData.diff(polygonGroup.__data)\n            .add(function (idx) {\n                var polygon = new Polygon({\n                    shape: {\n                        points: areaData.getItemLayout(idx)\n                    }\n                });\n                areaData.setItemGraphicEl(idx, polygon);\n                polygonGroup.group.add(polygon);\n            })\n            .update(function (newIdx, oldIdx) {\n                var polygon = polygonGroup.__data.getItemGraphicEl(oldIdx);\n                updateProps(polygon, {\n                    shape: {\n                        points: areaData.getItemLayout(newIdx)\n                    }\n                }, maModel, newIdx);\n                polygonGroup.group.add(polygon);\n                areaData.setItemGraphicEl(newIdx, polygon);\n            })\n            .remove(function (idx) {\n                var polygon = polygonGroup.__data.getItemGraphicEl(idx);\n                polygonGroup.group.remove(polygon);\n            })\n            .execute();\n\n        areaData.eachItemGraphicEl(function (polygon, idx) {\n            var itemModel = areaData.getItemModel(idx);\n            var labelModel = itemModel.getModel('label.normal');\n            var labelHoverModel = itemModel.getModel('label.emphasis');\n            var color = areaData.getItemVisual(idx, 'color');\n            polygon.useStyle(\n                defaults(\n                    itemModel.getModel('itemStyle.normal').getItemStyle(),\n                    {\n                        fill: modifyAlpha(color, 0.4),\n                        stroke: color\n                    }\n                )\n            );\n\n            polygon.hoverStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n\n            setLabelStyle(\n                polygon.style, polygon.hoverStyle, labelModel, labelHoverModel,\n                {\n                    labelFetcher: maModel,\n                    labelDataIndex: idx,\n                    defaultText: areaData.getName(idx) || '',\n                    isRectText: true,\n                    autoColor: color\n                }\n            );\n\n            setHoverStyle(polygon, {});\n\n            polygon.dataModel = maModel;\n        });\n\n        polygonGroup.__data = areaData;\n\n        polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n    }\n});\n\n/**\n * @inner\n * @param {module:echarts/coord/*} coordSys\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\nfunction createList$3(coordSys, seriesModel, maModel) {\n\n    var coordDimsInfos;\n    var areaData;\n    var dims = ['x0', 'y0', 'x1', 'y1'];\n    if (coordSys) {\n        coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n            var info = seriesModel.getData().getDimensionInfo(\n                seriesModel.coordDimToDataDim(coordDim)[0]\n            ) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n            info.name = coordDim;\n            return info;\n        });\n        areaData = new List(map(dims, function (dim, idx) {\n            return {\n                name: dim,\n                type: coordDimsInfos[idx % 2].type\n            };\n        }), maModel);\n    }\n    else {\n        coordDimsInfos =[{\n            name: 'value',\n            type: 'float'\n        }];\n        areaData = new List(coordDimsInfos, maModel);\n    }\n\n    var optData = map(maModel.get('data'), curry(\n        markAreaTransform, seriesModel, coordSys, maModel\n    ));\n    if (coordSys) {\n        optData = filter(\n            optData, curry(markAreaFilter, coordSys)\n        );\n    }\n\n    var dimValueGetter$$1 = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n        return item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n    } : function (item) {\n        return item.value;\n    };\n    areaData.initData(optData, null, dimValueGetter$$1);\n    areaData.hasItemOption = true;\n    return areaData;\n}\n\nregisterPreprocessor(function (opt) {\n    // Make sure markArea component is enabled\n    opt.markArea = opt.markArea || {};\n});\n\nvar preprocessor$3 = function (option) {\n    var timelineOpt = option && option.timeline;\n\n    if (!isArray(timelineOpt)) {\n        timelineOpt = timelineOpt ? [timelineOpt] : [];\n    }\n\n    each$1(timelineOpt, function (opt) {\n        if (!opt) {\n            return;\n        }\n\n        compatibleEC2(opt);\n    });\n};\n\nfunction compatibleEC2(opt) {\n    var type = opt.type;\n\n    var ec2Types = {'number': 'value', 'time': 'time'};\n\n    // Compatible with ec2\n    if (ec2Types[type]) {\n        opt.axisType = ec2Types[type];\n        delete opt.type;\n    }\n\n    transferItem(opt);\n\n    if (has$2(opt, 'controlPosition')) {\n        var controlStyle = opt.controlStyle || (opt.controlStyle = {});\n        if (!has$2(controlStyle, 'position')) {\n            controlStyle.position = opt.controlPosition;\n        }\n        if (controlStyle.position === 'none' && !has$2(controlStyle, 'show')) {\n            controlStyle.show = false;\n            delete controlStyle.position;\n        }\n        delete opt.controlPosition;\n    }\n\n    each$1(opt.data || [], function (dataItem) {\n        if (isObject(dataItem) && !isArray(dataItem)) {\n            if (!has$2(dataItem, 'value') && has$2(dataItem, 'name')) {\n                // In ec2, using name as value.\n                dataItem.value = dataItem.name;\n            }\n            transferItem(dataItem);\n        }\n    });\n}\n\nfunction transferItem(opt) {\n    var itemStyle = opt.itemStyle || (opt.itemStyle = {});\n\n    var itemStyleEmphasis = itemStyle.emphasis || (itemStyle.emphasis = {});\n\n    // Transfer label out\n    var label = opt.label || (opt.label || {});\n    var labelNormal = label.normal || (label.normal = {});\n    var excludeLabelAttr = {normal: 1, emphasis: 1};\n\n    each$1(label, function (value, name) {\n        if (!excludeLabelAttr[name] && !has$2(labelNormal, name)) {\n            labelNormal[name] = value;\n        }\n    });\n\n    if (itemStyleEmphasis.label && !has$2(label, 'emphasis')) {\n        label.emphasis = itemStyleEmphasis.label;\n        delete itemStyleEmphasis.label;\n    }\n}\n\nfunction has$2(obj, attr) {\n    return obj.hasOwnProperty(attr);\n}\n\nComponentModel.registerSubTypeDefaulter('timeline', function () {\n    // Only slider now.\n    return 'slider';\n});\n\nregisterAction(\n\n    {type: 'timelineChange', event: 'timelineChanged', update: 'prepareAndUpdate'},\n\n    function (payload, ecModel) {\n\n        var timelineModel = ecModel.getComponent('timeline');\n        if (timelineModel && payload.currentIndex != null) {\n            timelineModel.setCurrentIndex(payload.currentIndex);\n\n            if (!timelineModel.get('loop', true) && timelineModel.isIndexMax()) {\n                timelineModel.setPlayState(false);\n            }\n        }\n\n        // Set normalized currentIndex to payload.\n        ecModel.resetOption('timeline');\n\n        return defaults({\n            currentIndex: timelineModel.option.currentIndex\n        }, payload);\n    }\n);\n\nregisterAction(\n\n    {type: 'timelinePlayChange', event: 'timelinePlayChanged', update: 'update'},\n\n    function (payload, ecModel) {\n        var timelineModel = ecModel.getComponent('timeline');\n        if (timelineModel && payload.playState != null) {\n            timelineModel.setPlayState(payload.playState);\n        }\n    }\n);\n\nvar TimelineModel = ComponentModel.extend({\n\n    type: 'timeline',\n\n    layoutMode: 'box',\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n\n        zlevel: 0,                  // \n        z: 4,                       // \n        show: true,\n\n        axisType: 'time',  //  value, category\n\n        realtime: true,\n\n        left: '20%',\n        top: null,\n        right: '20%',\n        bottom: 0,\n        width: null,\n        height: 40,\n        padding: 5,\n\n        controlPosition: 'left',           // 'left' 'right' 'top' 'bottom' 'none'\n        autoPlay: false,\n        rewind: false,                     // \n        loop: true,\n        playInterval: 2000,                // ms\n\n        currentIndex: 0,\n\n        itemStyle: {\n            normal: {},\n            emphasis: {}\n        },\n        label: {\n            normal: {\n                color: '#000'\n            },\n            emphasis: {}\n        },\n\n        data: []\n    },\n\n    /**\n     * @override\n     */\n    init: function (option, parentModel, ecModel) {\n\n        /**\n         * @private\n         * @type {module:echarts/data/List}\n         */\n        this._data;\n\n        /**\n         * @private\n         * @type {Array.<string>}\n         */\n        this._names;\n\n        this.mergeDefaultAndTheme(option, ecModel);\n        this._initData();\n    },\n\n    /**\n     * @override\n     */\n    mergeOption: function (option) {\n        TimelineModel.superApply(this, 'mergeOption', arguments);\n        this._initData();\n    },\n\n    /**\n     * @param {number} [currentIndex]\n     */\n    setCurrentIndex: function (currentIndex) {\n        if (currentIndex == null) {\n            currentIndex = this.option.currentIndex;\n        }\n        var count = this._data.count();\n\n        if (this.option.loop) {\n            currentIndex = (currentIndex % count + count) % count;\n        }\n        else {\n            currentIndex >= count && (currentIndex = count - 1);\n            currentIndex < 0 && (currentIndex = 0);\n        }\n\n        this.option.currentIndex = currentIndex;\n    },\n\n    /**\n     * @return {number} currentIndex\n     */\n    getCurrentIndex: function () {\n        return this.option.currentIndex;\n    },\n\n    /**\n     * @return {boolean}\n     */\n    isIndexMax: function () {\n        return this.getCurrentIndex() >= this._data.count() - 1;\n    },\n\n    /**\n     * @param {boolean} state true: play, false: stop\n     */\n    setPlayState: function (state) {\n        this.option.autoPlay = !!state;\n    },\n\n    /**\n     * @return {boolean} true: play, false: stop\n     */\n    getPlayState: function () {\n        return !!this.option.autoPlay;\n    },\n\n    /**\n     * @private\n     */\n    _initData: function () {\n        var thisOption = this.option;\n        var dataArr = thisOption.data || [];\n        var axisType = thisOption.axisType;\n        var names = this._names = [];\n\n        if (axisType === 'category') {\n            var idxArr = [];\n            each$1(dataArr, function (item, index) {\n                var value = getDataItemValue(item);\n                var newItem;\n\n                if (isObject(item)) {\n                    newItem = clone(item);\n                    newItem.value = index;\n                }\n                else {\n                    newItem = index;\n                }\n\n                idxArr.push(newItem);\n\n                if (!isString(value) && (value == null || isNaN(value))) {\n                    value = '';\n                }\n\n                names.push(value + '');\n            });\n            dataArr = idxArr;\n        }\n\n        var dimType = ({category: 'ordinal', time: 'time'})[axisType] || 'number';\n\n        var data = this._data = new List([{name: 'value', type: dimType}], this);\n\n        data.initData(dataArr, names);\n    },\n\n    getData: function () {\n        return this._data;\n    },\n\n    /**\n     * @public\n     * @return {Array.<string>} categoreis\n     */\n    getCategories: function () {\n        if (this.get('axisType') === 'category') {\n            return this._names.slice();\n        }\n    }\n\n});\n\nvar SliderTimelineModel = TimelineModel.extend({\n\n    type: 'timeline.slider',\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n\n        backgroundColor: 'rgba(0,0,0,0)',   // \n        borderColor: '#ccc',               // \n        borderWidth: 0,                    // px0\n\n        orient: 'horizontal',              // 'vertical'\n        inverse: false,\n\n        tooltip: {                          // boolean or Object\n            trigger: 'item'                 // data item may also have tootip attr.\n        },\n\n        symbol: 'emptyCircle',\n        symbolSize: 10,\n\n        lineStyle: {\n            show: true,\n            width: 2,\n            color: '#304654'\n        },\n        label: {                            // \n            position: 'auto',           // auto left right top bottom\n                                        // When using number, label position is not\n                                        // restricted by viewRect.\n                                        // positive: right/bottom, negative: left/top\n            normal: {\n                show: true,\n                interval: 'auto',\n                rotate: 0,\n                // formatter: null,\n                // TEXTSTYLE\n                color: '#304654'\n            },\n            emphasis: {\n                show: true,\n                // TEXTSTYLE\n                color: '#c23531'\n            }\n        },\n        itemStyle: {\n            normal: {\n                color: '#304654',\n                borderWidth: 1\n            },\n            emphasis: {\n                color: '#c23531'\n            }\n        },\n\n        checkpointStyle: {\n            symbol: 'circle',\n            symbolSize: 13,\n            color: '#c23531',\n            borderWidth: 5,\n            borderColor: 'rgba(194,53,49, 0.5)',\n            animation: true,\n            animationDuration: 300,\n            animationEasing: 'quinticInOut'\n        },\n\n        controlStyle: {\n            show: true,\n            showPlayBtn: true,\n            showPrevBtn: true,\n            showNextBtn: true,\n            itemSize: 22,\n            itemGap: 12,\n            position: 'left',  // 'left' 'right' 'top' 'bottom'\n            playIcon: 'path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z', // jshint ignore:line\n            stopIcon: 'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z', // jshint ignore:line\n            nextIcon: 'path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z', // jshint ignore:line\n            prevIcon: 'path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z', // jshint ignore:line\n            normal: {\n                color: '#304654',\n                borderColor: '#304654',\n                borderWidth: 1\n            },\n            emphasis: {\n                color: '#c23531',\n                borderColor: '#c23531',\n                borderWidth: 2\n            }\n        },\n        data: []\n    }\n\n});\n\nmixin(SliderTimelineModel, dataFormatMixin);\n\nvar TimelineView = Component.extend({\n    type: 'timeline'\n});\n\n/**\n * Extend axis 2d\n * @constructor module:echarts/coord/cartesian/Axis2D\n * @extends {module:echarts/coord/cartesian/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar TimelineAxis = function (dim, scale, coordExtent, axisType) {\n\n    Axis.call(this, dim, scale, coordExtent);\n\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n    this.type = axisType || 'value';\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this._autoLabelInterval;\n\n    /**\n     * Axis model\n     * @param {module:echarts/component/TimelineModel}\n     */\n    this.model = null;\n};\n\nTimelineAxis.prototype = {\n\n    constructor: TimelineAxis,\n\n    /**\n     * @public\n     * @return {number}\n     */\n    getLabelInterval: function () {\n        var timelineModel = this.model;\n        var labelModel = timelineModel.getModel('label.normal');\n        var labelInterval = labelModel.get('interval');\n\n        if (labelInterval != null && labelInterval != 'auto') {\n            return labelInterval;\n        }\n\n        var labelInterval = this._autoLabelInterval;\n\n        if (!labelInterval) {\n            labelInterval = this._autoLabelInterval = getAxisLabelInterval(\n                map(this.scale.getTicks(), this.dataToCoord, this),\n                getFormattedLabels(this, labelModel.get('formatter')),\n                labelModel.getFont(),\n                timelineModel.get('orient') === 'horizontal' ? 0 : 90,\n                labelModel.get('rotate')\n            );\n        }\n\n        return labelInterval;\n    },\n\n    /**\n     * If label is ignored.\n     * Automatically used when axis is category and label can not be all shown\n     * @public\n     * @param  {number} idx\n     * @return {boolean}\n     */\n    isLabelIgnored: function (idx) {\n        if (this.type === 'category') {\n            var labelInterval = this.getLabelInterval();\n            return ((typeof labelInterval === 'function')\n                && !labelInterval(idx, this.scale.getLabel(idx)))\n                || idx % (labelInterval + 1);\n        }\n    }\n\n};\n\ninherits(TimelineAxis, Axis);\n\nvar bind$6 = bind;\nvar each$30 = each$1;\n\nvar PI$4 = Math.PI;\n\nTimelineView.extend({\n\n    type: 'timeline.slider',\n\n    init: function (ecModel, api) {\n\n        this.api = api;\n\n        /**\n         * @private\n         * @type {module:echarts/component/timeline/TimelineAxis}\n         */\n        this._axis;\n\n        /**\n         * @private\n         * @type {module:zrender/core/BoundingRect}\n         */\n        this._viewRect;\n\n        /**\n         * @type {number}\n         */\n        this._timer;\n\n        /**\n         * @type {module:zrender/Element}\n         */\n        this._currentPointer;\n\n        /**\n         * @type {module:zrender/container/Group}\n         */\n        this._mainGroup;\n\n        /**\n         * @type {module:zrender/container/Group}\n         */\n        this._labelGroup;\n    },\n\n    /**\n     * @override\n     */\n    render: function (timelineModel, ecModel, api, payload) {\n        this.model = timelineModel;\n        this.api = api;\n        this.ecModel = ecModel;\n\n        this.group.removeAll();\n\n        if (timelineModel.get('show', true)) {\n\n            var layoutInfo = this._layout(timelineModel, api);\n            var mainGroup = this._createGroup('mainGroup');\n            var labelGroup = this._createGroup('labelGroup');\n\n            /**\n             * @private\n             * @type {module:echarts/component/timeline/TimelineAxis}\n             */\n            var axis = this._axis = this._createAxis(layoutInfo, timelineModel);\n\n            timelineModel.formatTooltip = function (dataIndex) {\n                return encodeHTML(axis.scale.getLabel(dataIndex));\n            };\n\n            each$30(\n                ['AxisLine', 'AxisTick', 'Control', 'CurrentPointer'],\n                function (name) {\n                    this['_render' + name](layoutInfo, mainGroup, axis, timelineModel);\n                },\n                this\n            );\n\n            this._renderAxisLabel(layoutInfo, labelGroup, axis, timelineModel);\n            this._position(layoutInfo, timelineModel);\n        }\n\n        this._doPlayStop();\n    },\n\n    /**\n     * @override\n     */\n    remove: function () {\n        this._clearTimer();\n        this.group.removeAll();\n    },\n\n    /**\n     * @override\n     */\n    dispose: function () {\n        this._clearTimer();\n    },\n\n    _layout: function (timelineModel, api) {\n        var labelPosOpt = timelineModel.get('label.normal.position');\n        var orient = timelineModel.get('orient');\n        var viewRect = getViewRect$4(timelineModel, api);\n        // Auto label offset.\n        if (labelPosOpt == null || labelPosOpt === 'auto') {\n            labelPosOpt = orient === 'horizontal'\n                ? ((viewRect.y + viewRect.height / 2) < api.getHeight() / 2 ? '-' : '+')\n                : ((viewRect.x + viewRect.width / 2) < api.getWidth() / 2 ? '+' : '-');\n        }\n        else if (isNaN(labelPosOpt)) {\n            labelPosOpt = ({\n                horizontal: {top: '-', bottom: '+'},\n                vertical: {left: '-', right: '+'}\n            })[orient][labelPosOpt];\n        }\n\n        var labelAlignMap = {\n            horizontal: 'center',\n            vertical: (labelPosOpt >= 0 || labelPosOpt === '+') ? 'left' : 'right'\n        };\n\n        var labelBaselineMap = {\n            horizontal: (labelPosOpt >= 0 || labelPosOpt === '+') ? 'top' : 'bottom',\n            vertical: 'middle'\n        };\n        var rotationMap = {\n            horizontal: 0,\n            vertical: PI$4 / 2\n        };\n\n        // Position\n        var mainLength = orient === 'vertical' ? viewRect.height : viewRect.width;\n\n        var controlModel = timelineModel.getModel('controlStyle');\n        var showControl = controlModel.get('show');\n        var controlSize = showControl ? controlModel.get('itemSize') : 0;\n        var controlGap = showControl ? controlModel.get('itemGap') : 0;\n        var sizePlusGap = controlSize + controlGap;\n\n        // Special label rotate.\n        var labelRotation = timelineModel.get('label.normal.rotate') || 0;\n        labelRotation = labelRotation * PI$4 / 180; // To radian.\n\n        var playPosition;\n        var prevBtnPosition;\n        var nextBtnPosition;\n        var axisExtent;\n        var controlPosition = controlModel.get('position', true);\n        var showControl = controlModel.get('show', true);\n        var showPlayBtn = showControl && controlModel.get('showPlayBtn', true);\n        var showPrevBtn = showControl && controlModel.get('showPrevBtn', true);\n        var showNextBtn = showControl && controlModel.get('showNextBtn', true);\n        var xLeft = 0;\n        var xRight = mainLength;\n\n        // position[0] means left, position[1] means middle.\n        if (controlPosition === 'left' || controlPosition === 'bottom') {\n            showPlayBtn && (playPosition = [0, 0], xLeft += sizePlusGap);\n            showPrevBtn && (prevBtnPosition = [xLeft, 0], xLeft += sizePlusGap);\n            showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n        }\n        else { // 'top' 'right'\n            showPlayBtn && (playPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n            showPrevBtn && (prevBtnPosition = [0, 0], xLeft += sizePlusGap);\n            showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n        }\n        axisExtent = [xLeft, xRight];\n\n        if (timelineModel.get('inverse')) {\n            axisExtent.reverse();\n        }\n\n        return {\n            viewRect: viewRect,\n            mainLength: mainLength,\n            orient: orient,\n\n            rotation: rotationMap[orient],\n            labelRotation: labelRotation,\n            labelPosOpt: labelPosOpt,\n            labelAlign: timelineModel.get('label.normal.align') || labelAlignMap[orient],\n            labelBaseline: timelineModel.get('label.normal.verticalAlign')\n                || timelineModel.get('label.normal.baseline')\n                || labelBaselineMap[orient],\n\n            // Based on mainGroup.\n            playPosition: playPosition,\n            prevBtnPosition: prevBtnPosition,\n            nextBtnPosition: nextBtnPosition,\n            axisExtent: axisExtent,\n\n            controlSize: controlSize,\n            controlGap: controlGap\n        };\n    },\n\n    _position: function (layoutInfo, timelineModel) {\n        // Position is be called finally, because bounding rect is needed for\n        // adapt content to fill viewRect (auto adapt offset).\n\n        // Timeline may be not all in the viewRect when 'offset' is specified\n        // as a number, because it is more appropriate that label aligns at\n        // 'offset' but not the other edge defined by viewRect.\n\n        var mainGroup = this._mainGroup;\n        var labelGroup = this._labelGroup;\n\n        var viewRect = layoutInfo.viewRect;\n        if (layoutInfo.orient === 'vertical') {\n            // transfrom to horizontal, inverse rotate by left-top point.\n            var m = create$1();\n            var rotateOriginX = viewRect.x;\n            var rotateOriginY = viewRect.y + viewRect.height;\n            translate(m, m, [-rotateOriginX, -rotateOriginY]);\n            rotate(m, m, -PI$4 / 2);\n            translate(m, m, [rotateOriginX, rotateOriginY]);\n            viewRect = viewRect.clone();\n            viewRect.applyTransform(m);\n        }\n\n        var viewBound = getBound(viewRect);\n        var mainBound = getBound(mainGroup.getBoundingRect());\n        var labelBound = getBound(labelGroup.getBoundingRect());\n\n        var mainPosition = mainGroup.position;\n        var labelsPosition = labelGroup.position;\n\n        labelsPosition[0] = mainPosition[0] = viewBound[0][0];\n\n        var labelPosOpt = layoutInfo.labelPosOpt;\n\n        if (isNaN(labelPosOpt)) { // '+' or '-'\n            var mainBoundIdx = labelPosOpt === '+' ? 0 : 1;\n            toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n            toBound(labelsPosition, labelBound, viewBound, 1, 1 - mainBoundIdx);\n        }\n        else {\n            var mainBoundIdx = labelPosOpt >= 0 ? 0 : 1;\n            toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n            labelsPosition[1] = mainPosition[1] + labelPosOpt;\n        }\n\n        mainGroup.attr('position', mainPosition);\n        labelGroup.attr('position', labelsPosition);\n        mainGroup.rotation = labelGroup.rotation = layoutInfo.rotation;\n\n        setOrigin(mainGroup);\n        setOrigin(labelGroup);\n\n        function setOrigin(targetGroup) {\n            var pos = targetGroup.position;\n            targetGroup.origin = [\n                viewBound[0][0] - pos[0],\n                viewBound[1][0] - pos[1]\n            ];\n        }\n\n        function getBound(rect) {\n            // [[xmin, xmax], [ymin, ymax]]\n            return [\n                [rect.x, rect.x + rect.width],\n                [rect.y, rect.y + rect.height]\n            ];\n        }\n\n        function toBound(fromPos, from, to, dimIdx, boundIdx) {\n            fromPos[dimIdx] += to[dimIdx][boundIdx] - from[dimIdx][boundIdx];\n        }\n    },\n\n    _createAxis: function (layoutInfo, timelineModel) {\n        var data = timelineModel.getData();\n        var axisType = timelineModel.get('axisType');\n\n        var scale = createScaleByModel(timelineModel, axisType);\n        var dataExtent = data.getDataExtent('value');\n        scale.setExtent(dataExtent[0], dataExtent[1]);\n        this._customizeScale(scale, data);\n        scale.niceTicks();\n\n        var axis = new TimelineAxis('value', scale, layoutInfo.axisExtent, axisType);\n        axis.model = timelineModel;\n\n        return axis;\n    },\n\n    _customizeScale: function (scale, data) {\n\n        scale.getTicks = function () {\n            return data.mapArray(['value'], function (value) {\n                return value;\n            });\n        };\n\n        scale.getTicksLabels = function () {\n            return map(this.getTicks(), scale.getLabel, scale);\n        };\n    },\n\n    _createGroup: function (name) {\n        var newGroup = this['_' + name] = new Group();\n        this.group.add(newGroup);\n        return newGroup;\n    },\n\n    _renderAxisLine: function (layoutInfo, group, axis, timelineModel) {\n        var axisExtent = axis.getExtent();\n\n        if (!timelineModel.get('lineStyle.show')) {\n            return;\n        }\n\n        group.add(new Line({\n            shape: {\n                x1: axisExtent[0], y1: 0,\n                x2: axisExtent[1], y2: 0\n            },\n            style: extend(\n                {lineCap: 'round'},\n                timelineModel.getModel('lineStyle').getLineStyle()\n            ),\n            silent: true,\n            z2: 1\n        }));\n    },\n\n    /**\n     * @private\n     */\n    _renderAxisTick: function (layoutInfo, group, axis, timelineModel) {\n        var data = timelineModel.getData();\n        var ticks = axis.scale.getTicks();\n\n        each$30(ticks, function (value, dataIndex) {\n\n            var tickCoord = axis.dataToCoord(value);\n            var itemModel = data.getItemModel(dataIndex);\n            var itemStyleModel = itemModel.getModel('itemStyle.normal');\n            var hoverStyleModel = itemModel.getModel('itemStyle.emphasis');\n            var symbolOpt = {\n                position: [tickCoord, 0],\n                onclick: bind$6(this._changeTimeline, this, dataIndex)\n            };\n            var el = giveSymbol(itemModel, itemStyleModel, group, symbolOpt);\n            setHoverStyle(el, hoverStyleModel.getItemStyle());\n\n            if (itemModel.get('tooltip')) {\n                el.dataIndex = dataIndex;\n                el.dataModel = timelineModel;\n            }\n            else {\n                el.dataIndex = el.dataModel = null;\n            }\n\n        }, this);\n    },\n\n    /**\n     * @private\n     */\n    _renderAxisLabel: function (layoutInfo, group, axis, timelineModel) {\n        var labelModel = timelineModel.getModel('label.normal');\n\n        if (!labelModel.get('show')) {\n            return;\n        }\n\n        var data = timelineModel.getData();\n        var ticks = axis.scale.getTicks();\n        var labels = getFormattedLabels(\n            axis, labelModel.get('formatter')\n        );\n        var labelInterval = axis.getLabelInterval();\n\n        each$30(ticks, function (tick, dataIndex) {\n            if (axis.isLabelIgnored(dataIndex, labelInterval)) {\n                return;\n            }\n\n            var itemModel = data.getItemModel(dataIndex);\n            var normalLabelModel = itemModel.getModel('label.normal');\n            var hoverLabelModel = itemModel.getModel('label.emphasis');\n            var tickCoord = axis.dataToCoord(tick);\n            var textEl = new Text({\n                position: [tickCoord, 0],\n                rotation: layoutInfo.labelRotation - layoutInfo.rotation,\n                onclick: bind$6(this._changeTimeline, this, dataIndex),\n                silent: false\n            });\n            setTextStyle(textEl.style, normalLabelModel, {\n                text: labels[dataIndex],\n                textAlign: layoutInfo.labelAlign,\n                textVerticalAlign: layoutInfo.labelBaseline\n            });\n\n            group.add(textEl);\n            setHoverStyle(\n                textEl, setTextStyle({}, hoverLabelModel)\n            );\n\n        }, this);\n    },\n\n    /**\n     * @private\n     */\n    _renderControl: function (layoutInfo, group, axis, timelineModel) {\n        var controlSize = layoutInfo.controlSize;\n        var rotation = layoutInfo.rotation;\n\n        var itemStyle = timelineModel.getModel('controlStyle.normal').getItemStyle();\n        var hoverStyle = timelineModel.getModel('controlStyle.emphasis').getItemStyle();\n        var rect = [0, -controlSize / 2, controlSize, controlSize];\n        var playState = timelineModel.getPlayState();\n        var inverse = timelineModel.get('inverse', true);\n\n        makeBtn(\n            layoutInfo.nextBtnPosition,\n            'controlStyle.nextIcon',\n            bind$6(this._changeTimeline, this, inverse ? '-' : '+')\n        );\n        makeBtn(\n            layoutInfo.prevBtnPosition,\n            'controlStyle.prevIcon',\n            bind$6(this._changeTimeline, this, inverse ? '+' : '-')\n        );\n        makeBtn(\n            layoutInfo.playPosition,\n            'controlStyle.' + (playState ? 'stopIcon' : 'playIcon'),\n            bind$6(this._handlePlayClick, this, !playState),\n            true\n        );\n\n        function makeBtn(position, iconPath, onclick, willRotate) {\n            if (!position) {\n                return;\n            }\n            var opt = {\n                position: position,\n                origin: [controlSize / 2, 0],\n                rotation: willRotate ? -rotation : 0,\n                rectHover: true,\n                style: itemStyle,\n                onclick: onclick\n            };\n            var btn = makeIcon(timelineModel, iconPath, rect, opt);\n            group.add(btn);\n            setHoverStyle(btn, hoverStyle);\n        }\n    },\n\n    _renderCurrentPointer: function (layoutInfo, group, axis, timelineModel) {\n        var data = timelineModel.getData();\n        var currentIndex = timelineModel.getCurrentIndex();\n        var pointerModel = data.getItemModel(currentIndex).getModel('checkpointStyle');\n        var me = this;\n\n        var callback = {\n            onCreate: function (pointer) {\n                pointer.draggable = true;\n                pointer.drift = bind$6(me._handlePointerDrag, me);\n                pointer.ondragend = bind$6(me._handlePointerDragend, me);\n                pointerMoveTo(pointer, currentIndex, axis, timelineModel, true);\n            },\n            onUpdate: function (pointer) {\n                pointerMoveTo(pointer, currentIndex, axis, timelineModel);\n            }\n        };\n\n        // Reuse when exists, for animation and drag.\n        this._currentPointer = giveSymbol(\n            pointerModel, pointerModel, this._mainGroup, {}, this._currentPointer, callback\n        );\n    },\n\n    _handlePlayClick: function (nextState) {\n        this._clearTimer();\n        this.api.dispatchAction({\n            type: 'timelinePlayChange',\n            playState: nextState,\n            from: this.uid\n        });\n    },\n\n    _handlePointerDrag: function (dx, dy, e) {\n        this._clearTimer();\n        this._pointerChangeTimeline([e.offsetX, e.offsetY]);\n    },\n\n    _handlePointerDragend: function (e) {\n        this._pointerChangeTimeline([e.offsetX, e.offsetY], true);\n    },\n\n    _pointerChangeTimeline: function (mousePos, trigger) {\n        var toCoord = this._toAxisCoord(mousePos)[0];\n\n        var axis = this._axis;\n        var axisExtent = asc(axis.getExtent().slice());\n\n        toCoord > axisExtent[1] && (toCoord = axisExtent[1]);\n        toCoord < axisExtent[0] && (toCoord = axisExtent[0]);\n\n        this._currentPointer.position[0] = toCoord;\n        this._currentPointer.dirty();\n\n        var targetDataIndex = this._findNearestTick(toCoord);\n        var timelineModel = this.model;\n\n        if (trigger || (\n            targetDataIndex !== timelineModel.getCurrentIndex()\n            && timelineModel.get('realtime')\n        )) {\n            this._changeTimeline(targetDataIndex);\n        }\n    },\n\n    _doPlayStop: function () {\n        this._clearTimer();\n\n        if (this.model.getPlayState()) {\n            this._timer = setTimeout(\n                bind$6(handleFrame, this),\n                this.model.get('playInterval')\n            );\n        }\n\n        function handleFrame() {\n            // Do not cache\n            var timelineModel = this.model;\n            this._changeTimeline(\n                timelineModel.getCurrentIndex()\n                + (timelineModel.get('rewind', true) ? -1 : 1)\n            );\n        }\n    },\n\n    _toAxisCoord: function (vertex) {\n        var trans = this._mainGroup.getLocalTransform();\n        return applyTransform$1(vertex, trans, true);\n    },\n\n    _findNearestTick: function (axisCoord) {\n        var data = this.model.getData();\n        var dist = Infinity;\n        var targetDataIndex;\n        var axis = this._axis;\n\n        data.each(['value'], function (value, dataIndex) {\n            var coord = axis.dataToCoord(value);\n            var d = Math.abs(coord - axisCoord);\n            if (d < dist) {\n                dist = d;\n                targetDataIndex = dataIndex;\n            }\n        });\n\n        return targetDataIndex;\n    },\n\n    _clearTimer: function () {\n        if (this._timer) {\n            clearTimeout(this._timer);\n            this._timer = null;\n        }\n    },\n\n    _changeTimeline: function (nextIndex) {\n        var currentIndex = this.model.getCurrentIndex();\n\n        if (nextIndex === '+') {\n            nextIndex = currentIndex + 1;\n        }\n        else if (nextIndex === '-') {\n            nextIndex = currentIndex - 1;\n        }\n\n        this.api.dispatchAction({\n            type: 'timelineChange',\n            currentIndex: nextIndex,\n            from: this.uid\n        });\n    }\n\n});\n\nfunction getViewRect$4(model, api) {\n    return getLayoutRect(\n        model.getBoxLayoutParams(),\n        {\n            width: api.getWidth(),\n            height: api.getHeight()\n        },\n        model.get('padding')\n    );\n}\n\nfunction makeIcon(timelineModel, objPath, rect, opts) {\n    var icon = makePath(\n        timelineModel.get(objPath).replace(/^path:\\/\\//, ''),\n        clone(opts || {}),\n        new BoundingRect(rect[0], rect[1], rect[2], rect[3]),\n        'center'\n    );\n\n    return icon;\n}\n\n/**\n * Create symbol or update symbol\n * opt: basic position and event handlers\n */\nfunction giveSymbol(hostModel, itemStyleModel, group, opt, symbol, callback) {\n    var color = itemStyleModel.get('color');\n\n    if (!symbol) {\n        var symbolType = hostModel.get('symbol');\n        symbol = createSymbol(symbolType, -1, -1, 2, 2, color);\n        symbol.setStyle('strokeNoScale', true);\n        group.add(symbol);\n        callback && callback.onCreate(symbol);\n    }\n    else {\n        symbol.setColor(color);\n        group.add(symbol); // Group may be new, also need to add.\n        callback && callback.onUpdate(symbol);\n    }\n\n    // Style\n    var itemStyle = itemStyleModel.getItemStyle(['color', 'symbol', 'symbolSize']);\n    symbol.setStyle(itemStyle);\n\n    // Transform and events.\n    opt = merge({\n        rectHover: true,\n        z2: 100\n    }, opt, true);\n\n    var symbolSize = hostModel.get('symbolSize');\n    symbolSize = symbolSize instanceof Array\n        ? symbolSize.slice()\n        : [+symbolSize, +symbolSize];\n    symbolSize[0] /= 2;\n    symbolSize[1] /= 2;\n    opt.scale = symbolSize;\n\n    var symbolOffset = hostModel.get('symbolOffset');\n    if (symbolOffset) {\n        var pos = opt.position = opt.position || [0, 0];\n        pos[0] += parsePercent$1(symbolOffset[0], symbolSize[0]);\n        pos[1] += parsePercent$1(symbolOffset[1], symbolSize[1]);\n    }\n\n    var symbolRotate = hostModel.get('symbolRotate');\n    opt.rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n\n    symbol.attr(opt);\n\n    // FIXME\n    // (1) When symbol.style.strokeNoScale is true and updateTransform is not performed,\n    // getBoundingRect will return wrong result.\n    // (This is supposed to be resolved in zrender, but it is a little difficult to\n    // leverage performance and auto updateTransform)\n    // (2) All of ancesters of symbol do not scale, so we can just updateTransform symbol.\n    symbol.updateTransform();\n\n    return symbol;\n}\n\nfunction pointerMoveTo(pointer, dataIndex, axis, timelineModel, noAnimation) {\n    if (pointer.dragging) {\n        return;\n    }\n\n    var pointerModel = timelineModel.getModel('checkpointStyle');\n    var toCoord = axis.dataToCoord(timelineModel.getData().get(['value'], dataIndex));\n\n    if (noAnimation || !pointerModel.get('animation', true)) {\n        pointer.attr({position: [toCoord, 0]});\n    }\n    else {\n        pointer.stopAnimation(true);\n        pointer.animateTo(\n            {position: [toCoord, 0]},\n            pointerModel.get('animationDuration', true),\n            pointerModel.get('animationEasing', true)\n        );\n    }\n}\n\n/**\n * DataZoom component entry\n */\n\nregisterPreprocessor(preprocessor$3);\n\nvar ToolboxModel = extendComponentModel({\n\n    type: 'toolbox',\n\n    layoutMode: {\n        type: 'box',\n        ignoreSize: true\n    },\n\n    mergeDefaultAndTheme: function (option) {\n        ToolboxModel.superApply(this, 'mergeDefaultAndTheme', arguments);\n\n        each$1(this.option.feature, function (featureOpt, featureName) {\n            var Feature = get$5(featureName);\n            Feature && merge(featureOpt, Feature.defaultOption);\n        });\n    },\n\n    defaultOption: {\n\n        show: true,\n\n        z: 6,\n\n        zlevel: 0,\n\n        orient: 'horizontal',\n\n        left: 'right',\n\n        top: 'top',\n\n        // right\n        // bottom\n\n        backgroundColor: 'transparent',\n\n        borderColor: '#ccc',\n\n        borderRadius: 0,\n\n        borderWidth: 0,\n\n        padding: 5,\n\n        itemSize: 15,\n\n        itemGap: 8,\n\n        showTitle: true,\n\n        iconStyle: {\n            normal: {\n                borderColor: '#666',\n                color: 'none'\n            },\n            emphasis: {\n                borderColor: '#3E98C5'\n            }\n        }\n        // textStyle: {},\n\n        // feature\n    }\n});\n\nextendComponentView({\n\n    type: 'toolbox',\n\n    render: function (toolboxModel, ecModel, api, payload) {\n        var group = this.group;\n        group.removeAll();\n\n        if (!toolboxModel.get('show')) {\n            return;\n        }\n\n        var itemSize = +toolboxModel.get('itemSize');\n        var featureOpts = toolboxModel.get('feature') || {};\n        var features = this._features || (this._features = {});\n\n        var featureNames = [];\n        each$1(featureOpts, function (opt, name) {\n            featureNames.push(name);\n        });\n\n        (new DataDiffer(this._featureNames || [], featureNames))\n            .add(processFeature)\n            .update(processFeature)\n            .remove(curry(processFeature, null))\n            .execute();\n\n        // Keep for diff.\n        this._featureNames = featureNames;\n\n        function processFeature(newIndex, oldIndex) {\n            var featureName = featureNames[newIndex];\n            var oldName = featureNames[oldIndex];\n            var featureOpt = featureOpts[featureName];\n            var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n            var feature;\n\n            if (featureName && !oldName) { // Create\n                if (isUserFeatureName(featureName)) {\n                    feature = {\n                        model: featureModel,\n                        onclick: featureModel.option.onclick,\n                        featureName: featureName\n                    };\n                }\n                else {\n                    var Feature = get$5(featureName);\n                    if (!Feature) {\n                        return;\n                    }\n                    feature = new Feature(featureModel, ecModel, api);\n                }\n                features[featureName] = feature;\n            }\n            else {\n                feature = features[oldName];\n                // If feature does not exsit.\n                if (!feature) {\n                    return;\n                }\n                feature.model = featureModel;\n                feature.ecModel = ecModel;\n                feature.api = api;\n            }\n\n            if (!featureName && oldName) {\n                feature.dispose && feature.dispose(ecModel, api);\n                return;\n            }\n\n            if (!featureModel.get('show') || feature.unusable) {\n                feature.remove && feature.remove(ecModel, api);\n                return;\n            }\n\n            createIconPaths(featureModel, feature, featureName);\n\n            featureModel.setIconStatus = function (iconName, status) {\n                var option = this.option;\n                var iconPaths = this.iconPaths;\n                option.iconStatus = option.iconStatus || {};\n                option.iconStatus[iconName] = status;\n                // FIXME\n                iconPaths[iconName] && iconPaths[iconName].trigger(status);\n            };\n\n            if (feature.render) {\n                feature.render(featureModel, ecModel, api, payload);\n            }\n        }\n\n        function createIconPaths(featureModel, feature, featureName) {\n            var iconStyleModel = featureModel.getModel('iconStyle');\n\n            // If one feature has mutiple icon. they are orginaized as\n            // {\n            //     icon: {\n            //         foo: '',\n            //         bar: ''\n            //     },\n            //     title: {\n            //         foo: '',\n            //         bar: ''\n            //     }\n            // }\n            var icons = feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n            var titles = featureModel.get('title') || {};\n            if (typeof icons === 'string') {\n                var icon = icons;\n                var title = titles;\n                icons = {};\n                titles = {};\n                icons[featureName] = icon;\n                titles[featureName] = title;\n            }\n            var iconPaths = featureModel.iconPaths = {};\n            each$1(icons, function (iconStr, iconName) {\n                var path = createIcon(\n                    iconStr,\n                    {},\n                    {\n                        x: -itemSize / 2,\n                        y: -itemSize / 2,\n                        width: itemSize,\n                        height: itemSize\n                    }\n                );\n                path.setStyle(iconStyleModel.getModel('normal').getItemStyle());\n                path.hoverStyle = iconStyleModel.getModel('emphasis').getItemStyle();\n\n                setHoverStyle(path);\n\n                if (toolboxModel.get('showTitle')) {\n                    path.__title = titles[iconName];\n                    path.on('mouseover', function () {\n                            // Should not reuse above hoverStyle, which might be modified.\n                            var hoverStyle = iconStyleModel.getModel('emphasis').getItemStyle();\n                            path.setStyle({\n                                text: titles[iconName],\n                                textPosition: hoverStyle.textPosition || 'bottom',\n                                textFill: hoverStyle.fill || hoverStyle.stroke || '#000',\n                                textAlign: hoverStyle.textAlign || 'center'\n                            });\n                        })\n                        .on('mouseout', function () {\n                            path.setStyle({\n                                textFill: null\n                            });\n                        });\n                }\n                path.trigger(featureModel.get('iconStatus.' + iconName) || 'normal');\n\n                group.add(path);\n                path.on('click', bind(\n                    feature.onclick, feature, ecModel, api, iconName\n                ));\n\n                iconPaths[iconName] = path;\n            });\n        }\n\n        layout$2(group, toolboxModel, api);\n        // Render background after group is layout\n        // FIXME\n        group.add(makeBackground(group.getBoundingRect(), toolboxModel));\n\n        // Adjust icon title positions to avoid them out of screen\n        group.eachChild(function (icon) {\n            var titleText = icon.__title;\n            var hoverStyle = icon.hoverStyle;\n            // May be background element\n            if (hoverStyle && titleText) {\n                var rect = getBoundingRect(\n                    titleText, makeFont(hoverStyle)\n                );\n                var offsetX = icon.position[0] + group.position[0];\n                var offsetY = icon.position[1] + group.position[1] + itemSize;\n\n                var needPutOnTop = false;\n                if (offsetY + rect.height > api.getHeight()) {\n                    hoverStyle.textPosition = 'top';\n                    needPutOnTop = true;\n                }\n                var topOffset = needPutOnTop ? (-5 - rect.height) : (itemSize + 8);\n                if (offsetX + rect.width /  2 > api.getWidth()) {\n                    hoverStyle.textPosition = ['100%', topOffset];\n                    hoverStyle.textAlign = 'right';\n                }\n                else if (offsetX - rect.width / 2 < 0) {\n                    hoverStyle.textPosition = [0, topOffset];\n                    hoverStyle.textAlign = 'left';\n                }\n            }\n        });\n    },\n\n    updateView: function (toolboxModel, ecModel, api, payload) {\n        each$1(this._features, function (feature) {\n            feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n        });\n    },\n\n    updateLayout: function (toolboxModel, ecModel, api, payload) {\n        each$1(this._features, function (feature) {\n            feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n        });\n    },\n\n    remove: function (ecModel, api) {\n        each$1(this._features, function (feature) {\n            feature.remove && feature.remove(ecModel, api);\n        });\n        this.group.removeAll();\n    },\n\n    dispose: function (ecModel, api) {\n        each$1(this._features, function (feature) {\n            feature.dispose && feature.dispose(ecModel, api);\n        });\n    }\n});\n\nfunction isUserFeatureName(featureName) {\n    return featureName.indexOf('my') === 0;\n}\n\nvar saveAsImageLang = lang.toolbox.saveAsImage;\n\nfunction SaveAsImage(model) {\n    this.model = model;\n}\n\nSaveAsImage.defaultOption = {\n    show: true,\n    icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',\n    title: saveAsImageLang.title,\n    type: 'png',\n    // Default use option.backgroundColor\n    // backgroundColor: '#fff',\n    name: '',\n    excludeComponents: ['toolbox'],\n    pixelRatio: 1,\n    lang: saveAsImageLang.lang.slice()\n};\n\nSaveAsImage.prototype.unusable = !env$1.canvasSupported;\n\nvar proto$2 = SaveAsImage.prototype;\n\nproto$2.onclick = function (ecModel, api) {\n    var model = this.model;\n    var title = model.get('name') || ecModel.get('title.0.text') || 'echarts';\n    var $a = document.createElement('a');\n    var type = model.get('type', true) || 'png';\n    $a.download = title + '.' + type;\n    $a.target = '_blank';\n    var url = api.getConnectedDataURL({\n        type: type,\n        backgroundColor: model.get('backgroundColor', true)\n            || ecModel.get('backgroundColor') || '#fff',\n        excludeComponents: model.get('excludeComponents'),\n        pixelRatio: model.get('pixelRatio')\n    });\n    $a.href = url;\n    // Chrome and Firefox\n    if (typeof MouseEvent === 'function' && !env$1.browser.ie && !env$1.browser.edge) {\n        var evt = new MouseEvent('click', {\n            view: window,\n            bubbles: true,\n            cancelable: false\n        });\n        $a.dispatchEvent(evt);\n    }\n    // IE\n    else {\n        if (window.navigator.msSaveOrOpenBlob) {\n            var bstr = atob(url.split(',')[1]);\n            var n = bstr.length;\n            var u8arr = new Uint8Array(n);\n            while(n--) {\n                u8arr[n] = bstr.charCodeAt(n);\n            }\n            var blob = new Blob([u8arr]);\n            window.navigator.msSaveOrOpenBlob(blob, title + '.' + type);\n        }\n        else {\n            var lang$$1 = model.get('lang');\n            var html = '' +\n                '<body style=\"margin:0;\">' +\n                '<img src=\"' + url + '\" style=\"max-width:100%;\" title=\"' + ((lang$$1 && lang$$1[0]) || '') + '\" />' +\n                '</body>';\n            var tab = window.open();\n            tab.document.write(html);\n        }\n    }\n};\n\nregister$1(\n    'saveAsImage', SaveAsImage\n);\n\nvar magicTypeLang = lang.toolbox.magicType;\n\nfunction MagicType(model) {\n    this.model = model;\n}\n\nMagicType.defaultOption = {\n    show: true,\n    type: [],\n    // Icon group\n    icon: {\n        line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',\n        bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',\n        stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z', // jshint ignore:line\n        tiled: 'M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z'\n    },\n    // `line`, `bar`, `stack`, `tiled`\n    title: clone(magicTypeLang.title),\n    option: {},\n    seriesIndex: {}\n};\n\nvar proto$3 = MagicType.prototype;\n\nproto$3.getIcons = function () {\n    var model = this.model;\n    var availableIcons = model.get('icon');\n    var icons = {};\n    each$1(model.get('type'), function (type) {\n        if (availableIcons[type]) {\n            icons[type] = availableIcons[type];\n        }\n    });\n    return icons;\n};\n\nvar seriesOptGenreator = {\n    'line': function (seriesType, seriesId, seriesModel, model) {\n        if (seriesType === 'bar') {\n            return merge({\n                id: seriesId,\n                type: 'line',\n                // Preserve data related option\n                data: seriesModel.get('data'),\n                stack: seriesModel.get('stack'),\n                markPoint: seriesModel.get('markPoint'),\n                markLine: seriesModel.get('markLine')\n            }, model.get('option.line') || {}, true);\n        }\n    },\n    'bar': function (seriesType, seriesId, seriesModel, model) {\n        if (seriesType === 'line') {\n            return merge({\n                id: seriesId,\n                type: 'bar',\n                // Preserve data related option\n                data: seriesModel.get('data'),\n                stack: seriesModel.get('stack'),\n                markPoint: seriesModel.get('markPoint'),\n                markLine: seriesModel.get('markLine')\n            }, model.get('option.bar') || {}, true);\n        }\n    },\n    'stack': function (seriesType, seriesId, seriesModel, model) {\n        if (seriesType === 'line' || seriesType === 'bar') {\n            return merge({\n                id: seriesId,\n                stack: '__ec_magicType_stack__'\n            }, model.get('option.stack') || {}, true);\n        }\n    },\n    'tiled': function (seriesType, seriesId, seriesModel, model) {\n        if (seriesType === 'line' || seriesType === 'bar') {\n            return merge({\n                id: seriesId,\n                stack: ''\n            }, model.get('option.tiled') || {}, true);\n        }\n    }\n};\n\nvar radioTypes = [\n    ['line', 'bar'],\n    ['stack', 'tiled']\n];\n\nproto$3.onclick = function (ecModel, api, type) {\n    var model = this.model;\n    var seriesIndex = model.get('seriesIndex.' + type);\n    // Not supported magicType\n    if (!seriesOptGenreator[type]) {\n        return;\n    }\n    var newOption = {\n        series: []\n    };\n    var generateNewSeriesTypes = function (seriesModel) {\n        var seriesType = seriesModel.subType;\n        var seriesId = seriesModel.id;\n        var newSeriesOpt = seriesOptGenreator[type](\n            seriesType, seriesId, seriesModel, model\n        );\n        if (newSeriesOpt) {\n            // PENDING If merge original option?\n            defaults(newSeriesOpt, seriesModel.option);\n            newOption.series.push(newSeriesOpt);\n        }\n        // Modify boundaryGap\n        var coordSys = seriesModel.coordinateSystem;\n        if (coordSys && coordSys.type === 'cartesian2d' && (type === 'line' || type === 'bar')) {\n            var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n            if (categoryAxis) {\n                var axisDim = categoryAxis.dim;\n                var axisType = axisDim + 'Axis';\n                var axisModel = ecModel.queryComponents({\n                    mainType: axisType,\n                    index: seriesModel.get(name + 'Index'),\n                    id: seriesModel.get(name + 'Id')\n                })[0];\n                var axisIndex = axisModel.componentIndex;\n\n                newOption[axisType] = newOption[axisType] || [];\n                for (var i = 0; i <= axisIndex; i++) {\n                    newOption[axisType][axisIndex] = newOption[axisType][axisIndex] || {};\n                }\n                newOption[axisType][axisIndex].boundaryGap = type === 'bar' ? true : false;\n            }\n        }\n    };\n\n    each$1(radioTypes, function (radio) {\n        if (indexOf(radio, type) >= 0) {\n            each$1(radio, function (item) {\n                model.setIconStatus(item, 'normal');\n            });\n        }\n    });\n\n    model.setIconStatus(type, 'emphasis');\n\n    ecModel.eachComponent(\n        {\n            mainType: 'series',\n            query: seriesIndex == null ? null : {\n                seriesIndex: seriesIndex\n            }\n        }, generateNewSeriesTypes\n    );\n    api.dispatchAction({\n        type: 'changeMagicType',\n        currentType: type,\n        newOption: newOption\n    });\n};\n\nregisterAction({\n    type: 'changeMagicType',\n    event: 'magicTypeChanged',\n    update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n    ecModel.mergeOption(payload.newOption);\n});\n\nregister$1('magicType', MagicType);\n\nvar dataViewLang = lang.toolbox.dataView;\n\nvar BLOCK_SPLITER = new Array(60).join('-');\nvar ITEM_SPLITER = '\\t';\n/**\n * Group series into two types\n *  1. on category axis, like line, bar\n *  2. others, like scatter, pie\n * @param {module:echarts/model/Global} ecModel\n * @return {Object}\n * @inner\n */\nfunction groupSeries(ecModel) {\n    var seriesGroupByCategoryAxis = {};\n    var otherSeries = [];\n    var meta = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n        var coordSys = seriesModel.coordinateSystem;\n\n        if (coordSys && (coordSys.type === 'cartesian2d' || coordSys.type === 'polar')) {\n            var baseAxis = coordSys.getBaseAxis();\n            if (baseAxis.type === 'category') {\n                var key = baseAxis.dim + '_' + baseAxis.index;\n                if (!seriesGroupByCategoryAxis[key]) {\n                    seriesGroupByCategoryAxis[key] = {\n                        categoryAxis: baseAxis,\n                        valueAxis: coordSys.getOtherAxis(baseAxis),\n                        series: []\n                    };\n                    meta.push({\n                        axisDim: baseAxis.dim,\n                        axisIndex: baseAxis.index\n                    });\n                }\n                seriesGroupByCategoryAxis[key].series.push(seriesModel);\n            }\n            else {\n                otherSeries.push(seriesModel);\n            }\n        }\n        else {\n            otherSeries.push(seriesModel);\n        }\n    });\n\n    return {\n        seriesGroupByCategoryAxis: seriesGroupByCategoryAxis,\n        other: otherSeries,\n        meta: meta\n    };\n}\n\n/**\n * Assemble content of series on cateogory axis\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\nfunction assembleSeriesWithCategoryAxis(series) {\n    var tables = [];\n    each$1(series, function (group, key) {\n        var categoryAxis = group.categoryAxis;\n        var valueAxis = group.valueAxis;\n        var valueAxisDim = valueAxis.dim;\n\n        var headers = [' '].concat(map(group.series, function (series) {\n            return series.name;\n        }));\n        var columns = [categoryAxis.model.getCategories()];\n        each$1(group.series, function (series) {\n            columns.push(series.getRawData().mapArray(valueAxisDim, function (val) {\n                return val;\n            }));\n        });\n        // Assemble table content\n        var lines = [headers.join(ITEM_SPLITER)];\n        for (var i = 0; i < columns[0].length; i++) {\n            var items = [];\n            for (var j = 0; j < columns.length; j++) {\n                items.push(columns[j][i]);\n            }\n            lines.push(items.join(ITEM_SPLITER));\n        }\n        tables.push(lines.join('\\n'));\n    });\n    return tables.join('\\n\\n' +  BLOCK_SPLITER + '\\n\\n');\n}\n\n/**\n * Assemble content of other series\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\nfunction assembleOtherSeries(series) {\n    return map(series, function (series) {\n        var data = series.getRawData();\n        var lines = [series.name];\n        var vals = [];\n        data.each(data.dimensions, function () {\n            var argLen = arguments.length;\n            var dataIndex = arguments[argLen - 1];\n            var name = data.getName(dataIndex);\n            for (var i = 0; i < argLen - 1; i++) {\n                vals[i] = arguments[i];\n            }\n            lines.push((name ? (name + ITEM_SPLITER) : '') + vals.join(ITEM_SPLITER));\n        });\n        return lines.join('\\n');\n    }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n\n/**\n * @param {module:echarts/model/Global}\n * @return {Object}\n * @inner\n */\nfunction getContentFromModel(ecModel) {\n\n    var result = groupSeries(ecModel);\n\n    return {\n        value: filter([\n                assembleSeriesWithCategoryAxis(result.seriesGroupByCategoryAxis),\n                assembleOtherSeries(result.other)\n            ], function (str) {\n                return str.replace(/[\\n\\t\\s]/g, '');\n            }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n'),\n\n        meta: result.meta\n    };\n}\n\n\nfunction trim(str) {\n    return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n}\n/**\n * If a block is tsv format\n */\nfunction isTSVFormat(block) {\n    // Simple method to find out if a block is tsv format\n    var firstLine = block.slice(0, block.indexOf('\\n'));\n    if (firstLine.indexOf(ITEM_SPLITER) >= 0) {\n        return true;\n    }\n}\n\nvar itemSplitRegex = new RegExp('[' + ITEM_SPLITER + ']+', 'g');\n/**\n * @param {string} tsv\n * @return {Object}\n */\nfunction parseTSVContents(tsv) {\n    var tsvLines = tsv.split(/\\n+/g);\n    var headers = trim(tsvLines.shift()).split(itemSplitRegex);\n\n    var categories = [];\n    var series = map(headers, function (header) {\n        return {\n            name: header,\n            data: []\n        };\n    });\n    for (var i = 0; i < tsvLines.length; i++) {\n        var items = trim(tsvLines[i]).split(itemSplitRegex);\n        categories.push(items.shift());\n        for (var j = 0; j < items.length; j++) {\n            series[j] && (series[j].data[i] = items[j]);\n        }\n    }\n    return {\n        series: series,\n        categories: categories\n    };\n}\n\n/**\n * @param {string} str\n * @return {Array.<Object>}\n * @inner\n */\nfunction parseListContents(str) {\n    var lines = str.split(/\\n+/g);\n    var seriesName = trim(lines.shift());\n\n    var data = [];\n    for (var i = 0; i < lines.length; i++) {\n        var items = trim(lines[i]).split(itemSplitRegex);\n        var name = '';\n        var value;\n        var hasName = false;\n        if (isNaN(items[0])) { // First item is name\n            hasName = true;\n            name = items[0];\n            items = items.slice(1);\n            data[i] = {\n                name: name,\n                value: []\n            };\n            value = data[i].value;\n        }\n        else {\n            value = data[i] = [];\n        }\n        for (var j = 0; j < items.length; j++) {\n            value.push(+items[j]);\n        }\n        if (value.length === 1) {\n            hasName ? (data[i].value = value[0]) : (data[i] = value[0]);\n        }\n    }\n\n    return {\n        name: seriesName,\n        data: data\n    };\n}\n\n/**\n * @param {string} str\n * @param {Array.<Object>} blockMetaList\n * @return {Object}\n * @inner\n */\nfunction parseContents(str, blockMetaList) {\n    var blocks = str.split(new RegExp('\\n*' + BLOCK_SPLITER + '\\n*', 'g'));\n    var newOption = {\n        series: []\n    };\n    each$1(blocks, function (block, idx) {\n        if (isTSVFormat(block)) {\n            var result = parseTSVContents(block);\n            var blockMeta = blockMetaList[idx];\n            var axisKey = blockMeta.axisDim + 'Axis';\n\n            if (blockMeta) {\n                newOption[axisKey] = newOption[axisKey] || [];\n                newOption[axisKey][blockMeta.axisIndex] = {\n                    data: result.categories\n                };\n                newOption.series = newOption.series.concat(result.series);\n            }\n        }\n        else {\n            var result = parseListContents(block);\n            newOption.series.push(result);\n        }\n    });\n    return newOption;\n}\n\n/**\n * @alias {module:echarts/component/toolbox/feature/DataView}\n * @constructor\n * @param {module:echarts/model/Model} model\n */\nfunction DataView(model) {\n\n    this._dom = null;\n\n    this.model = model;\n}\n\nDataView.defaultOption = {\n    show: true,\n    readOnly: false,\n    optionToContent: null,\n    contentToOption: null,\n\n    icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',\n    title: clone(dataViewLang.title),\n    lang: clone(dataViewLang.lang),\n    backgroundColor: '#fff',\n    textColor: '#000',\n    textareaColor: '#fff',\n    textareaBorderColor: '#333',\n    buttonColor: '#c23531',\n    buttonTextColor: '#fff'\n};\n\nDataView.prototype.onclick = function (ecModel, api) {\n    var container = api.getDom();\n    var model = this.model;\n    if (this._dom) {\n        container.removeChild(this._dom);\n    }\n    var root = document.createElement('div');\n    root.style.cssText = 'position:absolute;left:5px;top:5px;bottom:5px;right:5px;';\n    root.style.backgroundColor = model.get('backgroundColor') || '#fff';\n\n    // Create elements\n    var header = document.createElement('h4');\n    var lang$$1 = model.get('lang') || [];\n    header.innerHTML = lang$$1[0] || model.get('title');\n    header.style.cssText = 'margin: 10px 20px;';\n    header.style.color = model.get('textColor');\n\n    var viewMain = document.createElement('div');\n    var textarea = document.createElement('textarea');\n    viewMain.style.cssText = 'display:block;width:100%;overflow:auto;';\n\n    var optionToContent = model.get('optionToContent');\n    var contentToOption = model.get('contentToOption');\n    var result = getContentFromModel(ecModel);\n    if (typeof optionToContent === 'function') {\n        var htmlOrDom = optionToContent(api.getOption());\n        if (typeof htmlOrDom === 'string') {\n            viewMain.innerHTML = htmlOrDom;\n        }\n        else if (isDom(htmlOrDom)) {\n            viewMain.appendChild(htmlOrDom);\n        }\n    }\n    else {\n        // Use default textarea\n        viewMain.appendChild(textarea);\n        textarea.readOnly = model.get('readOnly');\n        textarea.style.cssText = 'width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;';\n        textarea.style.color = model.get('textColor');\n        textarea.style.borderColor = model.get('textareaBorderColor');\n        textarea.style.backgroundColor = model.get('textareaColor');\n        textarea.value = result.value;\n    }\n\n    var blockMetaList = result.meta;\n\n    var buttonContainer = document.createElement('div');\n    buttonContainer.style.cssText = 'position:absolute;bottom:0;left:0;right:0;';\n\n    var buttonStyle = 'float:right;margin-right:20px;border:none;'\n        + 'cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px';\n    var closeButton = document.createElement('div');\n    var refreshButton = document.createElement('div');\n\n    buttonStyle += ';background-color:' + model.get('buttonColor');\n    buttonStyle += ';color:' + model.get('buttonTextColor');\n\n    var self = this;\n\n    function close() {\n        container.removeChild(root);\n        self._dom = null;\n    }\n    addEventListener(closeButton, 'click', close);\n\n    addEventListener(refreshButton, 'click', function () {\n        var newOption;\n        try {\n            if (typeof contentToOption === 'function') {\n                newOption = contentToOption(viewMain, api.getOption());\n            }\n            else {\n                newOption = parseContents(textarea.value, blockMetaList);\n            }\n        }\n        catch (e) {\n            close();\n            throw new Error('Data view format error ' + e);\n        }\n        if (newOption) {\n            api.dispatchAction({\n                type: 'changeDataView',\n                newOption: newOption\n            });\n        }\n\n        close();\n    });\n\n    closeButton.innerHTML = lang$$1[1];\n    refreshButton.innerHTML = lang$$1[2];\n    refreshButton.style.cssText = buttonStyle;\n    closeButton.style.cssText = buttonStyle;\n\n    !model.get('readOnly') && buttonContainer.appendChild(refreshButton);\n    buttonContainer.appendChild(closeButton);\n\n    // http://stackoverflow.com/questions/6637341/use-tab-to-indent-in-textarea\n    addEventListener(textarea, 'keydown', function (e) {\n        if ((e.keyCode || e.which) === 9) {\n            // get caret position/selection\n            var val = this.value;\n            var start = this.selectionStart;\n            var end = this.selectionEnd;\n\n            // set textarea value to: text before caret + tab + text after caret\n            this.value = val.substring(0, start) + ITEM_SPLITER + val.substring(end);\n\n            // put caret at right position again\n            this.selectionStart = this.selectionEnd = start + 1;\n\n            // prevent the focus lose\n            stop(e);\n        }\n    });\n\n    root.appendChild(header);\n    root.appendChild(viewMain);\n    root.appendChild(buttonContainer);\n\n    viewMain.style.height = (container.clientHeight - 80) + 'px';\n\n    container.appendChild(root);\n    this._dom = root;\n};\n\nDataView.prototype.remove = function (ecModel, api) {\n    this._dom && api.getDom().removeChild(this._dom);\n};\n\nDataView.prototype.dispose = function (ecModel, api) {\n    this.remove(ecModel, api);\n};\n\n/**\n * @inner\n */\nfunction tryMergeDataOption(newData, originalData) {\n    return map(newData, function (newVal, idx) {\n        var original = originalData && originalData[idx];\n        if (isObject(original) && !isArray(original)) {\n            if (isObject(newVal) && !isArray(newVal)) {\n                newVal = newVal.value;\n            }\n            // Original data has option\n            return defaults({\n                value: newVal\n            }, original);\n        }\n        else {\n            return newVal;\n        }\n    });\n}\n\nregister$1('dataView', DataView);\n\nregisterAction({\n    type: 'changeDataView',\n    event: 'dataViewChanged',\n    update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n    var newSeriesOptList = [];\n    each$1(payload.newOption.series, function (seriesOpt) {\n        var seriesModel = ecModel.getSeriesByName(seriesOpt.name)[0];\n        if (!seriesModel) {\n            // New created series\n            // Geuss the series type\n            newSeriesOptList.push(extend({\n                // Default is scatter\n                type: 'scatter'\n            }, seriesOpt));\n        }\n        else {\n            var originalData = seriesModel.get('data');\n            newSeriesOptList.push({\n                name: seriesOpt.name,\n                data: tryMergeDataOption(seriesOpt.data, originalData)\n            });\n        }\n    });\n\n    ecModel.mergeOption(defaults({\n        series: newSeriesOptList\n    }, payload.newOption));\n});\n\nvar each$32 = each$1;\n\nvar ATTR$2 = '\\0_ec_hist_store';\n\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} newSnapshot {dataZoomId, batch: [payloadInfo, ...]}\n */\nfunction push(ecModel, newSnapshot) {\n    var store = giveStore$1(ecModel);\n\n    // If previous dataZoom can not be found,\n    // complete an range with current range.\n    each$32(newSnapshot, function (batchItem, dataZoomId) {\n        var i = store.length - 1;\n        for (; i >= 0; i--) {\n            var snapshot = store[i];\n            if (snapshot[dataZoomId]) {\n                break;\n            }\n        }\n        if (i < 0) {\n            // No origin range set, create one by current range.\n            var dataZoomModel = ecModel.queryComponents(\n                {mainType: 'dataZoom', subType: 'select', id: dataZoomId}\n            )[0];\n            if (dataZoomModel) {\n                var percentRange = dataZoomModel.getPercentRange();\n                store[0][dataZoomId] = {\n                    dataZoomId: dataZoomId,\n                    start: percentRange[0],\n                    end: percentRange[1]\n                };\n            }\n        }\n    });\n\n    store.push(newSnapshot);\n}\n\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} snapshot\n */\nfunction pop(ecModel) {\n    var store = giveStore$1(ecModel);\n    var head = store[store.length - 1];\n    store.length > 1 && store.pop();\n\n    // Find top for all dataZoom.\n    var snapshot = {};\n    each$32(head, function (batchItem, dataZoomId) {\n        for (var i = store.length - 1; i >= 0; i--) {\n            var batchItem = store[i][dataZoomId];\n            if (batchItem) {\n                snapshot[dataZoomId] = batchItem;\n                break;\n            }\n        }\n    });\n\n    return snapshot;\n}\n\n/**\n * @param {module:echarts/model/Global} ecModel\n */\nfunction clear$1(ecModel) {\n    ecModel[ATTR$2] = null;\n}\n\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {number} records. always >= 1.\n */\nfunction count(ecModel) {\n    return giveStore$1(ecModel).length;\n}\n\n/**\n * [{key: dataZoomId, value: {dataZoomId, range}}, ...]\n * History length of each dataZoom may be different.\n * this._history[0] is used to store origin range.\n * @type {Array.<Object>}\n */\nfunction giveStore$1(ecModel) {\n    var store = ecModel[ATTR$2];\n    if (!store) {\n        store = ecModel[ATTR$2] = [{}];\n    }\n    return store;\n}\n\nDataZoomModel.extend({\n    type: 'dataZoom.select'\n});\n\nDataZoomView.extend({\n    type: 'dataZoom.select'\n});\n\n/**\n * DataZoom component entry\n */\n\n// Use dataZoomSelect\nvar dataZoomLang = lang.toolbox.dataZoom;\nvar each$31 = each$1;\n\n// Spectial component id start with \\0ec\\0, see echarts/model/Global.js~hasInnerId\nvar DATA_ZOOM_ID_BASE = '\\0_ec_\\0toolbox-dataZoom_';\n\nfunction DataZoom(model, ecModel, api) {\n\n    /**\n     * @private\n     * @type {module:echarts/component/helper/BrushController}\n     */\n    (this._brushController = new BrushController(api.getZr()))\n        .on('brush', bind(this._onBrush, this))\n        .mount();\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this._isZoomActive;\n}\n\nDataZoom.defaultOption = {\n    show: true,\n    // Icon group\n    icon: {\n        zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n        back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n    },\n    // `zoom`, `back`\n    title: clone(dataZoomLang.title)\n};\n\nvar proto$4 = DataZoom.prototype;\n\nproto$4.render = function (featureModel, ecModel, api, payload) {\n    this.model = featureModel;\n    this.ecModel = ecModel;\n    this.api = api;\n\n    updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n    updateBackBtnStatus(featureModel, ecModel);\n};\n\nproto$4.onclick = function (ecModel, api, type) {\n    handlers$1[type].call(this);\n};\n\nproto$4.remove = function (ecModel, api) {\n    this._brushController.unmount();\n};\n\nproto$4.dispose = function (ecModel, api) {\n    this._brushController.dispose();\n};\n\n/**\n * @private\n */\nvar handlers$1 = {\n\n    zoom: function () {\n        var nextActive = !this._isZoomActive;\n\n        this.api.dispatchAction({\n            type: 'takeGlobalCursor',\n            key: 'dataZoomSelect',\n            dataZoomSelectActive: nextActive\n        });\n    },\n\n    back: function () {\n        this._dispatchZoomAction(pop(this.ecModel));\n    }\n};\n\n/**\n * @private\n */\nproto$4._onBrush = function (areas, opt) {\n    if (!opt.isEnd || !areas.length) {\n        return;\n    }\n    var snapshot = {};\n    var ecModel = this.ecModel;\n\n    this._brushController.updateCovers([]); // remove cover\n\n    var brushTargetManager = new BrushTargetManager(\n        retrieveAxisSetting(this.model.option), ecModel, {include: ['grid']}\n    );\n    brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n        if (coordSys.type !== 'cartesian2d') {\n            return;\n        }\n\n        var brushType = area.brushType;\n        if (brushType === 'rect') {\n            setBatch('x', coordSys, coordRange[0]);\n            setBatch('y', coordSys, coordRange[1]);\n        }\n        else {\n            setBatch(({lineX: 'x', lineY: 'y'})[brushType], coordSys, coordRange);\n        }\n    });\n\n    push(ecModel, snapshot);\n\n    this._dispatchZoomAction(snapshot);\n\n    function setBatch(dimName, coordSys, minMax) {\n        var axis = coordSys.getAxis(dimName);\n        var axisModel = axis.model;\n        var dataZoomModel = findDataZoom(dimName, axisModel, ecModel);\n\n        // Restrict range.\n        var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n        if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n            minMax = sliderMove(\n                0, minMax.slice(), axis.scale.getExtent(), 0,\n                minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan\n            );\n        }\n\n        dataZoomModel && (snapshot[dataZoomModel.id] = {\n            dataZoomId: dataZoomModel.id,\n            startValue: minMax[0],\n            endValue: minMax[1]\n        });\n    }\n\n    function findDataZoom(dimName, axisModel, ecModel) {\n        var found;\n        ecModel.eachComponent({mainType: 'dataZoom', subType: 'select'}, function (dzModel) {\n            var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n            has && (found = dzModel);\n        });\n        return found;\n    }\n};\n\n/**\n * @private\n */\nproto$4._dispatchZoomAction = function (snapshot) {\n    var batch = [];\n\n    // Convert from hash map to array.\n    each$31(snapshot, function (batchItem, dataZoomId) {\n        batch.push(clone(batchItem));\n    });\n\n    batch.length && this.api.dispatchAction({\n        type: 'dataZoom',\n        from: this.uid,\n        batch: batch\n    });\n};\n\nfunction retrieveAxisSetting(option) {\n    var setting = {};\n    // Compatible with previous setting: null => all axis, false => no axis.\n    each$1(['xAxisIndex', 'yAxisIndex'], function (name) {\n        setting[name] = option[name];\n        setting[name] == null && (setting[name] = 'all');\n        (setting[name] === false || setting[name] === 'none') && (setting[name] = []);\n    });\n    return setting;\n}\n\nfunction updateBackBtnStatus(featureModel, ecModel) {\n    featureModel.setIconStatus(\n        'back',\n        count(ecModel) > 1 ? 'emphasis' : 'normal'\n    );\n}\n\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n    var zoomActive = view._isZoomActive;\n\n    if (payload && payload.type === 'takeGlobalCursor') {\n        zoomActive = payload.key === 'dataZoomSelect'\n            ? payload.dataZoomSelectActive : false;\n    }\n\n    view._isZoomActive = zoomActive;\n\n    featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n\n    var brushTargetManager = new BrushTargetManager(\n        retrieveAxisSetting(featureModel.option), ecModel, {include: ['grid']}\n    );\n\n    view._brushController\n        .setPanels(brushTargetManager.makePanelOpts(api, function (targetInfo) {\n            return (targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared)\n                ? 'lineX'\n                : (!targetInfo.xAxisDeclared && targetInfo.yAxisDeclared)\n                ? 'lineY'\n                : 'rect';\n        }))\n        .enableBrush(\n            zoomActive\n            ? {\n                brushType: 'auto',\n                brushStyle: {\n                    // FIXME user customized?\n                    lineWidth: 0,\n                    fill: 'rgba(0,0,0,0.2)'\n                }\n            }\n            : false\n        );\n}\n\n\nregister$1('dataZoom', DataZoom);\n\n\n// Create special dataZoom option for select\nregisterPreprocessor(function (option) {\n    if (!option) {\n        return;\n    }\n\n    var dataZoomOpts = option.dataZoom || (option.dataZoom = []);\n    if (!isArray(dataZoomOpts)) {\n        option.dataZoom = dataZoomOpts = [dataZoomOpts];\n    }\n\n    var toolboxOpt = option.toolbox;\n    if (toolboxOpt) {\n        // Assume there is only one toolbox\n        if (isArray(toolboxOpt)) {\n            toolboxOpt = toolboxOpt[0];\n        }\n\n        if (toolboxOpt && toolboxOpt.feature) {\n            var dataZoomOpt = toolboxOpt.feature.dataZoom;\n            addForAxis('xAxis', dataZoomOpt);\n            addForAxis('yAxis', dataZoomOpt);\n        }\n    }\n\n    function addForAxis(axisName, dataZoomOpt) {\n        if (!dataZoomOpt) {\n            return;\n        }\n\n        // Try not to modify model, because it is not merged yet.\n        var axisIndicesName = axisName + 'Index';\n        var givenAxisIndices = dataZoomOpt[axisIndicesName];\n        if (givenAxisIndices != null\n            && givenAxisIndices != 'all'\n            && !isArray(givenAxisIndices)\n        ) {\n            givenAxisIndices = (givenAxisIndices === false || givenAxisIndices === 'none') ? [] : [givenAxisIndices];\n        }\n\n        forEachComponent(axisName, function (axisOpt, axisIndex) {\n            if (givenAxisIndices != null\n                && givenAxisIndices != 'all'\n                && indexOf(givenAxisIndices, axisIndex) === -1\n            ) {\n                return;\n            }\n            var newOpt = {\n                type: 'select',\n                $fromToolbox: true,\n                // Id for merge mapping.\n                id: DATA_ZOOM_ID_BASE + axisName + axisIndex\n            };\n            // FIXME\n            // Only support one axis now.\n            newOpt[axisIndicesName] = axisIndex;\n            dataZoomOpts.push(newOpt);\n        });\n    }\n\n    function forEachComponent(mainType, cb) {\n        var opts = option[mainType];\n        if (!isArray(opts)) {\n            opts = opts ? [opts] : [];\n        }\n        each$31(opts, cb);\n    }\n});\n\nvar restoreLang = lang.toolbox.restore;\n\nfunction Restore(model) {\n    this.model = model;\n}\n\nRestore.defaultOption = {\n    show: true,\n    icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',\n    title: restoreLang.title\n};\n\nvar proto$5 = Restore.prototype;\n\nproto$5.onclick = function (ecModel, api, type) {\n    clear$1(ecModel);\n\n    api.dispatchAction({\n        type: 'restore',\n        from: this.uid\n    });\n};\n\nregister$1('restore', Restore);\n\nregisterAction(\n    {type: 'restore', event: 'restore', update: 'prepareAndUpdate'},\n    function (payload, ecModel) {\n        ecModel.resetOption('recreate');\n    }\n);\n\nvar urn = 'urn:schemas-microsoft-com:vml';\nvar win = typeof window === 'undefined' ? null : window;\n\nvar vmlInited = false;\n\nvar doc = win && win.document;\n\nfunction createNode(tagName) {\n    return doCreateNode(tagName);\n}\n\n// Avoid assign to an exported variable, for transforming to cjs.\nvar doCreateNode;\n\nif (doc && !env$1.canvasSupported) {\n    try {\n        !doc.namespaces.zrvml && doc.namespaces.add('zrvml', urn);\n        doCreateNode = function (tagName) {\n            return doc.createElement('<zrvml:' + tagName + ' class=\"zrvml\">');\n        };\n    }\n    catch (e) {\n        doCreateNode = function (tagName) {\n            return doc.createElement('<' + tagName + ' xmlns=\"' + urn + '\" class=\"zrvml\">');\n        };\n    }\n}\n\n// From raphael\nfunction initVML() {\n    if (vmlInited || !doc) {\n        return;\n    }\n    vmlInited = true;\n\n    var styleSheets = doc.styleSheets;\n    if (styleSheets.length < 31) {\n        doc.createStyleSheet().addRule('.zrvml', 'behavior:url(#default#VML)');\n    }\n    else {\n        // http://msdn.microsoft.com/en-us/library/ms531194%28VS.85%29.aspx\n        styleSheets[0].addRule('.zrvml', 'behavior:url(#default#VML)');\n    }\n}\n\n// http://www.w3.org/TR/NOTE-VML\n// TODO Use proxy like svg instead of overwrite brush methods\n\nvar CMD$3 = PathProxy.CMD;\nvar round$3 = Math.round;\nvar sqrt = Math.sqrt;\nvar abs$1 = Math.abs;\nvar cos = Math.cos;\nvar sin = Math.sin;\nvar mathMax$8 = Math.max;\n\nif (!env$1.canvasSupported) {\n\n    var comma = ',';\n    var imageTransformPrefix = 'progid:DXImageTransform.Microsoft';\n\n    var Z = 21600;\n    var Z2 = Z / 2;\n\n    var ZLEVEL_BASE = 100000;\n    var Z_BASE$1 = 1000;\n\n    var initRootElStyle = function (el) {\n        el.style.cssText = 'position:absolute;left:0;top:0;width:1px;height:1px;';\n        el.coordsize = Z + ','  + Z;\n        el.coordorigin = '0,0';\n    };\n\n    var encodeHtmlAttribute = function (s) {\n        return String(s).replace(/&/g, '&amp;').replace(/\"/g, '&quot;');\n    };\n\n    var rgb2Str = function (r, g, b) {\n        return 'rgb(' + [r, g, b].join(',') + ')';\n    };\n\n    var append = function (parent, child) {\n        if (child && parent && child.parentNode !== parent) {\n            parent.appendChild(child);\n        }\n    };\n\n    var remove = function (parent, child) {\n        if (child && parent && child.parentNode === parent) {\n            parent.removeChild(child);\n        }\n    };\n\n    var getZIndex = function (zlevel, z, z2) {\n        // z  [0, 1000]\n        return (parseFloat(zlevel) || 0) * ZLEVEL_BASE + (parseFloat(z) || 0) * Z_BASE$1 + z2;\n    };\n\n    var parsePercent$3 = function (value, maxValue) {\n        if (typeof value === 'string') {\n            if (value.lastIndexOf('%') >= 0) {\n                return parseFloat(value) / 100 * maxValue;\n            }\n            return parseFloat(value);\n        }\n        return value;\n    };\n\n    /***************************************************\n     * PATH\n     **************************************************/\n\n    var setColorAndOpacity = function (el, color, opacity) {\n        var colorArr = parse(color);\n        opacity = +opacity;\n        if (isNaN(opacity)) {\n            opacity = 1;\n        }\n        if (colorArr) {\n            el.color = rgb2Str(colorArr[0], colorArr[1], colorArr[2]);\n            el.opacity = opacity * colorArr[3];\n        }\n    };\n\n    var getColorAndAlpha = function (color) {\n        var colorArr = parse(color);\n        return [\n            rgb2Str(colorArr[0], colorArr[1], colorArr[2]),\n            colorArr[3]\n        ];\n    };\n\n    var updateFillNode = function (el, style, zrEl) {\n        // TODO pattern\n        var fill = style.fill;\n        if (fill != null) {\n            // Modified from excanvas\n            if (fill instanceof Gradient) {\n                var gradientType;\n                var angle = 0;\n                var focus = [0, 0];\n                // additional offset\n                var shift = 0;\n                // scale factor for offset\n                var expansion = 1;\n                var rect = zrEl.getBoundingRect();\n                var rectWidth = rect.width;\n                var rectHeight = rect.height;\n                if (fill.type === 'linear') {\n                    gradientType = 'gradient';\n                    var transform = zrEl.transform;\n                    var p0 = [fill.x * rectWidth, fill.y * rectHeight];\n                    var p1 = [fill.x2 * rectWidth, fill.y2 * rectHeight];\n                    if (transform) {\n                        applyTransform(p0, p0, transform);\n                        applyTransform(p1, p1, transform);\n                    }\n                    var dx = p1[0] - p0[0];\n                    var dy = p1[1] - p0[1];\n                    angle = Math.atan2(dx, dy) * 180 / Math.PI;\n                    // The angle should be a non-negative number.\n                    if (angle < 0) {\n                        angle += 360;\n                    }\n\n                    // Very small angles produce an unexpected result because they are\n                    // converted to a scientific notation string.\n                    if (angle < 1e-6) {\n                        angle = 0;\n                    }\n                }\n                else {\n                    gradientType = 'gradientradial';\n                    var p0 = [fill.x * rectWidth, fill.y * rectHeight];\n                    var transform = zrEl.transform;\n                    var scale$$1 = zrEl.scale;\n                    var width = rectWidth;\n                    var height = rectHeight;\n                    focus = [\n                        // Percent in bounding rect\n                        (p0[0] - rect.x) / width,\n                        (p0[1] - rect.y) / height\n                    ];\n                    if (transform) {\n                        applyTransform(p0, p0, transform);\n                    }\n\n                    width /= scale$$1[0] * Z;\n                    height /= scale$$1[1] * Z;\n                    var dimension = mathMax$8(width, height);\n                    shift = 2 * 0 / dimension;\n                    expansion = 2 * fill.r / dimension - shift;\n                }\n\n                // We need to sort the color stops in ascending order by offset,\n                // otherwise IE won't interpret it correctly.\n                var stops = fill.colorStops.slice();\n                stops.sort(function(cs1, cs2) {\n                    return cs1.offset - cs2.offset;\n                });\n\n                var length$$1 = stops.length;\n                // Color and alpha list of first and last stop\n                var colorAndAlphaList = [];\n                var colors = [];\n                for (var i = 0; i < length$$1; i++) {\n                    var stop = stops[i];\n                    var colorAndAlpha = getColorAndAlpha(stop.color);\n                    colors.push(stop.offset * expansion + shift + ' ' + colorAndAlpha[0]);\n                    if (i === 0 || i === length$$1 - 1) {\n                        colorAndAlphaList.push(colorAndAlpha);\n                    }\n                }\n\n                if (length$$1 >= 2) {\n                    var color1 = colorAndAlphaList[0][0];\n                    var color2 = colorAndAlphaList[1][0];\n                    var opacity1 = colorAndAlphaList[0][1] * style.opacity;\n                    var opacity2 = colorAndAlphaList[1][1] * style.opacity;\n\n                    el.type = gradientType;\n                    el.method = 'none';\n                    el.focus = '100%';\n                    el.angle = angle;\n                    el.color = color1;\n                    el.color2 = color2;\n                    el.colors = colors.join(',');\n                    // When colors attribute is used, the meanings of opacity and o:opacity2\n                    // are reversed.\n                    el.opacity = opacity2;\n                    // FIXME g_o_:opacity ?\n                    el.opacity2 = opacity1;\n                }\n                if (gradientType === 'radial') {\n                    el.focusposition = focus.join(',');\n                }\n            }\n            else {\n                // FIXME Change from Gradient fill to color fill\n                setColorAndOpacity(el, fill, style.opacity);\n            }\n        }\n    };\n\n    var updateStrokeNode = function (el, style) {\n        // if (style.lineJoin != null) {\n        //     el.joinstyle = style.lineJoin;\n        // }\n        // if (style.miterLimit != null) {\n        //     el.miterlimit = style.miterLimit * Z;\n        // }\n        // if (style.lineCap != null) {\n        //     el.endcap = style.lineCap;\n        // }\n        if (style.lineDash != null) {\n            el.dashstyle = style.lineDash.join(' ');\n        }\n        if (style.stroke != null && !(style.stroke instanceof Gradient)) {\n            setColorAndOpacity(el, style.stroke, style.opacity);\n        }\n    };\n\n    var updateFillAndStroke = function (vmlEl, type, style, zrEl) {\n        var isFill = type == 'fill';\n        var el = vmlEl.getElementsByTagName(type)[0];\n        // Stroke must have lineWidth\n        if (style[type] != null && style[type] !== 'none' && (isFill || (!isFill && style.lineWidth))) {\n            vmlEl[isFill ? 'filled' : 'stroked'] = 'true';\n            // FIXME Remove before updating, or set `colors` will throw error\n            if (style[type] instanceof Gradient) {\n                remove(vmlEl, el);\n            }\n            if (!el) {\n                el = createNode(type);\n            }\n\n            isFill ? updateFillNode(el, style, zrEl) : updateStrokeNode(el, style);\n            append(vmlEl, el);\n        }\n        else {\n            vmlEl[isFill ? 'filled' : 'stroked'] = 'false';\n            remove(vmlEl, el);\n        }\n    };\n\n    var points$3 = [[], [], []];\n    var pathDataToString = function (path, m) {\n        var M = CMD$3.M;\n        var C = CMD$3.C;\n        var L = CMD$3.L;\n        var A = CMD$3.A;\n        var Q = CMD$3.Q;\n\n        var str = [];\n        var nPoint;\n        var cmdStr;\n        var cmd;\n        var i;\n        var xi;\n        var yi;\n        var data = path.data;\n        var dataLength = path.len();\n        for (i = 0; i < dataLength;) {\n            cmd = data[i++];\n            cmdStr = '';\n            nPoint = 0;\n            switch (cmd) {\n                case M:\n                    cmdStr = ' m ';\n                    nPoint = 1;\n                    xi = data[i++];\n                    yi = data[i++];\n                    points$3[0][0] = xi;\n                    points$3[0][1] = yi;\n                    break;\n                case L:\n                    cmdStr = ' l ';\n                    nPoint = 1;\n                    xi = data[i++];\n                    yi = data[i++];\n                    points$3[0][0] = xi;\n                    points$3[0][1] = yi;\n                    break;\n                case Q:\n                case C:\n                    cmdStr = ' c ';\n                    nPoint = 3;\n                    var x1 = data[i++];\n                    var y1 = data[i++];\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    var x3;\n                    var y3;\n                    if (cmd === Q) {\n                        // Convert quadratic to cubic using degree elevation\n                        x3 = x2;\n                        y3 = y2;\n                        x2 = (x2 + 2 * x1) / 3;\n                        y2 = (y2 + 2 * y1) / 3;\n                        x1 = (xi + 2 * x1) / 3;\n                        y1 = (yi + 2 * y1) / 3;\n                    }\n                    else {\n                        x3 = data[i++];\n                        y3 = data[i++];\n                    }\n                    points$3[0][0] = x1;\n                    points$3[0][1] = y1;\n                    points$3[1][0] = x2;\n                    points$3[1][1] = y2;\n                    points$3[2][0] = x3;\n                    points$3[2][1] = y3;\n\n                    xi = x3;\n                    yi = y3;\n                    break;\n                case A:\n                    var x = 0;\n                    var y = 0;\n                    var sx = 1;\n                    var sy = 1;\n                    var angle = 0;\n                    if (m) {\n                        // Extract SRT from matrix\n                        x = m[4];\n                        y = m[5];\n                        sx = sqrt(m[0] * m[0] + m[1] * m[1]);\n                        sy = sqrt(m[2] * m[2] + m[3] * m[3]);\n                        angle = Math.atan2(-m[1] / sy, m[0] / sx);\n                    }\n\n                    var cx = data[i++];\n                    var cy = data[i++];\n                    var rx = data[i++];\n                    var ry = data[i++];\n                    var startAngle = data[i++] + angle;\n                    var endAngle = data[i++] + startAngle + angle;\n                    // FIXME\n                    // var psi = data[i++];\n                    i++;\n                    var clockwise = data[i++];\n\n                    var x0 = cx + cos(startAngle) * rx;\n                    var y0 = cy + sin(startAngle) * ry;\n\n                    var x1 = cx + cos(endAngle) * rx;\n                    var y1 = cy + sin(endAngle) * ry;\n\n                    var type = clockwise ? ' wa ' : ' at ';\n                    if (Math.abs(x0 - x1) < 1e-4) {\n                        // IE won't render arches drawn counter clockwise if x0 == x1.\n                        if (Math.abs(endAngle - startAngle) > 1e-2) {\n                            // Offset x0 by 1/80 of a pixel. Use something\n                            // that can be represented in binary\n                            if (clockwise) {\n                                x0 += 270 / Z;\n                            }\n                        }\n                        else {\n                            // Avoid case draw full circle\n                            if (Math.abs(y0 - cy) < 1e-4) {\n                                if ((clockwise && x0 < cx) || (!clockwise && x0 > cx)) {\n                                    y1 -= 270 / Z;\n                                }\n                                else {\n                                    y1 += 270 / Z;\n                                }\n                            }\n                            else if ((clockwise && y0 < cy) || (!clockwise && y0 > cy)) {\n                                x1 += 270 / Z;\n                            }\n                            else {\n                                x1 -= 270 / Z;\n                            }\n                        }\n                    }\n                    str.push(\n                        type,\n                        round$3(((cx - rx) * sx + x) * Z - Z2), comma,\n                        round$3(((cy - ry) * sy + y) * Z - Z2), comma,\n                        round$3(((cx + rx) * sx + x) * Z - Z2), comma,\n                        round$3(((cy + ry) * sy + y) * Z - Z2), comma,\n                        round$3((x0 * sx + x) * Z - Z2), comma,\n                        round$3((y0 * sy + y) * Z - Z2), comma,\n                        round$3((x1 * sx + x) * Z - Z2), comma,\n                        round$3((y1 * sy + y) * Z - Z2)\n                    );\n\n                    xi = x1;\n                    yi = y1;\n                    break;\n                case CMD$3.R:\n                    var p0 = points$3[0];\n                    var p1 = points$3[1];\n                    // x0, y0\n                    p0[0] = data[i++];\n                    p0[1] = data[i++];\n                    // x1, y1\n                    p1[0] = p0[0] + data[i++];\n                    p1[1] = p0[1] + data[i++];\n\n                    if (m) {\n                        applyTransform(p0, p0, m);\n                        applyTransform(p1, p1, m);\n                    }\n\n                    p0[0] = round$3(p0[0] * Z - Z2);\n                    p1[0] = round$3(p1[0] * Z - Z2);\n                    p0[1] = round$3(p0[1] * Z - Z2);\n                    p1[1] = round$3(p1[1] * Z - Z2);\n                    str.push(\n                        // x0, y0\n                        ' m ', p0[0], comma, p0[1],\n                        // x1, y0\n                        ' l ', p1[0], comma, p0[1],\n                        // x1, y1\n                        ' l ', p1[0], comma, p1[1],\n                        // x0, y1\n                        ' l ', p0[0], comma, p1[1]\n                    );\n                    break;\n                case CMD$3.Z:\n                    // FIXME Update xi, yi\n                    str.push(' x ');\n            }\n\n            if (nPoint > 0) {\n                str.push(cmdStr);\n                for (var k = 0; k < nPoint; k++) {\n                    var p = points$3[k];\n\n                    m && applyTransform(p, p, m);\n                    //  round \n                    str.push(\n                        round$3(p[0] * Z - Z2), comma, round$3(p[1] * Z - Z2),\n                        k < nPoint - 1 ? comma : ''\n                    );\n                }\n            }\n        }\n\n        return str.join('');\n    };\n\n    // Rewrite the original path method\n    Path.prototype.brushVML = function (vmlRoot) {\n        var style = this.style;\n\n        var vmlEl = this._vmlEl;\n        if (!vmlEl) {\n            vmlEl = createNode('shape');\n            initRootElStyle(vmlEl);\n\n            this._vmlEl = vmlEl;\n        }\n\n        updateFillAndStroke(vmlEl, 'fill', style, this);\n        updateFillAndStroke(vmlEl, 'stroke', style, this);\n\n        var m = this.transform;\n        var needTransform = m != null;\n        var strokeEl = vmlEl.getElementsByTagName('stroke')[0];\n        if (strokeEl) {\n            var lineWidth = style.lineWidth;\n            // Get the line scale.\n            // Determinant of this.m_ means how much the area is enlarged by the\n            // transformation. So its square root can be used as a scale factor\n            // for width.\n            if (needTransform && !style.strokeNoScale) {\n                var det = m[0] * m[3] - m[1] * m[2];\n                lineWidth *= sqrt(abs$1(det));\n            }\n            strokeEl.weight = lineWidth + 'px';\n        }\n\n        var path = this.path || (this.path = new PathProxy());\n        if (this.__dirtyPath) {\n            path.beginPath();\n            this.buildPath(path, this.shape);\n            path.toStatic();\n            this.__dirtyPath = false;\n        }\n\n        vmlEl.path = pathDataToString(path, this.transform);\n\n        vmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2);\n\n        // Append to root\n        append(vmlRoot, vmlEl);\n\n        // Text\n        if (style.text != null) {\n            this.drawRectText(vmlRoot, this.getBoundingRect());\n        }\n        else {\n            this.removeRectText(vmlRoot);\n        }\n    };\n\n    Path.prototype.onRemove = function (vmlRoot) {\n        remove(vmlRoot, this._vmlEl);\n        this.removeRectText(vmlRoot);\n    };\n\n    Path.prototype.onAdd = function (vmlRoot) {\n        append(vmlRoot, this._vmlEl);\n        this.appendRectText(vmlRoot);\n    };\n\n    /***************************************************\n     * IMAGE\n     **************************************************/\n    var isImage = function (img) {\n        // FIXME img instanceof Image  img IE8 \n        return (typeof img === 'object') && img.tagName && img.tagName.toUpperCase() === 'IMG';\n        // return img instanceof Image;\n    };\n\n    // Rewrite the original path method\n    ZImage.prototype.brushVML = function (vmlRoot) {\n        var style = this.style;\n        var image = style.image;\n\n        // Image original width, height\n        var ow;\n        var oh;\n\n        if (isImage(image)) {\n            var src = image.src;\n            if (src === this._imageSrc) {\n                ow = this._imageWidth;\n                oh = this._imageHeight;\n            }\n            else {\n                var imageRuntimeStyle = image.runtimeStyle;\n                var oldRuntimeWidth = imageRuntimeStyle.width;\n                var oldRuntimeHeight = imageRuntimeStyle.height;\n                imageRuntimeStyle.width = 'auto';\n                imageRuntimeStyle.height = 'auto';\n\n                // get the original size\n                ow = image.width;\n                oh = image.height;\n\n                // and remove overides\n                imageRuntimeStyle.width = oldRuntimeWidth;\n                imageRuntimeStyle.height = oldRuntimeHeight;\n\n                // Caching image original width, height and src\n                this._imageSrc = src;\n                this._imageWidth = ow;\n                this._imageHeight = oh;\n            }\n            image = src;\n        }\n        else {\n            if (image === this._imageSrc) {\n                ow = this._imageWidth;\n                oh = this._imageHeight;\n            }\n        }\n        if (!image) {\n            return;\n        }\n\n        var x = style.x || 0;\n        var y = style.y || 0;\n\n        var dw = style.width;\n        var dh = style.height;\n\n        var sw = style.sWidth;\n        var sh = style.sHeight;\n        var sx = style.sx || 0;\n        var sy = style.sy || 0;\n\n        var hasCrop = sw && sh;\n\n        var vmlEl = this._vmlEl;\n        if (!vmlEl) {\n            // FIXME  group  left, top  0 \n            // vmlEl = vmlCore.createNode('group');\n            vmlEl = doc.createElement('div');\n            initRootElStyle(vmlEl);\n\n            this._vmlEl = vmlEl;\n        }\n\n        var vmlElStyle = vmlEl.style;\n        var hasRotation = false;\n        var m;\n        var scaleX = 1;\n        var scaleY = 1;\n        if (this.transform) {\n            m = this.transform;\n            scaleX = sqrt(m[0] * m[0] + m[1] * m[1]);\n            scaleY = sqrt(m[2] * m[2] + m[3] * m[3]);\n\n            hasRotation = m[1] || m[2];\n        }\n        if (hasRotation) {\n            // If filters are necessary (rotation exists), create them\n            // filters are bog-slow, so only create them if abbsolutely necessary\n            // The following check doesn't account for skews (which don't exist\n            // in the canvas spec (yet) anyway.\n            // From excanvas\n            var p0 = [x, y];\n            var p1 = [x + dw, y];\n            var p2 = [x, y + dh];\n            var p3 = [x + dw, y + dh];\n            applyTransform(p0, p0, m);\n            applyTransform(p1, p1, m);\n            applyTransform(p2, p2, m);\n            applyTransform(p3, p3, m);\n\n            var maxX = mathMax$8(p0[0], p1[0], p2[0], p3[0]);\n            var maxY = mathMax$8(p0[1], p1[1], p2[1], p3[1]);\n\n            var transformFilter = [];\n            transformFilter.push('M11=', m[0] / scaleX, comma,\n                        'M12=', m[2] / scaleY, comma,\n                        'M21=', m[1] / scaleX, comma,\n                        'M22=', m[3] / scaleY, comma,\n                        'Dx=', round$3(x * scaleX + m[4]), comma,\n                        'Dy=', round$3(y * scaleY + m[5]));\n\n            vmlElStyle.padding = '0 ' + round$3(maxX) + 'px ' + round$3(maxY) + 'px 0';\n            // FIXME DXImageTransform  IE11 \n            vmlElStyle.filter = imageTransformPrefix + '.Matrix('\n                + transformFilter.join('') + ', SizingMethod=clip)';\n\n        }\n        else {\n            if (m) {\n                x = x * scaleX + m[4];\n                y = y * scaleY + m[5];\n            }\n            vmlElStyle.filter = '';\n            vmlElStyle.left = round$3(x) + 'px';\n            vmlElStyle.top = round$3(y) + 'px';\n        }\n\n        var imageEl = this._imageEl;\n        var cropEl = this._cropEl;\n\n        if (!imageEl) {\n            imageEl = doc.createElement('div');\n            this._imageEl = imageEl;\n        }\n        var imageELStyle = imageEl.style;\n        if (hasCrop) {\n            // Needs know image original width and height\n            if (! (ow && oh)) {\n                var tmpImage = new Image();\n                var self = this;\n                tmpImage.onload = function () {\n                    tmpImage.onload = null;\n                    ow = tmpImage.width;\n                    oh = tmpImage.height;\n                    // Adjust image width and height to fit the ratio destinationSize / sourceSize\n                    imageELStyle.width = round$3(scaleX * ow * dw / sw) + 'px';\n                    imageELStyle.height = round$3(scaleY * oh * dh / sh) + 'px';\n\n                    // Caching image original width, height and src\n                    self._imageWidth = ow;\n                    self._imageHeight = oh;\n                    self._imageSrc = image;\n                };\n                tmpImage.src = image;\n            }\n            else {\n                imageELStyle.width = round$3(scaleX * ow * dw / sw) + 'px';\n                imageELStyle.height = round$3(scaleY * oh * dh / sh) + 'px';\n            }\n\n            if (! cropEl) {\n                cropEl = doc.createElement('div');\n                cropEl.style.overflow = 'hidden';\n                this._cropEl = cropEl;\n            }\n            var cropElStyle = cropEl.style;\n            cropElStyle.width = round$3((dw + sx * dw / sw) * scaleX);\n            cropElStyle.height = round$3((dh + sy * dh / sh) * scaleY);\n            cropElStyle.filter = imageTransformPrefix + '.Matrix(Dx='\n                    + (-sx * dw / sw * scaleX) + ',Dy=' + (-sy * dh / sh * scaleY) + ')';\n\n            if (! cropEl.parentNode) {\n                vmlEl.appendChild(cropEl);\n            }\n            if (imageEl.parentNode != cropEl) {\n                cropEl.appendChild(imageEl);\n            }\n        }\n        else {\n            imageELStyle.width = round$3(scaleX * dw) + 'px';\n            imageELStyle.height = round$3(scaleY * dh) + 'px';\n\n            vmlEl.appendChild(imageEl);\n\n            if (cropEl && cropEl.parentNode) {\n                vmlEl.removeChild(cropEl);\n                this._cropEl = null;\n            }\n        }\n\n        var filterStr = '';\n        var alpha = style.opacity;\n        if (alpha < 1) {\n            filterStr += '.Alpha(opacity=' + round$3(alpha * 100) + ') ';\n        }\n        filterStr += imageTransformPrefix + '.AlphaImageLoader(src=' + image + ', SizingMethod=scale)';\n\n        imageELStyle.filter = filterStr;\n\n        vmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2);\n\n        // Append to root\n        append(vmlRoot, vmlEl);\n\n        // Text\n        if (style.text != null) {\n            this.drawRectText(vmlRoot, this.getBoundingRect());\n        }\n    };\n\n    ZImage.prototype.onRemove = function (vmlRoot) {\n        remove(vmlRoot, this._vmlEl);\n\n        this._vmlEl = null;\n        this._cropEl = null;\n        this._imageEl = null;\n\n        this.removeRectText(vmlRoot);\n    };\n\n    ZImage.prototype.onAdd = function (vmlRoot) {\n        append(vmlRoot, this._vmlEl);\n        this.appendRectText(vmlRoot);\n    };\n\n\n    /***************************************************\n     * TEXT\n     **************************************************/\n\n    var DEFAULT_STYLE_NORMAL = 'normal';\n\n    var fontStyleCache = {};\n    var fontStyleCacheCount = 0;\n    var MAX_FONT_CACHE_SIZE = 100;\n    var fontEl = document.createElement('div');\n\n    var getFontStyle = function (fontString) {\n        var fontStyle = fontStyleCache[fontString];\n        if (!fontStyle) {\n            // Clear cache\n            if (fontStyleCacheCount > MAX_FONT_CACHE_SIZE) {\n                fontStyleCacheCount = 0;\n                fontStyleCache = {};\n            }\n\n            var style = fontEl.style;\n            var fontFamily;\n            try {\n                style.font = fontString;\n                fontFamily = style.fontFamily.split(',')[0];\n            }\n            catch (e) {\n            }\n\n            fontStyle = {\n                style: style.fontStyle || DEFAULT_STYLE_NORMAL,\n                variant: style.fontVariant || DEFAULT_STYLE_NORMAL,\n                weight: style.fontWeight || DEFAULT_STYLE_NORMAL,\n                size: parseFloat(style.fontSize || 12) | 0,\n                family: fontFamily || 'Microsoft YaHei'\n            };\n\n            fontStyleCache[fontString] = fontStyle;\n            fontStyleCacheCount++;\n        }\n        return fontStyle;\n    };\n\n    var textMeasureEl;\n    // Overwrite measure text method\n    $override$1('measureText', function (text, textFont) {\n        var doc$$1 = doc;\n        if (!textMeasureEl) {\n            textMeasureEl = doc$$1.createElement('div');\n            textMeasureEl.style.cssText = 'position:absolute;top:-20000px;left:0;'\n                + 'padding:0;margin:0;border:none;white-space:pre;';\n            doc.body.appendChild(textMeasureEl);\n        }\n\n        try {\n            textMeasureEl.style.font = textFont;\n        } catch (ex) {\n            // Ignore failures to set to invalid font.\n        }\n        textMeasureEl.innerHTML = '';\n        // Don't use innerHTML or innerText because they allow markup/whitespace.\n        textMeasureEl.appendChild(doc$$1.createTextNode(text));\n        return {\n            width: textMeasureEl.offsetWidth\n        };\n    });\n\n    var tmpRect$2 = new BoundingRect();\n\n    var drawRectText = function (vmlRoot, rect, textRect, fromTextEl) {\n\n        var style = this.style;\n\n        // Optimize, avoid normalize every time.\n        this.__dirty && normalizeTextStyle(style, true);\n\n        var text = style.text;\n        // Convert to string\n        text != null && (text += '');\n        if (!text) {\n            return;\n        }\n\n        // Convert rich text to plain text. Rich text is not supported in\n        // IE8-, but tags in rich text template will be removed.\n        if (style.rich) {\n            var contentBlock = parseRichText(text, style);\n            text = [];\n            for (var i = 0; i < contentBlock.lines.length; i++) {\n                var tokens = contentBlock.lines[i].tokens;\n                var textLine = [];\n                for (var j = 0; j < tokens.length; j++) {\n                    textLine.push(tokens[j].text);\n                }\n                text.push(textLine.join(''));\n            }\n            text = text.join('\\n');\n        }\n\n        var x;\n        var y;\n        var align = style.textAlign;\n        var verticalAlign = style.textVerticalAlign;\n\n        var fontStyle = getFontStyle(style.font);\n        // FIXME encodeHtmlAttribute ?\n        var font = fontStyle.style + ' ' + fontStyle.variant + ' ' + fontStyle.weight + ' '\n            + fontStyle.size + 'px \"' + fontStyle.family + '\"';\n\n        textRect = textRect || getBoundingRect(text, font, align, verticalAlign);\n\n        // Transform rect to view space\n        var m = this.transform;\n        // Ignore transform for text in other element\n        if (m && !fromTextEl) {\n            tmpRect$2.copy(rect);\n            tmpRect$2.applyTransform(m);\n            rect = tmpRect$2;\n        }\n\n        if (!fromTextEl) {\n            var textPosition = style.textPosition;\n            var distance$$1 = style.textDistance;\n            // Text position represented by coord\n            if (textPosition instanceof Array) {\n                x = rect.x + parsePercent$3(textPosition[0], rect.width);\n                y = rect.y + parsePercent$3(textPosition[1], rect.height);\n\n                align = align || 'left';\n            }\n            else {\n                var res = adjustTextPositionOnRect(\n                    textPosition, rect, distance$$1\n                );\n                x = res.x;\n                y = res.y;\n\n                // Default align and baseline when has textPosition\n                align = align || res.textAlign;\n                verticalAlign = verticalAlign || res.textVerticalAlign;\n            }\n        }\n        else {\n            x = rect.x;\n            y = rect.y;\n        }\n\n        x = adjustTextX(x, textRect.width, align);\n        y = adjustTextY(y, textRect.height, verticalAlign);\n\n        // Force baseline 'middle'\n        y += textRect.height / 2;\n\n        // var fontSize = fontStyle.size;\n        // 1.75 is an arbitrary number, as there is no info about the text baseline\n        // switch (baseline) {\n            // case 'hanging':\n            // case 'top':\n            //     y += fontSize / 1.75;\n            //     break;\n        //     case 'middle':\n        //         break;\n        //     default:\n        //     // case null:\n        //     // case 'alphabetic':\n        //     // case 'ideographic':\n        //     // case 'bottom':\n        //         y -= fontSize / 2.25;\n        //         break;\n        // }\n\n        // switch (align) {\n        //     case 'left':\n        //         break;\n        //     case 'center':\n        //         x -= textRect.width / 2;\n        //         break;\n        //     case 'right':\n        //         x -= textRect.width;\n        //         break;\n            // case 'end':\n                // align = elementStyle.direction == 'ltr' ? 'right' : 'left';\n                // break;\n            // case 'start':\n                // align = elementStyle.direction == 'rtl' ? 'right' : 'left';\n                // break;\n            // default:\n            //     align = 'left';\n        // }\n\n        var createNode$$1 = createNode;\n\n        var textVmlEl = this._textVmlEl;\n        var pathEl;\n        var textPathEl;\n        var skewEl;\n        if (!textVmlEl) {\n            textVmlEl = createNode$$1('line');\n            pathEl = createNode$$1('path');\n            textPathEl = createNode$$1('textpath');\n            skewEl = createNode$$1('skew');\n\n            // FIXME Why here is not cammel case\n            // Align 'center' seems wrong\n            textPathEl.style['v-text-align'] = 'left';\n\n            initRootElStyle(textVmlEl);\n\n            pathEl.textpathok = true;\n            textPathEl.on = true;\n\n            textVmlEl.from = '0 0';\n            textVmlEl.to = '1000 0.05';\n\n            append(textVmlEl, skewEl);\n            append(textVmlEl, pathEl);\n            append(textVmlEl, textPathEl);\n\n            this._textVmlEl = textVmlEl;\n        }\n        else {\n            //  appendChild \n            skewEl = textVmlEl.firstChild;\n            pathEl = skewEl.nextSibling;\n            textPathEl = pathEl.nextSibling;\n        }\n\n        var coords = [x, y];\n        var textVmlElStyle = textVmlEl.style;\n        // Ignore transform for text in other element\n        if (m && fromTextEl) {\n            applyTransform(coords, coords, m);\n\n            skewEl.on = true;\n\n            skewEl.matrix = m[0].toFixed(3) + comma + m[2].toFixed(3) + comma +\n            m[1].toFixed(3) + comma + m[3].toFixed(3) + ',0,0';\n\n            // Text position\n            skewEl.offset = (round$3(coords[0]) || 0) + ',' + (round$3(coords[1]) || 0);\n            // Left top point as origin\n            skewEl.origin = '0 0';\n\n            textVmlElStyle.left = '0px';\n            textVmlElStyle.top = '0px';\n        }\n        else {\n            skewEl.on = false;\n            textVmlElStyle.left = round$3(x) + 'px';\n            textVmlElStyle.top = round$3(y) + 'px';\n        }\n\n        textPathEl.string = encodeHtmlAttribute(text);\n        // TODO\n        try {\n            textPathEl.style.font = font;\n        }\n        // Error font format\n        catch (e) {}\n\n        updateFillAndStroke(textVmlEl, 'fill', {\n            fill: style.textFill,\n            opacity: style.opacity\n        }, this);\n        updateFillAndStroke(textVmlEl, 'stroke', {\n            stroke: style.textStroke,\n            opacity: style.opacity,\n            lineDash: style.lineDash\n        }, this);\n\n        textVmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2);\n\n        // Attached to root\n        append(vmlRoot, textVmlEl);\n    };\n\n    var removeRectText = function (vmlRoot) {\n        remove(vmlRoot, this._textVmlEl);\n        this._textVmlEl = null;\n    };\n\n    var appendRectText = function (vmlRoot) {\n        append(vmlRoot, this._textVmlEl);\n    };\n\n    var list = [RectText, Displayable, ZImage, Path, Text];\n\n    // In case Displayable has been mixed in RectText\n    for (var i$3 = 0; i$3 < list.length; i$3++) {\n        var proto$6 = list[i$3].prototype;\n        proto$6.drawRectText = drawRectText;\n        proto$6.removeRectText = removeRectText;\n        proto$6.appendRectText = appendRectText;\n    }\n\n    Text.prototype.brushVML = function (vmlRoot) {\n        var style = this.style;\n        if (style.text != null) {\n            this.drawRectText(vmlRoot, {\n                x: style.x || 0, y: style.y || 0,\n                width: 0, height: 0\n            }, this.getBoundingRect(), true);\n        }\n        else {\n            this.removeRectText(vmlRoot);\n        }\n    };\n\n    Text.prototype.onRemove = function (vmlRoot) {\n        this.removeRectText(vmlRoot);\n    };\n\n    Text.prototype.onAdd = function (vmlRoot) {\n        this.appendRectText(vmlRoot);\n    };\n}\n\n/**\n * VML Painter.\n *\n * @module zrender/vml/Painter\n */\n\nfunction parseInt10$1(val) {\n    return parseInt(val, 10);\n}\n\n/**\n * @alias module:zrender/vml/Painter\n */\nfunction VMLPainter(root, storage) {\n\n    initVML();\n\n    this.root = root;\n\n    this.storage = storage;\n\n    var vmlViewport = document.createElement('div');\n\n    var vmlRoot = document.createElement('div');\n\n    vmlViewport.style.cssText = 'display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;';\n\n    vmlRoot.style.cssText = 'position:absolute;left:0;top:0;';\n\n    root.appendChild(vmlViewport);\n\n    this._vmlRoot = vmlRoot;\n    this._vmlViewport = vmlViewport;\n\n    this.resize();\n\n    // Modify storage\n    var oldDelFromStorage = storage.delFromStorage;\n    var oldAddToStorage = storage.addToStorage;\n    storage.delFromStorage = function (el) {\n        oldDelFromStorage.call(storage, el);\n\n        if (el) {\n            el.onRemove && el.onRemove(vmlRoot);\n        }\n    };\n\n    storage.addToStorage = function (el) {\n        // Displayable already has a vml node\n        el.onAdd && el.onAdd(vmlRoot);\n\n        oldAddToStorage.call(storage, el);\n    };\n\n    this._firstPaint = true;\n}\n\nVMLPainter.prototype = {\n\n    constructor: VMLPainter,\n\n    getType: function () {\n        return 'vml';\n    },\n\n    /**\n     * @return {HTMLDivElement}\n     */\n    getViewportRoot: function () {\n        return this._vmlViewport;\n    },\n\n    getViewportRootOffset: function () {\n        var viewportRoot = this.getViewportRoot();\n        if (viewportRoot) {\n            return {\n                offsetLeft: viewportRoot.offsetLeft || 0,\n                offsetTop: viewportRoot.offsetTop || 0\n            };\n        }\n    },\n\n    /**\n     * \n     */\n    refresh: function () {\n\n        var list = this.storage.getDisplayList(true, true);\n\n        this._paintList(list);\n    },\n\n    _paintList: function (list) {\n        var vmlRoot = this._vmlRoot;\n        for (var i = 0; i < list.length; i++) {\n            var el = list[i];\n            if (el.invisible || el.ignore) {\n                if (!el.__alreadyNotVisible) {\n                    el.onRemove(vmlRoot);\n                }\n                // Set as already invisible\n                el.__alreadyNotVisible = true;\n            }\n            else {\n                if (el.__alreadyNotVisible) {\n                    el.onAdd(vmlRoot);\n                }\n                el.__alreadyNotVisible = false;\n                if (el.__dirty) {\n                    el.beforeBrush && el.beforeBrush();\n                    (el.brushVML || el.brush).call(el, vmlRoot);\n                    el.afterBrush && el.afterBrush();\n                }\n            }\n            el.__dirty = false;\n        }\n\n        if (this._firstPaint) {\n            // Detached from document at first time\n            // to avoid page refreshing too many times\n\n            // FIXME  removeChild \n            this._vmlViewport.appendChild(vmlRoot);\n            this._firstPaint = false;\n        }\n    },\n\n    resize: function (width, height) {\n        var width = width == null ? this._getWidth() : width;\n        var height = height == null ? this._getHeight() : height;\n\n        if (this._width != width || this._height != height) {\n            this._width = width;\n            this._height = height;\n\n            var vmlViewportStyle = this._vmlViewport.style;\n            vmlViewportStyle.width = width + 'px';\n            vmlViewportStyle.height = height + 'px';\n        }\n    },\n\n    dispose: function () {\n        this.root.innerHTML = '';\n\n        this._vmlRoot =\n        this._vmlViewport =\n        this.storage = null;\n    },\n\n    getWidth: function () {\n        return this._width;\n    },\n\n    getHeight: function () {\n        return this._height;\n    },\n\n    clear: function () {\n        if (this._vmlViewport) {\n            this.root.removeChild(this._vmlViewport);\n        }\n    },\n\n    _getWidth: function () {\n        var root = this.root;\n        var stl = root.currentStyle;\n\n        return ((root.clientWidth || parseInt10$1(stl.width))\n                - parseInt10$1(stl.paddingLeft)\n                - parseInt10$1(stl.paddingRight)) | 0;\n    },\n\n    _getHeight: function () {\n        var root = this.root;\n        var stl = root.currentStyle;\n\n        return ((root.clientHeight || parseInt10$1(stl.height))\n                - parseInt10$1(stl.paddingTop)\n                - parseInt10$1(stl.paddingBottom)) | 0;\n    }\n};\n\n// Not supported methods\nfunction createMethodNotSupport(method) {\n    return function () {\n        zrLog('In IE8.0 VML mode painter not support method \"' + method + '\"');\n    };\n}\n\n// Unsupported methods\neach$1([\n    'getLayer', 'insertLayer', 'eachLayer', 'eachBuiltinLayer', 'eachOtherLayer', 'getLayers',\n    'modLayer', 'delLayer', 'clearLayer', 'toDataURL', 'pathToImage'\n], function (name) {\n    VMLPainter.prototype[name] = createMethodNotSupport(name);\n});\n\nregisterPainter('vml', VMLPainter);\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nfunction createElement(name) {\n    return document.createElementNS(svgURI, name);\n}\n\n// TODO\n// 1. shadow\n// 2. Image: sx, sy, sw, sh\n\nvar CMD$4 = PathProxy.CMD;\nvar arrayJoin = Array.prototype.join;\n\nvar NONE = 'none';\nvar mathRound = Math.round;\nvar mathSin$3 = Math.sin;\nvar mathCos$3 = Math.cos;\nvar PI$5 = Math.PI;\nvar PI2$6 = Math.PI * 2;\nvar degree = 180 / PI$5;\n\nvar EPSILON$4 = 1e-4;\n\nfunction round4(val) {\n    return mathRound(val * 1e4) / 1e4;\n}\n\nfunction isAroundZero$1(val) {\n    return val < EPSILON$4 && val > -EPSILON$4;\n}\n\nfunction pathHasFill(style, isText) {\n    var fill = isText ? style.textFill : style.fill;\n    return fill != null && fill !== NONE;\n}\n\nfunction pathHasStroke(style, isText) {\n    var stroke = isText ? style.textStroke : style.stroke;\n    return stroke != null && stroke !== NONE;\n}\n\nfunction setTransform(svgEl, m) {\n    if (m) {\n        attr(svgEl, 'transform', 'matrix(' + arrayJoin.call(m, ',') + ')');\n    }\n}\n\nfunction attr(el, key, val) {\n    if (!val || val.type !== 'linear' && val.type !== 'radial') {\n        // Don't set attribute for gradient, since it need new dom nodes\n        el.setAttribute(key, val);\n    }\n}\n\nfunction attrXLink(el, key, val) {\n    el.setAttributeNS('http://www.w3.org/1999/xlink', key, val);\n}\n\nfunction bindStyle(svgEl, style, isText) {\n    if (pathHasFill(style, isText)) {\n        var fill = isText ? style.textFill : style.fill;\n        fill = fill === 'transparent' ? NONE : fill;\n\n        /**\n         * FIXME:\n         * This is a temporary fix for Chrome's clipping bug\n         * that happens when a clip-path is referring another one.\n         * This fix should be used before Chrome's bug is fixed.\n         * For an element that has clip-path, and fill is none,\n         * set it to be \"rgba(0, 0, 0, 0.002)\" will hide the element.\n         * Otherwise, it will show black fill color.\n         * 0.002 is used because this won't work for alpha values smaller\n         * than 0.002.\n         *\n         * See\n         * https://bugs.chromium.org/p/chromium/issues/detail?id=659790\n         * for more information.\n         */\n        if (svgEl.getAttribute('clip-path') !== 'none' && fill === NONE) {\n            fill = 'rgba(0, 0, 0, 0.002)';\n        }\n\n        attr(svgEl, 'fill', fill);\n        attr(svgEl, 'fill-opacity', style.opacity);\n    }\n    else {\n        attr(svgEl, 'fill', NONE);\n    }\n\n    if (pathHasStroke(style, isText)) {\n        var stroke = isText ? style.textStroke : style.stroke;\n        stroke = stroke === 'transparent' ? NONE : stroke;\n        attr(svgEl, 'stroke', stroke);\n        var strokeWidth = isText\n            ? style.textStrokeWidth\n            : style.lineWidth;\n        var strokeScale = style.strokeNoScale\n            ? style.host.getLineScale()\n            : 1;\n        attr(svgEl, 'stroke-width', strokeWidth / strokeScale);\n        attr(svgEl, 'paint-order', 'stroke');\n        attr(svgEl, 'stroke-opacity', style.opacity);\n        var lineDash = style.lineDash;\n        if (lineDash) {\n            attr(svgEl, 'stroke-dasharray', style.lineDash.join(','));\n            attr(svgEl, 'stroke-dashoffset', mathRound(style.lineDashOffset || 0));\n        }\n        else {\n            attr(svgEl, 'stroke-dasharray', '');\n        }\n\n        // PENDING\n        style.lineCap && attr(svgEl, 'stroke-linecap', style.lineCap);\n        style.lineJoin && attr(svgEl, 'stroke-linejoin', style.lineJoin);\n        style.miterLimit && attr(svgEl, 'stroke-miterlimit', style.miterLimit);\n    }\n    else {\n        attr(svgEl, 'stroke', NONE);\n    }\n}\n\n/***************************************************\n * PATH\n **************************************************/\nfunction pathDataToString$1(path) {\n    var str = [];\n    var data = path.data;\n    var dataLength = path.len();\n    for (var i = 0; i < dataLength;) {\n        var cmd = data[i++];\n        var cmdStr = '';\n        var nData = 0;\n        switch (cmd) {\n            case CMD$4.M:\n                cmdStr = 'M';\n                nData = 2;\n                break;\n            case CMD$4.L:\n                cmdStr = 'L';\n                nData = 2;\n                break;\n            case CMD$4.Q:\n                cmdStr = 'Q';\n                nData = 4;\n                break;\n            case CMD$4.C:\n                cmdStr = 'C';\n                nData = 6;\n                break;\n            case CMD$4.A:\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var theta = data[i++];\n                var dTheta = data[i++];\n                var psi = data[i++];\n                var clockwise = data[i++];\n\n                var dThetaPositive = Math.abs(dTheta);\n                var isCircle = isAroundZero$1(dThetaPositive % PI2$6)\n                    && !isAroundZero$1(dThetaPositive);\n\n                var large = false;\n                if (dThetaPositive >= PI2$6) {\n                    large = true;\n                }\n                else if (isAroundZero$1(dThetaPositive)) {\n                    large = false;\n                }\n                else {\n                    large = (dTheta > -PI$5 && dTheta < 0 || dTheta > PI$5)\n                        === !!clockwise;\n                }\n\n                var x0 = round4(cx + rx * mathCos$3(theta));\n                var y0 = round4(cy + ry * mathSin$3(theta));\n\n                // It will not draw if start point and end point are exactly the same\n                // We need to shift the end point with a small value\n                // FIXME A better way to draw circle ?\n                if (isCircle) {\n                    if (clockwise) {\n                        dTheta = PI2$6 - 1e-4;\n                    }\n                    else {\n                        dTheta = -PI2$6 + 1e-4;\n                    }\n\n                    large = true;\n\n                    if (i === 9) {\n                        // Move to (x0, y0) only when CMD.A comes at the\n                        // first position of a shape.\n                        // For instance, when drawing a ring, CMD.A comes\n                        // after CMD.M, so it's unnecessary to move to\n                        // (x0, y0).\n                        str.push('M', x0, y0);\n                    }\n                }\n\n                var x = round4(cx + rx * mathCos$3(theta + dTheta));\n                var y = round4(cy + ry * mathSin$3(theta + dTheta));\n\n                // FIXME Ellipse\n                str.push('A', round4(rx), round4(ry),\n                    mathRound(psi * degree), +large, +clockwise, x, y);\n                break;\n            case CMD$4.Z:\n                cmdStr = 'Z';\n                break;\n            case CMD$4.R:\n                var x = round4(data[i++]);\n                var y = round4(data[i++]);\n                var w = round4(data[i++]);\n                var h = round4(data[i++]);\n                str.push(\n                    'M', x, y,\n                    'L', x + w, y,\n                    'L', x + w, y + h,\n                    'L', x, y + h,\n                    'L', x, y\n                );\n                break;\n        }\n        cmdStr && str.push(cmdStr);\n        for (var j = 0; j < nData; j++) {\n            // PENDING With scale\n            str.push(round4(data[i++]));\n        }\n    }\n    return str.join(' ');\n}\n\nvar svgPath = {};\nsvgPath.brush = function (el) {\n    var style = el.style;\n\n    var svgEl = el.__svgEl;\n    if (!svgEl) {\n        svgEl = createElement('path');\n        el.__svgEl = svgEl;\n    }\n\n    if (!el.path) {\n        el.createPathProxy();\n    }\n    var path = el.path;\n\n    if (el.__dirtyPath) {\n        path.beginPath();\n        el.buildPath(path, el.shape);\n        el.__dirtyPath = false;\n\n        var pathStr = pathDataToString$1(path);\n        if (pathStr.indexOf('NaN') < 0) {\n            // Ignore illegal path, which may happen such in out-of-range\n            // data in Calendar series.\n            attr(svgEl, 'd', pathStr);\n        }\n    }\n\n    bindStyle(svgEl, style);\n    setTransform(svgEl, el.transform);\n\n    if (style.text != null) {\n        svgTextDrawRectText(el, el.getBoundingRect());\n    }\n};\n\n/***************************************************\n * IMAGE\n **************************************************/\nvar svgImage = {};\nsvgImage.brush = function (el) {\n    var style = el.style;\n    var image = style.image;\n\n    if (image instanceof HTMLImageElement) {\n        var src = image.src;\n        image = src;\n    }\n    if (! image) {\n        return;\n    }\n\n    var x = style.x || 0;\n    var y = style.y || 0;\n\n    var dw = style.width;\n    var dh = style.height;\n\n    var svgEl = el.__svgEl;\n    if (! svgEl) {\n        svgEl = createElement('image');\n        el.__svgEl = svgEl;\n    }\n\n    if (image !== el.__imageSrc) {\n        attrXLink(svgEl, 'href', image);\n        // Caching image src\n        el.__imageSrc = image;\n    }\n\n    attr(svgEl, 'width', dw);\n    attr(svgEl, 'height', dh);\n\n    attr(svgEl, 'x', x);\n    attr(svgEl, 'y', y);\n\n    setTransform(svgEl, el.transform);\n\n    if (style.text != null) {\n        svgTextDrawRectText(el, el.getBoundingRect());\n    }\n};\n\n/***************************************************\n * TEXT\n **************************************************/\nvar svgText = {};\nvar tmpRect$3 = new BoundingRect();\n\nvar svgTextDrawRectText = function (el, rect, textRect) {\n    var style = el.style;\n\n    el.__dirty && normalizeTextStyle(style, true);\n\n    var text = style.text;\n    // Convert to string\n    if (text == null) {\n        // Draw no text only when text is set to null, but not ''\n        return;\n    }\n    else {\n        text += '';\n    }\n\n    var textSvgEl = el.__textSvgEl;\n    if (! textSvgEl) {\n        textSvgEl = createElement('text');\n        el.__textSvgEl = textSvgEl;\n    }\n\n    bindStyle(textSvgEl, style, true);\n    if (el instanceof Text || el.style.transformText) {\n        // Transform text with element\n        setTransform(textSvgEl, el.transform);\n    }\n    else {\n        if (el.transform) {\n            tmpRect$3.copy(rect);\n            tmpRect$3.applyTransform(el.transform);\n            rect = tmpRect$3;\n        }\n        else {\n            var pos = el.transformCoordToGlobal(rect.x, rect.y);\n            rect.x = pos[0];\n            rect.y = pos[1];\n        }\n    }\n\n    var x;\n    var y;\n    var textPosition = style.textPosition;\n    var distance = style.textDistance;\n    var align = style.textAlign || 'left';\n\n    if (typeof style.fontSize === 'number') {\n        style.fontSize += 'px';\n    }\n    var font = style.font\n        || [\n            style.fontStyle || '',\n            style.fontWeight || '',\n            style.fontSize || '',\n            style.fontFamily || ''\n        ].join(' ')\n        || DEFAULT_FONT;\n\n    var verticalAlign = getVerticalAlignForSvg(style.textVerticalAlign);\n\n    textRect = getBoundingRect(text, font, align,\n        verticalAlign);\n\n    var lineHeight = textRect.lineHeight;\n    // Text position represented by coord\n    if (textPosition instanceof Array) {\n        x = rect.x + textPosition[0];\n        y = rect.y + textPosition[1];\n    }\n    else {\n        var newPos = adjustTextPositionOnRect(\n            textPosition, rect, distance\n        );\n        x = newPos.x;\n        y = newPos.y;\n        verticalAlign = getVerticalAlignForSvg(newPos.textVerticalAlign);\n        align = newPos.textAlign;\n    }\n\n    attr(textSvgEl, 'alignment-baseline', verticalAlign);\n\n    if (font) {\n        textSvgEl.style.font = font;\n    }\n\n    var textPadding = style.textPadding;\n\n    // Make baseline top\n    attr(textSvgEl, 'x', x);\n    attr(textSvgEl, 'y', y);\n\n    var textLines = text.split('\\n');\n    var nTextLines = textLines.length;\n    var textAnchor = align;\n    // PENDING\n    if (textAnchor === 'left')  {\n        textAnchor = 'start';\n        textPadding && (x += textPadding[3]);\n    }\n    else if (textAnchor === 'right') {\n        textAnchor = 'end';\n        textPadding && (x -= textPadding[1]);\n    }\n    else if (textAnchor === 'center') {\n        textAnchor = 'middle';\n        textPadding && (x += (textPadding[3] - textPadding[1]) / 2);\n    }\n\n    var dy = 0;\n    if (verticalAlign === 'baseline') {\n        dy = -textRect.height + lineHeight;\n        textPadding && (dy -= textPadding[2]);\n    }\n    else if (verticalAlign === 'middle') {\n        dy = (-textRect.height + lineHeight) / 2;\n        textPadding && (y += (textPadding[0] - textPadding[2]) / 2);\n    }\n    else {\n        textPadding && (dy += textPadding[0]);\n    }\n\n    // Font may affect position of each tspan elements\n    if (el.__text !== text || el.__textFont !== font) {\n        var tspanList = el.__tspanList || [];\n        el.__tspanList = tspanList;\n        for (var i = 0; i < nTextLines; i++) {\n            // Using cached tspan elements\n            var tspan = tspanList[i];\n            if (! tspan) {\n                tspan = tspanList[i] = createElement('tspan');\n                textSvgEl.appendChild(tspan);\n                attr(tspan, 'alignment-baseline', verticalAlign);\n                attr(tspan, 'text-anchor', textAnchor);\n            }\n            else {\n                tspan.innerHTML = '';\n            }\n            attr(tspan, 'x', x);\n            attr(tspan, 'y', y + i * lineHeight + dy);\n            tspan.appendChild(document.createTextNode(textLines[i]));\n        }\n        // Remove unsed tspan elements\n        for (; i < tspanList.length; i++) {\n            textSvgEl.removeChild(tspanList[i]);\n        }\n        tspanList.length = nTextLines;\n\n        el.__text = text;\n        el.__textFont = font;\n    }\n    else if (el.__tspanList.length) {\n        // Update span x and y\n        var len = el.__tspanList.length;\n        for (var i = 0; i < len; ++i) {\n            var tspan = el.__tspanList[i];\n            if (tspan) {\n                attr(tspan, 'x', x);\n                attr(tspan, 'y', y + i * lineHeight + dy);\n            }\n        }\n    }\n};\n\nfunction getVerticalAlignForSvg(verticalAlign) {\n    if (verticalAlign === 'middle') {\n        return 'middle';\n    }\n    else if (verticalAlign === 'bottom') {\n        return 'baseline';\n    }\n    else {\n        return 'hanging';\n    }\n}\n\nsvgText.drawRectText = svgTextDrawRectText;\n\nsvgText.brush = function (el) {\n    var style = el.style;\n    if (style.text != null) {\n        //  textPosition\n        style.textPosition = [0, 0];\n        svgTextDrawRectText(el, {\n            x: style.x || 0, y: style.y || 0,\n            width: 0, height: 0\n        }, el.getBoundingRect());\n    }\n};\n\n// Myers' Diff Algorithm\n// Modified from https://github.com/kpdecker/jsdiff/blob/master/src/diff/base.js\n\nfunction Diff() {}\n\nDiff.prototype = {\n    diff: function (oldArr, newArr, equals) {\n        if (!equals) {\n            equals = function (a, b) {\n                return a === b;\n            };\n        }\n        this.equals = equals;\n\n        var self = this;\n\n        oldArr = oldArr.slice();\n        newArr = newArr.slice();\n        // Allow subclasses to massage the input prior to running\n        var newLen = newArr.length;\n        var oldLen = oldArr.length;\n        var editLength = 1;\n        var maxEditLength = newLen + oldLen;\n        var bestPath = [{ newPos: -1, components: [] }];\n\n        // Seed editLength = 0, i.e. the content starts with the same values\n        var oldPos = this.extractCommon(bestPath[0], newArr, oldArr, 0);\n        if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n            var indices = [];\n            for (var i = 0; i < newArr.length; i++) {\n                indices.push(i);\n            }\n            // Identity per the equality and tokenizer\n            return [{\n                indices: indices, count: newArr.length\n            }];\n        }\n\n        // Main worker method. checks all permutations of a given edit length for acceptance.\n        function execEditLength() {\n            for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n                var basePath;\n                var addPath = bestPath[diagonalPath - 1];\n                var removePath = bestPath[diagonalPath + 1];\n                var oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n                if (addPath) {\n                    // No one else is going to attempt to use this value, clear it\n                    bestPath[diagonalPath - 1] = undefined;\n                }\n\n                var canAdd = addPath && addPath.newPos + 1 < newLen;\n                var canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\n                if (!canAdd && !canRemove) {\n                    // If this path is a terminal then prune\n                    bestPath[diagonalPath] = undefined;\n                    continue;\n                }\n\n                // Select the diagonal that we want to branch from. We select the prior\n                // path whose position in the new string is the farthest from the origin\n                // and does not pass the bounds of the diff graph\n                if (!canAdd || (canRemove && addPath.newPos < removePath.newPos)) {\n                    basePath = clonePath(removePath);\n                    self.pushComponent(basePath.components, undefined, true);\n                }\n                else {\n                    basePath = addPath;   // No need to clone, we've pulled it from the list\n                    basePath.newPos++;\n                    self.pushComponent(basePath.components, true, undefined);\n                }\n\n                oldPos = self.extractCommon(basePath, newArr, oldArr, diagonalPath);\n\n                // If we have hit the end of both strings, then we are done\n                if (basePath.newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n                    return buildValues(self, basePath.components, newArr, oldArr);\n                }\n                else {\n                    // Otherwise track this path as a potential candidate and continue.\n                    bestPath[diagonalPath] = basePath;\n                }\n            }\n\n            editLength++;\n        }\n\n        while (editLength <= maxEditLength) {\n            var ret = execEditLength();\n            if (ret) {\n                return ret;\n            }\n        }\n    },\n\n    pushComponent: function (components, added, removed) {\n        var last = components[components.length - 1];\n        if (last && last.added === added && last.removed === removed) {\n            // We need to clone here as the component clone operation is just\n            // as shallow array clone\n            components[components.length - 1] = {count: last.count + 1, added: added, removed: removed };\n        }\n        else {\n            components.push({count: 1, added: added, removed: removed });\n        }\n    },\n    extractCommon: function (basePath, newArr, oldArr, diagonalPath) {\n        var newLen = newArr.length;\n        var oldLen = oldArr.length;\n        var newPos = basePath.newPos;\n        var oldPos = newPos - diagonalPath;\n        var commonCount = 0;\n\n        while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newArr[newPos + 1], oldArr[oldPos + 1])) {\n            newPos++;\n            oldPos++;\n            commonCount++;\n        }\n\n        if (commonCount) {\n            basePath.components.push({count: commonCount});\n        }\n\n        basePath.newPos = newPos;\n        return oldPos;\n    },\n    tokenize: function (value) {\n        return value.slice();\n    },\n    join: function (value) {\n        return value.slice();\n    }\n};\n\nfunction buildValues(diff, components, newArr, oldArr) {\n    var componentPos = 0;\n    var componentLen = components.length;\n    var newPos = 0;\n    var oldPos = 0;\n\n    for (; componentPos < componentLen; componentPos++) {\n        var component = components[componentPos];\n        if (!component.removed) {\n            var indices = [];\n            for (var i = newPos; i < newPos + component.count; i++) {\n                indices.push(i);\n            }\n            component.indices = indices;\n            newPos += component.count;\n            // Common case\n            if (!component.added) {\n                oldPos += component.count;\n            }\n        }\n        else {\n            var indices = [];\n            for (var i = oldPos; i < oldPos + component.count; i++) {\n                indices.push(i);\n            }\n            component.indices = indices;\n            oldPos += component.count;\n        }\n    }\n\n    return components;\n}\n\nfunction clonePath(path) {\n    return { newPos: path.newPos, components: path.components.slice(0) };\n}\n\nvar arrayDiff = new Diff();\n\nvar arrayDiff$1 = function (oldArr, newArr, callback) {\n    return arrayDiff.diff(oldArr, newArr, callback);\n};\n\n/**\n * @file Manages elements that can be defined in <defs> in SVG,\n *       e.g., gradients, clip path, etc.\n * @author Zhang Wenli\n */\n\nvar MARK_UNUSED = '0';\nvar MARK_USED = '1';\n\n/**\n * Manages elements that can be defined in <defs> in SVG,\n * e.g., gradients, clip path, etc.\n *\n * @class\n * @param {SVGElement}      svgRoot   root of SVG document\n * @param {string|string[]} tagNames  possible tag names\n * @param {string}          markLabel label name to make if the element\n *                                    is used\n */\nfunction Definable(\n    svgRoot,\n    tagNames,\n    markLabel\n) {\n\n    this._svgRoot = svgRoot;\n    this._tagNames = typeof tagNames === 'string' ? [tagNames] : tagNames;\n    this._markLabel = markLabel;\n\n    this.nextId = 0;\n}\n\n\nDefinable.prototype.createElement = createElement;\n\n\n/**\n * Get the <defs> tag for svgRoot; optionally creates one if not exists.\n *\n * @param {boolean} isForceCreating if need to create when not exists\n * @return {SVGDefsElement} SVG <defs> element, null if it doesn't\n * exist and isForceCreating is false\n */\nDefinable.prototype.getDefs = function (isForceCreating) {\n    var svgRoot = this._svgRoot;\n    var defs = this._svgRoot.getElementsByTagName('defs');\n    if (defs.length === 0) {\n        // Not exist\n        if (isForceCreating) {\n            defs = svgRoot.insertBefore(\n                this.createElement('defs'), // Create new tag\n                svgRoot.firstChild // Insert in the front of svg\n            );\n            if (!defs.contains) {\n                // IE doesn't support contains method\n                defs.contains = function (el) {\n                    var children = defs.children;\n                    if (!children) {\n                        return false;\n                    }\n                    for (var i = children.length - 1; i >= 0; --i) {\n                        if (children[i] === el) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n            }\n            return defs;\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        return defs[0];\n    }\n};\n\n\n/**\n * Update DOM element if necessary.\n *\n * @param {Object|string} element style element. e.g., for gradient,\n *                                it may be '#ccc' or {type: 'linear', ...}\n * @param {Function|undefined} onUpdate update callback\n */\nDefinable.prototype.update = function (element, onUpdate) {\n    if (!element) {\n        return;\n    }\n\n    var defs = this.getDefs(false);\n    if (element._dom && defs.contains(element._dom)) {\n        // Update DOM\n        if (typeof onUpdate === 'function') {\n            onUpdate();\n        }\n    }\n    else {\n        // No previous dom, create new\n        var dom = this.add(element);\n        if (dom) {\n            element._dom = dom;\n        }\n    }\n};\n\n\n/**\n * Add gradient dom to defs\n *\n * @param {SVGElement} dom DOM to be added to <defs>\n */\nDefinable.prototype.addDom = function (dom) {\n    var defs = this.getDefs(true);\n    defs.appendChild(dom);\n};\n\n\n/**\n * Remove DOM of a given element.\n *\n * @param {SVGElement} element element to remove dom\n */\nDefinable.prototype.removeDom = function (element) {\n    var defs = this.getDefs(false);\n    defs.removeChild(element._dom);\n};\n\n\n/**\n * Get DOMs of this element.\n *\n * @return {HTMLDomElement} doms of this defineable elements in <defs>\n */\nDefinable.prototype.getDoms = function () {\n    var defs = this.getDefs(false);\n    if (!defs) {\n        // No dom when defs is not defined\n        return [];\n    }\n\n    var doms = [];\n    each$1(this._tagNames, function (tagName) {\n        var tags = defs.getElementsByTagName(tagName);\n        // Note that tags is HTMLCollection, which is array-like\n        // rather than real array.\n        // So `doms.concat(tags)` add tags as one object.\n        doms = doms.concat([].slice.call(tags));\n    });\n\n    return doms;\n};\n\n\n/**\n * Mark DOMs to be unused before painting, and clear unused ones at the end\n * of the painting.\n */\nDefinable.prototype.markAllUnused = function () {\n    var doms = this.getDoms();\n    var that = this;\n    each$1(doms, function (dom) {\n        dom[that._markLabel] = MARK_UNUSED;\n    });\n};\n\n\n/**\n * Mark a single DOM to be used.\n *\n * @param {SVGElement} dom DOM to mark\n */\nDefinable.prototype.markUsed = function (dom) {\n    if (dom) {\n        dom[this._markLabel] = MARK_USED;\n    }\n};\n\n\n/**\n * Remove unused DOMs defined in <defs>\n */\nDefinable.prototype.removeUnused = function () {\n    var defs = this.getDefs(false);\n    if (!defs) {\n        // Nothing to remove\n        return;\n    }\n\n    var doms = this.getDoms();\n    var that = this;\n    each$1(doms, function (dom) {\n        if (dom[that._markLabel] !== MARK_USED) {\n            // Remove gradient\n            defs.removeChild(dom);\n        }\n    });\n};\n\n\n/**\n * Get SVG proxy.\n *\n * @param {Displayable} displayable displayable element\n * @return {Path|Image|Text} svg proxy of given element\n */\nDefinable.prototype.getSvgProxy = function (displayable) {\n    if (displayable instanceof Path) {\n        return svgPath;\n    }\n    else if (displayable instanceof ZImage) {\n        return svgImage;\n    }\n    else if (displayable instanceof Text) {\n        return svgText;\n    }\n    else {\n        return svgPath;\n    }\n};\n\n\n/**\n * Get text SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element of text\n */\nDefinable.prototype.getTextSvgElement = function (displayable) {\n    return displayable.__textSvgEl;\n};\n\n\n/**\n * Get SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element\n */\nDefinable.prototype.getSvgElement = function (displayable) {\n    return displayable.__svgEl;\n};\n\n/**\n * @file Manages SVG gradient elements.\n * @author Zhang Wenli\n */\n\n/**\n * Manages SVG gradient elements.\n *\n * @class\n * @extends Definable\n * @param   {SVGElement} svgRoot root of SVG document\n */\nfunction GradientManager(svgRoot) {\n    Definable.call(\n        this,\n        svgRoot,\n        ['linearGradient', 'radialGradient'],\n        '__gradient_in_use__'\n    );\n}\n\n\ninherits(GradientManager, Definable);\n\n\n/**\n * Create new gradient DOM for fill or stroke if not exist,\n * but will not update gradient if exists.\n *\n * @param {SvgElement}  svgElement   SVG element to paint\n * @param {Displayable} displayable  zrender displayable element\n */\nGradientManager.prototype.addWithoutUpdate = function (\n    svgElement,\n    displayable\n) {\n    if (displayable && displayable.style) {\n        var that = this;\n        each$1(['fill', 'stroke'], function (fillOrStroke) {\n            if (displayable.style[fillOrStroke]\n                && (displayable.style[fillOrStroke].type === 'linear'\n                || displayable.style[fillOrStroke].type === 'radial')\n            ) {\n                var gradient = displayable.style[fillOrStroke];\n                var defs = that.getDefs(true);\n\n                // Create dom in <defs> if not exists\n                var dom;\n                if (gradient._dom) {\n                    // Gradient exists\n                    dom = gradient._dom;\n                    if (!defs.contains(gradient._dom)) {\n                        // _dom is no longer in defs, recreate\n                        that.addDom(dom);\n                    }\n                }\n                else {\n                    // New dom\n                    dom = that.add(gradient);\n                }\n\n                that.markUsed(displayable);\n\n                var id = dom.getAttribute('id');\n                svgElement.setAttribute(fillOrStroke, 'url(#' + id + ')');\n            }\n        });\n    }\n};\n\n\n/**\n * Add a new gradient tag in <defs>\n *\n * @param   {Gradient} gradient zr gradient instance\n * @return {SVGLinearGradientElement | SVGRadialGradientElement}\n *                            created DOM\n */\nGradientManager.prototype.add = function (gradient) {\n    var dom;\n    if (gradient.type === 'linear') {\n        dom = this.createElement('linearGradient');\n    }\n    else if (gradient.type === 'radial') {\n        dom = this.createElement('radialGradient');\n    }\n    else {\n        zrLog('Illegal gradient type.');\n        return null;\n    }\n\n    // Set dom id with gradient id, since each gradient instance\n    // will have no more than one dom element.\n    // id may exists before for those dirty elements, in which case\n    // id should remain the same, and other attributes should be\n    // updated.\n    gradient.id = gradient.id || this.nextId++;\n    dom.setAttribute('id', 'zr-gradient-' + gradient.id);\n\n    this.updateDom(gradient, dom);\n    this.addDom(dom);\n\n    return dom;\n};\n\n\n/**\n * Update gradient.\n *\n * @param {Gradient} gradient zr gradient instance\n */\nGradientManager.prototype.update = function (gradient) {\n    var that = this;\n    Definable.prototype.update.call(this, gradient, function () {\n        var type = gradient.type;\n        var tagName = gradient._dom.tagName;\n        if (type === 'linear' && tagName === 'linearGradient'\n            || type === 'radial' && tagName === 'radialGradient'\n        ) {\n            // Gradient type is not changed, update gradient\n            that.updateDom(gradient, gradient._dom);\n        }\n        else {\n            // Remove and re-create if type is changed\n            that.removeDom(gradient);\n            that.add(gradient);\n        }\n    });\n};\n\n\n/**\n * Update gradient dom\n *\n * @param {Gradient} gradient zr gradient instance\n * @param {SVGLinearGradientElement | SVGRadialGradientElement} dom\n *                            DOM to update\n */\nGradientManager.prototype.updateDom = function (gradient, dom) {\n    if (gradient.type === 'linear') {\n        dom.setAttribute('x1', gradient.x);\n        dom.setAttribute('y1', gradient.y);\n        dom.setAttribute('x2', gradient.x2);\n        dom.setAttribute('y2', gradient.y2);\n    }\n    else if (gradient.type === 'radial') {\n        dom.setAttribute('cx', gradient.x);\n        dom.setAttribute('cy', gradient.y);\n        dom.setAttribute('r', gradient.r);\n    }\n    else {\n        zrLog('Illegal gradient type.');\n        return;\n    }\n\n    if (gradient.global) {\n        // x1, x2, y1, y2 in range of 0 to canvas width or height\n        dom.setAttribute('gradientUnits', 'userSpaceOnUse');\n    }\n    else {\n        // x1, x2, y1, y2 in range of 0 to 1\n        dom.setAttribute('gradientUnits', 'objectBoundingBox');\n    }\n\n    // Remove color stops if exists\n    dom.innerHTML = '';\n\n    // Add color stops\n    var colors = gradient.colorStops;\n    for (var i = 0, len = colors.length; i < len; ++i) {\n        var stop = this.createElement('stop');\n        stop.setAttribute('offset', colors[i].offset * 100 + '%');\n        stop.setAttribute('stop-color', colors[i].color);\n        dom.appendChild(stop);\n    }\n\n    // Store dom element in gradient, to avoid creating multiple\n    // dom instances for the same gradient element\n    gradient._dom = dom;\n};\n\n/**\n * Mark a single gradient to be used\n *\n * @param {Displayable} displayable displayable element\n */\nGradientManager.prototype.markUsed = function (displayable) {\n    if (displayable.style) {\n        var gradient = displayable.style.fill;\n        if (gradient && gradient._dom) {\n            Definable.prototype.markUsed.call(this, gradient._dom);\n        }\n\n        gradient = displayable.style.stroke;\n        if (gradient && gradient._dom) {\n            Definable.prototype.markUsed.call(this, gradient._dom);\n        }\n    }\n};\n\n/**\n * @file Manages SVG clipPath elements.\n * @author Zhang Wenli\n */\n\n/**\n * Manages SVG clipPath elements.\n *\n * @class\n * @extends Definable\n * @param   {SVGElement} svgRoot root of SVG document\n */\nfunction ClippathManager(svgRoot) {\n    Definable.call(this, svgRoot, 'clipPath', '__clippath_in_use__');\n}\n\n\ninherits(ClippathManager, Definable);\n\n\n/**\n * Update clipPath.\n *\n * @param {Displayable} displayable displayable element\n */\nClippathManager.prototype.update = function (displayable) {\n    var svgEl = this.getSvgElement(displayable);\n    if (svgEl) {\n        this.updateDom(svgEl, displayable.__clipPaths, false);\n    }\n\n    var textEl = this.getTextSvgElement(displayable);\n    if (textEl) {\n        // Make another clipPath for text, since it's transform\n        // matrix is not the same with svgElement\n        this.updateDom(textEl, displayable.__clipPaths, true);\n    }\n\n    this.markUsed(displayable);\n};\n\n\n/**\n * Create an SVGElement of displayable and create a <clipPath> of its\n * clipPath\n *\n * @param {Displayable} parentEl  parent element\n * @param {ClipPath[]}  clipPaths clipPaths of parent element\n * @param {boolean}     isText    if parent element is Text\n */\nClippathManager.prototype.updateDom = function (\n    parentEl,\n    clipPaths,\n    isText\n) {\n    if (clipPaths && clipPaths.length > 0) {\n        // Has clipPath, create <clipPath> with the first clipPath\n        var defs = this.getDefs(true);\n        var clipPath = clipPaths[0];\n        var clipPathEl;\n        var id;\n\n        var dom = isText ? '_textDom' : '_dom';\n\n        if (clipPath[dom]) {\n            // Use a dom that is already in <defs>\n            id = clipPath[dom].getAttribute('id');\n            clipPathEl = clipPath[dom];\n\n            // Use a dom that is already in <defs>\n            if (!defs.contains(clipPathEl)) {\n                // This happens when set old clipPath that has\n                // been previously removed\n                defs.appendChild(clipPathEl);\n            }\n        }\n        else {\n            // New <clipPath>\n            id = 'zr-clip-' + this.nextId;\n            ++this.nextId;\n            clipPathEl = this.createElement('clipPath');\n            clipPathEl.setAttribute('id', id);\n            defs.appendChild(clipPathEl);\n\n            clipPath[dom] = clipPathEl;\n        }\n\n        // Build path and add to <clipPath>\n        var svgProxy = this.getSvgProxy(clipPath);\n        if (clipPath.transform\n            && clipPath.parent.invTransform\n            && !isText\n        ) {\n            /**\n             * If a clipPath has a parent with transform, the transform\n             * of parent should not be considered when setting transform\n             * of clipPath. So we need to transform back from parent's\n             * transform, which is done by multiplying parent's inverse\n             * transform.\n             */\n            // Store old transform\n            var transform = Array.prototype.slice.call(\n                clipPath.transform\n            );\n\n            // Transform back from parent, and brush path\n            mul$1(\n                clipPath.transform,\n                clipPath.parent.invTransform,\n                clipPath.transform\n            );\n            svgProxy.brush(clipPath);\n\n            // Set back transform of clipPath\n            clipPath.transform = transform;\n        }\n        else {\n            svgProxy.brush(clipPath);\n        }\n\n        var pathEl = this.getSvgElement(clipPath);\n        /**\n         * Use `cloneNode()` here to appendChild to multiple parents,\n         * which may happend when Text and other shapes are using the same\n         * clipPath. Since Text will create an extra clipPath DOM due to\n         * different transform rules.\n         */\n        clipPathEl.appendChild(pathEl.cloneNode());\n\n        parentEl.setAttribute('clip-path', 'url(#' + id + ')');\n\n        if (clipPaths.length > 1) {\n            // Make the other clipPaths recursively\n            this.updateDom(clipPathEl, clipPaths.slice(1), isText);\n        }\n    }\n    else {\n        // No clipPath\n        if (parentEl) {\n            parentEl.setAttribute('clip-path', 'none');\n        }\n    }\n};\n\n/**\n * Mark a single clipPath to be used\n *\n * @param {Displayable} displayable displayable element\n */\nClippathManager.prototype.markUsed = function (displayable) {\n    var that = this;\n    if (displayable.__clipPaths && displayable.__clipPaths.length > 0) {\n        each$1(displayable.__clipPaths, function (clipPath) {\n            if (clipPath._dom) {\n                Definable.prototype.markUsed.call(that, clipPath._dom);\n            }\n            if (clipPath._textDom) {\n                Definable.prototype.markUsed.call(that, clipPath._textDom);\n            }\n        });\n    }\n};\n\n/**\n * SVG Painter\n * @module zrender/svg/Painter\n */\n\nfunction parseInt10$2(val) {\n    return parseInt(val, 10);\n}\n\nfunction getSvgProxy(el) {\n    if (el instanceof Path) {\n        return svgPath;\n    }\n    else if (el instanceof ZImage) {\n        return svgImage;\n    }\n    else if (el instanceof Text) {\n        return svgText;\n    }\n    else {\n        return svgPath;\n    }\n}\n\nfunction checkParentAvailable(parent, child) {\n    return child && parent && child.parentNode !== parent;\n}\n\nfunction insertAfter(parent, child, prevSibling) {\n    if (checkParentAvailable(parent, child) && prevSibling) {\n        var nextSibling = prevSibling.nextSibling;\n        nextSibling ? parent.insertBefore(child, nextSibling)\n            : parent.appendChild(child);\n    }\n}\n\nfunction prepend(parent, child) {\n    if (checkParentAvailable(parent, child)) {\n        var firstChild = parent.firstChild;\n        firstChild ? parent.insertBefore(child, firstChild)\n            : parent.appendChild(child);\n    }\n}\n\nfunction remove$1(parent, child) {\n    if (child && parent && child.parentNode === parent) {\n        parent.removeChild(child);\n    }\n}\n\nfunction getTextSvgElement(displayable) {\n    return displayable.__textSvgEl;\n}\n\nfunction getSvgElement(displayable) {\n    return displayable.__svgEl;\n}\n\n/**\n * @alias module:zrender/svg/Painter\n * @constructor\n * @param {HTMLElement} root \n * @param {module:zrender/Storage} storage\n * @param {Object} opts\n */\nvar SVGPainter = function (root, storage, opts) {\n\n    this.root = root;\n    this.storage = storage;\n    this._opts = opts = extend({}, opts || {});\n\n    var svgRoot = createElement('svg');\n    svgRoot.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    svgRoot.setAttribute('version', '1.1');\n    svgRoot.setAttribute('baseProfile', 'full');\n    svgRoot.style['user-select'] = 'none';\n    svgRoot.style.cssText = 'position:absolute;left:0;top:0;';\n\n    this.gradientManager = new GradientManager(svgRoot);\n    this.clipPathManager = new ClippathManager(svgRoot);\n\n    var viewport = document.createElement('div');\n    viewport.style.cssText = 'overflow:hidden;position:relative';\n\n    this._svgRoot = svgRoot;\n    this._viewport = viewport;\n\n    root.appendChild(viewport);\n    viewport.appendChild(svgRoot);\n\n    this.resize(opts.width, opts.height);\n\n    this._visibleList = [];\n};\n\nSVGPainter.prototype = {\n\n    constructor: SVGPainter,\n\n    getType: function () {\n        return 'svg';\n    },\n\n    getViewportRoot: function () {\n        return this._viewport;\n    },\n\n    getViewportRootOffset: function () {\n        var viewportRoot = this.getViewportRoot();\n        if (viewportRoot) {\n            return {\n                offsetLeft: viewportRoot.offsetLeft || 0,\n                offsetTop: viewportRoot.offsetTop || 0\n            };\n        }\n    },\n\n    refresh: function () {\n\n        var list = this.storage.getDisplayList(true);\n\n        this._paintList(list);\n    },\n\n    _paintList: function (list) {\n        this.gradientManager.markAllUnused();\n        this.clipPathManager.markAllUnused();\n\n        var svgRoot = this._svgRoot;\n        var visibleList = this._visibleList;\n        var listLen = list.length;\n\n        var newVisibleList = [];\n        var i;\n        for (i = 0; i < listLen; i++) {\n            var displayable = list[i];\n            var svgProxy = getSvgProxy(displayable);\n            if (!displayable.invisible) {\n                if (displayable.__dirty) {\n                    svgProxy && svgProxy.brush(displayable);\n\n                    // Update clipPath\n                    this.clipPathManager.update(displayable);\n\n                    // Update gradient\n                    if (displayable.style) {\n                        this.gradientManager\n                            .update(displayable.style.fill);\n                        this.gradientManager\n                            .update(displayable.style.stroke);\n                    }\n\n                    displayable.__dirty = false;\n                }\n                newVisibleList.push(displayable);\n            }\n        }\n\n        var diff = arrayDiff$1(visibleList, newVisibleList);\n        var prevSvgElement;\n\n        // First do remove, in case element moved to the head and do remove\n        // after add\n        for (i = 0; i < diff.length; i++) {\n            var item = diff[i];\n            if (item.removed) {\n                for (var k = 0; k < item.count; k++) {\n                    var displayable = visibleList[item.indices[k]];\n                    var svgElement = getSvgElement(displayable);\n                    var textSvgElement = getTextSvgElement(displayable);\n                    remove$1(svgRoot, svgElement);\n                    remove$1(svgRoot, textSvgElement);\n                }\n            }\n        }\n        for (i = 0; i < diff.length; i++) {\n            var item = diff[i];\n            if (item.added) {\n                for (var k = 0; k < item.count; k++) {\n                    var displayable = newVisibleList[item.indices[k]];\n                    var svgElement = getSvgElement(displayable);\n                    var textSvgElement = getTextSvgElement(displayable);\n                    prevSvgElement\n                        ? insertAfter(svgRoot, svgElement, prevSvgElement)\n                        : prepend(svgRoot, svgElement);\n                    if (svgElement) {\n                        insertAfter(svgRoot, textSvgElement, svgElement);\n                    }\n                    else if (prevSvgElement) {\n                        insertAfter(\n                            svgRoot, textSvgElement, prevSvgElement\n                        );\n                    }\n                    else {\n                        prepend(svgRoot, textSvgElement);\n                    }\n                    // Insert text\n                    insertAfter(svgRoot, textSvgElement, svgElement);\n                    prevSvgElement = textSvgElement || svgElement\n                        || prevSvgElement;\n\n                    this.gradientManager\n                        .addWithoutUpdate(svgElement, displayable);\n                    this.clipPathManager.markUsed(displayable);\n                }\n            }\n            else if (!item.removed) {\n                for (var k = 0; k < item.count; k++) {\n                    var displayable = newVisibleList[item.indices[k]];\n                    prevSvgElement\n                        = svgElement\n                        = getTextSvgElement(displayable)\n                        || getSvgElement(displayable)\n                        || prevSvgElement;\n\n                    this.gradientManager.markUsed(displayable);\n                    this.gradientManager\n                        .addWithoutUpdate(svgElement, displayable);\n\n                    this.clipPathManager.markUsed(displayable);\n                }\n            }\n        }\n\n        this.gradientManager.removeUnused();\n        this.clipPathManager.removeUnused();\n\n        this._visibleList = newVisibleList;\n    },\n\n    _getDefs: function (isForceCreating) {\n        var svgRoot = this._svgRoot;\n        var defs = this._svgRoot.getElementsByTagName('defs');\n        if (defs.length === 0) {\n            // Not exist\n            if (isForceCreating) {\n                var defs = svgRoot.insertBefore(\n                    createElement('defs'), // Create new tag\n                    svgRoot.firstChild // Insert in the front of svg\n                );\n                if (!defs.contains) {\n                    // IE doesn't support contains method\n                    defs.contains = function (el) {\n                        var children = defs.children;\n                        if (!children) {\n                            return false;\n                        }\n                        for (var i = children.length - 1; i >= 0; --i) {\n                            if (children[i] === el) {\n                                return true;\n                            }\n                        }\n                        return false;\n                    };\n                }\n                return defs;\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return defs[0];\n        }\n    },\n\n    resize: function (width, height) {\n        var viewport = this._viewport;\n        // FIXME Why ?\n        viewport.style.display = 'none';\n\n        // Save input w/h\n        var opts = this._opts;\n        width != null && (opts.width = width);\n        height != null && (opts.height = height);\n\n        width = this._getSize(0);\n        height = this._getSize(1);\n\n        viewport.style.display = '';\n\n        if (this._width !== width && this._height !== height) {\n            this._width = width;\n            this._height = height;\n\n            var viewportStyle = viewport.style;\n            viewportStyle.width = width + 'px';\n            viewportStyle.height = height + 'px';\n\n            var svgRoot = this._svgRoot;\n            // Set width by 'svgRoot.width = width' is invalid\n            svgRoot.setAttribute('width', width);\n            svgRoot.setAttribute('height', height);\n        }\n    },\n\n    /**\n     * \n     */\n    getWidth: function () {\n        return this._width;\n    },\n\n    /**\n     * \n     */\n    getHeight: function () {\n        return this._height;\n    },\n\n    _getSize: function (whIdx) {\n        var opts = this._opts;\n        var wh = ['width', 'height'][whIdx];\n        var cwh = ['clientWidth', 'clientHeight'][whIdx];\n        var plt = ['paddingLeft', 'paddingTop'][whIdx];\n        var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n        if (opts[wh] != null && opts[wh] !== 'auto') {\n            return parseFloat(opts[wh]);\n        }\n\n        var root = this.root;\n        // IE8 does not support getComputedStyle, but it use VML.\n        var stl = document.defaultView.getComputedStyle(root);\n\n        return (\n            (root[cwh] || parseInt10$2(stl[wh]) || parseInt10$2(root.style[wh]))\n            - (parseInt10$2(stl[plt]) || 0)\n            - (parseInt10$2(stl[prb]) || 0)\n        ) | 0;\n    },\n\n    dispose: function () {\n        this.root.innerHTML = '';\n\n        this._svgRoot\n            = this._viewport\n            = this.storage\n            = null;\n    },\n\n    clear: function () {\n        if (this._viewport) {\n            this.root.removeChild(this._viewport);\n        }\n    },\n\n    pathToSvg: function () {\n        this.refresh();\n        var html = this._svgRoot.outerHTML;\n        return 'data:img/svg+xml;utf-8,' + unescape(html);\n    }\n};\n\n// Not supported methods\nfunction createMethodNotSupport$1(method) {\n    return function () {\n        zrLog('In SVG mode painter not support method \"' + method + '\"');\n    };\n}\n\n// Unsuppoted methods\neach$1([\n    'getLayer', 'insertLayer', 'eachLayer', 'eachBuiltinLayer',\n    'eachOtherLayer', 'getLayers', 'modLayer', 'delLayer', 'clearLayer',\n    'toDataURL', 'pathToImage'\n], function (name) {\n    SVGPainter.prototype[name] = createMethodNotSupport$1(name);\n});\n\nregisterPainter('svg', SVGPainter);\n\n// Import all charts and components\n\nexports.version = version;\nexports.dependencies = dependencies;\nexports.PRIORITY = PRIORITY;\nexports.init = init;\nexports.connect = connect;\nexports.disConnect = disConnect;\nexports.disconnect = disconnect;\nexports.dispose = dispose;\nexports.getInstanceByDom = getInstanceByDom;\nexports.getInstanceById = getInstanceById;\nexports.registerTheme = registerTheme;\nexports.registerPreprocessor = registerPreprocessor;\nexports.registerProcessor = registerProcessor;\nexports.registerPostUpdate = registerPostUpdate;\nexports.registerAction = registerAction;\nexports.registerCoordinateSystem = registerCoordinateSystem;\nexports.getCoordinateSystemDimensions = getCoordinateSystemDimensions;\nexports.registerLayout = registerLayout;\nexports.registerVisual = registerVisual;\nexports.registerLoading = registerLoading;\nexports.extendComponentModel = extendComponentModel;\nexports.extendComponentView = extendComponentView;\nexports.extendSeriesModel = extendSeriesModel;\nexports.extendChartView = extendChartView;\nexports.setCanvasCreator = setCanvasCreator;\nexports.registerMap = registerMap;\nexports.getMap = getMap;\nexports.dataTool = dataTool;\nexports.zrender = zrender;\nexports.graphic = graphic;\nexports.number = number;\nexports.format = format;\nexports.throttle = throttle;\nexports.helper = helper;\nexports.matrix = matrix;\nexports.vector = vector;\nexports.color = color;\nexports.util = ecUtil;\nexports.List = List;\nexports.Model = Model;\nexports.Axis = Axis;\nexports.env = env$1;\nexports.parseGeoJson = parseGeoJson;\n\n})));\n//# sourceMappingURL=echarts.js.map\n"]}