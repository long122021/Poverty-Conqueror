{"version":3,"sources":["src\\assets\\js\\background.js"],"names":["num","w","window","innerWidth","h","innerHeight","_x","_y","_z","dtr","d","Math","PI","rnd","sin","floor","random","cam","obj","x","y","z","dest","dist","ang","cplane","splane","ctheta","stheta","zoom","disp","upd","sqrt","trans","parts","sz","p","rot","cos","pos","pov","plane","theta","set","persp","steps","_obj_","_args","threeD","param","transIn","transOut","vtx","prototype","vupd","Build","vel","lim","diff","initPos","toX","toY","go","canvas","document","getElementById","width","height","$","getContext","globalCompositeOperation","varr","calc","i","len","add","rotObj","objSz","push","draw","clearRect","length","val","hasOwnProperty","g","createRadialGradient","addColorStop","fillStyle","beginPath","arc","fill","closePath","anim","requestAnimationFrame","callback","setTimeout","bind","run","addEventListener","e","clientX","clientY","preventDefault","touches","app"],"mappings":"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","file":"background.js","sourceRoot":"D:/07-VUE/WaterSource","sourcesContent":["\r\nvar num = 5000;\r\nvar w = window.innerWidth;\r\nvar h = window.innerHeight;\r\n//var max = 100;\r\nvar _x = 0;\r\nvar _y = 0;\r\nvar _z = 150;\r\nvar dtr = function(d) {\r\n  return d * Math.PI / 180;\r\n};\r\n\r\nvar rnd = function() {\r\n  return Math.sin(Math.floor(Math.random() * 360) * Math.PI / 180);\r\n};\r\n// var dist = function(p1, p2, p3) {\r\n//   return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2) + Math.pow(p2.z - p1.z, 2));\r\n// };\r\n\r\nvar cam = {\r\n  obj: {\r\n    x: _x,\r\n    y: _y,\r\n    z: _z\r\n  },\r\n  dest: {\r\n    x: 0,\r\n    y: 0,\r\n    z: 1\r\n  },\r\n  dist: {\r\n    x: 0,\r\n    y: 0,\r\n    z: 200\r\n  },\r\n  ang: {\r\n    cplane: 0,\r\n    splane: 0,\r\n    ctheta: 0,\r\n    stheta: 0\r\n  },\r\n  zoom: 1,\r\n  disp: {\r\n    x: w / 2,\r\n    y: h / 2,\r\n    z: 0\r\n  },\r\n  upd: function() {\r\n    cam.dist.x = cam.dest.x - cam.obj.x;\r\n    cam.dist.y = cam.dest.y - cam.obj.y;\r\n    cam.dist.z = cam.dest.z - cam.obj.z;\r\n    cam.ang.cplane = -cam.dist.z / Math.sqrt(cam.dist.x * cam.dist.x + cam.dist.z * cam.dist.z);\r\n    cam.ang.splane = cam.dist.x / Math.sqrt(cam.dist.x * cam.dist.x + cam.dist.z * cam.dist.z);\r\n    cam.ang.ctheta = Math.sqrt(cam.dist.x * cam.dist.x + cam.dist.z * cam.dist.z) / Math.sqrt(cam.dist.x * cam.dist.x + cam.dist.y * cam.dist.y + cam.dist.z * cam.dist.z);\r\n    cam.ang.stheta = -cam.dist.y / Math.sqrt(cam.dist.x * cam.dist.x + cam.dist.y * cam.dist.y + cam.dist.z * cam.dist.z);\r\n  }\r\n};\r\n\r\nvar trans = {\r\n  parts: {\r\n    sz: function(p, sz) {\r\n      return {\r\n        x: p.x * sz.x,\r\n        y: p.y * sz.y,\r\n        z: p.z * sz.z\r\n      };\r\n    },\r\n    rot: {\r\n      x: function(p, rot) {\r\n        return {\r\n          x: p.x,\r\n          y: p.y * Math.cos(dtr(rot.x)) - p.z * Math.sin(dtr(rot.x)),\r\n          z: p.y * Math.sin(dtr(rot.x)) + p.z * Math.cos(dtr(rot.x))\r\n        };\r\n      },\r\n      y: function(p, rot) {\r\n        return {\r\n          x: p.x * Math.cos(dtr(rot.y)) + p.z * Math.sin(dtr(rot.y)),\r\n          y: p.y,\r\n          z: -p.x * Math.sin(dtr(rot.y)) + p.z * Math.cos(dtr(rot.y))\r\n        };\r\n      },\r\n      z: function(p, rot) {\r\n        return {\r\n          x: p.x * Math.cos(dtr(rot.z)) - p.y * Math.sin(dtr(rot.z)),\r\n          y: p.x * Math.sin(dtr(rot.z)) + p.y * Math.cos(dtr(rot.z)),\r\n          z: p.z\r\n        };\r\n      }\r\n    },\r\n    pos: function(p, pos) {\r\n      return {\r\n        x: p.x + pos.x,\r\n        y: p.y + pos.y,\r\n        z: p.z + pos.z\r\n      };\r\n    }\r\n  },\r\n  pov: {\r\n    plane: function(p) {\r\n      return {\r\n        x: p.x * cam.ang.cplane + p.z * cam.ang.splane,\r\n        y: p.y,\r\n        z: p.x * -cam.ang.splane + p.z * cam.ang.cplane\r\n      };\r\n    },\r\n    theta: function(p) {\r\n      return {\r\n        x: p.x,\r\n        y: p.y * cam.ang.ctheta - p.z * cam.ang.stheta,\r\n        z: p.y * cam.ang.stheta + p.z * cam.ang.ctheta\r\n      };\r\n    },\r\n    set: function(p) {\r\n      return {\r\n        x: p.x - cam.obj.x,\r\n        y: p.y - cam.obj.y,\r\n        z: p.z - cam.obj.z\r\n      };\r\n    }\r\n  },\r\n  persp: function(p) {\r\n    return {\r\n      x: p.x * cam.dist.z / p.z * cam.zoom,\r\n      y: p.y * cam.dist.z / p.z * cam.zoom,\r\n      z: p.z * cam.zoom,\r\n      p: cam.dist.z / p.z\r\n    };\r\n  },\r\n  disp: function(p, disp) {\r\n    return {\r\n      x: p.x + disp.x,\r\n      y: -p.y + disp.y,\r\n      z: p.z + disp.z,\r\n      p: p.p\r\n    };\r\n  },\r\n  steps: function(_obj_, sz, rot, pos, disp) {\r\n    var _args = trans.parts.sz(_obj_, sz);\r\n    _args = trans.parts.rot.x(_args, rot);\r\n    _args = trans.parts.rot.y(_args, rot);\r\n    _args = trans.parts.rot.z(_args, rot);\r\n    _args = trans.parts.pos(_args, pos);\r\n    _args = trans.pov.plane(_args);\r\n    _args = trans.pov.theta(_args);\r\n    _args = trans.pov.set(_args);\r\n    _args = trans.persp(_args);\r\n    _args = trans.disp(_args, disp);\r\n    return _args;\r\n  }\r\n};\r\n\r\n(function() {\r\n  \"use strict\";\r\n  var threeD = function(param) {\r\n    this.transIn = {};\r\n    this.transOut = {};\r\n    this.transIn.vtx = (param.vtx);\r\n    this.transIn.sz = (param.sz);\r\n    this.transIn.rot = (param.rot);\r\n    this.transIn.pos = (param.pos);\r\n  };\r\n\r\n  threeD.prototype.vupd = function() {\r\n    this.transOut = trans.steps(\r\n\r\n      this.transIn.vtx,\r\n      this.transIn.sz,\r\n      this.transIn.rot,\r\n      this.transIn.pos,\r\n      cam.disp\r\n    );\r\n  };\r\n\r\n  var Build = function() {\r\n    this.vel = 0.04;\r\n    this.lim = 360;\r\n    this.diff = 10;\r\n    this.initPos = 100;\r\n    this.toX = _x;\r\n    this.toY = _y;\r\n    this.go();\r\n  };\r\n\r\n  Build.prototype.go = function() {\r\n    this.canvas = document.getElementById(\"canv\");\r\n    this.canvas.width = window.innerWidth - 100;\r\n    this.canvas.height = window.innerHeight;\r\n    this.$ = this.canvas.getContext(\"2d\");\r\n    this.$.globalCompositeOperation = 'source-over';\r\n    this.varr = [];\r\n    this.dist = [];\r\n    this.calc = [];\r\n\r\n    for (var i = 0, len = num; i < len; i++) {\r\n      this.add();\r\n    }\r\n\r\n    this.rotObj = {\r\n      x: 0,\r\n      y: 0,\r\n      z: 0\r\n    };\r\n    this.objSz = {\r\n      x: w / 5,\r\n      y: h / 5,\r\n      z: w / 5\r\n    };\r\n  };\r\n\r\n  Build.prototype.add = function() {\r\n    this.varr.push(new threeD({\r\n      vtx: {\r\n        x: rnd(),\r\n        y: rnd(),\r\n        z: rnd()\r\n      },\r\n      sz: {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0\r\n      },\r\n      rot: {\r\n        x: 20,\r\n        y: -20,\r\n        z: 0\r\n      },\r\n      pos: {\r\n        x: this.diff * Math.sin(360 * Math.random() * Math.PI / 180),\r\n        y: this.diff * Math.sin(360 * Math.random() * Math.PI / 180),\r\n        z: this.diff * Math.sin(360 * Math.random() * Math.PI / 180)\r\n      }\r\n    }));\r\n    this.calc.push({\r\n      x: 360 * Math.random(),\r\n      y: 360 * Math.random(),\r\n      z: 360 * Math.random()\r\n    });\r\n  };\r\n\r\n  Build.prototype.upd = function() {\r\n    cam.obj.x += (this.toX - cam.obj.x) * 0.05;\r\n    cam.obj.y += (this.toY - cam.obj.y) * 0.05;\r\n  };\r\n\r\n  Build.prototype.draw = function() {\r\n    this.$.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    cam.upd();\r\n    this.rotObj.x += 0.1;\r\n    this.rotObj.y += 0.1;\r\n    this.rotObj.z += 0.1;\r\n\r\n    for (var i = 0; i < this.varr.length; i++) {\r\n      for (var val in this.calc[i]) {\r\n        if (this.calc[i].hasOwnProperty(val)) {\r\n          this.calc[i][val] += this.vel;\r\n          if (this.calc[i][val] > this.lim) { this.calc[i][val] = 0; }\r\n        }\r\n      }\r\n\r\n      this.varr[i].transIn.pos = {\r\n        x: this.diff * Math.cos(this.calc[i].x * Math.PI / 180),\r\n        y: this.diff * Math.sin(this.calc[i].y * Math.PI / 180),\r\n        z: this.diff * Math.sin(this.calc[i].z * Math.PI / 180)\r\n      };\r\n      this.varr[i].transIn.rot = this.rotObj;\r\n      this.varr[i].transIn.sz = this.objSz;\r\n      this.varr[i].vupd();\r\n      if (this.varr[i].transOut.p < 0) { continue; }\r\n      var g = this.$.createRadialGradient(this.varr[i].transOut.x, this.varr[i].transOut.y, this.varr[i].transOut.p, this.varr[i].transOut.x, this.varr[i].transOut.y, this.varr[i].transOut.p * 2);\r\n      this.$.globalCompositeOperation = 'lighter';\r\n      g.addColorStop(0, 'hsla(255, 255%, 255%, 1)');\r\n      g.addColorStop(0.5, 'hsla(' + (i + 2) + ',85%, 40%,1)');\r\n      g.addColorStop(1, 'hsla(' + (i) + ',85%, 40%,.5)');\r\n      this.$.fillStyle = g;\r\n      this.$.beginPath();\r\n      this.$.arc(this.varr[i].transOut.x, this.varr[i].transOut.y, this.varr[i].transOut.p * 2, 0, Math.PI * 2, false);\r\n      this.$.fill();\r\n      this.$.closePath();\r\n    }\r\n  };\r\n  Build.prototype.anim = function() {\r\n    window.requestAnimationFrame = (function() {\r\n      return window.requestAnimationFrame ||\r\n        //function(callback, element) {\r\n        function(callback) {\r\n          window.setTimeout(callback, 1000 / 60);\r\n        };\r\n    })();\r\n    var anim = function() {\r\n      this.upd();\r\n      this.draw();\r\n      window.requestAnimationFrame(anim);\r\n\r\n    }.bind(this);\r\n    window.requestAnimationFrame(anim);\r\n  };\r\n\r\n  Build.prototype.run = function() {\r\n    this.anim();\r\n\r\n    window.addEventListener('mousemove', function(e) {\r\n      this.toX = (e.clientX - this.canvas.width / 2) * -0.8;\r\n      this.toY = (e.clientY - this.canvas.height / 2) * 0.8;\r\n    }.bind(this));\r\n    window.addEventListener('touchmove', function(e) {\r\n      e.preventDefault();\r\n      this.toX = (e.touches[0].clientX - this.canvas.width / 2) * -0.8;\r\n      this.toY = (e.touches[0].clientY - this.canvas.height / 2) * 0.8;\r\n    }.bind(this));\r\n    window.addEventListener('mousedown', function() {\r\n      for (var i = 0; i < 100; i++) {\r\n        this.add();\r\n      }\r\n    }.bind(this));\r\n    window.addEventListener('touchstart', function(e) {\r\n      e.preventDefault();\r\n      for (var i = 0; i < 100; i++) {\r\n        this.add();\r\n      }\r\n    }.bind(this));\r\n  };\r\n  var app = new Build();\r\n  app.run();\r\n})();"]}